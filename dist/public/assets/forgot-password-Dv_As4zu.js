import{r as e,e as s,f as a,j as t,C as i,a as r,M as l,b as n,g as c,c as d,A as m,h as x,B as o,L as h,i as u,k as j,l as p,I as y,d as g}from"./index-C_9oFDzq.js";function N(){const[N,f]=e.useState(""),[w,v]=e.useState(!1),{toast:b}=s(),k=a({mutationFn:async e=>{const s=await g("POST","/api/auth/forgot-password",{email:e});if(!s.ok){const e=await s.json().catch((()=>({})));throw new Error(e.message||"Failed to send reset email")}return await s.json()},onSuccess:e=>{v(!0),b({title:"Reset email sent",description:e.message})},onError:e=>{b({title:"Error",description:e.message,variant:"destructive"})}});return w?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:t.jsx("div",{className:"max-w-md w-full space-y-8",children:t.jsxs(i,{children:[t.jsxs(r,{className:"text-center",children:[t.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:t.jsx(l,{className:"h-6 w-6 text-green-600"})}),t.jsx(n,{className:"mt-4",children:"Check your email"}),t.jsxs(c,{children:["We've sent a password reset link to ",t.jsx("strong",{children:N})]})]}),t.jsxs(d,{className:"space-y-4",children:[t.jsxs(m,{children:[t.jsx(l,{className:"h-4 w-4"}),t.jsx(x,{children:"If you don't see the email in your inbox, please check your spam folder. The reset link will expire in 1 hour for security reasons."})]}),t.jsxs("div",{className:"text-center space-y-2",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Didn't receive the email?"}),t.jsxs(o,{variant:"outline",onClick:()=>{v(!1),k.mutate(N)},disabled:k.isPending,children:[k.isPending&&t.jsx(h,{className:"mr-2 h-4 w-4 animate-spin"}),"Resend email"]})]}),t.jsx("div",{className:"text-center",children:t.jsxs(u,{to:"/auth",className:"inline-flex items-center text-sm text-blue-600 hover:text-blue-500",children:[t.jsx(j,{className:"mr-1 h-4 w-4"}),"Back to login"]})})]})]})})}):t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:t.jsx("div",{className:"max-w-md w-full space-y-8",children:t.jsxs(i,{children:[t.jsxs(r,{className:"text-center",children:[t.jsx(n,{children:"Forgot your password?"}),t.jsx(c,{children:"Enter your email address and we'll send you a link to reset your password."})]}),t.jsxs(d,{children:[t.jsxs("form",{onSubmit:e=>{e.preventDefault(),N.trim()?k.mutate(N.trim()):b({title:"Error",description:"Please enter your email address",variant:"destructive"})},className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(p,{htmlFor:"email",children:"Email address"}),t.jsx(y,{id:"email",type:"email",placeholder:"Enter your email address",value:N,onChange:e=>f(e.target.value),required:!0,disabled:k.isPending})]}),t.jsxs(o,{type:"submit",className:"w-full",disabled:k.isPending,children:[k.isPending&&t.jsx(h,{className:"mr-2 h-4 w-4 animate-spin"}),"Send reset link"]})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs(u,{to:"/auth",className:"inline-flex items-center text-sm text-blue-600 hover:text-blue-500",children:[t.jsx(j,{className:"mr-1 h-4 w-4"}),"Back to login"]})})]})]})})})}export{N as default};
