import{a5 as e,bw as a,b9 as s,b4 as i,b5 as t,bx as n,by as r,bz as l,bA as c,bB as o,bC as d,bD as m,bE as f,bF as h,bG as x,bH as u,bI as p,bJ as j,bK as v,bL as g,bM as y,bN as b,bO as N,bP as w,bQ as A,bR as C,bS as S,bT as P,bU as k,bV as E,bW as R,bX as O,bY as T,bZ as F,b_ as z,b$ as D,c0 as _,c1 as M,c2 as U,c3 as W,bj as I,c4 as L,c5 as K,c6 as q,c7 as $,c8 as B,c9 as V,ca as G,cb as Q,cc as H,r as J,cd as X,ce as Y,cf as Z,cg as ee,bf as ae,ch as se,ci as ie,cj as te,u as ne,a1 as re,e as le,b0 as ce,n as oe,f as de,j as me,al as fe,B as he,b1 as xe,a2 as ue,aU as pe,aV as je,aW as ve,aX as ge,S as ye,J as be,K as Ne,N as we,O as Ae,bp as Ce,C as Se,a as Pe,b as ke,T as Ee,g as Re,c as Oe,L as Te,b2 as Fe,b3 as ze,b6 as De,b7 as _e,b8 as Me,ba as Ue,U as We,bd as Ie,be as Le,ck as Ke,cl as qe,q as $e,ao as Be,ap as Ve,aq as Ge,ar as Qe,as as He,at as Je,aj as Xe,aI as Ye,aJ as Ze,cm as ea,aL as aa,aO as sa,p as ia,aN as ta,bh as na,I as ra,aK as la,M as ca,ab as oa,V as da,cn as ma,bg as fa,bn as ha,bb as xa,a$ as ua,a7 as pa,a8 as ja,a9 as va,aa as ga,ac as ya,l as ba,W as Na,af as wa,aA as Aa,aB as Ca,aC as Sa,aD as Pa,aE as ka,aF as Ea,aG as Ra,aH as Oa,d as Ta,D as Fa}from"./index-C_9oFDzq.js";import{C as za,A as Da}from"./ComposedChart-BbkLmi4n.js";const _a=e("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]),Ma=e("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),Ua=e("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]),Wa=e("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);var Ia=a({chartName:"BarChart",GraphicalChild:s,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:i},{axisType:"yAxis",AxisComp:t}],formatAxisMap:n});var La=function(e,a){for(var s=-1,i=null==e?0:e.length;++s<i&&!1!==a(e[s],s,e););return e},Ka=l,qa=r,$a=Object.prototype.hasOwnProperty;var Ba=function(e,a,s){var i=e[a];$a.call(e,a)&&qa(i,s)&&(void 0!==s||a in e)||Ka(e,a,s)},Va=Ba,Ga=l;var Qa=function(e,a,s,i){var t=!s;s||(s={});for(var n=-1,r=a.length;++n<r;){var l=a[n],c=i?i(s[l],e[l],l,s,e):void 0;void 0===c&&(c=e[l]),t?Ga(s,l,c):Va(s,l,c)}return s},Ha=Qa,Ja=c;var Xa=function(e,a){return e&&Ha(a,Ja(a),e)};var Ya=o,Za=d,es=function(e){var a=[];if(null!=e)for(var s in Object(e))a.push(s);return a},as=Object.prototype.hasOwnProperty;var ss=m,is=function(e){if(!Ya(e))return es(e);var a=Za(e),s=[];for(var i in e)("constructor"!=i||!a&&as.call(e,i))&&s.push(i);return s},ts=f;var ns=function(e){return ts(e)?ss(e,!0):is(e)},rs=Qa,ls=ns;var cs,os,ds,ms,fs,hs,xs,us=function(e,a){return e&&rs(a,ls(a),e)},ps={exports:{}};cs=ps,ds=h,ms=(os=ps.exports)&&!os.nodeType&&os,fs=ms&&cs&&!cs.nodeType&&cs,hs=fs&&fs.exports===ms?ds.Buffer:void 0,xs=hs?hs.allocUnsafe:void 0,cs.exports=function(e,a){if(a)return e.slice();var s=e.length,i=xs?xs(s):new e.constructor(s);return e.copy(i),i};var js=ps.exports;var vs=function(e,a){var s=-1,i=e.length;for(a||(a=Array(i));++s<i;)a[s]=e[s];return a},gs=Qa,ys=x;var bs=function(e,a){return gs(e,ys(e),a)},Ns=p,ws=j,As=x,Cs=u,Ss=Object.getOwnPropertySymbols?function(e){for(var a=[];e;)Ns(a,As(e)),e=ws(e);return a}:Cs,Ps=Qa,ks=Ss;var Es=function(e,a){return Ps(e,ks(e),a)},Rs=v,Os=Ss,Ts=ns;var Fs=function(e){return Rs(e,Ts,Os)},zs=Object.prototype.hasOwnProperty;var Ds=function(e){var a=e.length,s=new e.constructor(a);return a&&"string"==typeof e[0]&&zs.call(e,"index")&&(s.index=e.index,s.input=e.input),s},_s=g;var Ms=function(e){var a=new e.constructor(e.byteLength);return new _s(a).set(new _s(e)),a},Us=Ms;var Ws=function(e,a){var s=a?Us(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.byteLength)},Is=/\w*$/;var Ls=function(e){var a=new e.constructor(e.source,Is.exec(e));return a.lastIndex=e.lastIndex,a},Ks=y?y.prototype:void 0,qs=Ks?Ks.valueOf:void 0;var $s=Ms;var Bs=Ms,Vs=Ws,Gs=Ls,Qs=function(e){return qs?Object(qs.call(e)):{}},Hs=function(e,a){var s=a?$s(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.length)};var Js=function(e,a,s){var i=e.constructor;switch(a){case"[object ArrayBuffer]":return Bs(e);case"[object Boolean]":case"[object Date]":return new i(+e);case"[object DataView]":return Vs(e,s);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Hs(e,s);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(e);case"[object RegExp]":return Gs(e);case"[object Symbol]":return Qs(e)}},Xs=o,Ys=Object.create,Zs=function(){function e(){}return function(a){if(!Xs(a))return{};if(Ys)return Ys(a);e.prototype=a;var s=new e;return e.prototype=void 0,s}}(),ei=j,ai=d;var si=function(e){return"function"!=typeof e.constructor||ai(e)?{}:Zs(ei(e))},ii=N,ti=b;var ni=function(e){return ti(e)&&"[object Map]"==ii(e)},ri=A,li=w&&w.isMap,ci=li?ri(li):ni,oi=N,di=b;var mi=function(e){return di(e)&&"[object Set]"==oi(e)},fi=A,hi=w&&w.isSet,xi=hi?fi(hi):mi,ui=S,pi=La,ji=Ba,vi=Xa,gi=us,yi=js,bi=vs,Ni=bs,wi=Es,Ai=P,Ci=Fs,Si=N,Pi=Ds,ki=Js,Ei=si,Ri=k,Oi=C,Ti=ci,Fi=o,zi=xi,Di=c,_i=ns,Mi="[object Arguments]",Ui="[object Function]",Wi="[object Object]",Ii={};Ii[Mi]=Ii["[object Array]"]=Ii["[object ArrayBuffer]"]=Ii["[object DataView]"]=Ii["[object Boolean]"]=Ii["[object Date]"]=Ii["[object Float32Array]"]=Ii["[object Float64Array]"]=Ii["[object Int8Array]"]=Ii["[object Int16Array]"]=Ii["[object Int32Array]"]=Ii["[object Map]"]=Ii["[object Number]"]=Ii[Wi]=Ii["[object RegExp]"]=Ii["[object Set]"]=Ii["[object String]"]=Ii["[object Symbol]"]=Ii["[object Uint8Array]"]=Ii["[object Uint8ClampedArray]"]=Ii["[object Uint16Array]"]=Ii["[object Uint32Array]"]=!0,Ii["[object Error]"]=Ii[Ui]=Ii["[object WeakMap]"]=!1;var Li=function e(a,s,i,t,n,r){var l,c=1&s,o=2&s,d=4&s;if(i&&(l=n?i(a,t,n,r):i(a)),void 0!==l)return l;if(!Fi(a))return a;var m=Ri(a);if(m){if(l=Pi(a),!c)return bi(a,l)}else{var f=Si(a),h=f==Ui||"[object GeneratorFunction]"==f;if(Oi(a))return yi(a,c);if(f==Wi||f==Mi||h&&!n){if(l=o||h?{}:Ei(a),!c)return o?wi(a,gi(l,a)):Ni(a,vi(l,a))}else{if(!Ii[f])return n?a:{};l=ki(a,f,c)}}r||(r=new ui);var x=r.get(a);if(x)return x;r.set(a,l),zi(a)?a.forEach((function(t){l.add(e(t,s,i,t,a,r))})):Ti(a)&&a.forEach((function(t,n){l.set(n,e(t,s,i,n,a,r))}));var u=m?void 0:(d?o?Ci:Ai:o?_i:Di)(a);return pi(u||a,(function(t,n){u&&(t=a[n=t]),ji(l,n,e(t,s,i,n,a,r))})),l},Ki=E,qi=R;var $i=O,Bi=F,Vi=function(e,a){return a.length<2?e:Ki(e,qi(a,0,-1))},Gi=T;var Qi=z;var Hi=D;var Ji=function(e){return(null==e?0:e.length)?Hi(e,1):[]},Xi=M,Yi=_;var Zi=U,et=Li,at=function(e,a){return a=$i(a,e),null==(e=Vi(e,a))||delete e[Gi(Bi(a))]},st=O,it=Qa,tt=function(e){return Qi(e)?void 0:e},nt=Fs;const rt=W(function(e){return Yi(Xi(e,void 0,Ji),e+"")}((function(e,a){var s={};if(null==e)return s;var i=!1;a=Zi(a,(function(a){return a=st(a,e),i||(i=a.length>1),a})),it(e,nt(e),s),i&&(s=et(s,7,tt));for(var t=a.length;t--;)at(s,a[t]);return s})));function lt(e){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ct(){return ct=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},ct.apply(this,arguments)}function ot(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),s.push.apply(s,i)}return s}function dt(e){for(var a=1;a<arguments.length;a++){var s=null!=arguments[a]?arguments[a]:{};a%2?ot(Object(s),!0).forEach((function(a){mt(e,a,s[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ot(Object(s)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))}))}return e}function mt(e,a,s){var i;return i=function(e,a){if("object"!=lt(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,a);if("object"!=lt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"),(a="symbol"==lt(i)?i:i+"")in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function ft(e,a){var s="".concat(a.x||e.x),i=parseInt(s,10),t="".concat(a.y||e.y),n=parseInt(t,10),r="".concat((null==a?void 0:a.height)||(null==e?void 0:e.height)),l=parseInt(r,10);return dt(dt(dt({},a),K(e)),{},{height:l,x:i,y:n})}function ht(e){return I.createElement(L,ct({shapeType:"trapezoid",propTransformer:ft},e))}var xt;function ut(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var i,t,n,r,l=[],c=!0,o=!1;try{if(n=(s=s.call(e)).next,0===a){if(Object(s)!==s)return;c=!1}else for(;!(c=(i=n.call(s)).done)&&(l.push(i.value),l.length!==a);c=!0);}catch(d){o=!0,t=d}finally{try{if(!c&&null!=s.return&&(r=s.return(),Object(r)!==r))return}finally{if(o)throw t}}return l}}(e,a)||function(e,a){if(!e)return;if("string"==typeof e)return pt(e,a);var s=Object.prototype.toString.call(e).slice(8,-1);"Object"===s&&e.constructor&&(s=e.constructor.name);if("Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return pt(e,a)}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pt(e,a){(null==a||a>e.length)&&(a=e.length);for(var s=0,i=new Array(a);s<a;s++)i[s]=e[s];return i}function jt(e){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vt(){return vt=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},vt.apply(this,arguments)}function gt(e,a){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),s.push.apply(s,i)}return s}function yt(e){for(var a=1;a<arguments.length;a++){var s=null!=arguments[a]?arguments[a]:{};a%2?gt(Object(s),!0).forEach((function(a){St(e,a,s[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):gt(Object(s)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))}))}return e}function bt(e,a){for(var s=0;s<a.length;s++){var i=a[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Pt(i.key),i)}}function Nt(e,a,s){return a=At(a),function(e,a){if(a&&("object"===jt(a)||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,wt()?Reflect.construct(a,s||[],At(e).constructor):a.apply(e,s))}function wt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(a){}return(wt=function(){return!!e})()}function At(e){return(At=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ct(e,a){return(Ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,a){return e.__proto__=a,e})(e,a)}function St(e,a,s){return(a=Pt(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,e}function Pt(e){var a=function(e,a){if("object"!=jt(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,a);if("object"!=jt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==jt(a)?a:a+""}var kt=function(){function e(){var a;!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,e);for(var s=arguments.length,i=new Array(s),t=0;t<s;t++)i[t]=arguments[t];return St(a=Nt(this,e,[].concat(i)),"state",{isAnimationFinished:!1}),St(a,"handleAnimationEnd",(function(){var e=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),X(e)&&e()})),St(a,"handleAnimationStart",(function(){var e=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),X(e)&&e()})),a}return function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),a&&Ct(e,a)}(e,J.PureComponent),a=e,i=[{key:"getDerivedStateFromProps",value:function(e,a){return e.animationId!==a.prevAnimationId?{prevAnimationId:e.animationId,curTrapezoids:e.trapezoids,prevTrapezoids:a.curTrapezoids}:e.trapezoids!==a.curTrapezoids?{curTrapezoids:e.trapezoids}:null}}],(s=[{key:"isActiveIndex",value:function(e){var a=this.props.activeIndex;return Array.isArray(a)?-1!==a.indexOf(e):e===a}},{key:"renderTrapezoidsStatically",value:function(e){var a=this,s=this.props,i=s.shape,t=s.activeShape;return e.map((function(e,s){var n=a.isActiveIndex(s)?t:i,r=yt(yt({},e),{},{isActive:a.isActiveIndex(s),stroke:e.stroke});return I.createElement(q,vt({className:"recharts-funnel-trapezoid"},$(a.props,e,s),{key:"trapezoid-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.name,"-").concat(null==e?void 0:e.value),role:"img"}),I.createElement(ht,vt({option:n},r)))}))}},{key:"renderTrapezoidsWithAnimation",value:function(){var e=this,a=this.props,s=a.trapezoids,i=a.isAnimationActive,t=a.animationBegin,n=a.animationDuration,r=a.animationEasing,l=a.animationId,c=this.state.prevTrapezoids;return I.createElement(B,{begin:t,duration:n,isActive:i,easing:r,from:{t:0},to:{t:1},key:"funnel-".concat(l),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},(function(a){var i=a.t,t=s.map((function(e,a){var s=c&&c[a];if(s){var t=V(s.x,e.x),n=V(s.y,e.y),r=V(s.upperWidth,e.upperWidth),l=V(s.lowerWidth,e.lowerWidth),o=V(s.height,e.height);return yt(yt({},e),{},{x:t(i),y:n(i),upperWidth:r(i),lowerWidth:l(i),height:o(i)})}var d=V(e.x+e.upperWidth/2,e.x),m=V(e.y+e.height/2,e.y),f=V(0,e.upperWidth),h=V(0,e.lowerWidth),x=V(0,e.height);return yt(yt({},e),{},{x:d(i),y:m(i),upperWidth:f(i),lowerWidth:h(i),height:x(i)})}));return I.createElement(q,null,e.renderTrapezoidsStatically(t))}))}},{key:"renderTrapezoids",value:function(){var e=this.props,a=e.trapezoids,s=e.isAnimationActive,i=this.state.prevTrapezoids;return!(s&&a&&a.length)||i&&G(i,a)?this.renderTrapezoidsStatically(a):this.renderTrapezoidsWithAnimation()}},{key:"render",value:function(){var e=this.props,a=e.hide,s=e.trapezoids,i=e.className,t=e.isAnimationActive,n=this.state.isAnimationFinished;if(a||!s||!s.length)return null;var r=Q("recharts-trapezoids",i);return I.createElement(q,{className:r},this.renderTrapezoids(),(!t||n)&&H.renderCallByParent(this.props,s))}}])&&bt(a.prototype,s),i&&bt(a,i),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,s,i}();xt=kt,St(kt,"displayName","Funnel"),St(kt,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",labelLine:!0,hide:!1,isAnimationActive:!Y.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",lastShapeType:"triangle"}),St(kt,"getRealFunnelData",(function(e){var a=e.props,s=a.data,i=a.children,t=Z(e.props,!1),n=ee(i,ae);return s&&s.length?s.map((function(e,a){return yt(yt(yt({payload:e},t),e),n&&n[a]&&n[a].props)})):n&&n.length?n.map((function(e){return yt(yt({},t),e.props)})):[]})),St(kt,"getRealWidthHeight",(function(e,a){var s=e.props.width,i=a.width,t=a.height,n=a.left,r=a.right,l=a.top,c=a.bottom,o=t,d=i;return se(s)?d=s:ie(s)&&(d=d*parseFloat(s)/100),{realWidth:d-n-r-50,realHeight:o-c-l,offsetX:(i-d)/2,offsetY:(t-o)/2}})),St(kt,"getComposedData",(function(e){var a=e.item,s=e.offset,i=xt.getRealFunnelData(a),t=a.props,n=t.dataKey,r=t.nameKey,l=t.tooltipType,c=t.lastShapeType,o=t.reversed,d=s.left,m=s.top,f=xt.getRealWidthHeight(a,s),h=f.realHeight,x=f.realWidth,u=f.offsetX,p=f.offsetY,j=Math.max.apply(null,i.map((function(e){return te(e,n,0)}))),v=i.length,g=h/v,y={x:s.left,y:s.top,width:s.width,height:s.height},b=i.map((function(e,a){var s,t=te(e,n,0),o=te(e,r,a),f=t;if(a!==v-1)(s=te(i[a+1],n,0))instanceof Array&&(s=ut(s,1)[0]);else if(t instanceof Array&&2===t.length){var h=ut(t,2);f=h[0],s=h[1]}else s="rectangle"===c?f:0;var b=(j-f)*x/(2*j)+m+25+u,N=g*a+d+p,w=f/j*x,A=s/j*x,C=[{name:o,value:f,payload:e,dataKey:n,type:l}],S={x:b+w/2,y:N+g/2};return yt(yt({x:b,y:N,width:Math.max(w,A),upperWidth:w,lowerWidth:A,height:g,name:o,val:f,tooltipPayload:C,tooltipPosition:S},rt(e,"width")),{},{payload:e,parentViewBox:y,labelViewBox:{x:b+(w-A)/4,y:N,width:Math.abs(w-A)/2+Math.min(w,A),height:g}})}));return o&&(b=b.map((function(e,a){var s=e.y-a*g+(v-1-a)*g;return yt(yt({},e),{},{upperWidth:e.lowerWidth,lowerWidth:e.upperWidth,x:e.x-(e.lowerWidth-e.upperWidth)/2,y:e.y-a*g+(v-1-a)*g,tooltipPosition:yt(yt({},e.tooltipPosition),{},{y:s+g/2}),labelViewBox:yt(yt({},e.labelViewBox),{},{y:s})})}))),{trapezoids:b,data:i}}));var Et=a({chartName:"FunnelChart",GraphicalChild:kt,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",axisComponents:[],defaultProps:{layout:"centric"}});function Rt(){const{user:e}=ne(),{t:a}=re(),{toast:n}=le(),r=ce(),l=e=>`${window.location.origin}/signup?ref=${e}`,c={primary:"#333235",secondary:"#4F46E5",success:"#10b981",warning:"#f59e0b",danger:"#ef4444",chart:["#333235","#4F46E5","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4"]},[o,d]=J.useState("dashboard"),[m,f]=J.useState(""),[h,x]=J.useState("all"),[u,p]=J.useState(1),[j,v]=J.useState(1),[g,y]=J.useState(1),[b,N]=J.useState("createdAt"),[w,A]=J.useState("desc"),[C,S]=J.useState([]),[P,k]=J.useState({from:new Date(Date.now()-2592e6),to:new Date}),[E,R]=J.useState("30d"),[O,T]=J.useState(!1),[F,z]=J.useState(!1),[D,_]=J.useState(!1),[M,U]=J.useState(null),[W,I]=J.useState(!1),[L,K]=J.useState(null),[q,$]=J.useState(""),[B,V]=J.useState(!1),[G,Q]=J.useState(null),[X,Y]=J.useState({name:"",email:"",phone:"",website:"",businessName:"",defaultCommissionRate:5,commissionType:"percentage",notes:""}),{data:Z,isLoading:ee}=oe({queryKey:["admin","affiliate","metrics"],queryFn:async()=>{const e=await Ta("GET","/api/admin/affiliate/metrics");if(!e.ok)throw new Error("Failed to fetch affiliate metrics");return e.json()},enabled:!!(null==e?void 0:e.isSuperAdmin)}),{data:se,isLoading:ie}=oe({queryKey:["admin","affiliate","affiliates",u,h,m],queryFn:async()=>{const e=new URLSearchParams;e.append("page",u.toString()),e.append("limit","20"),h&&"all"!==h&&e.append("status",h),m&&e.append("search",m);const a=await Ta("GET",`/api/admin/affiliate/affiliates?${e.toString()}`);if(!a.ok)throw new Error("Failed to fetch affiliates");return a.json()},enabled:!!(null==e?void 0:e.isSuperAdmin)&&"affiliates"===o}),{data:te,isLoading:La}=oe({queryKey:["admin","affiliate","applications"],queryFn:async()=>{const e=await Ta("GET","/api/admin/affiliate/applications");if(!e.ok)throw new Error("Failed to fetch applications");return e.json()},enabled:!!(null==e?void 0:e.isSuperAdmin)&&"applications"===o}),{data:Ka,isLoading:qa}=oe({queryKey:["admin","affiliate","referrals",j],queryFn:async()=>{const e=new URLSearchParams;e.append("page",j.toString()),e.append("limit","20");const a=await Ta("GET",`/api/admin/affiliate/referrals?${e.toString()}`);if(!a.ok)throw new Error("Failed to fetch referrals");return a.json()},enabled:!!(null==e?void 0:e.isSuperAdmin)&&"referrals"===o}),{data:$a,isLoading:Ba}=oe({queryKey:["admin","affiliate","payouts",g],queryFn:async()=>{const e=new URLSearchParams;e.append("page",g.toString()),e.append("limit","20");const a=await Ta("GET",`/api/admin/affiliate/payouts?${e.toString()}`);if(!a.ok)throw new Error("Failed to fetch payouts");return a.json()},enabled:!!(null==e?void 0:e.isSuperAdmin)&&"payouts"===o}),Va=de({mutationFn:async e=>{const a=await Ta("POST","/api/admin/affiliate/affiliates",e);if(!a.ok)throw new Error("Failed to create affiliate");return a.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["admin","affiliate"]}),T(!1),Za(),n({title:a("admin.affiliate.create.success","Affiliate created successfully"),description:"The new affiliate has been added to the system."})},onError:e=>{n({title:"Error",description:e.message,variant:"destructive"})}}),Ga=de({mutationFn:async({id:e,updates:a})=>{const s=await Ta("PUT",`/api/admin/affiliate/affiliates/${e}`,a);if(!s.ok)throw new Error("Failed to update affiliate");return s.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["admin","affiliate"]}),z(!1),U(null),n({title:a("admin.affiliate.update.success","Affiliate updated successfully"),description:"The affiliate information has been updated."})},onError:e=>{n({title:"Error",description:e.message,variant:"destructive"})}}),Qa=de({mutationFn:async e=>{const a=await Ta("DELETE",`/api/admin/affiliate/affiliates/${e}`);if(!a.ok)throw new Error("Failed to delete affiliate");return a.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["admin","affiliate"]}),I(!1),n({title:a("admin.affiliate.delete.success","Affiliate deleted successfully"),description:"The affiliate has been removed from the system."})},onError:e=>{n({title:"Error",description:e.message,variant:"destructive"})}}),Ha=de({mutationFn:async e=>{const a=await Ta("PUT",`/api/admin/affiliate/affiliates/${e}`,{status:"active"});if(!a.ok)throw new Error("Failed to approve affiliate");return a.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["admin","affiliate"]}),n({title:a("admin.affiliate.approve.success","Affiliate approved successfully"),description:"The affiliate has been activated and can now start earning commissions."})},onError:e=>{n({title:"Error",description:e.message,variant:"destructive"})}}),Ja=de({mutationFn:async e=>{const a=await Ta("PUT",`/api/admin/affiliate/affiliates/${e}`,{status:"suspended"});if(!a.ok)throw new Error("Failed to suspend affiliate");return a.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["admin","affiliate"]}),n({title:a("admin.affiliate.suspend.success","Affiliate suspended successfully"),description:"The affiliate has been suspended and cannot earn new commissions."})},onError:e=>{n({title:"Error",description:e.message,variant:"destructive"})}}),Xa=de({mutationFn:async e=>{const a=await Ta("POST",`/api/admin/affiliate/applications/${e}/approve`);if(!a.ok)throw new Error("Failed to approve application");return a.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["admin","affiliate"]}),n({title:"Success",description:"Application approved successfully"})},onError:e=>{n({title:"Error",description:e.message,variant:"destructive"})}}),Ya=de({mutationFn:async({applicationId:e,rejectionReason:a})=>{const s=await Ta("POST",`/api/admin/affiliate/applications/${e}/reject`,{rejectionReason:a});if(!s.ok)throw new Error("Failed to reject application");return s.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["admin","affiliate"]}),n({title:"Success",description:"Application rejected successfully"})},onError:e=>{n({title:"Error",description:e.message,variant:"destructive"})}}),Za=()=>{Y({name:"",email:"",phone:"",website:"",businessName:"",defaultCommissionRate:5,commissionType:"percentage",notes:""})},es=e=>{U(e),Y({name:e.name,email:e.email,phone:e.phone||"",website:e.website||"",businessName:e.businessName||"",defaultCommissionRate:e.defaultCommissionRate,commissionType:e.commissionType,notes:""}),z(!0)},as=e=>{U(e),_(!0)},ss=e=>{Ha.mutate(e.id)},is=e=>me.jsx(Xe,{variant:{active:"default",pending:"secondary",suspended:"destructive",rejected:"outline"}[e]||"outline",children:a(`admin.affiliate.status.${e}`,e)});if(!(null==e?void 0:e.isSuperAdmin))return null;const ts=({current:e,previous:a,suffix:s=""})=>{if(void 0===e||void 0===a)return me.jsx("div",{className:"text-xs text-muted-foreground",children:"-"});const i=((e,a)=>0===a?e>0?100:0:(e-a)/a*100)(e,a),t=i>=0;return me.jsxs("div",{className:ma("flex items-center text-xs",t?"text-green-600":"text-red-600"),children:[t?me.jsx(Wa,{className:"h-3 w-3 mr-1"}):me.jsx(Ma,{className:"h-3 w-3 mr-1"}),Math.abs(i).toFixed(1),"%",s]})},ns={totalAffiliates:0,activeAffiliates:0,pendingAffiliates:0,inactiveAffiliates:0,totalReferrals:0,convertedReferrals:0,conversionRate:0,totalCommissionEarned:0,averageCommissionPerAffiliate:0,lifetimeValue:0,pendingPayouts:{count:0,amount:0},previousPeriod:{totalAffiliates:0,totalReferrals:0,conversionRate:0,totalCommissionEarned:0},performanceTrends:[],statusDistribution:[],topPerformers:[],conversionFunnel:[]},rs=()=>{if(ee)return me.jsx("div",{className:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-6",children:[...Array(6)].map(((e,a)=>me.jsxs(Se,{className:"animate-pulse",children:[me.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[me.jsx(ke,{className:"text-sm font-medium",children:me.jsx("div",{className:"h-4 bg-gray-200 rounded"})}),me.jsx("div",{className:"h-4 w-4 bg-gray-200 rounded"})]}),me.jsxs(Oe,{children:[me.jsx("div",{className:"h-8 bg-gray-200 rounded mb-2"}),me.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})]},a)))});if(!Z)return null;const e={...ns,...Z};return me.jsxs("div",{className:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-6",children:[me.jsxs(Se,{className:"hover:shadow-md transition-shadow",children:[me.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[me.jsx(ke,{className:"text-sm font-medium",children:a("admin.affiliate.metrics.total_affiliates","Total Affiliates")}),me.jsx(We,{className:"h-4 w-4 text-muted-foreground"})]}),me.jsxs(Oe,{children:[me.jsx("div",{className:"text-2xl font-bold",children:e.totalAffiliates}),me.jsxs("div",{className:"flex items-center justify-between",children:[me.jsxs("p",{className:"text-xs text-muted-foreground",children:[a("admin.affiliate.metrics.active","Active"),": ",e.activeAffiliates]}),me.jsx(ts,{current:e.totalAffiliates,previous:e.previousPeriod.totalAffiliates})]})]})]}),me.jsxs(Se,{className:"hover:shadow-md transition-shadow",children:[me.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[me.jsx(ke,{className:"text-sm font-medium",children:a("admin.affiliate.metrics.total_referrals","Total Referrals")}),me.jsx(qe,{className:"h-4 w-4 text-muted-foreground"})]}),me.jsxs(Oe,{children:[me.jsx("div",{className:"text-2xl font-bold",children:e.totalReferrals}),me.jsxs("div",{className:"flex items-center justify-between",children:[me.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.conversionRate.toFixed(1),"% ",a("admin.affiliate.metrics.conversion_rate","conversion rate")]}),me.jsx(ts,{current:e.totalReferrals,previous:e.previousPeriod.totalReferrals})]})]})]}),me.jsxs(Se,{className:"hover:shadow-md transition-shadow",children:[me.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[me.jsx(ke,{className:"text-sm font-medium",children:a("admin.affiliate.metrics.total_commission","Total Commission")}),me.jsx(Fa,{className:"h-4 w-4 text-muted-foreground"})]}),me.jsxs(Oe,{children:[me.jsx("div",{className:"text-2xl font-bold",children:_e(e.totalCommissionEarned)}),me.jsxs("div",{className:"flex items-center justify-between",children:[me.jsx("p",{className:"text-xs text-muted-foreground",children:a("admin.affiliate.metrics.from_conversions","From {{count}} conversions",{count:e.convertedReferrals})}),me.jsx(ts,{current:e.totalCommissionEarned,previous:e.previousPeriod.totalCommissionEarned})]})]})]}),me.jsxs(Se,{className:"hover:shadow-md transition-shadow",children:[me.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[me.jsx(ke,{className:"text-sm font-medium",children:a("admin.affiliate.metrics.conversion_rate","Conversion Rate")}),me.jsx(Ee,{className:"h-4 w-4 text-muted-foreground"})]}),me.jsxs(Oe,{children:[me.jsxs("div",{className:"text-2xl font-bold",children:[e.conversionRate.toFixed(1),"%"]}),me.jsxs("div",{className:"flex items-center justify-between",children:[me.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.convertedReferrals," / ",e.totalReferrals," ",a("admin.affiliate.metrics.conversions","conversions")]}),me.jsx(ts,{current:e.conversionRate,previous:e.previousPeriod.conversionRate,suffix:" pts"})]})]})]}),me.jsxs(Se,{className:"hover:shadow-md transition-shadow",children:[me.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[me.jsx(ke,{className:"text-sm font-medium",children:a("admin.affiliate.metrics.avg_commission","Avg Commission")}),me.jsx(Ke,{className:"h-4 w-4 text-muted-foreground"})]}),me.jsxs(Oe,{children:[me.jsx("div",{className:"text-2xl font-bold",children:_e(e.averageCommissionPerAffiliate)}),me.jsx("p",{className:"text-xs text-muted-foreground",children:a("admin.affiliate.metrics.per_affiliate","per affiliate")})]})]}),me.jsxs(Se,{className:"hover:shadow-md transition-shadow",children:[me.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[me.jsx(ke,{className:"text-sm font-medium",children:a("admin.affiliate.metrics.pending_payouts","Pending Payouts")}),me.jsx(na,{className:"h-4 w-4 text-muted-foreground"})]}),me.jsxs(Oe,{children:[me.jsx("div",{className:"text-2xl font-bold",children:_e(e.pendingPayouts.amount)}),me.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.pendingPayouts.count," ",a("admin.affiliate.metrics.pending_requests","pending requests")]})]})]})]})};return me.jsx(fe,{children:me.jsxs("div",{className:"p-6",children:[me.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:[me.jsxs("div",{children:[me.jsx("h1",{className:"sm:text-2xl",children:a("admin.affiliate.title","Affiliate Management")}),me.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:a("admin.affiliate.description","Manage affiliate partners, track referrals, and process payouts")})]}),me.jsxs("div",{className:"flex gap-2",children:[me.jsxs(he,{variant:"outline",className:"w-full sm:w-auto",children:[me.jsx(xe,{className:"mr-2 h-4 w-4"}),me.jsx("span",{className:"hidden sm:inline",children:a("admin.affiliate.export.button","Export Data")}),me.jsx("span",{className:"sm:hidden",children:a("admin.affiliate.export.short","Export")})]}),me.jsxs(he,{onClick:()=>{Za(),T(!0)},className:"w-full sm:w-auto",children:[me.jsx(ue,{className:"mr-2 h-4 w-4"}),me.jsx("span",{className:"hidden sm:inline",children:a("admin.affiliate.create.button","Add Affiliate")}),me.jsx("span",{className:"sm:hidden",children:a("admin.affiliate.create.short","Add")})]})]})]}),me.jsxs(pe,{value:o,onValueChange:d,className:"space-y-4",children:[me.jsx("div",{className:"overflow-x-auto",children:me.jsxs(je,{className:"grid w-full grid-cols-2 sm:grid-cols-5 gap-1",children:[me.jsxs(ve,{value:"dashboard",className:"text-xs sm:text-sm",children:[me.jsx("span",{className:"hidden sm:inline",children:a("admin.affiliate.dashboard.title","Dashboard")}),me.jsx("span",{className:"sm:hidden",children:a("admin.affiliate.dashboard.short","Dashboard")})]}),me.jsxs(ve,{value:"applications",className:"text-xs sm:text-sm",children:[me.jsx("span",{className:"hidden sm:inline",children:a("admin.affiliate.applications.title","Applications")}),me.jsx("span",{className:"sm:hidden",children:a("admin.affiliate.applications.short","Apps")})]}),me.jsxs(ve,{value:"affiliates",className:"text-xs sm:text-sm",children:[me.jsx("span",{className:"hidden sm:inline",children:a("admin.affiliate.affiliates.title","Affiliates")}),me.jsx("span",{className:"sm:hidden",children:a("admin.affiliate.affiliates.short","Affiliates")})]}),me.jsxs(ve,{value:"referrals",className:"text-xs sm:text-sm",children:[me.jsx("span",{className:"hidden sm:inline",children:a("admin.affiliate.referrals.title","Referrals")}),me.jsx("span",{className:"sm:hidden",children:a("admin.affiliate.referrals.short","Referrals")})]}),me.jsxs(ve,{value:"payouts",className:"text-xs sm:text-sm",children:[me.jsx("span",{className:"hidden sm:inline",children:a("admin.affiliate.payouts.title","Payouts")}),me.jsx("span",{className:"sm:hidden",children:a("admin.affiliate.payouts.short","Payouts")})]})]})}),me.jsxs(ge,{value:"dashboard",className:"space-y-4",children:[me.jsx(rs,{}),me.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[me.jsx("h2",{className:"text-lg font-semibold",children:a("admin.affiliate.analytics.title","Performance Analytics")}),me.jsxs("div",{className:"flex gap-2",children:[me.jsxs(ye,{value:E,onValueChange:e=>R(e),children:[me.jsx(be,{className:"w-[140px]",children:me.jsx(Ne,{})}),me.jsxs(we,{children:[me.jsx(Ae,{value:"7d",children:"Last 7 days"}),me.jsx(Ae,{value:"30d",children:"Last 30 days"}),me.jsx(Ae,{value:"90d",children:"Last 90 days"}),me.jsx(Ae,{value:"1y",children:"Last year"})]})]}),me.jsxs(he,{variant:"outline",size:"sm",children:[me.jsx(Ce,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),me.jsxs(Se,{className:"hover:shadow-lg transition-shadow duration-300",children:[me.jsxs(Pe,{children:[me.jsxs(ke,{className:"flex items-center gap-2",children:[me.jsx(Ee,{className:"h-5 w-5 text-primary"}),a("admin.affiliate.charts.performance_trends","Performance Trends")]}),me.jsx(Re,{children:"Track revenue, conversions, and sign-ups over time"})]}),me.jsx(Oe,{children:me.jsxs("div",{className:"h-[400px] w-full relative",children:[ee?me.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/80 backdrop-blur-sm",children:me.jsxs("div",{className:"flex flex-col items-center gap-2",children:[me.jsx(Te,{className:"h-8 w-8 animate-spin text-primary"}),me.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading chart data..."})]})}):null,me.jsx(Fe,{width:"100%",height:"100%",children:me.jsxs(za,{data:(null==Z?void 0:Z.performanceTrends)||[],children:[me.jsx(ze,{strokeDasharray:"3 3",className:"opacity-30"}),me.jsx(i,{dataKey:"date",tick:{fontSize:12},tickFormatter:e=>new Date(e).toLocaleDateString()}),me.jsx(t,{yAxisId:"left",tick:{fontSize:12}}),me.jsx(t,{yAxisId:"right",orientation:"right",tick:{fontSize:12}}),me.jsx(De,{labelFormatter:e=>new Date(e).toLocaleDateString(),formatter:(e,a)=>["revenue"===a?_e(e):e,a.charAt(0).toUpperCase()+a.slice(1)],contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),me.jsx(Me,{}),me.jsx(Da,{yAxisId:"left",type:"monotone",dataKey:"revenue",fill:c.primary,fillOpacity:.1,stroke:c.primary,strokeWidth:2,name:"Revenue"}),me.jsx(s,{yAxisId:"right",dataKey:"conversions",fill:c.success,name:"Conversions"}),me.jsx(Ue,{yAxisId:"right",type:"monotone",dataKey:"signups",stroke:c.warning,strokeWidth:2,dot:{fill:c.warning,strokeWidth:2,r:4},name:"Sign-ups"})]})})]})})]}),me.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[me.jsxs(Se,{className:"hover:shadow-lg transition-shadow duration-300",children:[me.jsx(Pe,{children:me.jsxs(ke,{className:"flex items-center gap-2",children:[me.jsx(We,{className:"h-5 w-5 text-primary"}),a("admin.affiliate.charts.status_distribution","Affiliate Status")]})}),me.jsx(Oe,{children:me.jsxs("div",{className:"h-[250px] w-full relative",children:[ee?me.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/80 backdrop-blur-sm rounded",children:me.jsx(Te,{className:"h-6 w-6 animate-spin text-primary"})}):null,me.jsx(Fe,{width:"100%",height:"100%",children:me.jsxs(Ie,{children:[me.jsxs(Le,{data:(null==Z?void 0:Z.statusDistribution)||[],cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:5,dataKey:"count",children:[((null==Z?void 0:Z.statusDistribution)||[]).map(((e,a)=>me.jsx(ae,{fill:"active"===e.status?c.success:"pending"===e.status?c.warning:"inactive"===e.status?c.danger:c.chart[a%c.chart.length]},`cell-${a}`))),me.jsx(H,{dataKey:"percentage",position:"center",formatter:e=>`${e}%`})]}),me.jsx(De,{formatter:(e,a)=>[e,a.charAt(0).toUpperCase()+a.slice(1)]}),me.jsx(Me,{})]})})]})})]}),me.jsxs(Se,{className:"hover:shadow-lg transition-shadow duration-300",children:[me.jsx(Pe,{children:me.jsxs(ke,{className:"flex items-center gap-2",children:[me.jsx(Ke,{className:"h-5 w-5 text-primary"}),a("admin.affiliate.charts.top_performers","Top Performers")]})}),me.jsx(Oe,{children:me.jsxs("div",{className:"h-[250px] w-full relative",children:[ee?me.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/80 backdrop-blur-sm rounded",children:me.jsx(Te,{className:"h-6 w-6 animate-spin text-primary"})}):null,me.jsx(Fe,{width:"100%",height:"100%",children:me.jsxs(Ia,{data:(null==Z?void 0:Z.topPerformers)||[],children:[me.jsx(ze,{strokeDasharray:"3 3",className:"opacity-30"}),me.jsx(i,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:60}),me.jsx(t,{tick:{fontSize:12}}),me.jsx(De,{formatter:(e,a)=>["revenue"===a?_e(e):e,a.charAt(0).toUpperCase()+a.slice(1)],contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e2e8f0",borderRadius:"8px"}}),me.jsx(s,{dataKey:"revenue",fill:c.secondary,name:"Revenue"})]})})]})})]}),me.jsxs(Se,{className:"hover:shadow-lg transition-shadow duration-300",children:[me.jsx(Pe,{children:me.jsxs(ke,{className:"flex items-center gap-2",children:[me.jsx(qe,{className:"h-5 w-5 text-primary"}),a("admin.affiliate.charts.conversion_funnel","Conversion Funnel")]})}),me.jsx(Oe,{children:me.jsxs("div",{className:"h-[250px] w-full relative",children:[ee?me.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/80 backdrop-blur-sm rounded",children:me.jsx(Te,{className:"h-6 w-6 animate-spin text-primary"})}):null,me.jsx(Fe,{width:"100%",height:"100%",children:me.jsxs(Et,{children:[me.jsx(De,{formatter:(e,a)=>[e,a],contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e2e8f0",borderRadius:"8px"}}),me.jsx(kt,{dataKey:"count",data:(null==Z?void 0:Z.conversionFunnel)||[],isAnimationActive:!0,children:me.jsx(H,{position:"center",fill:"#fff",stroke:"none"})})]})})]})})]})]}),me.jsxs(Se,{className:"hover:shadow-lg transition-shadow duration-300",children:[me.jsxs(Pe,{children:[me.jsxs(ke,{className:"flex items-center gap-2",children:[me.jsx(xe,{className:"h-5 w-5 text-primary"}),a("admin.affiliate.export.title","Export Data")]}),me.jsx(Re,{children:"Download affiliate performance data and reports"})]}),me.jsx(Oe,{children:me.jsxs("div",{className:"flex flex-wrap gap-2",children:[me.jsxs(he,{variant:"outline",size:"sm",className:"hover:bg-primary hover:text-primary-foreground transition-colors",children:[me.jsx(xe,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),me.jsxs(he,{variant:"outline",size:"sm",className:"hover:bg-primary hover:text-primary-foreground transition-colors",children:[me.jsx(xe,{className:"h-4 w-4 mr-2"}),"Export PDF Report"]}),me.jsxs(he,{variant:"outline",size:"sm",className:"hover:bg-primary hover:text-primary-foreground transition-colors",children:[me.jsx(xe,{className:"h-4 w-4 mr-2"}),"Export Chart Data"]})]})})]})]}),me.jsx(ge,{value:"applications",className:"space-y-4",children:me.jsxs(Se,{children:[me.jsxs(Pe,{children:[me.jsx(ke,{children:a("admin.affiliate.applications.title","Affiliate Applications")}),me.jsx(Re,{children:"Review and manage affiliate partner applications"})]}),me.jsx(Oe,{children:La?me.jsx("div",{className:"flex items-center justify-center py-8",children:me.jsx(Te,{className:"h-8 w-8 animate-spin"})}):te&&0!==te.length?me.jsxs("div",{className:"space-y-4",children:[me.jsxs("div",{className:"flex justify-between items-center",children:[me.jsxs("div",{className:"text-sm text-gray-500",children:[te.length," application",1!==te.length?"s":""," found"]}),me.jsxs(he,{variant:"outline",size:"sm",onClick:()=>window.open("/become-partner","_blank"),children:[me.jsx($e,{className:"mr-2 h-4 w-4"}),"Preview Application Form"]})]}),me.jsxs(Be,{children:[me.jsx(Ve,{children:me.jsxs(Ge,{children:[me.jsx(Qe,{children:"Applicant"}),me.jsx(Qe,{children:"Email"}),me.jsx(Qe,{children:"Status"}),me.jsx(Qe,{children:"Marketing Channels"}),me.jsx(Qe,{children:"Expected Referrals"}),me.jsx(Qe,{children:"Submitted"}),me.jsx(Qe,{className:"text-right",children:"Actions"})]})}),me.jsx(He,{children:te.map((e=>me.jsxs(Ge,{children:[me.jsx(Je,{children:me.jsxs("div",{children:[me.jsxs("div",{className:"font-medium",children:[e.firstName," ",e.lastName]}),e.company&&me.jsx("div",{className:"text-sm text-gray-500",children:e.company})]})}),me.jsx(Je,{children:e.email}),me.jsx(Je,{children:me.jsx(Xe,{variant:"approved"===e.status?"default":"rejected"===e.status?"destructive":"under_review"===e.status?"secondary":"outline",children:"pending"===e.status?"Pending":"approved"===e.status?"Approved":"rejected"===e.status?"Rejected":"under_review"===e.status?"Under Review":e.status})}),me.jsx(Je,{children:me.jsxs("div",{className:"text-sm",children:[Array.isArray(e.marketingChannels)?e.marketingChannels.slice(0,2).map((e=>e.replace(/_/g," ").replace(/\b\w/g,(e=>e.toUpperCase())))).join(", "):e.marketingChannels,Array.isArray(e.marketingChannels)&&e.marketingChannels.length>2&&` +${e.marketingChannels.length-2} more`]})}),me.jsx(Je,{children:e.expectedMonthlyReferrals}),me.jsx(Je,{children:new Date(e.submittedAt||e.createdAt).toLocaleDateString()}),me.jsx(Je,{className:"text-right",children:me.jsxs(Ye,{children:[me.jsx(Ze,{asChild:!0,children:me.jsx(he,{variant:"ghost",className:"h-8 w-8 p-0",children:me.jsx(ea,{className:"h-4 w-4"})})}),me.jsxs(aa,{align:"end",children:[me.jsxs(sa,{onClick:()=>{Q(e),V(!0)},children:[me.jsx($e,{className:"mr-2 h-4 w-4"}),"View Details"]}),"pending"===e.status&&me.jsxs(me.Fragment,{children:[me.jsxs(sa,{onClick:()=>{Xa.mutate(e.id)},children:[me.jsx(ia,{className:"mr-2 h-4 w-4"}),"Approve"]}),me.jsx(ta,{}),me.jsxs(sa,{onClick:()=>{const a=prompt("Please provide a reason for rejection:");a&&Ya.mutate({applicationId:e.id,rejectionReason:a})},children:[me.jsx(na,{className:"mr-2 h-4 w-4"}),"Reject"]})]})]})]})})]},e.id)))})]})]}):me.jsxs("div",{className:"text-center py-8",children:[me.jsx(ue,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),me.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:a("admin.affiliate.applications.empty.title","No Applications Yet")}),me.jsx("p",{className:"text-gray-500 mb-4",children:a("admin.affiliate.applications.empty.description","Affiliate applications will appear here when people apply to become partners.")}),me.jsxs(he,{variant:"outline",onClick:()=>window.open("/become-partner","_blank"),children:[me.jsx($e,{className:"mr-2 h-4 w-4"}),a("admin.affiliate.applications.preview_form","Preview Application Form")]})]})})]})}),me.jsx(ge,{value:"affiliates",className:"space-y-4",children:me.jsxs(Se,{children:[me.jsxs(Pe,{children:[me.jsx(ke,{children:a("admin.affiliate.affiliates.title","Affiliate Partners")}),me.jsx(Re,{children:"Manage affiliate partners and their commission structures"})]}),me.jsxs(Oe,{children:[me.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[me.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[me.jsx("div",{className:"flex-1",children:me.jsx(ra,{placeholder:a("admin.affiliate.affiliates.search_placeholder","Search affiliates..."),value:m,onChange:e=>f(e.target.value),className:"w-full sm:max-w-sm"})}),me.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[me.jsxs(ye,{value:h,onValueChange:x,children:[me.jsx(be,{className:"w-full sm:w-[180px]",children:me.jsx(Ne,{placeholder:a("admin.affiliate.affiliates.filter.all_statuses","All Statuses")})}),me.jsxs(we,{children:[me.jsx(Ae,{value:"all",children:a("admin.affiliate.affiliates.filter.all_statuses","All Statuses")}),me.jsx(Ae,{value:"active",children:a("admin.affiliate.status.active","Active")}),me.jsx(Ae,{value:"pending",children:a("admin.affiliate.status.pending","Pending")}),me.jsx(Ae,{value:"suspended",children:a("admin.affiliate.status.suspended","Suspended")}),me.jsx(Ae,{value:"rejected",children:a("admin.affiliate.status.rejected","Rejected")})]})]}),me.jsxs(he,{variant:"outline",size:"sm",children:[me.jsx(la,{className:"h-4 w-4 mr-2"}),"More Filters"]})]})]}),C.length>0&&me.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[me.jsxs("span",{className:"text-sm font-medium text-blue-900",children:[C.length," affiliate(s) selected"]}),me.jsxs("div",{className:"flex gap-2 ml-auto",children:[0!==C.length&&(null==se?void 0:se.data.some((e=>C.includes(e.id)&&("pending"===e.status||"suspended"===e.status))))&&me.jsxs(he,{variant:"outline",size:"sm",onClick:()=>(C.forEach((e=>{Ha.mutate(e)})),void S([])),className:"text-green-600 hover:text-green-700 hover:bg-green-50",disabled:Ha.isPending,children:[Ha.isPending?me.jsx(Te,{className:"h-4 w-4 mr-2 animate-spin"}):me.jsx(ia,{className:"h-4 w-4 mr-2"}),"Approve Selected"]}),me.jsxs(he,{variant:"outline",size:"sm",children:[me.jsx(ca,{className:"h-4 w-4 mr-2"}),"Send Email"]}),me.jsxs(he,{variant:"outline",size:"sm",children:[me.jsx(xe,{className:"h-4 w-4 mr-2"}),"Export Selected"]}),me.jsxs(he,{variant:"outline",size:"sm",onClick:()=>(()=>{const e=C.length;$(`Are you sure you want to delete ${e} selected affiliate${e>1?"s":""}? This action cannot be undone and will remove all associated data.`),K((()=>()=>{C.forEach((e=>{Qa.mutate(e)})),S([])})),I(!0)})(),className:"text-red-600 hover:text-red-700 hover:bg-red-50",disabled:Qa.isPending,children:[Qa.isPending?me.jsx(Te,{className:"h-4 w-4 mr-2 animate-spin"}):me.jsx(oa,{className:"h-4 w-4 mr-2"}),"Delete Selected"]})]})]})]}),ie?me.jsx("div",{className:"flex items-center justify-center py-8",children:me.jsx(Te,{className:"h-8 w-8 animate-spin"})}):me.jsx("div",{className:"overflow-x-auto",children:me.jsxs(Be,{children:[me.jsx(Ve,{children:me.jsxs(Ge,{children:[me.jsx(Qe,{className:"w-12",children:me.jsx(da,{checked:C.length===(null==se?void 0:se.data.length)&&(null==se?void 0:se.data.length)>0,onCheckedChange:e=>{S(e&&(null==se?void 0:se.data.map((e=>e.id)))||[])}})}),me.jsx(Qe,{className:"min-w-[120px]",children:me.jsxs(he,{variant:"ghost",size:"sm",className:"h-auto p-0 font-semibold",onClick:()=>{N("affiliateCode"),A("affiliateCode"===b&&"asc"===w?"desc":"asc")},children:[a("admin.affiliate.affiliates.table.code","Code"),"affiliateCode"===b&&("asc"===w?me.jsx(Ua,{className:"ml-1 h-3 w-3"}):me.jsx(_a,{className:"ml-1 h-3 w-3"}))]})}),me.jsx(Qe,{className:"min-w-[150px]",children:me.jsxs(he,{variant:"ghost",size:"sm",className:"h-auto p-0 font-semibold",onClick:()=>{N("name"),A("name"===b&&"asc"===w?"desc":"asc")},children:[a("admin.affiliate.affiliates.table.name","Name"),"name"===b&&("asc"===w?me.jsx(Ua,{className:"ml-1 h-3 w-3"}):me.jsx(_a,{className:"ml-1 h-3 w-3"}))]})}),me.jsx(Qe,{className:"min-w-[180px]",children:a("admin.affiliate.affiliates.table.email","Email")}),me.jsx(Qe,{className:"min-w-[100px]",children:a("admin.affiliate.affiliates.table.status","Status")}),me.jsx(Qe,{className:"min-w-[120px]",children:me.jsxs(he,{variant:"ghost",size:"sm",className:"h-auto p-0 font-semibold",onClick:()=>{N("totalReferrals"),A("totalReferrals"===b&&"asc"===w?"desc":"asc")},children:[a("admin.affiliate.affiliates.table.referrals","Referrals"),"totalReferrals"===b&&("asc"===w?me.jsx(Ua,{className:"ml-1 h-3 w-3"}):me.jsx(_a,{className:"ml-1 h-3 w-3"}))]})}),me.jsx(Qe,{className:"min-w-[120px]",children:me.jsxs(he,{variant:"ghost",size:"sm",className:"h-auto p-0 font-semibold",onClick:()=>{N("totalEarnings"),A("totalEarnings"===b&&"asc"===w?"desc":"asc")},children:[a("admin.affiliate.affiliates.table.earnings","Earnings"),"totalEarnings"===b&&("asc"===w?me.jsx(Ua,{className:"ml-1 h-3 w-3"}):me.jsx(_a,{className:"ml-1 h-3 w-3"}))]})}),me.jsx(Qe,{className:"min-w-[120px]",children:a("admin.affiliate.affiliates.table.commission","Commission")}),me.jsx(Qe,{className:"min-w-[200px]",children:a("admin.affiliate.affiliates.table.referral_url","Referral URL")}),me.jsx(Qe,{className:"min-w-[120px]",children:me.jsxs(he,{variant:"ghost",size:"sm",className:"h-auto p-0 font-semibold",onClick:()=>{N("createdAt"),A("createdAt"===b&&"asc"===w?"desc":"asc")},children:[a("admin.affiliate.affiliates.table.joined","Joined"),"createdAt"===b&&("asc"===w?me.jsx(Ua,{className:"ml-1 h-3 w-3"}):me.jsx(_a,{className:"ml-1 h-3 w-3"}))]})}),me.jsx(Qe,{className:"min-w-[200px]",children:a("admin.affiliate.affiliates.table.actions","Actions")})]})}),me.jsx(He,{children:null==se?void 0:se.data.map((e=>me.jsxs(Ge,{className:ma("hover:bg-muted/50 transition-colors",C.includes(e.id)&&"bg-blue-50"),children:[me.jsx(Je,{children:me.jsx(da,{checked:C.includes(e.id),onCheckedChange:a=>{S(a?[...C,e.id]:C.filter((a=>a!==e.id)))}})}),me.jsx(Je,{className:"font-mono text-sm",children:e.affiliateCode}),me.jsx(Je,{className:"font-medium",children:me.jsxs("div",{children:[me.jsx("div",{className:"font-semibold",children:e.name}),e.businessName&&me.jsx("div",{className:"text-xs text-muted-foreground",children:e.businessName})]})}),me.jsx(Je,{children:e.email}),me.jsx(Je,{children:is(e.status)}),me.jsx(Je,{children:me.jsxs("div",{className:"text-sm",children:[me.jsx("div",{className:"font-medium",children:e.totalReferrals}),me.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.successfulReferrals," converted"]})]})}),me.jsx(Je,{className:"font-medium",children:me.jsxs("div",{className:"text-sm",children:[me.jsx("div",{className:"font-medium",children:_e(e.totalEarnings)}),me.jsxs("div",{className:"text-xs text-muted-foreground",children:[_e(e.pendingEarnings)," pending"]})]})}),me.jsx(Je,{children:me.jsxs(Xe,{variant:"outline",children:[e.defaultCommissionRate,"%"]})}),me.jsx(Je,{children:me.jsxs("div",{className:"flex items-center gap-2",children:[me.jsx("div",{className:"flex-1 min-w-0",children:me.jsx("div",{className:"text-sm font-mono text-blue-600 truncate",children:l(e.affiliateCode)})}),me.jsxs("div",{className:"flex gap-1",children:[me.jsx(he,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{const a=l(e.affiliateCode);navigator.clipboard.writeText(a),n({title:"Copied!",description:"Referral URL copied to clipboard"})},title:"Copy referral URL",children:me.jsx(fa,{className:"h-4 w-4"})}),me.jsx(he,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{const a=l(e.affiliateCode);window.open(a,"_blank")},title:"Open referral URL",children:me.jsx(ha,{className:"h-4 w-4"})})]})]})}),me.jsx(Je,{className:"text-sm",children:xa(e.createdAt)}),me.jsx(Je,{children:me.jsxs("div",{className:"flex items-center gap-2",children:[me.jsx(he,{variant:"ghost",size:"sm",onClick:()=>as(e),children:me.jsx($e,{className:"h-4 w-4"})}),me.jsx(he,{variant:"ghost",size:"sm",onClick:()=>es(e),children:me.jsx(ua,{className:"h-4 w-4"})}),me.jsxs(Ye,{children:[me.jsx(Ze,{asChild:!0,children:me.jsx(he,{variant:"ghost",size:"sm",children:me.jsx(ea,{className:"h-4 w-4"})})}),me.jsxs(aa,{align:"end",children:[me.jsxs(sa,{onClick:()=>as(e),children:[me.jsx($e,{className:"mr-2 h-4 w-4"}),"View Details"]}),me.jsxs(sa,{onClick:()=>es(e),children:[me.jsx(ua,{className:"mr-2 h-4 w-4"}),"Edit Affiliate"]}),me.jsx(ta,{}),me.jsxs(sa,{children:[me.jsx(ca,{className:"mr-2 h-4 w-4"}),"Send Email"]}),me.jsxs(sa,{children:[me.jsx(xe,{className:"mr-2 h-4 w-4"}),"Export Data"]}),me.jsx(ta,{}),"pending"===e.status&&me.jsxs(sa,{onClick:()=>ss(e),className:"text-green-600 focus:text-green-600 focus:bg-green-50",disabled:Ha.isPending,children:[Ha.isPending?me.jsx(Te,{className:"mr-2 h-4 w-4 animate-spin"}):me.jsx(ia,{className:"mr-2 h-4 w-4"}),"Approve"]}),"active"===e.status&&me.jsxs(sa,{onClick:()=>(e=>{Ja.mutate(e.id)})(e),className:"text-orange-600 focus:text-orange-600 focus:bg-orange-50",disabled:Ja.isPending,children:[Ja.isPending?me.jsx(Te,{className:"mr-2 h-4 w-4 animate-spin"}):me.jsx(na,{className:"mr-2 h-4 w-4"}),"Suspend"]}),"suspended"===e.status&&me.jsxs(sa,{onClick:()=>ss(e),className:"text-green-600 focus:text-green-600 focus:bg-green-50",disabled:Ha.isPending,children:[Ha.isPending?me.jsx(Te,{className:"mr-2 h-4 w-4 animate-spin"}):me.jsx(ia,{className:"mr-2 h-4 w-4"}),"Reactivate"]}),me.jsx(ta,{}),me.jsxs(sa,{onClick:()=>(e=>{U(e),$(`Are you sure you want to delete the affiliate "${e.name}"? This action cannot be undone and will remove all associated data.`),K((()=>()=>Qa.mutate(e.id))),I(!0)})(e),className:"text-red-600 focus:text-red-600 focus:bg-red-50",disabled:Qa.isPending,children:[Qa.isPending?me.jsx(Te,{className:"mr-2 h-4 w-4 animate-spin"}):me.jsx(oa,{className:"mr-2 h-4 w-4"}),"Delete Affiliate"]})]})]})]})})]},e.id)))})]})}),se&&se.totalPages>1&&me.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mt-4 gap-4",children:[me.jsxs("div",{className:"text-sm text-muted-foreground",children:[a("admin.affiliate.pagination.showing","Showing")," ",20*(u-1)+1," ",a("admin.affiliate.pagination.to","to")," ",Math.min(20*u,se.total)," ",a("admin.affiliate.pagination.of","of")," ",se.total," ",a("admin.affiliate.pagination.records","records")]}),me.jsxs("div",{className:"flex items-center gap-2",children:[me.jsx(he,{variant:"outline",size:"sm",onClick:()=>p(Math.max(1,u-1)),disabled:1===u,className:"min-w-[80px]",children:a("admin.affiliate.pagination.previous","Previous")}),me.jsx("div",{className:"flex items-center gap-1",children:me.jsxs("span",{className:"text-sm text-muted-foreground",children:[a("admin.affiliate.pagination.page","Page")," ",u," ",a("admin.affiliate.pagination.of","of")," ",se.totalPages]})}),me.jsx(he,{variant:"outline",size:"sm",onClick:()=>p(Math.min(se.totalPages,u+1)),disabled:u===se.totalPages,className:"min-w-[80px]",children:a("admin.affiliate.pagination.next","Next")})]})]})]})]})}),me.jsx(ge,{value:"referrals",className:"space-y-4",children:me.jsxs(Se,{children:[me.jsxs(Pe,{children:[me.jsx(ke,{children:a("admin.affiliate.referrals.title","Affiliate Referrals")}),me.jsx(Re,{children:"Track and manage all affiliate referrals and conversions"})]}),me.jsx(Oe,{children:qa?me.jsx("div",{className:"flex items-center justify-center py-8",children:me.jsx(Te,{className:"h-8 w-8 animate-spin"})}):(null==Ka?void 0:Ka.data)&&Ka.data.length>0?me.jsxs(me.Fragment,{children:[me.jsx("div",{className:"overflow-x-auto",children:me.jsxs(Be,{children:[me.jsx(Ve,{children:me.jsxs(Ge,{children:[me.jsx(Qe,{className:"min-w-[120px]",children:a("admin.affiliate.referrals.table.code","Referral Code")}),me.jsx(Qe,{className:"min-w-[150px]",children:a("admin.affiliate.referrals.table.affiliate","Affiliate")}),me.jsx(Qe,{className:"min-w-[180px]",children:a("admin.affiliate.referrals.table.referred_email","Referred Email")}),me.jsx(Qe,{className:"min-w-[100px]",children:a("admin.affiliate.referrals.table.status","Status")}),me.jsx(Qe,{className:"min-w-[120px]",children:a("admin.affiliate.referrals.table.value","Value")}),me.jsx(Qe,{className:"min-w-[120px]",children:a("admin.affiliate.referrals.table.commission","Commission")}),me.jsx(Qe,{className:"min-w-[120px]",children:a("admin.affiliate.referrals.table.date","Date")})]})}),me.jsx(He,{children:Ka.data.map((e=>me.jsxs(Ge,{children:[me.jsx(Je,{className:"font-mono text-sm",children:e.referralCode}),me.jsx(Je,{children:me.jsxs("div",{children:[me.jsx("div",{className:"font-medium",children:e.affiliateName}),me.jsx("div",{className:"text-xs text-muted-foreground",children:e.affiliateCode})]})}),me.jsx(Je,{children:e.referredEmail}),me.jsx(Je,{children:me.jsx(Xe,{variant:"converted"===e.status?"default":"pending"===e.status?"secondary":"expired"===e.status?"destructive":"outline",children:a(`admin.affiliate.referrals.status.${e.status}`,e.status)})}),me.jsx(Je,{className:"font-medium",children:e.conversionValue>0?_e(e.conversionValue):"-"}),me.jsx(Je,{className:"font-medium",children:e.commissionAmount>0?_e(e.commissionAmount):"-"}),me.jsx(Je,{className:"text-sm",children:e.convertedAt?xa(e.convertedAt):xa(e.createdAt)})]},e.id)))})]})}),Ka.totalPages>1&&me.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mt-4 gap-4",children:[me.jsxs("div",{className:"text-sm text-muted-foreground",children:[a("admin.affiliate.pagination.showing","Showing")," ",20*(j-1)+1," ",a("admin.affiliate.pagination.to","to")," ",Math.min(20*j,Ka.total)," ",a("admin.affiliate.pagination.of","of")," ",Ka.total," ",a("admin.affiliate.pagination.records","records")]}),me.jsxs("div",{className:"flex items-center gap-2",children:[me.jsx(he,{variant:"outline",size:"sm",onClick:()=>v(Math.max(1,j-1)),disabled:1===j,className:"min-w-[80px]",children:a("admin.affiliate.pagination.previous","Previous")}),me.jsx("div",{className:"flex items-center gap-1",children:me.jsxs("span",{className:"text-sm text-muted-foreground",children:[a("admin.affiliate.pagination.page","Page")," ",j," ",a("admin.affiliate.pagination.of","of")," ",Ka.totalPages]})}),me.jsx(he,{variant:"outline",size:"sm",onClick:()=>v(Math.min(Ka.totalPages,j+1)),disabled:j===Ka.totalPages,className:"min-w-[80px]",children:a("admin.affiliate.pagination.next","Next")})]})]})]}):me.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No referrals found"})})]})}),me.jsx(ge,{value:"payouts",className:"space-y-4",children:me.jsxs(Se,{children:[me.jsxs(Pe,{children:[me.jsx(ke,{children:a("admin.affiliate.payouts.title","Affiliate Payouts")}),me.jsx(Re,{children:"Manage affiliate commission payouts and payment processing"})]}),me.jsx(Oe,{children:Ba?me.jsx("div",{className:"flex items-center justify-center py-8",children:me.jsx(Te,{className:"h-8 w-8 animate-spin"})}):(null==$a?void 0:$a.data)&&$a.data.length>0?me.jsxs(me.Fragment,{children:[me.jsx("div",{className:"overflow-x-auto",children:me.jsxs(Be,{children:[me.jsx(Ve,{children:me.jsxs(Ge,{children:[me.jsx(Qe,{className:"min-w-[150px]",children:a("admin.affiliate.payouts.table.affiliate","Affiliate")}),me.jsx(Qe,{className:"min-w-[120px]",children:a("admin.affiliate.payouts.table.amount","Amount")}),me.jsx(Qe,{className:"min-w-[100px]",children:a("admin.affiliate.payouts.table.status","Status")}),me.jsx(Qe,{className:"min-w-[120px]",children:a("admin.affiliate.payouts.table.method","Method")}),me.jsx(Qe,{className:"min-w-[140px]",children:a("admin.affiliate.payouts.table.period","Period")}),me.jsx(Qe,{className:"min-w-[120px]",children:a("admin.affiliate.payouts.table.processed","Processed")})]})}),me.jsx(He,{children:$a.data.map((e=>me.jsxs(Ge,{children:[me.jsx(Je,{children:me.jsxs("div",{children:[me.jsx("div",{className:"font-medium",children:e.affiliateName}),me.jsx("div",{className:"text-xs text-muted-foreground",children:e.affiliateCode})]})}),me.jsxs(Je,{className:"font-medium",children:[_e(e.amount)," ",e.currency]}),me.jsx(Je,{children:me.jsx(Xe,{variant:"completed"===e.status?"default":"processing"===e.status?"secondary":"failed"===e.status?"destructive":"outline",children:a(`admin.affiliate.payouts.status.${e.status}`,e.status)})}),me.jsx(Je,{className:"capitalize",children:e.paymentMethod||"Not specified"}),me.jsx(Je,{className:"text-sm",children:me.jsxs("div",{children:[me.jsx("div",{children:xa(e.periodStart)}),me.jsxs("div",{className:"text-xs text-muted-foreground",children:["to ",xa(e.periodEnd)]})]})}),me.jsx(Je,{className:"text-sm",children:e.processedAt?xa(e.processedAt):"-"})]},e.id)))})]})}),$a.totalPages>1&&me.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mt-4 gap-4",children:[me.jsxs("div",{className:"text-sm text-muted-foreground",children:[a("admin.affiliate.pagination.showing","Showing")," ",20*(g-1)+1," ",a("admin.affiliate.pagination.to","to")," ",Math.min(20*g,$a.total)," ",a("admin.affiliate.pagination.of","of")," ",$a.total," ",a("admin.affiliate.pagination.records","records")]}),me.jsxs("div",{className:"flex items-center gap-2",children:[me.jsx(he,{variant:"outline",size:"sm",onClick:()=>y(Math.max(1,g-1)),disabled:1===g,className:"min-w-[80px]",children:a("admin.affiliate.pagination.previous","Previous")}),me.jsx("div",{className:"flex items-center gap-1",children:me.jsxs("span",{className:"text-sm text-muted-foreground",children:[a("admin.affiliate.pagination.page","Page")," ",g," ",a("admin.affiliate.pagination.of","of")," ",$a.totalPages]})}),me.jsx(he,{variant:"outline",size:"sm",onClick:()=>y(Math.min($a.totalPages,g+1)),disabled:g===$a.totalPages,className:"min-w-[80px]",children:a("admin.affiliate.pagination.next","Next")})]})]})]}):me.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No payouts found"})})]})})]}),me.jsx(pa,{open:O,onOpenChange:T,children:me.jsxs(ja,{className:"sm:max-w-[600px]",children:[me.jsxs(va,{children:[me.jsx(ga,{children:a("admin.affiliate.create.title","Add New Affiliate")}),me.jsx(ya,{children:a("admin.affiliate.create.description","Create a new affiliate partner account")})]}),me.jsxs("div",{className:"grid gap-4 py-4",children:[me.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[me.jsxs("div",{className:"space-y-2",children:[me.jsxs(ba,{htmlFor:"name",children:[a("admin.affiliate.form.name","Full Name")," *"]}),me.jsx(ra,{id:"name",value:X.name,onChange:e=>Y({...X,name:e.target.value}),placeholder:"Enter full name"})]}),me.jsxs("div",{className:"space-y-2",children:[me.jsxs(ba,{htmlFor:"email",children:[a("admin.affiliate.form.email","Email Address")," *"]}),me.jsx(ra,{id:"email",type:"email",value:X.email,onChange:e=>Y({...X,email:e.target.value}),placeholder:"Enter email address"})]})]}),me.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[me.jsxs("div",{className:"space-y-2",children:[me.jsx(ba,{htmlFor:"phone",children:a("admin.affiliate.form.phone","Phone Number")}),me.jsx(ra,{id:"phone",value:X.phone,onChange:e=>Y({...X,phone:e.target.value}),placeholder:"Enter phone number"})]}),me.jsxs("div",{className:"space-y-2",children:[me.jsx(ba,{htmlFor:"website",children:a("admin.affiliate.form.website","Website")}),me.jsx(ra,{id:"website",value:X.website,onChange:e=>Y({...X,website:e.target.value}),placeholder:"https://example.com"})]})]}),me.jsxs("div",{className:"space-y-2",children:[me.jsx(ba,{htmlFor:"businessName",children:a("admin.affiliate.form.business_name","Business Name")}),me.jsx(ra,{id:"businessName",value:X.businessName,onChange:e=>Y({...X,businessName:e.target.value}),placeholder:"Enter business name"})]}),me.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[me.jsxs("div",{className:"space-y-2",children:[me.jsxs(ba,{htmlFor:"commissionRate",children:[a("admin.affiliate.form.commission_rate","Commission Rate")," (%)"]}),me.jsx(ra,{id:"commissionRate",type:"number",min:"0",max:"100",step:"0.1",value:X.defaultCommissionRate,onChange:e=>Y({...X,defaultCommissionRate:parseFloat(e.target.value)||0})})]}),me.jsxs("div",{className:"space-y-2",children:[me.jsx(ba,{htmlFor:"commissionType",children:a("admin.affiliate.form.commission_type","Commission Type")}),me.jsxs(ye,{value:X.commissionType,onValueChange:e=>Y({...X,commissionType:e}),children:[me.jsx(be,{children:me.jsx(Ne,{})}),me.jsxs(we,{children:[me.jsx(Ae,{value:"percentage",children:a("admin.affiliate.commission_type.percentage","Percentage")}),me.jsx(Ae,{value:"fixed",children:a("admin.affiliate.commission_type.fixed","Fixed Amount")}),me.jsx(Ae,{value:"tiered",children:a("admin.affiliate.commission_type.tiered","Tiered")})]})]})]})]}),me.jsxs("div",{className:"space-y-2",children:[me.jsx(ba,{htmlFor:"notes",children:a("admin.affiliate.form.notes","Notes")}),me.jsx(Na,{id:"notes",value:X.notes,onChange:e=>Y({...X,notes:e.target.value}),placeholder:"Additional notes about this affiliate",rows:3})]})]}),me.jsxs(wa,{children:[me.jsx(he,{variant:"outline",onClick:()=>T(!1),children:a("common.cancel","Cancel")}),me.jsxs(he,{onClick:()=>{Va.mutate(X)},disabled:Va.isPending||!X.name||!X.email,children:[Va.isPending&&me.jsx(Te,{className:"mr-2 h-4 w-4 animate-spin"}),a("admin.affiliate.create.submit","Create Affiliate")]})]})]})}),me.jsx(pa,{open:F,onOpenChange:z,children:me.jsxs(ja,{className:"sm:max-w-[600px]",children:[me.jsxs(va,{children:[me.jsx(ga,{children:a("admin.affiliate.edit.title","Edit Affiliate")}),me.jsx(ya,{children:a("admin.affiliate.edit.description","Update affiliate partner information")})]}),me.jsxs("div",{className:"grid gap-4 py-4",children:[me.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[me.jsxs("div",{className:"space-y-2",children:[me.jsxs(ba,{htmlFor:"edit-name",children:[a("admin.affiliate.form.name","Full Name")," *"]}),me.jsx(ra,{id:"edit-name",value:X.name,onChange:e=>Y({...X,name:e.target.value}),placeholder:"Enter full name"})]}),me.jsxs("div",{className:"space-y-2",children:[me.jsxs(ba,{htmlFor:"edit-email",children:[a("admin.affiliate.form.email","Email Address")," *"]}),me.jsx(ra,{id:"edit-email",type:"email",value:X.email,onChange:e=>Y({...X,email:e.target.value}),placeholder:"Enter email address"})]})]}),me.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[me.jsxs("div",{className:"space-y-2",children:[me.jsx(ba,{htmlFor:"edit-phone",children:a("admin.affiliate.form.phone","Phone Number")}),me.jsx(ra,{id:"edit-phone",value:X.phone,onChange:e=>Y({...X,phone:e.target.value}),placeholder:"Enter phone number"})]}),me.jsxs("div",{className:"space-y-2",children:[me.jsx(ba,{htmlFor:"edit-website",children:a("admin.affiliate.form.website","Website")}),me.jsx(ra,{id:"edit-website",value:X.website,onChange:e=>Y({...X,website:e.target.value}),placeholder:"https://example.com"})]})]}),me.jsxs("div",{className:"space-y-2",children:[me.jsx(ba,{htmlFor:"edit-businessName",children:a("admin.affiliate.form.business_name","Business Name")}),me.jsx(ra,{id:"edit-businessName",value:X.businessName,onChange:e=>Y({...X,businessName:e.target.value}),placeholder:"Enter business name"})]}),me.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[me.jsxs("div",{className:"space-y-2",children:[me.jsxs(ba,{htmlFor:"edit-commissionRate",children:[a("admin.affiliate.form.commission_rate","Commission Rate")," (%)"]}),me.jsx(ra,{id:"edit-commissionRate",type:"number",min:"0",max:"100",step:"0.1",value:X.defaultCommissionRate,onChange:e=>Y({...X,defaultCommissionRate:parseFloat(e.target.value)||0})})]}),me.jsxs("div",{className:"space-y-2",children:[me.jsx(ba,{htmlFor:"edit-commissionType",children:a("admin.affiliate.form.commission_type","Commission Type")}),me.jsxs(ye,{value:X.commissionType,onValueChange:e=>Y({...X,commissionType:e}),children:[me.jsx(be,{children:me.jsx(Ne,{})}),me.jsxs(we,{children:[me.jsx(Ae,{value:"percentage",children:a("admin.affiliate.commission_type.percentage","Percentage")}),me.jsx(Ae,{value:"fixed",children:a("admin.affiliate.commission_type.fixed","Fixed Amount")}),me.jsx(Ae,{value:"tiered",children:a("admin.affiliate.commission_type.tiered","Tiered")})]})]})]})]})]}),me.jsxs(wa,{children:[me.jsx(he,{variant:"outline",onClick:()=>z(!1),children:a("common.cancel","Cancel")}),me.jsxs(he,{onClick:()=>{M&&Ga.mutate({id:M.id,updates:X})},disabled:Ga.isPending||!X.name||!X.email,children:[Ga.isPending&&me.jsx(Te,{className:"mr-2 h-4 w-4 animate-spin"}),a("admin.affiliate.edit.submit","Update Affiliate")]})]})]})}),me.jsx(pa,{open:D,onOpenChange:_,children:me.jsxs(ja,{className:"sm:max-w-[700px]",children:[me.jsxs(va,{children:[me.jsx(ga,{children:a("admin.affiliate.view.title","Affiliate Details")}),me.jsxs(ya,{children:[null==M?void 0:M.name," - ",null==M?void 0:M.affiliateCode]})]}),M&&me.jsxs("div",{className:"grid gap-6 py-4",children:[me.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[me.jsxs("div",{children:[me.jsx(ba,{className:"text-sm font-medium text-muted-foreground",children:a("admin.affiliate.view.basic_info","Basic Information")}),me.jsxs("div",{className:"mt-2 space-y-2",children:[me.jsxs("div",{children:[me.jsx("strong",{children:"Name:"})," ",M.name]}),me.jsxs("div",{children:[me.jsx("strong",{children:"Email:"})," ",M.email]}),M.phone&&me.jsxs("div",{children:[me.jsx("strong",{children:"Phone:"})," ",M.phone]}),M.website&&me.jsxs("div",{children:[me.jsx("strong",{children:"Website:"})," ",M.website]}),M.businessName&&me.jsxs("div",{children:[me.jsx("strong",{children:"Business:"})," ",M.businessName]})]})]}),me.jsxs("div",{children:[me.jsx(ba,{className:"text-sm font-medium text-muted-foreground",children:a("admin.affiliate.view.performance","Performance")}),me.jsxs("div",{className:"mt-2 space-y-2",children:[me.jsxs("div",{children:[me.jsx("strong",{children:"Total Referrals:"})," ",M.totalReferrals]}),me.jsxs("div",{children:[me.jsx("strong",{children:"Successful:"})," ",M.successfulReferrals]}),me.jsxs("div",{children:[me.jsx("strong",{children:"Total Earnings:"})," ",_e(M.totalEarnings)]}),me.jsxs("div",{children:[me.jsx("strong",{children:"Pending:"})," ",_e(M.pendingEarnings)]}),me.jsxs("div",{children:[me.jsx("strong",{children:"Paid:"})," ",_e(M.paidEarnings)]})]})]})]}),me.jsxs("div",{children:[me.jsx(ba,{className:"text-sm font-medium text-muted-foreground",children:a("admin.affiliate.view.commission_settings","Commission Settings")}),me.jsxs("div",{className:"mt-2 space-y-2",children:[me.jsxs("div",{children:[me.jsx("strong",{children:"Commission Rate:"})," ",M.defaultCommissionRate,"%"]}),me.jsxs("div",{children:[me.jsx("strong",{children:"Commission Type:"})," ",M.commissionType]}),me.jsxs("div",{children:[me.jsx("strong",{children:"Status:"})," ",is(M.status)]}),me.jsxs("div",{children:[me.jsx("strong",{children:"Joined:"})," ",xa(M.createdAt)]})]})]}),me.jsxs("div",{children:[me.jsx(ba,{className:"text-sm font-medium text-muted-foreground",children:a("admin.affiliate.view.referral_url","Referral URL")}),me.jsxs("div",{className:"mt-2",children:[me.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-50 rounded-md border",children:[me.jsx("div",{className:"flex-1 min-w-0",children:me.jsx("div",{className:"text-sm font-mono text-blue-600 break-all",children:l(M.affiliateCode)})}),me.jsxs("div",{className:"flex gap-1",children:[me.jsx(he,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{const e=l(M.affiliateCode);navigator.clipboard.writeText(e),n({title:"Copied!",description:"Referral URL copied to clipboard"})},title:"Copy referral URL",children:me.jsx(fa,{className:"h-4 w-4"})}),me.jsx(he,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{const e=l(M.affiliateCode);window.open(e,"_blank")},title:"Open referral URL",children:me.jsx(ha,{className:"h-4 w-4"})})]})]}),me.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Share this URL with potential customers. When they sign up using this link, the affiliate will receive commission for successful conversions."})]})]})]}),me.jsxs(wa,{children:[me.jsx(he,{variant:"outline",onClick:()=>_(!1),children:a("common.close","Close")}),M&&me.jsxs(he,{onClick:()=>{_(!1),es(M)},children:[me.jsx(ua,{className:"mr-2 h-4 w-4"}),a("admin.affiliate.actions.edit","Edit")]})]})]})}),me.jsx(Aa,{open:W,onOpenChange:I,children:me.jsxs(Ca,{children:[me.jsxs(Sa,{children:[me.jsxs(Pa,{className:"flex items-center gap-2",children:[q.includes("delete")&&me.jsx(oa,{className:"h-5 w-5 text-red-600"}),q.includes("delete")?a("admin.affiliate.delete.confirm_title","Delete Affiliate"):a("common.confirm","Confirm Action")]}),me.jsx(ka,{className:q.includes("delete")?"text-red-700":"",children:q})]}),me.jsxs(Ea,{children:[me.jsx(Ra,{children:a("common.cancel","Cancel")}),me.jsx(Oa,{onClick:()=>{L&&L(),I(!1)},className:q.includes("delete")?"bg-red-600 hover:bg-red-700 focus:ring-red-600":"",children:q.includes("delete")?a("admin.affiliate.delete.confirm_button","Delete"):a("common.confirm","Confirm")})]})]})}),me.jsx(pa,{open:B,onOpenChange:V,children:me.jsxs(ja,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[me.jsxs(va,{children:[me.jsx(ga,{children:"Application Details"}),me.jsx(ya,{children:"Complete information for this affiliate application"})]}),G&&me.jsxs("div",{className:"space-y-6",children:[me.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[me.jsxs("div",{className:"space-y-4",children:[me.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"Personal Information"}),me.jsxs("div",{className:"space-y-3",children:[me.jsxs("div",{children:[me.jsx(ba,{className:"text-sm font-medium text-gray-600",children:"Full Name"}),me.jsxs("p",{className:"text-sm",children:[G.firstName," ",G.lastName]})]}),me.jsxs("div",{children:[me.jsx(ba,{className:"text-sm font-medium text-gray-600",children:"Email"}),me.jsx("p",{className:"text-sm",children:G.email})]}),G.phone&&me.jsxs("div",{children:[me.jsx(ba,{className:"text-sm font-medium text-gray-600",children:"Phone"}),me.jsx("p",{className:"text-sm",children:G.phone})]}),me.jsxs("div",{children:[me.jsx(ba,{className:"text-sm font-medium text-gray-600",children:"Country"}),me.jsx("p",{className:"text-sm",children:G.country})]})]})]}),me.jsxs("div",{className:"space-y-4",children:[me.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"Business Information"}),me.jsxs("div",{className:"space-y-3",children:[G.company&&me.jsxs("div",{children:[me.jsx(ba,{className:"text-sm font-medium text-gray-600",children:"Company"}),me.jsx("p",{className:"text-sm",children:G.company})]}),G.website&&me.jsxs("div",{children:[me.jsx(ba,{className:"text-sm font-medium text-gray-600",children:"Website"}),me.jsx("p",{className:"text-sm",children:me.jsx("a",{href:G.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:G.website})})]}),me.jsxs("div",{children:[me.jsx(ba,{className:"text-sm font-medium text-gray-600",children:"Status"}),me.jsx("div",{className:"mt-1",children:me.jsx(Xe,{variant:"approved"===G.status?"default":"rejected"===G.status?"destructive":"under_review"===G.status?"secondary":"outline",children:"pending"===G.status?"Pending":"approved"===G.status?"Approved":"rejected"===G.status?"Rejected":"under_review"===G.status?"Under Review":G.status})})]}),me.jsxs("div",{children:[me.jsx(ba,{className:"text-sm font-medium text-gray-600",children:"Submitted"}),me.jsx("p",{className:"text-sm",children:new Date(G.submittedAt||G.createdAt).toLocaleString()})]})]})]})]}),me.jsxs("div",{className:"space-y-4",children:[me.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"Marketing Information"}),me.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[me.jsxs("div",{children:[me.jsx(ba,{className:"text-sm font-medium text-gray-600",children:"Marketing Channels"}),me.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:Array.isArray(G.marketingChannels)?G.marketingChannels.map(((e,a)=>me.jsx(Xe,{variant:"outline",className:"text-xs",children:e.replace(/_/g," ").replace(/\b\w/g,(e=>e.toUpperCase()))},a))):me.jsx(Xe,{variant:"outline",className:"text-xs",children:G.marketingChannels})})]}),me.jsxs("div",{children:[me.jsx(ba,{className:"text-sm font-medium text-gray-600",children:"Expected Monthly Referrals"}),me.jsx("p",{className:"text-sm",children:G.expectedMonthlyReferrals})]})]})]}),me.jsxs("div",{className:"space-y-4",children:[me.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"Experience & Motivation"}),me.jsxs("div",{children:[me.jsx(ba,{className:"text-sm font-medium text-gray-600",children:"Experience"}),me.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded-md",children:me.jsx("p",{className:"text-sm whitespace-pre-wrap",children:G.experience})})]}),G.motivation&&me.jsxs("div",{children:[me.jsx(ba,{className:"text-sm font-medium text-gray-600",children:"Motivation"}),me.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded-md",children:me.jsx("p",{className:"text-sm whitespace-pre-wrap",children:G.motivation})})]})]}),me.jsxs("div",{className:"space-y-4",children:[me.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"Agreement"}),me.jsxs("div",{className:"flex items-center space-x-2",children:[me.jsx(da,{checked:G.agreeToTerms,disabled:!0}),me.jsx(ba,{className:"text-sm",children:"Agreed to Terms and Conditions"})]})]}),"rejected"===G.status&&G.rejectionReason&&me.jsxs("div",{className:"space-y-4",children:[me.jsx("h3",{className:"text-lg font-semibold border-b pb-2 text-red-600",children:"Rejection Reason"}),me.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:me.jsx("p",{className:"text-sm text-red-800",children:G.rejectionReason})})]})]}),me.jsxs(wa,{className:"flex justify-between",children:[me.jsx("div",{className:"flex space-x-2",children:"pending"===(null==G?void 0:G.status)&&me.jsxs(me.Fragment,{children:[me.jsxs(he,{onClick:()=>{Xa.mutate(G.id),V(!1)},className:"bg-green-600 hover:bg-green-700",disabled:Xa.isPending,children:[me.jsx(ia,{className:"mr-2 h-4 w-4"}),"Approve"]}),me.jsxs(he,{variant:"destructive",onClick:()=>{const e=prompt("Please provide a reason for rejection:");e&&(Ya.mutate({applicationId:G.id,rejectionReason:e}),V(!1))},disabled:Ya.isPending,children:[me.jsx(na,{className:"mr-2 h-4 w-4"}),"Reject"]})]})}),me.jsx(he,{variant:"outline",onClick:()=>V(!1),children:"Close"})]})]})})]})})}export{Rt as default};
