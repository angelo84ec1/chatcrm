const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Cq2e9koz.js","assets/database-BxMGUDNc.js","assets/index-Dzas6EeV.js"])))=>i.map(i=>d[i]);
var e,t,n,a,r,i,s,o,l,c,d,u,f,m,p,h,g,x,y,v,b,w,j,N,C,S,k,M,_,E,I,L,A,T,D,P,O,R,z,F,B,U,W,G,V,$,H,Y,q,Q,Z,J,K,X,ee,te,ne,ae,re,ie,se,oe,le,ce,de,ue,fe,me,pe,he,ge,xe,ye,ve,be,we,je,Ne,Ce,Se,ke,Me,_e,Ee,Ie,Le,Ae,Te,De,Pe,Oe,Re,ze,Fe,Be,Ue,We,Ge,Ve,$e,He,Ye,qe,Qe,Ze,Je,Ke,Xe,et,tt,nt,at,rt,it,st,ot,lt,ct,dt,ut,ft,mt,pt,ht,gt,xt,yt,vt,bt,wt,jt,Nt,Ct,St,kt,Mt,_t,Et,It,Lt,At,Tt,Dt,Pt,Ot,Rt,zt,Ft,Bt,Ut,Wt,Gt,Vt,$t,Ht,Yt,qt,Qt,Zt,Jt,Kt,Xt,en,tn,nn,an,rn,sn,on,ln,cn,dn,un,fn,mn,pn,hn,gn,xn,yn,vn,bn,wn,jn,Nn,Cn,Sn,kn,Mn,_n,En,In,Ln,An,Tn,Dn,Pn,On,Rn,zn,Fn,Bn,Un,Wn,Gn,Vn,$n,Hn,Yn,qn,Qn,Zn,Jn,Kn,Xn,ea,ta,na,aa,ra,ia,sa,oa,la,ca,da,ua,fa,ma,pa,ha,ga,xa,ya,va,ba,wa,ja,Na,Ca,Sa,ka,Ma,_a,Ea,Ia,La,Aa,Ta,Da,Pa,Oa,Ra,za,Fa,Ba,Ua,Wa,Ga,Va,$a,Ha,Ya,qa,Qa,Za,Ja,Ka,Xa,er,tr,nr,ar,rr,ir,sr,or,lr,cr,dr,ur,fr,mr=Object.defineProperty,pr=e=>{throw TypeError(e)},hr=(e,t,n)=>((e,t,n)=>t in e?mr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n),gr=(e,t,n)=>t.has(e)||pr("Cannot "+n),xr=(e,t,n)=>(gr(e,t,"read from private field"),n?n.call(e):t.get(e)),yr=(e,t,n)=>t.has(e)?pr("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),vr=(e,t,n,a)=>(gr(e,t,"write to private field"),a?a.call(e,n):t.set(e,n),n),br=(e,t,n)=>(gr(e,t,"access private method"),n),wr=(e,t,n,a)=>({set _(a){vr(e,t,a,n)},get _(){return xr(e,t,a)}});function jr(e,t){for(var n=0;n<t.length;n++){const a=t[n];if("string"!=typeof a&&!Array.isArray(a))for(const t in a)if("default"!==t&&!(t in e)){const n=Object.getOwnPropertyDescriptor(a,t);n&&Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>a[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var Nr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Cr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Sr={exports:{}},kr={},Mr={exports:{}},_r={},Er=Symbol.for("react.element"),Ir=Symbol.for("react.portal"),Lr=Symbol.for("react.fragment"),Ar=Symbol.for("react.strict_mode"),Tr=Symbol.for("react.profiler"),Dr=Symbol.for("react.provider"),Pr=Symbol.for("react.context"),Or=Symbol.for("react.forward_ref"),Rr=Symbol.for("react.suspense"),zr=Symbol.for("react.memo"),Fr=Symbol.for("react.lazy"),Br=Symbol.iterator;var Ur={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wr=Object.assign,Gr={};function Vr(e,t,n){this.props=e,this.context=t,this.refs=Gr,this.updater=n||Ur}function $r(){}function Hr(e,t,n){this.props=e,this.context=t,this.refs=Gr,this.updater=n||Ur}Vr.prototype.isReactComponent={},Vr.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},Vr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},$r.prototype=Vr.prototype;var Yr=Hr.prototype=new $r;Yr.constructor=Hr,Wr(Yr,Vr.prototype),Yr.isPureReactComponent=!0;var qr=Array.isArray,Qr=Object.prototype.hasOwnProperty,Zr={current:null},Jr={key:!0,ref:!0,__self:!0,__source:!0};function Kr(e,t,n){var a,r={},i=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)Qr.call(t,a)&&!Jr.hasOwnProperty(a)&&(r[a]=t[a]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];r.children=l}if(e&&e.defaultProps)for(a in o=e.defaultProps)void 0===r[a]&&(r[a]=o[a]);return{$$typeof:Er,type:e,key:i,ref:s,props:r,_owner:Zr.current}}function Xr(e){return"object"==typeof e&&null!==e&&e.$$typeof===Er}var ei=/\/+/g;function ti(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function ni(e,t,n,a,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var s=!1;if(null===e)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Er:case Ir:s=!0}}if(s)return r=r(s=e),e=""===a?"."+ti(s,0):a,qr(r)?(n="",null!=e&&(n=e.replace(ei,"$&/")+"/"),ni(r,t,n,"",(function(e){return e}))):null!=r&&(Xr(r)&&(r=function(e,t){return{$$typeof:Er,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(r,n+(!r.key||s&&s.key===r.key?"":(""+r.key).replace(ei,"$&/")+"/")+e)),t.push(r)),1;if(s=0,a=""===a?".":a+":",qr(e))for(var o=0;o<e.length;o++){var l=a+ti(i=e[o],o);s+=ni(i,t,n,l,r)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Br&&e[Br]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),o=0;!(i=e.next()).done;)s+=ni(i=i.value,t,n,l=a+ti(i,o++),r);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function ai(e,t,n){if(null==e)return e;var a=[],r=0;return ni(e,a,"","",(function(e){return t.call(n,e,r++)})),a}function ri(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var ii={current:null},si={transition:null},oi={ReactCurrentDispatcher:ii,ReactCurrentBatchConfig:si,ReactCurrentOwner:Zr};function li(){throw Error("act(...) is not supported in production builds of React.")}_r.Children={map:ai,forEach:function(e,t,n){ai(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return ai(e,(function(){t++})),t},toArray:function(e){return ai(e,(function(e){return e}))||[]},only:function(e){if(!Xr(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},_r.Component=Vr,_r.Fragment=Lr,_r.Profiler=Tr,_r.PureComponent=Hr,_r.StrictMode=Ar,_r.Suspense=Rr,_r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oi,_r.act=li,_r.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=Wr({},e.props),r=e.key,i=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,s=Zr.current),void 0!==t.key&&(r=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Qr.call(t,l)&&!Jr.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==o?o[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];a.children=o}return{$$typeof:Er,type:e.type,key:r,ref:i,props:a,_owner:s}},_r.createContext=function(e){return(e={$$typeof:Pr,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:Dr,_context:e},e.Consumer=e},_r.createElement=Kr,_r.createFactory=function(e){var t=Kr.bind(null,e);return t.type=e,t},_r.createRef=function(){return{current:null}},_r.forwardRef=function(e){return{$$typeof:Or,render:e}},_r.isValidElement=Xr,_r.lazy=function(e){return{$$typeof:Fr,_payload:{_status:-1,_result:e},_init:ri}},_r.memo=function(e,t){return{$$typeof:zr,type:e,compare:void 0===t?null:t}},_r.startTransition=function(e){var t=si.transition;si.transition={};try{e()}finally{si.transition=t}},_r.unstable_act=li,_r.useCallback=function(e,t){return ii.current.useCallback(e,t)},_r.useContext=function(e){return ii.current.useContext(e)},_r.useDebugValue=function(){},_r.useDeferredValue=function(e){return ii.current.useDeferredValue(e)},_r.useEffect=function(e,t){return ii.current.useEffect(e,t)},_r.useId=function(){return ii.current.useId()},_r.useImperativeHandle=function(e,t,n){return ii.current.useImperativeHandle(e,t,n)},_r.useInsertionEffect=function(e,t){return ii.current.useInsertionEffect(e,t)},_r.useLayoutEffect=function(e,t){return ii.current.useLayoutEffect(e,t)},_r.useMemo=function(e,t){return ii.current.useMemo(e,t)},_r.useReducer=function(e,t,n){return ii.current.useReducer(e,t,n)},_r.useRef=function(e){return ii.current.useRef(e)},_r.useState=function(e){return ii.current.useState(e)},_r.useSyncExternalStore=function(e,t,n){return ii.current.useSyncExternalStore(e,t,n)},_r.useTransition=function(){return ii.current.useTransition()},_r.version="18.3.1",Mr.exports=_r;var ci=Mr.exports;const di=Cr(ci),ui=jr({__proto__:null,default:di},[ci]);var fi=ci,mi=Symbol.for("react.element"),pi=Symbol.for("react.fragment"),hi=Object.prototype.hasOwnProperty,gi=fi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xi={key:!0,ref:!0,__self:!0,__source:!0};function yi(e,t,n){var a,r={},i=null,s=null;for(a in void 0!==n&&(i=""+n),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(s=t.ref),t)hi.call(t,a)&&!xi.hasOwnProperty(a)&&(r[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===r[a]&&(r[a]=t[a]);return{$$typeof:mi,type:e,key:i,ref:s,props:r,_owner:gi.current}}kr.Fragment=pi,kr.jsx=yi,kr.jsxs=yi,Sr.exports=kr;var vi=Sr.exports,bi={exports:{}},wi={},ji={exports:{}},Ni={};!function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,i=e[a];if(!(0<r(i,t)))break e;e[a]=t,e[n]=i,n=a}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,i=e.length,s=i>>>1;a<s;){var o=2*(a+1)-1,l=e[o],c=o+1,d=e[c];if(0>r(l,n))c<i&&0>r(d,l)?(e[a]=d,e[c]=n,a=c):(e[a]=l,e[o]=n,a=o);else{if(!(c<i&&0>r(d,n)))break e;e[a]=d,e[c]=n,a=c}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],d=1,u=null,f=3,m=!1,p=!1,h=!1,g="function"==typeof setTimeout?setTimeout:null,x="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function v(e){for(var r=n(c);null!==r;){if(null===r.callback)a(c);else{if(!(r.startTime<=e))break;a(c),r.sortIndex=r.expirationTime,t(l,r)}r=n(c)}}function b(e){if(h=!1,v(e),!p)if(null!==n(l))p=!0,A(w);else{var t=n(c);null!==t&&T(b,t.startTime-e)}}function w(t,r){p=!1,h&&(h=!1,x(S),S=-1),m=!0;var i=f;try{for(v(r),u=n(l);null!==u&&(!(u.expirationTime>r)||t&&!_());){var s=u.callback;if("function"==typeof s){u.callback=null,f=u.priorityLevel;var o=s(u.expirationTime<=r);r=e.unstable_now(),"function"==typeof o?u.callback=o:u===n(l)&&a(l),v(r)}else a(l);u=n(l)}if(null!==u)var d=!0;else{var g=n(c);null!==g&&T(b,g.startTime-r),d=!1}return d}finally{u=null,f=i,m=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var j,N=!1,C=null,S=-1,k=5,M=-1;function _(){return!(e.unstable_now()-M<k)}function E(){if(null!==C){var t=e.unstable_now();M=t;var n=!0;try{n=C(!0,t)}finally{n?j():(N=!1,C=null)}}else N=!1}if("function"==typeof y)j=function(){y(E)};else if("undefined"!=typeof MessageChannel){var I=new MessageChannel,L=I.port2;I.port1.onmessage=E,j=function(){L.postMessage(null)}}else j=function(){g(E,0)};function A(e){C=e,N||(N=!0,j())}function T(t,n){S=g((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,A(w))},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(a,r,i){var s=e.unstable_now();switch("object"==typeof i&&null!==i?i="number"==typeof(i=i.delay)&&0<i?s+i:s:i=s,a){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return a={id:d++,callback:r,priorityLevel:a,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>s?(a.sortIndex=i,t(c,a),null===n(l)&&a===n(c)&&(h?(x(S),S=-1):h=!0,T(b,i-s))):(a.sortIndex=o,t(l,a),p||m||(p=!0,A(w))),a},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}}(Ni),ji.exports=Ni;var Ci=ji.exports,Si=ci,ki=Ci;function Mi(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _i=new Set,Ei={};function Ii(e,t){Li(e,t),Li(e+"Capture",t)}function Li(e,t){for(Ei[e]=t,e=0;e<t.length;e++)_i.add(t[e])}var Ai=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Ti=Object.prototype.hasOwnProperty,Di=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pi={},Oi={};function Ri(e,t,n,a,r,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var zi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){zi[e]=new Ri(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];zi[t]=new Ri(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){zi[e]=new Ri(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){zi[e]=new Ri(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){zi[e]=new Ri(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){zi[e]=new Ri(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){zi[e]=new Ri(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){zi[e]=new Ri(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){zi[e]=new Ri(e,5,!1,e.toLowerCase(),null,!1,!1)}));var Fi=/[\-:]([a-z])/g;function Bi(e){return e[1].toUpperCase()}function Ui(e,t,n,a){var r=zi.hasOwnProperty(t)?zi[t]:null;(null!==r?0!==r.type:a||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,a){if(null==t||function(e,t,n,a){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,a))return!0;if(a)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,a)&&(n=null),a||null===r?function(e){return!!Ti.call(Oi,e)||!Ti.call(Pi,e)&&(Di.test(e)?Oi[e]=!0:(Pi[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,a=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Fi,Bi);zi[t]=new Ri(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Fi,Bi);zi[t]=new Ri(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Fi,Bi);zi[t]=new Ri(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){zi[e]=new Ri(e,1,!1,e.toLowerCase(),null,!1,!1)})),zi.xlinkHref=new Ri("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){zi[e]=new Ri(e,1,!1,e.toLowerCase(),null,!0,!0)}));var Wi=Si.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gi=Symbol.for("react.element"),Vi=Symbol.for("react.portal"),$i=Symbol.for("react.fragment"),Hi=Symbol.for("react.strict_mode"),Yi=Symbol.for("react.profiler"),qi=Symbol.for("react.provider"),Qi=Symbol.for("react.context"),Zi=Symbol.for("react.forward_ref"),Ji=Symbol.for("react.suspense"),Ki=Symbol.for("react.suspense_list"),Xi=Symbol.for("react.memo"),es=Symbol.for("react.lazy"),ts=Symbol.for("react.offscreen"),ns=Symbol.iterator;function as(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=ns&&e[ns]||e["@@iterator"])?e:null}var rs,is=Object.assign;function ss(e){if(void 0===rs)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);rs=t&&t[1]||""}return"\n"+rs+e}var os=!1;function ls(e,t){if(!e||os)return"";os=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var a=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){a=c}e.call(t.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&"string"==typeof c.stack){for(var r=c.stack.split("\n"),i=a.stack.split("\n"),s=r.length-1,o=i.length-1;1<=s&&0<=o&&r[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(r[s]!==i[o]){if(1!==s||1!==o)do{if(s--,0>--o||r[s]!==i[o]){var l="\n"+r[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{os=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ss(e):""}function cs(e){switch(e.tag){case 5:return ss(e.type);case 16:return ss("Lazy");case 13:return ss("Suspense");case 19:return ss("SuspenseList");case 0:case 2:case 15:return e=ls(e.type,!1);case 11:return e=ls(e.type.render,!1);case 1:return e=ls(e.type,!0);default:return""}}function ds(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case $i:return"Fragment";case Vi:return"Portal";case Yi:return"Profiler";case Hi:return"StrictMode";case Ji:return"Suspense";case Ki:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Qi:return(e.displayName||"Context")+".Consumer";case qi:return(e._context.displayName||"Context")+".Provider";case Zi:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case Xi:return null!==(t=e.displayName||null)?t:ds(e.type)||"Memo";case es:t=e._payload,e=e._init;try{return ds(e(t))}catch(n){}}return null}function us(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ds(t);case 8:return t===Hi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function fs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ms(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ps(e){e._valueTracker||(e._valueTracker=function(e){var t=ms(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){a=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function hs(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=ms(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function gs(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function xs(e,t){var n=t.checked;return is({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ys(e,t){var n=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;n=fs(null!=t.value?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function vs(e,t){null!=(t=t.checked)&&Ui(e,"checked",t,!1)}function bs(e,t){vs(e,t);var n=fs(t.value),a=t.type;if(null!=n)"number"===a?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?js(e,t.type,n):t.hasOwnProperty("defaultValue")&&js(e,t.type,fs(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ws(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function js(e,t,n){"number"===t&&gs(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ns=Array.isArray;function Cs(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+fs(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(a&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function Ss(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(Mi(91));return is({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ks(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(Mi(92));if(Ns(n)){if(1<n.length)throw Error(Mi(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:fs(n)}}function Ms(e,t){var n=fs(t.value),a=fs(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=a&&(e.defaultValue=""+a)}function _s(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function Es(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Is(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Es(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Ls,As,Ts=(As=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((Ls=Ls||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ls.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,a){MSApp.execUnsafeLocalFunction((function(){return As(e,t)}))}:As);function Ds(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ps={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Os=["Webkit","ms","Moz","O"];function Rs(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Ps.hasOwnProperty(e)&&Ps[e]?(""+t).trim():t+"px"}function zs(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var a=0===n.indexOf("--"),r=Rs(n,t[n],a);"float"===n&&(n="cssFloat"),a?e.setProperty(n,r):e[n]=r}}Object.keys(Ps).forEach((function(e){Os.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ps[t]=Ps[e]}))}));var Fs=is({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bs(e,t){if(t){if(Fs[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(Mi(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(Mi(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(Mi(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(Mi(62))}}function Us(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ws=null;function Gs(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Vs=null,$s=null,Hs=null;function Ys(e){if(e=Ud(e)){if("function"!=typeof Vs)throw Error(Mi(280));var t=e.stateNode;t&&(t=Gd(t),Vs(e.stateNode,e.type,t))}}function qs(e){$s?Hs?Hs.push(e):Hs=[e]:$s=e}function Qs(){if($s){var e=$s,t=Hs;if(Hs=$s=null,Ys(e),t)for(e=0;e<t.length;e++)Ys(t[e])}}function Zs(e,t){return e(t)}function Js(){}var Ks=!1;function Xs(e,t,n){if(Ks)return e(t,n);Ks=!0;try{return Zs(e,t,n)}finally{Ks=!1,(null!==$s||null!==Hs)&&(Js(),Qs())}}function eo(e,t){var n=e.stateNode;if(null===n)return null;var a=Gd(n);if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(Mi(231,t,typeof n));return n}var to=!1;if(Ai)try{var no={};Object.defineProperty(no,"passive",{get:function(){to=!0}}),window.addEventListener("test",no,no),window.removeEventListener("test",no,no)}catch(As){to=!1}function ao(e,t,n,a,r,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var ro=!1,io=null,so=!1,oo=null,lo={onError:function(e){ro=!0,io=e}};function co(e,t,n,a,r,i,s,o,l){ro=!1,io=null,ao.apply(lo,arguments)}function uo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function fo(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function mo(e){if(uo(e)!==e)throw Error(Mi(188))}function po(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=uo(e)))throw Error(Mi(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(null===r)break;var i=r.alternate;if(null===i){if(null!==(a=r.return)){n=a;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return mo(r),e;if(i===a)return mo(r),t;i=i.sibling}throw Error(Mi(188))}if(n.return!==a.return)n=r,a=i;else{for(var s=!1,o=r.child;o;){if(o===n){s=!0,n=r,a=i;break}if(o===a){s=!0,a=r,n=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===n){s=!0,n=i,a=r;break}if(o===a){s=!0,a=i,n=r;break}o=o.sibling}if(!s)throw Error(Mi(189))}}if(n.alternate!==a)throw Error(Mi(190))}if(3!==n.tag)throw Error(Mi(188));return n.stateNode.current===n?e:t}(e))?ho(e):null}function ho(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=ho(e);if(null!==t)return t;e=e.sibling}return null}var go=ki.unstable_scheduleCallback,xo=ki.unstable_cancelCallback,yo=ki.unstable_shouldYield,vo=ki.unstable_requestPaint,bo=ki.unstable_now,wo=ki.unstable_getCurrentPriorityLevel,jo=ki.unstable_ImmediatePriority,No=ki.unstable_UserBlockingPriority,Co=ki.unstable_NormalPriority,So=ki.unstable_LowPriority,ko=ki.unstable_IdlePriority,Mo=null,_o=null;var Eo=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(Io(e)/Lo|0)|0},Io=Math.log,Lo=Math.LN2;var Ao=64,To=4194304;function Do(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Po(e,t){var n=e.pendingLanes;if(0===n)return 0;var a=0,r=e.suspendedLanes,i=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~r;0!==o?a=Do(o):0!==(i&=s)&&(a=Do(i))}else 0!==(s=n&~r)?a=Do(s):0!==i&&(a=Do(i));if(0===a)return 0;if(0!==t&&t!==a&&0===(t&r)&&((r=a&-a)>=(i=t&-t)||16===r&&4194240&i))return t;if(4&a&&(a|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)r=1<<(n=31-Eo(t)),a|=e[n],t&=~r;return a}function Oo(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ro(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function zo(){var e=Ao;return!(4194240&(Ao<<=1))&&(Ao=64),e}function Fo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bo(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-Eo(t)]=n}function Uo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Eo(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}var Wo=0;function Go(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var Vo,$o,Ho,Yo,qo,Qo=!1,Zo=[],Jo=null,Ko=null,Xo=null,el=new Map,tl=new Map,nl=[],al="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rl(e,t){switch(e){case"focusin":case"focusout":Jo=null;break;case"dragenter":case"dragleave":Ko=null;break;case"mouseover":case"mouseout":Xo=null;break;case"pointerover":case"pointerout":el.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tl.delete(t.pointerId)}}function il(e,t,n,a,r,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:i,targetContainers:[r]},null!==t&&(null!==(t=Ud(t))&&$o(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function sl(e){var t=Bd(e.target);if(null!==t){var n=uo(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=fo(n)))return e.blockedOn=t,void qo(e.priority,(function(){Ho(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function ol(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=yl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Ud(n))&&$o(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);Ws=a,n.target.dispatchEvent(a),Ws=null,t.shift()}return!0}function ll(e,t,n){ol(e)&&n.delete(t)}function cl(){Qo=!1,null!==Jo&&ol(Jo)&&(Jo=null),null!==Ko&&ol(Ko)&&(Ko=null),null!==Xo&&ol(Xo)&&(Xo=null),el.forEach(ll),tl.forEach(ll)}function dl(e,t){e.blockedOn===t&&(e.blockedOn=null,Qo||(Qo=!0,ki.unstable_scheduleCallback(ki.unstable_NormalPriority,cl)))}function ul(e){function t(t){return dl(t,e)}if(0<Zo.length){dl(Zo[0],e);for(var n=1;n<Zo.length;n++){var a=Zo[n];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==Jo&&dl(Jo,e),null!==Ko&&dl(Ko,e),null!==Xo&&dl(Xo,e),el.forEach(t),tl.forEach(t),n=0;n<nl.length;n++)(a=nl[n]).blockedOn===e&&(a.blockedOn=null);for(;0<nl.length&&null===(n=nl[0]).blockedOn;)sl(n),null===n.blockedOn&&nl.shift()}var fl=Wi.ReactCurrentBatchConfig,ml=!0;function pl(e,t,n,a){var r=Wo,i=fl.transition;fl.transition=null;try{Wo=1,gl(e,t,n,a)}finally{Wo=r,fl.transition=i}}function hl(e,t,n,a){var r=Wo,i=fl.transition;fl.transition=null;try{Wo=4,gl(e,t,n,a)}finally{Wo=r,fl.transition=i}}function gl(e,t,n,a){if(ml){var r=yl(e,t,n,a);if(null===r)fd(e,t,a,xl,n),rl(e,a);else if(function(e,t,n,a,r){switch(t){case"focusin":return Jo=il(Jo,e,t,n,a,r),!0;case"dragenter":return Ko=il(Ko,e,t,n,a,r),!0;case"mouseover":return Xo=il(Xo,e,t,n,a,r),!0;case"pointerover":var i=r.pointerId;return el.set(i,il(el.get(i)||null,e,t,n,a,r)),!0;case"gotpointercapture":return i=r.pointerId,tl.set(i,il(tl.get(i)||null,e,t,n,a,r)),!0}return!1}(r,e,t,n,a))a.stopPropagation();else if(rl(e,a),4&t&&-1<al.indexOf(e)){for(;null!==r;){var i=Ud(r);if(null!==i&&Vo(i),null===(i=yl(e,t,n,a))&&fd(e,t,a,xl,n),i===r)break;r=i}null!==r&&a.stopPropagation()}else fd(e,t,a,null,n)}}var xl=null;function yl(e,t,n,a){if(xl=null,null!==(e=Bd(e=Gs(a))))if(null===(t=uo(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=fo(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xl=e,null}function vl(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wo()){case jo:return 1;case No:return 4;case Co:case So:return 16;case ko:return 536870912;default:return 16}default:return 16}}var bl=null,wl=null,jl=null;function Nl(){if(jl)return jl;var e,t,n=wl,a=n.length,r="value"in bl?bl.value:bl.textContent,i=r.length;for(e=0;e<a&&n[e]===r[e];e++);var s=a-e;for(t=1;t<=s&&n[a-t]===r[i-t];t++);return jl=r.slice(e,1<t?1-t:void 0)}function Cl(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Sl(){return!0}function kl(){return!1}function Ml(e){function t(t,n,a,r,i){for(var s in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=r,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Sl:kl,this.isPropagationStopped=kl,this}return is(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Sl)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Sl)},persist:function(){},isPersistent:Sl}),t}var _l,El,Il,Ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Al=Ml(Ll),Tl=is({},Ll,{view:0,detail:0}),Dl=Ml(Tl),Pl=is({},Tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yl,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Il&&(Il&&"mousemove"===e.type?(_l=e.screenX-Il.screenX,El=e.screenY-Il.screenY):El=_l=0,Il=e),_l)},movementY:function(e){return"movementY"in e?e.movementY:El}}),Ol=Ml(Pl),Rl=Ml(is({},Pl,{dataTransfer:0})),zl=Ml(is({},Tl,{relatedTarget:0})),Fl=Ml(is({},Ll,{animationName:0,elapsedTime:0,pseudoElement:0})),Bl=is({},Ll,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ul=Ml(Bl),Wl=Ml(is({},Ll,{data:0})),Gl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$l={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hl(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=$l[e])&&!!t[e]}function Yl(){return Hl}var ql=is({},Tl,{key:function(e){if(e.key){var t=Gl[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Cl(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Vl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yl,charCode:function(e){return"keypress"===e.type?Cl(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Cl(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ql=Ml(ql),Zl=Ml(is({},Pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Jl=Ml(is({},Tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yl})),Kl=Ml(is({},Ll,{propertyName:0,elapsedTime:0,pseudoElement:0})),Xl=is({},Pl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ec=Ml(Xl),tc=[9,13,27,32],nc=Ai&&"CompositionEvent"in window,ac=null;Ai&&"documentMode"in document&&(ac=document.documentMode);var rc=Ai&&"TextEvent"in window&&!ac,ic=Ai&&(!nc||ac&&8<ac&&11>=ac),sc=String.fromCharCode(32),oc=!1;function lc(e,t){switch(e){case"keyup":return-1!==tc.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cc(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var dc=!1;var uc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!uc[e.type]:"textarea"===t}function mc(e,t,n,a){qs(a),0<(t=pd(t,"onChange")).length&&(n=new Al("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var pc=null,hc=null;function gc(e){sd(e,0)}function xc(e){if(hs(Wd(e)))return e}function yc(e,t){if("change"===e)return t}var vc=!1;if(Ai){var bc;if(Ai){var wc="oninput"in document;if(!wc){var jc=document.createElement("div");jc.setAttribute("oninput","return;"),wc="function"==typeof jc.oninput}bc=wc}else bc=!1;vc=bc&&(!document.documentMode||9<document.documentMode)}function Nc(){pc&&(pc.detachEvent("onpropertychange",Cc),hc=pc=null)}function Cc(e){if("value"===e.propertyName&&xc(hc)){var t=[];mc(t,hc,e,Gs(e)),Xs(gc,t)}}function Sc(e,t,n){"focusin"===e?(Nc(),hc=n,(pc=t).attachEvent("onpropertychange",Cc)):"focusout"===e&&Nc()}function kc(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return xc(hc)}function Mc(e,t){if("click"===e)return xc(t)}function _c(e,t){if("input"===e||"change"===e)return xc(t)}var Ec="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Ic(e,t){if(Ec(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!Ti.call(t,r)||!Ec(e[r],t[r]))return!1}return!0}function Lc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ac(e,t){var n,a=Lc(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Lc(a)}}function Tc(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Tc(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Dc(){for(var e=window,t=gs();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=gs((e=t.contentWindow).document)}return t}function Pc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Oc(e){var t=Dc(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Tc(n.ownerDocument.documentElement,n)){if(null!==a&&Pc(n))if(t=a.start,void 0===(e=a.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,i=Math.min(a.start,r);a=void 0===a.end?i:Math.min(a.end,r),!e.extend&&i>a&&(r=a,a=i,i=r),r=Ac(n,i);var s=Ac(n,a);r&&s&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),i>a?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Rc=Ai&&"documentMode"in document&&11>=document.documentMode,zc=null,Fc=null,Bc=null,Uc=!1;function Wc(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Uc||null==zc||zc!==gs(a)||("selectionStart"in(a=zc)&&Pc(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},Bc&&Ic(Bc,a)||(Bc=a,0<(a=pd(Fc,"onSelect")).length&&(t=new Al("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=zc)))}function Gc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vc={animationend:Gc("Animation","AnimationEnd"),animationiteration:Gc("Animation","AnimationIteration"),animationstart:Gc("Animation","AnimationStart"),transitionend:Gc("Transition","TransitionEnd")},$c={},Hc={};function Yc(e){if($c[e])return $c[e];if(!Vc[e])return e;var t,n=Vc[e];for(t in n)if(n.hasOwnProperty(t)&&t in Hc)return $c[e]=n[t];return e}Ai&&(Hc=document.createElement("div").style,"AnimationEvent"in window||(delete Vc.animationend.animation,delete Vc.animationiteration.animation,delete Vc.animationstart.animation),"TransitionEvent"in window||delete Vc.transitionend.transition);var qc=Yc("animationend"),Qc=Yc("animationiteration"),Zc=Yc("animationstart"),Jc=Yc("transitionend"),Kc=new Map,Xc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ed(e,t){Kc.set(e,t),Ii(t,[e])}for(var td=0;td<Xc.length;td++){var nd=Xc[td];ed(nd.toLowerCase(),"on"+(nd[0].toUpperCase()+nd.slice(1)))}ed(qc,"onAnimationEnd"),ed(Qc,"onAnimationIteration"),ed(Zc,"onAnimationStart"),ed("dblclick","onDoubleClick"),ed("focusin","onFocus"),ed("focusout","onBlur"),ed(Jc,"onTransitionEnd"),Li("onMouseEnter",["mouseout","mouseover"]),Li("onMouseLeave",["mouseout","mouseover"]),Li("onPointerEnter",["pointerout","pointerover"]),Li("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ad="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rd=new Set("cancel close invalid load scroll toggle".split(" ").concat(ad));function id(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,a,r,i,s,o,l){if(co.apply(this,arguments),ro){if(!ro)throw Error(Mi(198));var c=io;ro=!1,io=null,so||(so=!0,oo=c)}}(a,t,void 0,e),e.currentTarget=null}function sd(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var s=a.length-1;0<=s;s--){var o=a[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&r.isPropagationStopped())break e;id(r,o,c),i=l}else for(s=0;s<a.length;s++){if(l=(o=a[s]).instance,c=o.currentTarget,o=o.listener,l!==i&&r.isPropagationStopped())break e;id(r,o,c),i=l}}}if(so)throw e=oo,so=!1,oo=null,e}function od(e,t){var n=t[Rd];void 0===n&&(n=t[Rd]=new Set);var a=e+"__bubble";n.has(a)||(ud(t,e,2,!1),n.add(a))}function ld(e,t,n){var a=0;t&&(a|=4),ud(n,e,a,t)}var cd="_reactListening"+Math.random().toString(36).slice(2);function dd(e){if(!e[cd]){e[cd]=!0,_i.forEach((function(t){"selectionchange"!==t&&(rd.has(t)||ld(t,!1,e),ld(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[cd]||(t[cd]=!0,ld("selectionchange",!1,t))}}function ud(e,t,n,a){switch(vl(t)){case 1:var r=pl;break;case 4:r=hl;break;default:r=gl}n=r.bind(null,t,n,e),r=void 0,!to||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),a?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function fd(e,t,n,a,r){var i=a;if(!(1&t||2&t||null===a))e:for(;;){if(null===a)return;var s=a.tag;if(3===s||4===s){var o=a.stateNode.containerInfo;if(o===r||8===o.nodeType&&o.parentNode===r)break;if(4===s)for(s=a.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;s=s.return}for(;null!==o;){if(null===(s=Bd(o)))return;if(5===(l=s.tag)||6===l){a=i=s;continue e}o=o.parentNode}}a=a.return}Xs((function(){var a=i,r=Gs(n),s=[];e:{var o=Kc.get(e);if(void 0!==o){var l=Al,c=e;switch(e){case"keypress":if(0===Cl(n))break e;case"keydown":case"keyup":l=Ql;break;case"focusin":c="focus",l=zl;break;case"focusout":c="blur",l=zl;break;case"beforeblur":case"afterblur":l=zl;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=Ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=Rl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Jl;break;case qc:case Qc:case Zc:l=Fl;break;case Jc:l=Kl;break;case"scroll":l=Dl;break;case"wheel":l=ec;break;case"copy":case"cut":case"paste":l=Ul;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Zl}var d=!!(4&t),u=!d&&"scroll"===e,f=d?null!==o?o+"Capture":null:o;d=[];for(var m,p=a;null!==p;){var h=(m=p).stateNode;if(5===m.tag&&null!==h&&(m=h,null!==f&&(null!=(h=eo(p,f))&&d.push(md(p,h,m)))),u)break;p=p.return}0<d.length&&(o=new l(o,c,null,n,r),s.push({event:o,listeners:d}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Ws||!(c=n.relatedTarget||n.fromElement)||!Bd(c)&&!c[Od])&&(l||o)&&(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=a,null!==(c=(c=n.relatedTarget||n.toElement)?Bd(c):null)&&(c!==(u=uo(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=a),l!==c)){if(d=Ol,h="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=Zl,h="onPointerLeave",f="onPointerEnter",p="pointer"),u=null==l?o:Wd(l),m=null==c?o:Wd(c),(o=new d(h,p+"leave",l,n,r)).target=u,o.relatedTarget=m,h=null,Bd(r)===a&&((d=new d(f,p+"enter",c,n,r)).target=m,d.relatedTarget=u,h=d),u=h,l&&c)e:{for(f=c,p=0,m=d=l;m;m=hd(m))p++;for(m=0,h=f;h;h=hd(h))m++;for(;0<p-m;)d=hd(d),p--;for(;0<m-p;)f=hd(f),m--;for(;p--;){if(d===f||null!==f&&d===f.alternate)break e;d=hd(d),f=hd(f)}d=null}else d=null;null!==l&&gd(s,o,l,d,!1),null!==c&&null!==u&&gd(s,u,c,d,!0)}if("select"===(l=(o=a?Wd(a):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=yc;else if(fc(o))if(vc)g=_c;else{g=kc;var x=Sc}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=Mc);switch(g&&(g=g(e,a))?mc(s,g,n,r):(x&&x(e,o,a),"focusout"===e&&(x=o._wrapperState)&&x.controlled&&"number"===o.type&&js(o,"number",o.value)),x=a?Wd(a):window,e){case"focusin":(fc(x)||"true"===x.contentEditable)&&(zc=x,Fc=a,Bc=null);break;case"focusout":Bc=Fc=zc=null;break;case"mousedown":Uc=!0;break;case"contextmenu":case"mouseup":case"dragend":Uc=!1,Wc(s,n,r);break;case"selectionchange":if(Rc)break;case"keydown":case"keyup":Wc(s,n,r)}var y;if(nc)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else dc?lc(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(ic&&"ko"!==n.locale&&(dc||"onCompositionStart"!==v?"onCompositionEnd"===v&&dc&&(y=Nl()):(wl="value"in(bl=r)?bl.value:bl.textContent,dc=!0)),0<(x=pd(a,v)).length&&(v=new Wl(v,e,null,n,r),s.push({event:v,listeners:x}),y?v.data=y:null!==(y=cc(n))&&(v.data=y))),(y=rc?function(e,t){switch(e){case"compositionend":return cc(t);case"keypress":return 32!==t.which?null:(oc=!0,sc);case"textInput":return(e=t.data)===sc&&oc?null:e;default:return null}}(e,n):function(e,t){if(dc)return"compositionend"===e||!nc&&lc(e,t)?(e=Nl(),jl=wl=bl=null,dc=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ic&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(a=pd(a,"onBeforeInput")).length&&(r=new Wl("onBeforeInput","beforeinput",null,n,r),s.push({event:r,listeners:a}),r.data=y))}sd(s,t)}))}function md(e,t,n){return{instance:e,listener:t,currentTarget:n}}function pd(e,t){for(var n=t+"Capture",a=[];null!==e;){var r=e,i=r.stateNode;5===r.tag&&null!==i&&(r=i,null!=(i=eo(e,n))&&a.unshift(md(e,i,r)),null!=(i=eo(e,t))&&a.push(md(e,i,r))),e=e.return}return a}function hd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function gd(e,t,n,a,r){for(var i=t._reactName,s=[];null!==n&&n!==a;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===a)break;5===o.tag&&null!==c&&(o=c,r?null!=(l=eo(n,i))&&s.unshift(md(n,l,o)):r||null!=(l=eo(n,i))&&s.push(md(n,l,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var xd=/\r\n?/g,yd=/\u0000|\uFFFD/g;function vd(e){return("string"==typeof e?e:""+e).replace(xd,"\n").replace(yd,"")}function bd(e,t,n){if(t=vd(t),vd(e)!==t&&n)throw Error(Mi(425))}function wd(){}var jd=null,Nd=null;function Cd(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Sd="function"==typeof setTimeout?setTimeout:void 0,kd="function"==typeof clearTimeout?clearTimeout:void 0,Md="function"==typeof Promise?Promise:void 0,_d="function"==typeof queueMicrotask?queueMicrotask:void 0!==Md?function(e){return Md.resolve(null).then(e).catch(Ed)}:Sd;function Ed(e){setTimeout((function(){throw e}))}function Id(e,t){var n=t,a=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===a)return e.removeChild(r),void ul(t);a--}else"$"!==n&&"$?"!==n&&"$!"!==n||a++;n=r}while(n);ul(t)}function Ld(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function Ad(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Td=Math.random().toString(36).slice(2),Dd="__reactFiber$"+Td,Pd="__reactProps$"+Td,Od="__reactContainer$"+Td,Rd="__reactEvents$"+Td,zd="__reactListeners$"+Td,Fd="__reactHandles$"+Td;function Bd(e){var t=e[Dd];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Od]||n[Dd]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Ad(e);null!==e;){if(n=e[Dd])return n;e=Ad(e)}return t}n=(e=n).parentNode}return null}function Ud(e){return!(e=e[Dd]||e[Od])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Wd(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(Mi(33))}function Gd(e){return e[Pd]||null}var Vd=[],$d=-1;function Hd(e){return{current:e}}function Yd(e){0>$d||(e.current=Vd[$d],Vd[$d]=null,$d--)}function qd(e,t){$d++,Vd[$d]=e.current,e.current=t}var Qd={},Zd=Hd(Qd),Jd=Hd(!1),Kd=Qd;function Xd(e,t){var n=e.type.contextTypes;if(!n)return Qd;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var r,i={};for(r in n)i[r]=t[r];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function eu(e){return null!=(e=e.childContextTypes)}function tu(){Yd(Jd),Yd(Zd)}function nu(e,t,n){if(Zd.current!==Qd)throw Error(Mi(168));qd(Zd,t),qd(Jd,n)}function au(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,"function"!=typeof a.getChildContext)return n;for(var r in a=a.getChildContext())if(!(r in t))throw Error(Mi(108,us(e)||"Unknown",r));return is({},n,a)}function ru(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qd,Kd=Zd.current,qd(Zd,e),qd(Jd,Jd.current),!0}function iu(e,t,n){var a=e.stateNode;if(!a)throw Error(Mi(169));n?(e=au(e,t,Kd),a.__reactInternalMemoizedMergedChildContext=e,Yd(Jd),Yd(Zd),qd(Zd,e)):Yd(Jd),qd(Jd,n)}var su=null,ou=!1,lu=!1;function cu(e){null===su?su=[e]:su.push(e)}function du(){if(!lu&&null!==su){lu=!0;var e=0,t=Wo;try{var n=su;for(Wo=1;e<n.length;e++){var a=n[e];do{a=a(!0)}while(null!==a)}su=null,ou=!1}catch(r){throw null!==su&&(su=su.slice(e+1)),go(jo,du),r}finally{Wo=t,lu=!1}}return null}var uu=[],fu=0,mu=null,pu=0,hu=[],gu=0,xu=null,yu=1,vu="";function bu(e,t){uu[fu++]=pu,uu[fu++]=mu,mu=e,pu=t}function wu(e,t,n){hu[gu++]=yu,hu[gu++]=vu,hu[gu++]=xu,xu=e;var a=yu;e=vu;var r=32-Eo(a)-1;a&=~(1<<r),n+=1;var i=32-Eo(t)+r;if(30<i){var s=r-r%5;i=(a&(1<<s)-1).toString(32),a>>=s,r-=s,yu=1<<32-Eo(t)+r|n<<r|a,vu=i+e}else yu=1<<i|n<<r|a,vu=e}function ju(e){null!==e.return&&(bu(e,1),wu(e,1,0))}function Nu(e){for(;e===mu;)mu=uu[--fu],uu[fu]=null,pu=uu[--fu],uu[fu]=null;for(;e===xu;)xu=hu[--gu],hu[gu]=null,vu=hu[--gu],hu[gu]=null,yu=hu[--gu],hu[gu]=null}var Cu=null,Su=null,ku=!1,Mu=null;function _u(e,t){var n=Xh(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Eu(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Cu=e,Su=Ld(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Cu=e,Su=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==xu?{id:yu,overflow:vu}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Xh(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Cu=e,Su=null,!0);default:return!1}}function Iu(e){return!(!(1&e.mode)||128&e.flags)}function Lu(e){if(ku){var t=Su;if(t){var n=t;if(!Eu(e,t)){if(Iu(e))throw Error(Mi(418));t=Ld(n.nextSibling);var a=Cu;t&&Eu(e,t)?_u(a,n):(e.flags=-4097&e.flags|2,ku=!1,Cu=e)}}else{if(Iu(e))throw Error(Mi(418));e.flags=-4097&e.flags|2,ku=!1,Cu=e}}}function Au(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Cu=e}function Tu(e){if(e!==Cu)return!1;if(!ku)return Au(e),ku=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Cd(e.type,e.memoizedProps)),t&&(t=Su)){if(Iu(e))throw Du(),Error(Mi(418));for(;t;)_u(e,t),t=Ld(t.nextSibling)}if(Au(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(Mi(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Su=Ld(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Su=null}}else Su=Cu?Ld(e.stateNode.nextSibling):null;return!0}function Du(){for(var e=Su;e;)e=Ld(e.nextSibling)}function Pu(){Su=Cu=null,ku=!1}function Ou(e){null===Mu?Mu=[e]:Mu.push(e)}var Ru=Wi.ReactCurrentBatchConfig;function zu(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(Mi(309));var a=n.stateNode}if(!a)throw Error(Mi(147,e));var r=a,i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(Mi(284));if(!n._owner)throw Error(Mi(290,e))}return e}function Fu(e,t){throw e=Object.prototype.toString.call(t),Error(Mi(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Bu(e){return(0,e._init)(e._payload)}function Uu(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=tg(e,t)).index=0,e.sibling=null,e}function i(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=2,n):a:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,a){return null===t||6!==t.tag?((t=ig(n,e.mode,a)).return=e,t):((t=r(t,n)).return=e,t)}function l(e,t,n,a){var i=n.type;return i===$i?d(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===es&&Bu(i)===t.type)?((a=r(t,n.props)).ref=zu(e,t,n),a.return=e,a):((a=ng(n.type,n.key,n.props,null,e.mode,a)).ref=zu(e,t,n),a.return=e,a)}function c(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=sg(n,e.mode,a)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,a,i){return null===t||7!==t.tag?((t=ag(n,e.mode,a,i)).return=e,t):((t=r(t,n)).return=e,t)}function u(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=ig(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Gi:return(n=ng(t.type,t.key,t.props,null,e.mode,n)).ref=zu(e,null,t),n.return=e,n;case Vi:return(t=sg(t,e.mode,n)).return=e,t;case es:return u(e,(0,t._init)(t._payload),n)}if(Ns(t)||as(t))return(t=ag(t,e.mode,n,null)).return=e,t;Fu(e,t)}return null}function f(e,t,n,a){var r=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==r?null:o(e,t,""+n,a);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Gi:return n.key===r?l(e,t,n,a):null;case Vi:return n.key===r?c(e,t,n,a):null;case es:return f(e,t,(r=n._init)(n._payload),a)}if(Ns(n)||as(n))return null!==r?null:d(e,t,n,a,null);Fu(e,n)}return null}function m(e,t,n,a,r){if("string"==typeof a&&""!==a||"number"==typeof a)return o(t,e=e.get(n)||null,""+a,r);if("object"==typeof a&&null!==a){switch(a.$$typeof){case Gi:return l(t,e=e.get(null===a.key?n:a.key)||null,a,r);case Vi:return c(t,e=e.get(null===a.key?n:a.key)||null,a,r);case es:return m(e,t,n,(0,a._init)(a._payload),r)}if(Ns(a)||as(a))return d(t,e=e.get(n)||null,a,r,null);Fu(t,a)}return null}return function o(l,c,d,p){if("object"==typeof d&&null!==d&&d.type===$i&&null===d.key&&(d=d.props.children),"object"==typeof d&&null!==d){switch(d.$$typeof){case Gi:e:{for(var h=d.key,g=c;null!==g;){if(g.key===h){if((h=d.type)===$i){if(7===g.tag){n(l,g.sibling),(c=r(g,d.props.children)).return=l,l=c;break e}}else if(g.elementType===h||"object"==typeof h&&null!==h&&h.$$typeof===es&&Bu(h)===g.type){n(l,g.sibling),(c=r(g,d.props)).ref=zu(l,g,d),c.return=l,l=c;break e}n(l,g);break}t(l,g),g=g.sibling}d.type===$i?((c=ag(d.props.children,l.mode,p,d.key)).return=l,l=c):((p=ng(d.type,d.key,d.props,null,l.mode,p)).ref=zu(l,c,d),p.return=l,l=p)}return s(l);case Vi:e:{for(g=d.key;null!==c;){if(c.key===g){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){n(l,c.sibling),(c=r(c,d.children||[])).return=l,l=c;break e}n(l,c);break}t(l,c),c=c.sibling}(c=sg(d,l.mode,p)).return=l,l=c}return s(l);case es:return o(l,c,(g=d._init)(d._payload),p)}if(Ns(d))return function(r,s,o,l){for(var c=null,d=null,p=s,h=s=0,g=null;null!==p&&h<o.length;h++){p.index>h?(g=p,p=null):g=p.sibling;var x=f(r,p,o[h],l);if(null===x){null===p&&(p=g);break}e&&p&&null===x.alternate&&t(r,p),s=i(x,s,h),null===d?c=x:d.sibling=x,d=x,p=g}if(h===o.length)return n(r,p),ku&&bu(r,h),c;if(null===p){for(;h<o.length;h++)null!==(p=u(r,o[h],l))&&(s=i(p,s,h),null===d?c=p:d.sibling=p,d=p);return ku&&bu(r,h),c}for(p=a(r,p);h<o.length;h++)null!==(g=m(p,r,h,o[h],l))&&(e&&null!==g.alternate&&p.delete(null===g.key?h:g.key),s=i(g,s,h),null===d?c=g:d.sibling=g,d=g);return e&&p.forEach((function(e){return t(r,e)})),ku&&bu(r,h),c}(l,c,d,p);if(as(d))return function(r,s,o,l){var c=as(o);if("function"!=typeof c)throw Error(Mi(150));if(null==(o=c.call(o)))throw Error(Mi(151));for(var d=c=null,p=s,h=s=0,g=null,x=o.next();null!==p&&!x.done;h++,x=o.next()){p.index>h?(g=p,p=null):g=p.sibling;var y=f(r,p,x.value,l);if(null===y){null===p&&(p=g);break}e&&p&&null===y.alternate&&t(r,p),s=i(y,s,h),null===d?c=y:d.sibling=y,d=y,p=g}if(x.done)return n(r,p),ku&&bu(r,h),c;if(null===p){for(;!x.done;h++,x=o.next())null!==(x=u(r,x.value,l))&&(s=i(x,s,h),null===d?c=x:d.sibling=x,d=x);return ku&&bu(r,h),c}for(p=a(r,p);!x.done;h++,x=o.next())null!==(x=m(p,r,h,x.value,l))&&(e&&null!==x.alternate&&p.delete(null===x.key?h:x.key),s=i(x,s,h),null===d?c=x:d.sibling=x,d=x);return e&&p.forEach((function(e){return t(r,e)})),ku&&bu(r,h),c}(l,c,d,p);Fu(l,d)}return"string"==typeof d&&""!==d||"number"==typeof d?(d=""+d,null!==c&&6===c.tag?(n(l,c.sibling),(c=r(c,d)).return=l,l=c):(n(l,c),(c=ig(d,l.mode,p)).return=l,l=c),s(l)):n(l,c)}}var Wu=Uu(!0),Gu=Uu(!1),Vu=Hd(null),$u=null,Hu=null,Yu=null;function qu(){Yu=Hu=$u=null}function Qu(e){var t=Vu.current;Yd(Vu),e._currentValue=t}function Zu(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Ju(e,t){$u=e,Yu=Hu=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Um=!0),e.firstContext=null)}function Ku(e){var t=e._currentValue;if(Yu!==e)if(e={context:e,memoizedValue:t,next:null},null===Hu){if(null===$u)throw Error(Mi(308));Hu=e,$u.dependencies={lanes:0,firstContext:e}}else Hu=Hu.next=e;return t}var Xu=null;function ef(e){null===Xu?Xu=[e]:Xu.push(e)}function tf(e,t,n,a){var r=t.interleaved;return null===r?(n.next=n,ef(t)):(n.next=r.next,r.next=n),t.interleaved=n,nf(e,a)}function nf(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var af=!1;function rf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function of(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function lf(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,2&Zp){var r=a.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),a.pending=t,nf(e,n)}return null===(r=a.interleaved)?(t.next=t,ef(a)):(t.next=r.next,r.next=t),a.interleaved=t,nf(e,n)}function cf(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,Uo(e,n)}}function df(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var r=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?r=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?r=i=t:i=i.next=t}else r=i=t;return n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:a.shared,effects:a.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function uf(e,t,n,a){var r=e.updateQueue;af=!1;var i=r.firstBaseUpdate,s=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==i){var u=r.baseState;for(s=0,d=c=l=null,o=i;;){var f=o.lane,m=o.eventTime;if((a&f)===f){null!==d&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,h=o;switch(f=t,m=n,h.tag){case 1:if("function"==typeof(p=h.payload)){u=p.call(m,u,f);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(f="function"==typeof(p=h.payload)?p.call(m,u,f):p))break e;u=is({},u,f);break e;case 2:af=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(f=r.effects)?r.effects=[o]:f.push(o))}else m={eventTime:m,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=m,l=u):d=d.next=m,s|=f;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(f=o).next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}if(null===d&&(l=u),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=d,null!==(t=r.shared.interleaved)){r=t;do{s|=r.lane,r=r.next}while(r!==t)}else null===i&&(r.shared.lanes=0);rh|=s,e.lanes=s,e.memoizedState=u}}function ff(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],r=a.callback;if(null!==r){if(a.callback=null,a=n,"function"!=typeof r)throw Error(Mi(191,r));r.call(a)}}}var mf={},pf=Hd(mf),hf=Hd(mf),gf=Hd(mf);function xf(e){if(e===mf)throw Error(Mi(174));return e}function yf(e,t){switch(qd(gf,t),qd(hf,e),qd(pf,mf),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Is(null,"");break;default:t=Is(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Yd(pf),qd(pf,t)}function vf(){Yd(pf),Yd(hf),Yd(gf)}function bf(e){xf(gf.current);var t=xf(pf.current),n=Is(t,e.type);t!==n&&(qd(hf,e),qd(pf,n))}function wf(e){hf.current===e&&(Yd(pf),Yd(hf))}var jf=Hd(0);function Nf(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cf=[];function Sf(){for(var e=0;e<Cf.length;e++)Cf[e]._workInProgressVersionPrimary=null;Cf.length=0}var kf=Wi.ReactCurrentDispatcher,Mf=Wi.ReactCurrentBatchConfig,_f=0,Ef=null,If=null,Lf=null,Af=!1,Tf=!1,Df=0,Pf=0;function Of(){throw Error(Mi(321))}function Rf(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ec(e[n],t[n]))return!1;return!0}function zf(e,t,n,a,r,i){if(_f=i,Ef=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,kf.current=null===e||null===e.memoizedState?wm:jm,e=n(a,r),Tf){i=0;do{if(Tf=!1,Df=0,25<=i)throw Error(Mi(301));i+=1,Lf=If=null,t.updateQueue=null,kf.current=Nm,e=n(a,r)}while(Tf)}if(kf.current=bm,t=null!==If&&null!==If.next,_f=0,Lf=If=Ef=null,Af=!1,t)throw Error(Mi(300));return e}function Ff(){var e=0!==Df;return Df=0,e}function Bf(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Lf?Ef.memoizedState=Lf=e:Lf=Lf.next=e,Lf}function Uf(){if(null===If){var e=Ef.alternate;e=null!==e?e.memoizedState:null}else e=If.next;var t=null===Lf?Ef.memoizedState:Lf.next;if(null!==t)Lf=t,If=e;else{if(null===e)throw Error(Mi(310));e={memoizedState:(If=e).memoizedState,baseState:If.baseState,baseQueue:If.baseQueue,queue:If.queue,next:null},null===Lf?Ef.memoizedState=Lf=e:Lf=Lf.next=e}return Lf}function Wf(e,t){return"function"==typeof t?t(e):t}function Gf(e){var t=Uf(),n=t.queue;if(null===n)throw Error(Mi(311));n.lastRenderedReducer=e;var a=If,r=a.baseQueue,i=n.pending;if(null!==i){if(null!==r){var s=r.next;r.next=i.next,i.next=s}a.baseQueue=r=i,n.pending=null}if(null!==r){i=r.next,a=a.baseState;var o=s=null,l=null,c=i;do{var d=c.lane;if((_f&d)===d)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),a=c.hasEagerState?c.eagerState:e(a,c.action);else{var u={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(o=l=u,s=a):l=l.next=u,Ef.lanes|=d,rh|=d}c=c.next}while(null!==c&&c!==i);null===l?s=a:l.next=o,Ec(a,t.memoizedState)||(Um=!0),t.memoizedState=a,t.baseState=s,t.baseQueue=l,n.lastRenderedState=a}if(null!==(e=n.interleaved)){r=e;do{i=r.lane,Ef.lanes|=i,rh|=i,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Vf(e){var t=Uf(),n=t.queue;if(null===n)throw Error(Mi(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,i=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{i=e(i,s.action),s=s.next}while(s!==r);Ec(i,t.memoizedState)||(Um=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,a]}function $f(){}function Hf(e,t){var n=Ef,a=Uf(),r=t(),i=!Ec(a.memoizedState,r);if(i&&(a.memoizedState=r,Um=!0),a=a.queue,rm(Qf.bind(null,n,a,e),[e]),a.getSnapshot!==t||i||null!==Lf&&1&Lf.memoizedState.tag){if(n.flags|=2048,Xf(9,qf.bind(null,n,a,r,t),void 0,null),null===Jp)throw Error(Mi(349));30&_f||Yf(n,t,r)}return r}function Yf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Ef.updateQueue)?(t={lastEffect:null,stores:null},Ef.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function qf(e,t,n,a){t.value=n,t.getSnapshot=a,Zf(t)&&Jf(e)}function Qf(e,t,n){return n((function(){Zf(t)&&Jf(e)}))}function Zf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ec(e,n)}catch(a){return!0}}function Jf(e){var t=nf(e,1);null!==t&&Ch(t,e,1,-1)}function Kf(e){var t=Bf();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wf,lastRenderedState:e},t.queue=e,e=e.dispatch=gm.bind(null,Ef,e),[t.memoizedState,e]}function Xf(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},null===(t=Ef.updateQueue)?(t={lastEffect:null,stores:null},Ef.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function em(){return Uf().memoizedState}function tm(e,t,n,a){var r=Bf();Ef.flags|=e,r.memoizedState=Xf(1|t,n,void 0,void 0===a?null:a)}function nm(e,t,n,a){var r=Uf();a=void 0===a?null:a;var i=void 0;if(null!==If){var s=If.memoizedState;if(i=s.destroy,null!==a&&Rf(a,s.deps))return void(r.memoizedState=Xf(t,n,i,a))}Ef.flags|=e,r.memoizedState=Xf(1|t,n,i,a)}function am(e,t){return tm(8390656,8,e,t)}function rm(e,t){return nm(2048,8,e,t)}function im(e,t){return nm(4,2,e,t)}function sm(e,t){return nm(4,4,e,t)}function om(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function lm(e,t,n){return n=null!=n?n.concat([e]):null,nm(4,4,om.bind(null,t,e),n)}function cm(){}function dm(e,t){var n=Uf();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&Rf(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function um(e,t){var n=Uf();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&Rf(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function fm(e,t,n){return 21&_f?(Ec(n,t)||(n=zo(),Ef.lanes|=n,rh|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Um=!0),e.memoizedState=n)}function mm(e,t){var n=Wo;Wo=0!==n&&4>n?n:4,e(!0);var a=Mf.transition;Mf.transition={};try{e(!1),t()}finally{Wo=n,Mf.transition=a}}function pm(){return Uf().memoizedState}function hm(e,t,n){var a=Nh(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},xm(e))ym(t,n);else if(null!==(n=tf(e,t,n,a))){Ch(n,e,a,jh()),vm(n,t,a)}}function gm(e,t,n){var a=Nh(e),r={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(xm(e))ym(t,r);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=i(s,n);if(r.hasEagerState=!0,r.eagerState=o,Ec(o,s)){var l=t.interleaved;return null===l?(r.next=r,ef(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=tf(e,t,r,a))&&(Ch(n,e,a,r=jh()),vm(n,t,a))}}function xm(e){var t=e.alternate;return e===Ef||null!==t&&t===Ef}function ym(e,t){Tf=Af=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function vm(e,t,n){if(4194240&n){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,Uo(e,n)}}var bm={readContext:Ku,useCallback:Of,useContext:Of,useEffect:Of,useImperativeHandle:Of,useInsertionEffect:Of,useLayoutEffect:Of,useMemo:Of,useReducer:Of,useRef:Of,useState:Of,useDebugValue:Of,useDeferredValue:Of,useTransition:Of,useMutableSource:Of,useSyncExternalStore:Of,useId:Of,unstable_isNewReconciler:!1},wm={readContext:Ku,useCallback:function(e,t){return Bf().memoizedState=[e,void 0===t?null:t],e},useContext:Ku,useEffect:am,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,tm(4194308,4,om.bind(null,t,e),n)},useLayoutEffect:function(e,t){return tm(4194308,4,e,t)},useInsertionEffect:function(e,t){return tm(4,2,e,t)},useMemo:function(e,t){var n=Bf();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=Bf();return t=void 0!==n?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=hm.bind(null,Ef,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},Bf().memoizedState=e},useState:Kf,useDebugValue:cm,useDeferredValue:function(e){return Bf().memoizedState=e},useTransition:function(){var e=Kf(!1),t=e[0];return e=mm.bind(null,e[1]),Bf().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=Ef,r=Bf();if(ku){if(void 0===n)throw Error(Mi(407));n=n()}else{if(n=t(),null===Jp)throw Error(Mi(349));30&_f||Yf(a,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,am(Qf.bind(null,a,i,e),[e]),a.flags|=2048,Xf(9,qf.bind(null,a,i,n,t),void 0,null),n},useId:function(){var e=Bf(),t=Jp.identifierPrefix;if(ku){var n=vu;t=":"+t+"R"+(n=(yu&~(1<<32-Eo(yu)-1)).toString(32)+n),0<(n=Df++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Pf++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jm={readContext:Ku,useCallback:dm,useContext:Ku,useEffect:rm,useImperativeHandle:lm,useInsertionEffect:im,useLayoutEffect:sm,useMemo:um,useReducer:Gf,useRef:em,useState:function(){return Gf(Wf)},useDebugValue:cm,useDeferredValue:function(e){return fm(Uf(),If.memoizedState,e)},useTransition:function(){return[Gf(Wf)[0],Uf().memoizedState]},useMutableSource:$f,useSyncExternalStore:Hf,useId:pm,unstable_isNewReconciler:!1},Nm={readContext:Ku,useCallback:dm,useContext:Ku,useEffect:rm,useImperativeHandle:lm,useInsertionEffect:im,useLayoutEffect:sm,useMemo:um,useReducer:Vf,useRef:em,useState:function(){return Vf(Wf)},useDebugValue:cm,useDeferredValue:function(e){var t=Uf();return null===If?t.memoizedState=e:fm(t,If.memoizedState,e)},useTransition:function(){return[Vf(Wf)[0],Uf().memoizedState]},useMutableSource:$f,useSyncExternalStore:Hf,useId:pm,unstable_isNewReconciler:!1};function Cm(e,t){if(e&&e.defaultProps){for(var n in t=is({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function Sm(e,t,n,a){n=null==(n=n(a,t=e.memoizedState))?t:is({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var km={isMounted:function(e){return!!(e=e._reactInternals)&&uo(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=jh(),r=Nh(e),i=of(a,r);i.payload=t,null!=n&&(i.callback=n),null!==(t=lf(e,i,r))&&(Ch(t,e,r,a),cf(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=jh(),r=Nh(e),i=of(a,r);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=lf(e,i,r))&&(Ch(t,e,r,a),cf(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=jh(),a=Nh(e),r=of(n,a);r.tag=2,null!=t&&(r.callback=t),null!==(t=lf(e,r,a))&&(Ch(t,e,a,n),cf(t,e,a))}};function Mm(e,t,n,a,r,i,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!Ic(n,a)||!Ic(r,i))}function _m(e,t,n){var a=!1,r=Qd,i=t.contextType;return"object"==typeof i&&null!==i?i=Ku(i):(r=eu(t)?Kd:Zd.current,i=(a=null!=(a=t.contextTypes))?Xd(e,r):Qd),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=km,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),t}function Em(e,t,n,a){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&km.enqueueReplaceState(t,t.state,null)}function Im(e,t,n,a){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},rf(e);var i=t.contextType;"object"==typeof i&&null!==i?r.context=Ku(i):(i=eu(t)?Kd:Zd.current,r.context=Xd(e,i)),r.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(Sm(e,t,i,n),r.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(t=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&km.enqueueReplaceState(r,r.state,null),uf(e,n,r,a),r.state=e.memoizedState),"function"==typeof r.componentDidMount&&(e.flags|=4194308)}function Lm(e,t){try{var n="",a=t;do{n+=cs(a),a=a.return}while(a);var r=n}catch(i){r="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:r,digest:null}}function Am(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function Tm(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var Dm="function"==typeof WeakMap?WeakMap:Map;function Pm(e,t,n){(n=of(-1,n)).tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){fh||(fh=!0,mh=a),Tm(0,t)},n}function Om(e,t,n){(n=of(-1,n)).tag=3;var a=e.type.getDerivedStateFromError;if("function"==typeof a){var r=t.value;n.payload=function(){return a(r)},n.callback=function(){Tm(0,t)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){Tm(0,t),"function"!=typeof a&&(null===ph?ph=new Set([this]):ph.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Rm(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new Dm;var r=new Set;a.set(t,r)}else void 0===(r=a.get(t))&&(r=new Set,a.set(t,r));r.has(n)||(r.add(n),e=Yh.bind(null,e,t,n),t.then(e,e))}function zm(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Fm(e,t,n,a,r){return 1&e.mode?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=of(-1,1)).tag=2,lf(n,t,1))),n.lanes|=1),e)}var Bm=Wi.ReactCurrentOwner,Um=!1;function Wm(e,t,n,a){t.child=null===e?Gu(t,null,n,a):Wu(t,e.child,n,a)}function Gm(e,t,n,a,r){n=n.render;var i=t.ref;return Ju(t,r),a=zf(e,t,n,a,i,r),n=Ff(),null===e||Um?(ku&&n&&ju(t),t.flags|=1,Wm(e,t,a,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,fp(e,t,r))}function Vm(e,t,n,a,r){if(null===e){var i=n.type;return"function"!=typeof i||eg(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ng(n.type,null,a,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,$m(e,t,i,a,r))}if(i=e.child,0===(e.lanes&r)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:Ic)(s,a)&&e.ref===t.ref)return fp(e,t,r)}return t.flags|=1,(e=tg(i,a)).ref=t.ref,e.return=t,t.child=e}function $m(e,t,n,a,r){if(null!==e){var i=e.memoizedProps;if(Ic(i,a)&&e.ref===t.ref){if(Um=!1,t.pendingProps=a=i,0===(e.lanes&r))return t.lanes=e.lanes,fp(e,t,r);131072&e.flags&&(Um=!0)}}return qm(e,t,n,a,r)}function Hm(e,t,n){var a=t.pendingProps,r=a.children,i=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qd(th,eh),eh|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==i?i.baseLanes:n,qd(th,eh),eh|=a}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qd(th,eh),eh|=n;else null!==i?(a=i.baseLanes|n,t.memoizedState=null):a=n,qd(th,eh),eh|=a;return Wm(e,t,r,n),t.child}function Ym(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function qm(e,t,n,a,r){var i=eu(n)?Kd:Zd.current;return i=Xd(t,i),Ju(t,r),n=zf(e,t,n,a,i,r),a=Ff(),null===e||Um?(ku&&a&&ju(t),t.flags|=1,Wm(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,fp(e,t,r))}function Qm(e,t,n,a,r){if(eu(n)){var i=!0;ru(t)}else i=!1;if(Ju(t,r),null===t.stateNode)up(e,t),_m(t,n,a),Im(t,n,a,r),a=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=n.contextType;"object"==typeof c&&null!==c?c=Ku(c):c=Xd(t,c=eu(n)?Kd:Zd.current);var d=n.getDerivedStateFromProps,u="function"==typeof d||"function"==typeof s.getSnapshotBeforeUpdate;u||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o!==a||l!==c)&&Em(t,s,a,c),af=!1;var f=t.memoizedState;s.state=f,uf(t,a,s,r),l=t.memoizedState,o!==a||f!==l||Jd.current||af?("function"==typeof d&&(Sm(t,n,d,a),l=t.memoizedState),(o=af||Mm(t,n,o,a,f,l,c))?(u||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=l),s.props=a,s.state=l,s.context=c,a=o):("function"==typeof s.componentDidMount&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,sf(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Cm(t.type,o),s.props=c,u=t.pendingProps,f=s.context,"object"==typeof(l=n.contextType)&&null!==l?l=Ku(l):l=Xd(t,l=eu(n)?Kd:Zd.current);var m=n.getDerivedStateFromProps;(d="function"==typeof m||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o!==u||f!==l)&&Em(t,s,a,l),af=!1,f=t.memoizedState,s.state=f,uf(t,a,s,r);var p=t.memoizedState;o!==u||f!==p||Jd.current||af?("function"==typeof m&&(Sm(t,n,m,a),p=t.memoizedState),(c=af||Mm(t,n,c,a,f,p,l)||!1)?(d||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(a,p,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(a,p,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=p),s.props=a,s.state=p,s.context=l,a=c):("function"!=typeof s.componentDidUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),a=!1)}return Zm(e,t,n,a,i,r)}function Zm(e,t,n,a,r,i){Ym(e,t);var s=!!(128&t.flags);if(!a&&!s)return r&&iu(t,n,!1),fp(e,t,i);a=t.stateNode,Bm.current=t;var o=s&&"function"!=typeof n.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&s?(t.child=Wu(t,e.child,null,i),t.child=Wu(t,null,o,i)):Wm(e,t,o,i),t.memoizedState=a.state,r&&iu(t,n,!0),t.child}function Jm(e){var t=e.stateNode;t.pendingContext?nu(0,t.pendingContext,t.pendingContext!==t.context):t.context&&nu(0,t.context,!1),yf(e,t.containerInfo)}function Km(e,t,n,a,r){return Pu(),Ou(r),t.flags|=256,Wm(e,t,n,a),t.child}var Xm,ep,tp,np,ap={dehydrated:null,treeContext:null,retryLane:0};function rp(e){return{baseLanes:e,cachePool:null,transitions:null}}function ip(e,t,n){var a,r=t.pendingProps,i=jf.current,s=!1,o=!!(128&t.flags);if((a=o)||(a=(null===e||null!==e.memoizedState)&&!!(2&i)),a?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),qd(jf,1&i),null===e)return Lu(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},1&r||null===s?s=rg(o,r,0,null):(s.childLanes=0,s.pendingProps=o),e=ag(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=rp(n),t.memoizedState=ap,e):sp(t,o));if(null!==(i=e.memoizedState)&&null!==(a=i.dehydrated))return function(e,t,n,a,r,i,s){if(n)return 256&t.flags?(t.flags&=-257,op(e,t,s,a=Am(Error(Mi(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=a.fallback,r=t.mode,a=rg({mode:"visible",children:a.children},r,0,null),(i=ag(i,r,s,null)).flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,1&t.mode&&Wu(t,e.child,null,s),t.child.memoizedState=rp(s),t.memoizedState=ap,i);if(!(1&t.mode))return op(e,t,s,null);if("$!"===r.data){if(a=r.nextSibling&&r.nextSibling.dataset)var o=a.dgst;return a=o,op(e,t,s,a=Am(i=Error(Mi(419)),a,void 0))}if(o=0!==(s&e.childLanes),Um||o){if(null!==(a=Jp)){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(a.suspendedLanes|s))?0:r)&&r!==i.retryLane&&(i.retryLane=r,nf(e,r),Ch(a,e,r,-1))}return Rh(),op(e,t,s,a=Am(Error(Mi(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Qh.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,Su=Ld(r.nextSibling),Cu=t,ku=!0,Mu=null,null!==e&&(hu[gu++]=yu,hu[gu++]=vu,hu[gu++]=xu,yu=e.id,vu=e.overflow,xu=t),t=sp(t,a.children),t.flags|=4096,t)}(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,a=(i=e.child).sibling;var l={mode:"hidden",children:r.children};return 1&o||t.child===i?(r=tg(i,l)).subtreeFlags=14680064&i.subtreeFlags:((r=t.child).childLanes=0,r.pendingProps=l,t.deletions=null),null!==a?s=tg(a,s):(s=ag(s,o,n,null)).flags|=2,s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=null===(o=e.child.memoizedState)?rp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=ap,r}return e=(s=e.child).sibling,r=tg(s,{mode:"visible",children:r.children}),!(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function sp(e,t){return(t=rg({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function op(e,t,n,a){return null!==a&&Ou(a),Wu(t,e.child,null,n),(e=sp(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function lp(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Zu(e.return,t,n)}function cp(e,t,n,a,r){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=n,i.tailMode=r)}function dp(e,t,n){var a=t.pendingProps,r=a.revealOrder,i=a.tail;if(Wm(e,t,a.children,n),2&(a=jf.current))a=1&a|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&lp(e,n,t);else if(19===e.tag)lp(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(qd(jf,a),1&t.mode)switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===Nf(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),cp(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===Nf(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}cp(t,!0,n,null,i);break;case"together":cp(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function up(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fp(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),rh|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(Mi(153));if(null!==t.child){for(n=tg(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=tg(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function mp(e,t){if(!ku)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function pp(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=14680064&r.subtreeFlags,a|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function hp(e,t,n){var a=t.pendingProps;switch(Nu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pp(t),null;case 1:case 17:return eu(t.type)&&tu(),pp(t),null;case 3:return a=t.stateNode,vf(),Yd(Jd),Yd(Zd),Sf(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(Tu(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==Mu&&(_h(Mu),Mu=null))),ep(e,t),pp(t),null;case 5:wf(t);var r=xf(gf.current);if(n=t.type,null!==e&&null!=t.stateNode)tp(e,t,n,a,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(Mi(166));return pp(t),null}if(e=xf(pf.current),Tu(t)){a=t.stateNode,n=t.type;var i=t.memoizedProps;switch(a[Dd]=t,a[Pd]=i,e=!!(1&t.mode),n){case"dialog":od("cancel",a),od("close",a);break;case"iframe":case"object":case"embed":od("load",a);break;case"video":case"audio":for(r=0;r<ad.length;r++)od(ad[r],a);break;case"source":od("error",a);break;case"img":case"image":case"link":od("error",a),od("load",a);break;case"details":od("toggle",a);break;case"input":ys(a,i),od("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},od("invalid",a);break;case"textarea":ks(a,i),od("invalid",a)}for(var s in Bs(n,i),r=null,i)if(i.hasOwnProperty(s)){var o=i[s];"children"===s?"string"==typeof o?a.textContent!==o&&(!0!==i.suppressHydrationWarning&&bd(a.textContent,o,e),r=["children",o]):"number"==typeof o&&a.textContent!==""+o&&(!0!==i.suppressHydrationWarning&&bd(a.textContent,o,e),r=["children",""+o]):Ei.hasOwnProperty(s)&&null!=o&&"onScroll"===s&&od("scroll",a)}switch(n){case"input":ps(a),ws(a,i,!0);break;case"textarea":ps(a),_s(a);break;case"select":case"option":break;default:"function"==typeof i.onClick&&(a.onclick=wd)}a=r,t.updateQueue=a,null!==a&&(t.flags|=4)}else{s=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=Es(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof a.is?e=s.createElement(n,{is:a.is}):(e=s.createElement(n),"select"===n&&(s=e,a.multiple?s.multiple=!0:a.size&&(s.size=a.size))):e=s.createElementNS(e,n),e[Dd]=t,e[Pd]=a,Xm(e,t,!1,!1),t.stateNode=e;e:{switch(s=Us(n,a),n){case"dialog":od("cancel",e),od("close",e),r=a;break;case"iframe":case"object":case"embed":od("load",e),r=a;break;case"video":case"audio":for(r=0;r<ad.length;r++)od(ad[r],e);r=a;break;case"source":od("error",e),r=a;break;case"img":case"image":case"link":od("error",e),od("load",e),r=a;break;case"details":od("toggle",e),r=a;break;case"input":ys(e,a),r=xs(e,a),od("invalid",e);break;case"option":default:r=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},r=is({},a,{value:void 0}),od("invalid",e);break;case"textarea":ks(e,a),r=Ss(e,a),od("invalid",e)}for(i in Bs(n,r),o=r)if(o.hasOwnProperty(i)){var l=o[i];"style"===i?zs(e,l):"dangerouslySetInnerHTML"===i?null!=(l=l?l.__html:void 0)&&Ts(e,l):"children"===i?"string"==typeof l?("textarea"!==n||""!==l)&&Ds(e,l):"number"==typeof l&&Ds(e,""+l):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(Ei.hasOwnProperty(i)?null!=l&&"onScroll"===i&&od("scroll",e):null!=l&&Ui(e,i,l,s))}switch(n){case"input":ps(e),ws(e,a,!1);break;case"textarea":ps(e),_s(e);break;case"option":null!=a.value&&e.setAttribute("value",""+fs(a.value));break;case"select":e.multiple=!!a.multiple,null!=(i=a.value)?Cs(e,!!a.multiple,i,!1):null!=a.defaultValue&&Cs(e,!!a.multiple,a.defaultValue,!0);break;default:"function"==typeof r.onClick&&(e.onclick=wd)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return pp(t),null;case 6:if(e&&null!=t.stateNode)np(e,t,e.memoizedProps,a);else{if("string"!=typeof a&&null===t.stateNode)throw Error(Mi(166));if(n=xf(gf.current),xf(pf.current),Tu(t)){if(a=t.stateNode,n=t.memoizedProps,a[Dd]=t,(i=a.nodeValue!==n)&&null!==(e=Cu))switch(e.tag){case 3:bd(a.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&bd(a.nodeValue,n,!!(1&e.mode))}i&&(t.flags|=4)}else(a=(9===n.nodeType?n:n.ownerDocument).createTextNode(a))[Dd]=t,t.stateNode=a}return pp(t),null;case 13:if(Yd(jf),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ku&&null!==Su&&1&t.mode&&!(128&t.flags))Du(),Pu(),t.flags|=98560,i=!1;else if(i=Tu(t),null!==a&&null!==a.dehydrated){if(null===e){if(!i)throw Error(Mi(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(Mi(317));i[Dd]=t}else Pu(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;pp(t),i=!1}else null!==Mu&&(_h(Mu),Mu=null),i=!0;if(!i)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,1&t.mode&&(null===e||1&jf.current?0===nh&&(nh=3):Rh())),null!==t.updateQueue&&(t.flags|=4),pp(t),null);case 4:return vf(),ep(e,t),null===e&&dd(t.stateNode.containerInfo),pp(t),null;case 10:return Qu(t.type._context),pp(t),null;case 19:if(Yd(jf),null===(i=t.memoizedState))return pp(t),null;if(a=!!(128&t.flags),null===(s=i.rendering))if(a)mp(i,!1);else{if(0!==nh||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(s=Nf(e))){for(t.flags|=128,mp(i,!1),null!==(a=s.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;null!==n;)e=a,(i=n).flags&=14680066,null===(s=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return qd(jf,1&jf.current|2),t.child}e=e.sibling}null!==i.tail&&bo()>dh&&(t.flags|=128,a=!0,mp(i,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=Nf(s))){if(t.flags|=128,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),mp(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!ku)return pp(t),null}else 2*bo()-i.renderingStartTime>dh&&1073741824!==n&&(t.flags|=128,a=!0,mp(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=i.last)?n.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=bo(),t.sibling=null,n=jf.current,qd(jf,a?1&n|2:1&n),t):(pp(t),null);case 22:case 23:return Th(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&1&t.mode?!!(1073741824&eh)&&(pp(t),6&t.subtreeFlags&&(t.flags|=8192)):pp(t),null;case 24:case 25:return null}throw Error(Mi(156,t.tag))}function gp(e,t){switch(Nu(t),t.tag){case 1:return eu(t.type)&&tu(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return vf(),Yd(Jd),Yd(Zd),Sf(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return wf(t),null;case 13:if(Yd(jf),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(Mi(340));Pu()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Yd(jf),null;case 4:return vf(),null;case 10:return Qu(t.type._context),null;case 22:case 23:return Th(),null;default:return null}}Xm=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ep=function(){},tp=function(e,t,n,a){var r=e.memoizedProps;if(r!==a){e=t.stateNode,xf(pf.current);var i,s=null;switch(n){case"input":r=xs(e,r),a=xs(e,a),s=[];break;case"select":r=is({},r,{value:void 0}),a=is({},a,{value:void 0}),s=[];break;case"textarea":r=Ss(e,r),a=Ss(e,a),s=[];break;default:"function"!=typeof r.onClick&&"function"==typeof a.onClick&&(e.onclick=wd)}for(c in Bs(n,a),n=null,r)if(!a.hasOwnProperty(c)&&r.hasOwnProperty(c)&&null!=r[c])if("style"===c){var o=r[c];for(i in o)o.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(Ei.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in a){var l=a[c];if(o=null!=r?r[c]:void 0,a.hasOwnProperty(c)&&l!==o&&(null!=l||null!=o))if("style"===c)if(o){for(i in o)!o.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&o[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(s||(s=[]),s.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,o=o?o.__html:void 0,null!=l&&o!==l&&(s=s||[]).push(c,l)):"children"===c?"string"!=typeof l&&"number"!=typeof l||(s=s||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(Ei.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&od("scroll",e),s||o===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},np=function(e,t,n,a){n!==a&&(t.flags|=4)};var xp=!1,yp=!1,vp="function"==typeof WeakSet?WeakSet:Set,bp=null;function wp(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(a){Hh(e,t,a)}else n.current=null}function jp(e,t,n){try{n()}catch(a){Hh(e,t,a)}}var Np=!1;function Cp(e,t,n){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var r=a=a.next;do{if((r.tag&e)===e){var i=r.destroy;r.destroy=void 0,void 0!==i&&jp(t,n,i)}r=r.next}while(r!==a)}}function Sp(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function kp(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function Mp(e){var t=e.alternate;null!==t&&(e.alternate=null,Mp(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[Dd],delete t[Pd],delete t[Rd],delete t[zd],delete t[Fd])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _p(e){return 5===e.tag||3===e.tag||4===e.tag}function Ep(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||_p(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ip(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=wd));else if(4!==a&&null!==(e=e.child))for(Ip(e,t,n),e=e.sibling;null!==e;)Ip(e,t,n),e=e.sibling}function Lp(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&null!==(e=e.child))for(Lp(e,t,n),e=e.sibling;null!==e;)Lp(e,t,n),e=e.sibling}var Ap=null,Tp=!1;function Dp(e,t,n){for(n=n.child;null!==n;)Pp(e,t,n),n=n.sibling}function Pp(e,t,n){if(_o&&"function"==typeof _o.onCommitFiberUnmount)try{_o.onCommitFiberUnmount(Mo,n)}catch(o){}switch(n.tag){case 5:yp||wp(n,t);case 6:var a=Ap,r=Tp;Ap=null,Dp(e,t,n),Tp=r,null!==(Ap=a)&&(Tp?(e=Ap,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):Ap.removeChild(n.stateNode));break;case 18:null!==Ap&&(Tp?(e=Ap,n=n.stateNode,8===e.nodeType?Id(e.parentNode,n):1===e.nodeType&&Id(e,n),ul(e)):Id(Ap,n.stateNode));break;case 4:a=Ap,r=Tp,Ap=n.stateNode.containerInfo,Tp=!0,Dp(e,t,n),Ap=a,Tp=r;break;case 0:case 11:case 14:case 15:if(!yp&&(null!==(a=n.updateQueue)&&null!==(a=a.lastEffect))){r=a=a.next;do{var i=r,s=i.destroy;i=i.tag,void 0!==s&&(2&i||4&i)&&jp(n,t,s),r=r.next}while(r!==a)}Dp(e,t,n);break;case 1:if(!yp&&(wp(n,t),"function"==typeof(a=n.stateNode).componentWillUnmount))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(o){Hh(n,t,o)}Dp(e,t,n);break;case 21:Dp(e,t,n);break;case 22:1&n.mode?(yp=(a=yp)||null!==n.memoizedState,Dp(e,t,n),yp=a):Dp(e,t,n);break;default:Dp(e,t,n)}}function Op(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new vp),t.forEach((function(t){var a=Zh.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))}))}}function Rp(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var r=n[a];try{var i=e,s=t,o=s;e:for(;null!==o;){switch(o.tag){case 5:Ap=o.stateNode,Tp=!1;break e;case 3:case 4:Ap=o.stateNode.containerInfo,Tp=!0;break e}o=o.return}if(null===Ap)throw Error(Mi(160));Pp(i,s,r),Ap=null,Tp=!1;var l=r.alternate;null!==l&&(l.return=null),r.return=null}catch(c){Hh(r,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)zp(t,e),t=t.sibling}function zp(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rp(t,e),Fp(e),4&a){try{Cp(3,e,e.return),Sp(3,e)}catch(h){Hh(e,e.return,h)}try{Cp(5,e,e.return)}catch(h){Hh(e,e.return,h)}}break;case 1:Rp(t,e),Fp(e),512&a&&null!==n&&wp(n,n.return);break;case 5:if(Rp(t,e),Fp(e),512&a&&null!==n&&wp(n,n.return),32&e.flags){var r=e.stateNode;try{Ds(r,"")}catch(h){Hh(e,e.return,h)}}if(4&a&&null!=(r=e.stateNode)){var i=e.memoizedProps,s=null!==n?n.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===o&&"radio"===i.type&&null!=i.name&&vs(r,i),Us(o,s);var c=Us(o,i);for(s=0;s<l.length;s+=2){var d=l[s],u=l[s+1];"style"===d?zs(r,u):"dangerouslySetInnerHTML"===d?Ts(r,u):"children"===d?Ds(r,u):Ui(r,d,u,c)}switch(o){case"input":bs(r,i);break;case"textarea":Ms(r,i);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var m=i.value;null!=m?Cs(r,!!i.multiple,m,!1):f!==!!i.multiple&&(null!=i.defaultValue?Cs(r,!!i.multiple,i.defaultValue,!0):Cs(r,!!i.multiple,i.multiple?[]:"",!1))}r[Pd]=i}catch(h){Hh(e,e.return,h)}}break;case 6:if(Rp(t,e),Fp(e),4&a){if(null===e.stateNode)throw Error(Mi(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(h){Hh(e,e.return,h)}}break;case 3:if(Rp(t,e),Fp(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{ul(t.containerInfo)}catch(h){Hh(e,e.return,h)}break;case 4:default:Rp(t,e),Fp(e);break;case 13:Rp(t,e),Fp(e),8192&(r=e.child).flags&&(i=null!==r.memoizedState,r.stateNode.isHidden=i,!i||null!==r.alternate&&null!==r.alternate.memoizedState||(ch=bo())),4&a&&Op(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(yp=(c=yp)||d,Rp(t,e),yp=c):Rp(t,e),Fp(e),8192&a){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&1&e.mode)for(bp=e,d=e.child;null!==d;){for(u=bp=d;null!==bp;){switch(m=(f=bp).child,f.tag){case 0:case 11:case 14:case 15:Cp(4,f,f.return);break;case 1:wp(f,f.return);var p=f.stateNode;if("function"==typeof p.componentWillUnmount){a=f,n=f.return;try{t=a,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(h){Hh(a,n,h)}}break;case 5:wp(f,f.return);break;case 22:if(null!==f.memoizedState){Gp(u);continue}}null!==m?(m.return=f,bp=m):Gp(u)}d=d.sibling}e:for(d=null,u=e;;){if(5===u.tag){if(null===d){d=u;try{r=u.stateNode,c?"function"==typeof(i=r.style).setProperty?i.setProperty("display","none","important"):i.display="none":(o=u.stateNode,s=null!=(l=u.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,o.style.display=Rs("display",s))}catch(h){Hh(e,e.return,h)}}}else if(6===u.tag){if(null===d)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(h){Hh(e,e.return,h)}}else if((22!==u.tag&&23!==u.tag||null===u.memoizedState||u===e)&&null!==u.child){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;null===u.sibling;){if(null===u.return||u.return===e)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Rp(t,e),Fp(e),4&a&&Op(e);case 21:}}function Fp(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(_p(n)){var a=n;break e}n=n.return}throw Error(Mi(160))}switch(a.tag){case 5:var r=a.stateNode;32&a.flags&&(Ds(r,""),a.flags&=-33),Lp(e,Ep(e),r);break;case 3:case 4:var i=a.stateNode.containerInfo;Ip(e,Ep(e),i);break;default:throw Error(Mi(161))}}catch(s){Hh(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Bp(e,t,n){bp=e,Up(e)}function Up(e,t,n){for(var a=!!(1&e.mode);null!==bp;){var r=bp,i=r.child;if(22===r.tag&&a){var s=null!==r.memoizedState||xp;if(!s){var o=r.alternate,l=null!==o&&null!==o.memoizedState||yp;o=xp;var c=yp;if(xp=s,(yp=l)&&!c)for(bp=r;null!==bp;)l=(s=bp).child,22===s.tag&&null!==s.memoizedState?Vp(r):null!==l?(l.return=s,bp=l):Vp(r);for(;null!==i;)bp=i,Up(i),i=i.sibling;bp=r,xp=o,yp=c}Wp(e)}else 8772&r.subtreeFlags&&null!==i?(i.return=r,bp=i):Wp(e)}}function Wp(e){for(;null!==bp;){var t=bp;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:yp||Sp(5,t);break;case 1:var a=t.stateNode;if(4&t.flags&&!yp)if(null===n)a.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:Cm(t.type,n.memoizedProps);a.componentDidUpdate(r,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&ff(t,i,a);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ff(t,s,n)}break;case 5:var o=t.stateNode;if(null===n&&4&t.flags){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var u=d.dehydrated;null!==u&&ul(u)}}}break;default:throw Error(Mi(163))}yp||512&t.flags&&kp(t)}catch(f){Hh(t,t.return,f)}}if(t===e){bp=null;break}if(null!==(n=t.sibling)){n.return=t.return,bp=n;break}bp=t.return}}function Gp(e){for(;null!==bp;){var t=bp;if(t===e){bp=null;break}var n=t.sibling;if(null!==n){n.return=t.return,bp=n;break}bp=t.return}}function Vp(e){for(;null!==bp;){var t=bp;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Sp(4,t)}catch(l){Hh(t,n,l)}break;case 1:var a=t.stateNode;if("function"==typeof a.componentDidMount){var r=t.return;try{a.componentDidMount()}catch(l){Hh(t,r,l)}}var i=t.return;try{kp(t)}catch(l){Hh(t,i,l)}break;case 5:var s=t.return;try{kp(t)}catch(l){Hh(t,s,l)}}}catch(l){Hh(t,t.return,l)}if(t===e){bp=null;break}var o=t.sibling;if(null!==o){o.return=t.return,bp=o;break}bp=t.return}}var $p,Hp=Math.ceil,Yp=Wi.ReactCurrentDispatcher,qp=Wi.ReactCurrentOwner,Qp=Wi.ReactCurrentBatchConfig,Zp=0,Jp=null,Kp=null,Xp=0,eh=0,th=Hd(0),nh=0,ah=null,rh=0,ih=0,sh=0,oh=null,lh=null,ch=0,dh=1/0,uh=null,fh=!1,mh=null,ph=null,hh=!1,gh=null,xh=0,yh=0,vh=null,bh=-1,wh=0;function jh(){return 6&Zp?bo():-1!==bh?bh:bh=bo()}function Nh(e){return 1&e.mode?2&Zp&&0!==Xp?Xp&-Xp:null!==Ru.transition?(0===wh&&(wh=zo()),wh):0!==(e=Wo)?e:e=void 0===(e=window.event)?16:vl(e.type):1}function Ch(e,t,n,a){if(50<yh)throw yh=0,vh=null,Error(Mi(185));Bo(e,n,a),2&Zp&&e===Jp||(e===Jp&&(!(2&Zp)&&(ih|=n),4===nh&&Eh(e,Xp)),Sh(e,a),1===n&&0===Zp&&!(1&t.mode)&&(dh=bo()+500,ou&&du()))}function Sh(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Eo(i),o=1<<s,l=r[s];-1===l?0!==(o&n)&&0===(o&a)||(r[s]=Oo(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var a=Po(e,e===Jp?Xp:0);if(0===a)null!==n&&xo(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=n&&xo(n),1===t)0===e.tag?function(e){ou=!0,cu(e)}(Ih.bind(null,e)):cu(Ih.bind(null,e)),_d((function(){!(6&Zp)&&du()})),n=null;else{switch(Go(a)){case 1:n=jo;break;case 4:n=No;break;case 16:default:n=Co;break;case 536870912:n=ko}n=Jh(n,kh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function kh(e,t){if(bh=-1,wh=0,6&Zp)throw Error(Mi(327));var n=e.callbackNode;if(Vh()&&e.callbackNode!==n)return null;var a=Po(e,e===Jp?Xp:0);if(0===a)return null;if(30&a||0!==(a&e.expiredLanes)||t)t=zh(e,a);else{t=a;var r=Zp;Zp|=2;var i=Oh();for(Jp===e&&Xp===t||(uh=null,dh=bo()+500,Dh(e,t));;)try{Bh();break}catch(o){Ph(e,o)}qu(),Yp.current=i,Zp=r,null!==Kp?t=0:(Jp=null,Xp=0,t=nh)}if(0!==t){if(2===t&&(0!==(r=Ro(e))&&(a=r,t=Mh(e,r))),1===t)throw n=ah,Dh(e,0),Eh(e,a),Sh(e,bo()),n;if(6===t)Eh(e,a);else{if(r=e.current.alternate,!(30&a||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var a=0;a<n.length;a++){var r=n[a],i=r.getSnapshot;r=r.value;try{if(!Ec(i(),r))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)||(t=zh(e,a),2===t&&(i=Ro(e),0!==i&&(a=i,t=Mh(e,i))),1!==t)))throw n=ah,Dh(e,0),Eh(e,a),Sh(e,bo()),n;switch(e.finishedWork=r,e.finishedLanes=a,t){case 0:case 1:throw Error(Mi(345));case 2:case 5:Gh(e,lh,uh);break;case 3:if(Eh(e,a),(130023424&a)===a&&10<(t=ch+500-bo())){if(0!==Po(e,0))break;if(((r=e.suspendedLanes)&a)!==a){jh(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Sd(Gh.bind(null,e,lh,uh),t);break}Gh(e,lh,uh);break;case 4:if(Eh(e,a),(4194240&a)===a)break;for(t=e.eventTimes,r=-1;0<a;){var s=31-Eo(a);i=1<<s,(s=t[s])>r&&(r=s),a&=~i}if(a=r,10<(a=(120>(a=bo()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Hp(a/1960))-a)){e.timeoutHandle=Sd(Gh.bind(null,e,lh,uh),a);break}Gh(e,lh,uh);break;default:throw Error(Mi(329))}}}return Sh(e,bo()),e.callbackNode===n?kh.bind(null,e):null}function Mh(e,t){var n=oh;return e.current.memoizedState.isDehydrated&&(Dh(e,t).flags|=256),2!==(e=zh(e,t))&&(t=lh,lh=n,null!==t&&_h(t)),e}function _h(e){null===lh?lh=e:lh.push.apply(lh,e)}function Eh(e,t){for(t&=~sh,t&=~ih,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Eo(t),a=1<<n;e[n]=-1,t&=~a}}function Ih(e){if(6&Zp)throw Error(Mi(327));Vh();var t=Po(e,0);if(!(1&t))return Sh(e,bo()),null;var n=zh(e,t);if(0!==e.tag&&2===n){var a=Ro(e);0!==a&&(t=a,n=Mh(e,a))}if(1===n)throw n=ah,Dh(e,0),Eh(e,t),Sh(e,bo()),n;if(6===n)throw Error(Mi(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Gh(e,lh,uh),Sh(e,bo()),null}function Lh(e,t){var n=Zp;Zp|=1;try{return e(t)}finally{0===(Zp=n)&&(dh=bo()+500,ou&&du())}}function Ah(e){null!==gh&&0===gh.tag&&!(6&Zp)&&Vh();var t=Zp;Zp|=1;var n=Qp.transition,a=Wo;try{if(Qp.transition=null,Wo=1,e)return e()}finally{Wo=a,Qp.transition=n,!(6&(Zp=t))&&du()}}function Th(){eh=th.current,Yd(th)}function Dh(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,kd(n)),null!==Kp)for(n=Kp.return;null!==n;){var a=n;switch(Nu(a),a.tag){case 1:null!=(a=a.type.childContextTypes)&&tu();break;case 3:vf(),Yd(Jd),Yd(Zd),Sf();break;case 5:wf(a);break;case 4:vf();break;case 13:case 19:Yd(jf);break;case 10:Qu(a.type._context);break;case 22:case 23:Th()}n=n.return}if(Jp=e,Kp=e=tg(e.current,null),Xp=eh=t,nh=0,ah=null,sh=ih=rh=0,lh=oh=null,null!==Xu){for(t=0;t<Xu.length;t++)if(null!==(a=(n=Xu[t]).interleaved)){n.interleaved=null;var r=a.next,i=n.pending;if(null!==i){var s=i.next;i.next=r,a.next=s}n.pending=a}Xu=null}return e}function Ph(e,t){for(;;){var n=Kp;try{if(qu(),kf.current=bm,Af){for(var a=Ef.memoizedState;null!==a;){var r=a.queue;null!==r&&(r.pending=null),a=a.next}Af=!1}if(_f=0,Lf=If=Ef=null,Tf=!1,Df=0,qp.current=null,null===n||null===n.return){nh=1,ah=t,Kp=null;break}e:{var i=e,s=n.return,o=n,l=t;if(t=Xp,o.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l,d=o,u=d.tag;if(!(1&d.mode||0!==u&&11!==u&&15!==u)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=zm(s);if(null!==m){m.flags&=-257,Fm(m,s,o,0,t),1&m.mode&&Rm(i,c,t),l=c;var p=(t=m).updateQueue;if(null===p){var h=new Set;h.add(l),t.updateQueue=h}else p.add(l);break e}if(!(1&t)){Rm(i,c,t),Rh();break e}l=Error(Mi(426))}else if(ku&&1&o.mode){var g=zm(s);if(null!==g){!(65536&g.flags)&&(g.flags|=256),Fm(g,s,o,0,t),Ou(Lm(l,o));break e}}i=l=Lm(l,o),4!==nh&&(nh=2),null===oh?oh=[i]:oh.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,df(i,Pm(0,l,t));break e;case 1:o=l;var x=i.type,y=i.stateNode;if(!(128&i.flags||"function"!=typeof x.getDerivedStateFromError&&(null===y||"function"!=typeof y.componentDidCatch||null!==ph&&ph.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t,df(i,Om(i,o,t));break e}}i=i.return}while(null!==i)}Wh(n)}catch(v){t=v,Kp===n&&null!==n&&(Kp=n=n.return);continue}break}}function Oh(){var e=Yp.current;return Yp.current=bm,null===e?bm:e}function Rh(){0!==nh&&3!==nh&&2!==nh||(nh=4),null===Jp||!(268435455&rh)&&!(268435455&ih)||Eh(Jp,Xp)}function zh(e,t){var n=Zp;Zp|=2;var a=Oh();for(Jp===e&&Xp===t||(uh=null,Dh(e,t));;)try{Fh();break}catch(r){Ph(e,r)}if(qu(),Zp=n,Yp.current=a,null!==Kp)throw Error(Mi(261));return Jp=null,Xp=0,nh}function Fh(){for(;null!==Kp;)Uh(Kp)}function Bh(){for(;null!==Kp&&!yo();)Uh(Kp)}function Uh(e){var t=$p(e.alternate,e,eh);e.memoizedProps=e.pendingProps,null===t?Wh(e):Kp=t,qp.current=null}function Wh(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=gp(n,t)))return n.flags&=32767,void(Kp=n);if(null===e)return nh=6,void(Kp=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=hp(n,t,eh)))return void(Kp=n);if(null!==(t=t.sibling))return void(Kp=t);Kp=t=e}while(null!==t);0===nh&&(nh=5)}function Gh(e,t,n){var a=Wo,r=Qp.transition;try{Qp.transition=null,Wo=1,function(e,t,n,a){do{Vh()}while(null!==gh);if(6&Zp)throw Error(Mi(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Mi(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-Eo(n),i=1<<r;t[r]=0,a[r]=-1,e[r]=-1,n&=~i}}(e,i),e===Jp&&(Kp=Jp=null,Xp=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||hh||(hh=!0,Jh(Co,(function(){return Vh(),null}))),i=!!(15990&n.flags),!!(15990&n.subtreeFlags)||i){i=Qp.transition,Qp.transition=null;var s=Wo;Wo=1;var o=Zp;Zp|=4,qp.current=null,function(e,t){if(jd=ml,Pc(e=Dc())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var r=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch(b){n=null;break e}var s=0,o=-1,l=-1,c=0,d=0,u=e,f=null;t:for(;;){for(var m;u!==n||0!==r&&3!==u.nodeType||(o=s+r),u!==i||0!==a&&3!==u.nodeType||(l=s+a),3===u.nodeType&&(s+=u.nodeValue.length),null!==(m=u.firstChild);)f=u,u=m;for(;;){if(u===e)break t;if(f===n&&++c===r&&(o=s),f===i&&++d===a&&(l=s),null!==(m=u.nextSibling))break;f=(u=f).parentNode}u=m}n=-1===o||-1===l?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Nd={focusedElem:e,selectionRange:n},ml=!1,bp=t;null!==bp;)if(e=(t=bp).child,1028&t.subtreeFlags&&null!==e)e.return=t,bp=e;else for(;null!==bp;){t=bp;try{var p=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var h=p.memoizedProps,g=p.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?h:Cm(t.type,h),g);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(Mi(163))}}catch(b){Hh(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,bp=e;break}bp=t.return}p=Np,Np=!1}(e,n),zp(n,e),Oc(Nd),ml=!!jd,Nd=jd=null,e.current=n,Bp(n),vo(),Zp=o,Wo=s,Qp.transition=i}else e.current=n;if(hh&&(hh=!1,gh=e,xh=r),i=e.pendingLanes,0===i&&(ph=null),function(e){if(_o&&"function"==typeof _o.onCommitFiberRoot)try{_o.onCommitFiberRoot(Mo,e,void 0,!(128&~e.current.flags))}catch(t){}}(n.stateNode),Sh(e,bo()),null!==t)for(a=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],a(r.value,{componentStack:r.stack,digest:r.digest});if(fh)throw fh=!1,e=mh,mh=null,e;!!(1&xh)&&0!==e.tag&&Vh(),i=e.pendingLanes,1&i?e===vh?yh++:(yh=0,vh=e):yh=0,du()}(e,t,n,a)}finally{Qp.transition=r,Wo=a}return null}function Vh(){if(null!==gh){var e=Go(xh),t=Qp.transition,n=Wo;try{if(Qp.transition=null,Wo=16>e?16:e,null===gh)var a=!1;else{if(e=gh,gh=null,xh=0,6&Zp)throw Error(Mi(331));var r=Zp;for(Zp|=4,bp=e.current;null!==bp;){var i=bp,s=i.child;if(16&bp.flags){var o=i.deletions;if(null!==o){for(var l=0;l<o.length;l++){var c=o[l];for(bp=c;null!==bp;){var d=bp;switch(d.tag){case 0:case 11:case 15:Cp(8,d,i)}var u=d.child;if(null!==u)u.return=d,bp=u;else for(;null!==bp;){var f=(d=bp).sibling,m=d.return;if(Mp(d),d===c){bp=null;break}if(null!==f){f.return=m,bp=f;break}bp=m}}}var p=i.alternate;if(null!==p){var h=p.child;if(null!==h){p.child=null;do{var g=h.sibling;h.sibling=null,h=g}while(null!==h)}}bp=i}}if(2064&i.subtreeFlags&&null!==s)s.return=i,bp=s;else e:for(;null!==bp;){if(2048&(i=bp).flags)switch(i.tag){case 0:case 11:case 15:Cp(9,i,i.return)}var x=i.sibling;if(null!==x){x.return=i.return,bp=x;break e}bp=i.return}}var y=e.current;for(bp=y;null!==bp;){var v=(s=bp).child;if(2064&s.subtreeFlags&&null!==v)v.return=s,bp=v;else e:for(s=y;null!==bp;){if(2048&(o=bp).flags)try{switch(o.tag){case 0:case 11:case 15:Sp(9,o)}}catch(w){Hh(o,o.return,w)}if(o===s){bp=null;break e}var b=o.sibling;if(null!==b){b.return=o.return,bp=b;break e}bp=o.return}}if(Zp=r,du(),_o&&"function"==typeof _o.onPostCommitFiberRoot)try{_o.onPostCommitFiberRoot(Mo,e)}catch(w){}a=!0}return a}finally{Wo=n,Qp.transition=t}}return!1}function $h(e,t,n){e=lf(e,t=Pm(0,t=Lm(n,t),1),1),t=jh(),null!==e&&(Bo(e,1,t),Sh(e,t))}function Hh(e,t,n){if(3===e.tag)$h(e,e,n);else for(;null!==t;){if(3===t.tag){$h(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof a.componentDidCatch&&(null===ph||!ph.has(a))){t=lf(t,e=Om(t,e=Lm(n,e),1),1),e=jh(),null!==t&&(Bo(t,1,e),Sh(t,e));break}}t=t.return}}function Yh(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),t=jh(),e.pingedLanes|=e.suspendedLanes&n,Jp===e&&(Xp&n)===n&&(4===nh||3===nh&&(130023424&Xp)===Xp&&500>bo()-ch?Dh(e,0):sh|=n),Sh(e,t)}function qh(e,t){0===t&&(1&e.mode?(t=To,!(130023424&(To<<=1))&&(To=4194304)):t=1);var n=jh();null!==(e=nf(e,t))&&(Bo(e,t,n),Sh(e,n))}function Qh(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),qh(e,n)}function Zh(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(Mi(314))}null!==a&&a.delete(t),qh(e,n)}function Jh(e,t){return go(e,t)}function Kh(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xh(e,t,n,a){return new Kh(e,t,n,a)}function eg(e){return!(!(e=e.prototype)||!e.isReactComponent)}function tg(e,t){var n=e.alternate;return null===n?((n=Xh(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ng(e,t,n,a,r,i){var s=2;if(a=e,"function"==typeof e)eg(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case $i:return ag(n.children,r,i,t);case Hi:s=8,r|=8;break;case Yi:return(e=Xh(12,n,t,2|r)).elementType=Yi,e.lanes=i,e;case Ji:return(e=Xh(13,n,t,r)).elementType=Ji,e.lanes=i,e;case Ki:return(e=Xh(19,n,t,r)).elementType=Ki,e.lanes=i,e;case ts:return rg(n,r,i,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case qi:s=10;break e;case Qi:s=9;break e;case Zi:s=11;break e;case Xi:s=14;break e;case es:s=16,a=null;break e}throw Error(Mi(130,null==e?e:typeof e,""))}return(t=Xh(s,n,t,r)).elementType=e,t.type=a,t.lanes=i,t}function ag(e,t,n,a){return(e=Xh(7,e,a,t)).lanes=n,e}function rg(e,t,n,a){return(e=Xh(22,e,a,t)).elementType=ts,e.lanes=n,e.stateNode={isHidden:!1},e}function ig(e,t,n){return(e=Xh(6,e,null,t)).lanes=n,e}function sg(e,t,n){return(t=Xh(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function og(e,t,n,a,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fo(0),this.expirationTimes=Fo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fo(0),this.identifierPrefix=a,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function lg(e,t,n,a,r,i,s,o,l){return e=new og(e,t,n,o,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Xh(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rf(i),e}function cg(e){if(!e)return Qd;e:{if(uo(e=e._reactInternals)!==e||1!==e.tag)throw Error(Mi(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(eu(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(Mi(171))}if(1===e.tag){var n=e.type;if(eu(n))return au(e,n,t)}return t}function dg(e,t,n,a,r,i,s,o,l){return(e=lg(n,a,!0,e,0,i,0,o,l)).context=cg(null),n=e.current,(i=of(a=jh(),r=Nh(n))).callback=null!=t?t:null,lf(n,i,r),e.current.lanes=r,Bo(e,r,a),Sh(e,a),e}function ug(e,t,n,a){var r=t.current,i=jh(),s=Nh(r);return n=cg(n),null===t.context?t.context=n:t.pendingContext=n,(t=of(i,s)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=lf(r,t,s))&&(Ch(e,r,s,i),cf(e,r,s)),s}function fg(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function mg(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function pg(e,t){mg(e,t),(e=e.alternate)&&mg(e,t)}$p=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Jd.current)Um=!0;else{if(0===(e.lanes&n)&&!(128&t.flags))return Um=!1,function(e,t,n){switch(t.tag){case 3:Jm(t),Pu();break;case 5:bf(t);break;case 1:eu(t.type)&&ru(t);break;case 4:yf(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,r=t.memoizedProps.value;qd(Vu,a._currentValue),a._currentValue=r;break;case 13:if(null!==(a=t.memoizedState))return null!==a.dehydrated?(qd(jf,1&jf.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ip(e,t,n):(qd(jf,1&jf.current),null!==(e=fp(e,t,n))?e.sibling:null);qd(jf,1&jf.current);break;case 19:if(a=0!==(n&t.childLanes),128&e.flags){if(a)return dp(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),qd(jf,jf.current),a)break;return null;case 22:case 23:return t.lanes=0,Hm(e,t,n)}return fp(e,t,n)}(e,t,n);Um=!!(131072&e.flags)}else Um=!1,ku&&1048576&t.flags&&wu(t,pu,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;up(e,t),e=t.pendingProps;var r=Xd(t,Zd.current);Ju(t,n),r=zf(null,t,a,e,r,n);var i=Ff();return t.flags|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,eu(a)?(i=!0,ru(t)):i=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,rf(t),r.updater=km,t.stateNode=r,r._reactInternals=t,Im(t,a,e,n),t=Zm(null,t,a,!0,i,n)):(t.tag=0,ku&&i&&ju(t),Wm(null,t,r,n),t=t.child),t;case 16:a=t.elementType;e:{switch(up(e,t),e=t.pendingProps,a=(r=a._init)(a._payload),t.type=a,r=t.tag=function(e){if("function"==typeof e)return eg(e)?1:0;if(null!=e){if((e=e.$$typeof)===Zi)return 11;if(e===Xi)return 14}return 2}(a),e=Cm(a,e),r){case 0:t=qm(null,t,a,e,n);break e;case 1:t=Qm(null,t,a,e,n);break e;case 11:t=Gm(null,t,a,e,n);break e;case 14:t=Vm(null,t,a,Cm(a.type,e),n);break e}throw Error(Mi(306,a,""))}return t;case 0:return a=t.type,r=t.pendingProps,qm(e,t,a,r=t.elementType===a?r:Cm(a,r),n);case 1:return a=t.type,r=t.pendingProps,Qm(e,t,a,r=t.elementType===a?r:Cm(a,r),n);case 3:e:{if(Jm(t),null===e)throw Error(Mi(387));a=t.pendingProps,r=(i=t.memoizedState).element,sf(e,t),uf(t,a,null,n);var s=t.memoizedState;if(a=s.element,i.isDehydrated){if(i={element:a,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Km(e,t,a,n,r=Lm(Error(Mi(423)),t));break e}if(a!==r){t=Km(e,t,a,n,r=Lm(Error(Mi(424)),t));break e}for(Su=Ld(t.stateNode.containerInfo.firstChild),Cu=t,ku=!0,Mu=null,n=Gu(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Pu(),a===r){t=fp(e,t,n);break e}Wm(e,t,a,n)}t=t.child}return t;case 5:return bf(t),null===e&&Lu(t),a=t.type,r=t.pendingProps,i=null!==e?e.memoizedProps:null,s=r.children,Cd(a,r)?s=null:null!==i&&Cd(a,i)&&(t.flags|=32),Ym(e,t),Wm(e,t,s,n),t.child;case 6:return null===e&&Lu(t),null;case 13:return ip(e,t,n);case 4:return yf(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=Wu(t,null,a,n):Wm(e,t,a,n),t.child;case 11:return a=t.type,r=t.pendingProps,Gm(e,t,a,r=t.elementType===a?r:Cm(a,r),n);case 7:return Wm(e,t,t.pendingProps,n),t.child;case 8:case 12:return Wm(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,r=t.pendingProps,i=t.memoizedProps,s=r.value,qd(Vu,a._currentValue),a._currentValue=s,null!==i)if(Ec(i.value,s)){if(i.children===r.children&&!Jd.current){t=fp(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var o=i.dependencies;if(null!==o){s=i.child;for(var l=o.firstContext;null!==l;){if(l.context===a){if(1===i.tag){(l=of(-1,n&-n)).tag=2;var c=i.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),Zu(i.return,n,t),o.lanes|=n;break}l=l.next}}else if(10===i.tag)s=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(s=i.return))throw Error(Mi(341));s.lanes|=n,null!==(o=s.alternate)&&(o.lanes|=n),Zu(s,n,t),s=i.sibling}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===t){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}Wm(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,a=t.pendingProps.children,Ju(t,n),a=a(r=Ku(r)),t.flags|=1,Wm(e,t,a,n),t.child;case 14:return r=Cm(a=t.type,t.pendingProps),Vm(e,t,a,r=Cm(a.type,r),n);case 15:return $m(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,r=t.pendingProps,r=t.elementType===a?r:Cm(a,r),up(e,t),t.tag=1,eu(a)?(e=!0,ru(t)):e=!1,Ju(t,n),_m(t,a,r),Im(t,a,r,n),Zm(null,t,a,!0,e,n);case 19:return dp(e,t,n);case 22:return Hm(e,t,n)}throw Error(Mi(156,t.tag))};var hg="function"==typeof reportError?reportError:function(e){console.error(e)};function gg(e){this._internalRoot=e}function xg(e){this._internalRoot=e}function yg(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function vg(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function bg(){}function wg(e,t,n,a,r){var i=n._reactRootContainer;if(i){var s=i;if("function"==typeof r){var o=r;r=function(){var e=fg(s);o.call(e)}}ug(t,s,e,r)}else s=function(e,t,n,a,r){if(r){if("function"==typeof a){var i=a;a=function(){var e=fg(s);i.call(e)}}var s=dg(t,a,e,0,null,!1,0,"",bg);return e._reactRootContainer=s,e[Od]=s.current,dd(8===e.nodeType?e.parentNode:e),Ah(),s}for(;r=e.lastChild;)e.removeChild(r);if("function"==typeof a){var o=a;a=function(){var e=fg(l);o.call(e)}}var l=lg(e,0,!1,null,0,!1,0,"",bg);return e._reactRootContainer=l,e[Od]=l.current,dd(8===e.nodeType?e.parentNode:e),Ah((function(){ug(t,l,n,a)})),l}(n,t,e,r,a);return fg(s)}xg.prototype.render=gg.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(Mi(409));ug(e,t,null,null)},xg.prototype.unmount=gg.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Ah((function(){ug(null,e,null,null)})),t[Od]=null}},xg.prototype.unstable_scheduleHydration=function(e){if(e){var t=Yo();e={blockedOn:null,target:e,priority:t};for(var n=0;n<nl.length&&0!==t&&t<nl[n].priority;n++);nl.splice(n,0,e),0===n&&sl(e)}},Vo=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Do(t.pendingLanes);0!==n&&(Uo(t,1|n),Sh(t,bo()),!(6&Zp)&&(dh=bo()+500,du()))}break;case 13:Ah((function(){var t=nf(e,1);if(null!==t){var n=jh();Ch(t,e,1,n)}})),pg(e,1)}},$o=function(e){if(13===e.tag){var t=nf(e,134217728);if(null!==t)Ch(t,e,134217728,jh());pg(e,134217728)}},Ho=function(e){if(13===e.tag){var t=Nh(e),n=nf(e,t);if(null!==n)Ch(n,e,t,jh());pg(e,t)}},Yo=function(){return Wo},qo=function(e,t){var n=Wo;try{return Wo=e,t()}finally{Wo=n}},Vs=function(e,t,n){switch(t){case"input":if(bs(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=Gd(a);if(!r)throw Error(Mi(90));hs(a),bs(a,r)}}}break;case"textarea":Ms(e,n);break;case"select":null!=(t=n.value)&&Cs(e,!!n.multiple,t,!1)}},Zs=Lh,Js=Ah;var jg={usingClientEntryPoint:!1,Events:[Ud,Wd,Gd,qs,Qs,Lh]},Ng={findFiberByHostInstance:Bd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cg={bundleType:Ng.bundleType,version:Ng.version,rendererPackageName:Ng.rendererPackageName,rendererConfig:Ng.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=po(e))?null:e.stateNode},findFiberByHostInstance:Ng.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Sg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sg.isDisabled&&Sg.supportsFiber)try{Mo=Sg.inject(Cg),_o=Sg}catch(As){}}wi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jg,wi.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!yg(t))throw Error(Mi(200));return function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Vi,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},wi.createRoot=function(e,t){if(!yg(e))throw Error(Mi(299));var n=!1,a="",r=hg;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=lg(e,1,!1,null,0,n,0,a,r),e[Od]=t.current,dd(8===e.nodeType?e.parentNode:e),new gg(t)},wi.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(Mi(188));throw e=Object.keys(e).join(","),Error(Mi(268,e))}return e=null===(e=po(t))?null:e.stateNode},wi.flushSync=function(e){return Ah(e)},wi.hydrate=function(e,t,n){if(!vg(t))throw Error(Mi(200));return wg(null,e,t,!0,n)},wi.hydrateRoot=function(e,t,n){if(!yg(e))throw Error(Mi(405));var a=null!=n&&n.hydratedSources||null,r=!1,i="",s=hg;if(null!=n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=dg(t,null,e,1,null!=n?n:null,r,0,i,s),e[Od]=t.current,dd(e),a)for(e=0;e<a.length;e++)r=(r=(n=a[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new xg(t)},wi.render=function(e,t,n){if(!vg(t))throw Error(Mi(200));return wg(null,e,t,!1,n)},wi.unmountComponentAtNode=function(e){if(!vg(e))throw Error(Mi(40));return!!e._reactRootContainer&&(Ah((function(){wg(null,null,e,!1,(function(){e._reactRootContainer=null,e[Od]=null}))})),!0)},wi.unstable_batchedUpdates=Lh,wi.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!vg(n))throw Error(Mi(200));if(null==e||void 0===e._reactInternals)throw Error(Mi(38));return wg(e,t,n,!1,a)},wi.version="18.3.1-next-f1338f8080-20240426",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),bi.exports=wi;var kg=bi.exports;const Mg=Cr(kg);var _g,Eg=kg;_g=Eg.createRoot,Eg.hydrateRoot;const Ig={},Lg=function(e,t,n){let a=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),n=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));a=Promise.allSettled(t.map((e=>{if((e=function(e){return"/"+e}(e))in Ig)return;Ig[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script"),r.crossOrigin="",r.href=e,n&&r.setAttribute("nonce",n),document.head.appendChild(r),t?new Promise(((t,n)=>{r.addEventListener("load",t),r.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function r(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return a.then((t=>{for(const e of t||[])"rejected"===e.status&&r(e.reason);return e().catch(r)}))};var Ag={exports:{}},Tg={},Dg=ci;var Pg="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Og=Dg.useState,Rg=Dg.useEffect,zg=Dg.useLayoutEffect,Fg=Dg.useDebugValue;function Bg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Pg(e,n)}catch(a){return!0}}var Ug="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),a=Og({inst:{value:n,getSnapshot:t}}),r=a[0].inst,i=a[1];return zg((function(){r.value=n,r.getSnapshot=t,Bg(r)&&i({inst:r})}),[e,n,t]),Rg((function(){return Bg(r)&&i({inst:r}),e((function(){Bg(r)&&i({inst:r})}))}),[e]),Fg(n),n};Tg.useSyncExternalStore=void 0!==Dg.useSyncExternalStore?Dg.useSyncExternalStore:Ug,Ag.exports=Tg;var Wg=Ag.exports;const Gg=ui.useInsertionEffect,Vg=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?ci.useLayoutEffect:ci.useEffect,$g=Gg||Vg,Hg=e=>{const t=ci.useRef([e,(...e)=>t[0](...e)]).current;return $g((()=>{t[0]=e})),t[1]},Yg="pushState",qg="replaceState",Qg=["popstate",Yg,qg,"hashchange"],Zg=e=>{for(const t of Qg)addEventListener(t,e);return()=>{for(const t of Qg)removeEventListener(t,e)}},Jg=(e,t)=>Wg.useSyncExternalStore(Zg,e,t),Kg=()=>location.search,Xg=()=>location.pathname,ex=({ssrPath:e}={})=>Jg(Xg,e?()=>e:Xg),tx=(e,{replace:t=!1,state:n=null}={})=>history[t?qg:Yg](n,"",e),nx=Symbol.for("wouter_v3");if("undefined"!=typeof history&&void 0===window[nx]){for(const e of[Yg,qg]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),a=new Event(e);return a.arguments=arguments,dispatchEvent(a),n}}Object.defineProperty(window,nx,{value:!0})}const ax=(e="")=>"/"===e?"":e,rx=(e="",t)=>((e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/")(ix(ax(e)),ix(t)),ix=e=>{try{return decodeURI(e)}catch(t){return e}},sx={hook:(e={})=>[ex(e),tx],searchHook:({ssrSearch:e=""}={})=>Jg(Kg,(()=>e)),parser:function(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,a,r,i,s=[],o="",l=e.split("/");for(l[0]||l.shift();r=l.shift();)"*"===(n=r[0])?(s.push(n),o+="?"===r[1]?"(?:/(.*))?":"/(.*)"):":"===n?(a=r.indexOf("?",1),i=r.indexOf(".",1),s.push(r.substring(1,~a?a:~i?i:r.length)),o+=~a&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(o+=(~a?"?":"")+"\\"+r.substring(i))):o+="/"+r;return{keys:s,pattern:new RegExp("^"+o+(t?"(?=$|/)":"/?$"),"i")}},base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},ox=ci.createContext(sx),lx=()=>ci.useContext(ox),cx={},dx=ci.createContext(cx),ux=()=>ci.useContext(dx),fx=e=>{const[t,n]=e.hook(e);return[rx(e.base,t),Hg(((t,a)=>n(((e,t)=>"~"===e[0]?e.slice(1):ax(t)+e)(t,e.base),a)))]},mx=()=>fx(lx()),px=(e,t,n,a)=>{const{pattern:r,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",a),s=r.exec(n)||[],[o,...l]=s;return void 0!==o?[!0,(()=>{const e=!1!==i?Object.fromEntries(i.map(((e,t)=>[e,l[t]]))):s.groups;let t={...l};return e&&Object.assign(t,e),t})(),...a?[o]:[]]:[!1,null]},hx=e=>px(lx().parser,e,mx()[0]),gx=({children:e,...t})=>{var n,a;const r=lx(),i=t.hook?sx:r;let s=i;const[o,l]=(null==(n=t.ssrPath)?void 0:n.split("?"))??[];l&&(t.ssrSearch=l,t.ssrPath=o),t.hrefs=t.hrefs??(null==(a=t.hook)?void 0:a.hrefs);let c=ci.useRef({}),d=c.current,u=d;for(let f in i){const e="base"===f?i[f]+(t[f]||""):t[f]||i[f];d===u&&e!==u[f]&&(c.current=u={...u}),u[f]=e,e!==i[f]&&(s=u)}return ci.createElement(ox.Provider,{value:s,children:e})},xx=({children:e,component:t},n)=>t?ci.createElement(t,{params:n}):"function"==typeof e?e(n):e,yx=({path:e,nest:t,match:n,...a})=>{const r=lx(),[i]=fx(r),[s,o,l]=n??px(r.parser,e,i,t),c=(e=>{let t=ci.useRef(cx);const n=t.current;return t.current=Object.keys(e).length!==Object.keys(n).length||Object.entries(e).some((([e,t])=>t!==n[e]))?e:n})({...ux(),...o});if(!s)return null;const d=l?ci.createElement(gx,{base:l},xx(a,c)):xx(a,c);return ci.createElement(dx.Provider,{value:c,children:d})},vx=ci.forwardRef(((e,t)=>{const n=lx(),[a,r]=fx(n),{to:i="",href:s=i,onClick:o,asChild:l,children:c,className:d,replace:u,state:f,...m}=e,p=Hg((t=>{t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||0!==t.button||(null==o||o(t),t.defaultPrevented||(t.preventDefault(),r(s,e)))})),h=n.hrefs("~"===s[0]?s.slice(1):n.base+s,n);return l&&ci.isValidElement(c)?ci.cloneElement(c,{onClick:p,href:h}):ci.createElement("a",{...m,onClick:p,href:h,className:(null==d?void 0:d.call)?d(a===s):d,children:c,ref:t})})),bx=e=>Array.isArray(e)?e.flatMap((e=>bx(e&&e.type===ci.Fragment?e.props.children:e))):[e],wx=({children:e,location:t})=>{const n=lx(),[a]=fx(n);for(const r of bx(e)){let e=0;if(ci.isValidElement(r)&&(e=px(n.parser,r.props.path,t||a,r.props.nest))[0])return ci.cloneElement(r,{match:e})}return null},jx=e=>{const{to:t,href:n=t}=e,a=lx(),[,r]=fx(a),i=Hg((()=>r(t||n,e))),{ssrContext:s}=a;return Vg((()=>{i()}),[]),s&&(s.redirectTo=t),null};var Nx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Cx="undefined"==typeof window||"Deno"in globalThis;function Sx(){}function kx(e){return"number"==typeof e&&e>=0&&e!==1/0}function Mx(e,t){return Math.max(e+(t||0)-Date.now(),0)}function _x(e,t){return"function"==typeof e?e(t):e}function Ex(e,t){return"function"==typeof e?e(t):e}function Ix(e,t){const{type:n="all",exact:a,fetchStatus:r,predicate:i,queryKey:s,stale:o}=e;if(s)if(a){if(t.queryHash!==Ax(s,t.options))return!1}else if(!Dx(t.queryKey,s))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return("boolean"!=typeof o||t.isStale()===o)&&((!r||r===t.state.fetchStatus)&&!(i&&!i(t)))}function Lx(e,t){const{exact:n,status:a,predicate:r,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Tx(t.options.mutationKey)!==Tx(i))return!1}else if(!Dx(t.options.mutationKey,i))return!1}return(!a||t.state.status===a)&&!(r&&!r(t))}function Ax(e,t){return((null==t?void 0:t.queryKeyHashFn)||Tx)(e)}function Tx(e){return JSON.stringify(e,((e,t)=>zx(t)?Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}):t))}function Dx(e,t){return e===t||typeof e==typeof t&&(!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&Object.keys(t).every((n=>Dx(e[n],t[n]))))}function Px(e,t){if(e===t)return e;const n=Rx(e)&&Rx(t);if(n||zx(e)&&zx(t)){const a=n?e:Object.keys(e),r=a.length,i=n?t:Object.keys(t),s=i.length,o=n?[]:{};let l=0;for(let c=0;c<s;c++){const r=n?c:i[c];(!n&&a.includes(r)||n)&&void 0===e[r]&&void 0===t[r]?(o[r]=void 0,l++):(o[r]=Px(e[r],t[r]),o[r]===e[r]&&void 0!==e[r]&&l++)}return r===s&&l===r?e:o}return t}function Ox(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Rx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function zx(e){if(!Fx(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!Fx(n)&&(!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function Fx(e){return"[object Object]"===Object.prototype.toString.call(e)}function Bx(e,t,n){return"function"==typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?Px(e,t):t}function Ux(e,t,n=0){const a=[...e,t];return n&&a.length>n?a.slice(1):a}function Wx(e,t,n=0){const a=[t,...e];return n&&a.length>n?a.slice(0,-1):a}var Gx=Symbol();function Vx(e,t){return!e.queryFn&&(null==t?void 0:t.initialPromise)?()=>t.initialPromise:e.queryFn&&e.queryFn!==Gx?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}function $x(e,t){return"function"==typeof e?e(...t):!!e}var Hx=new(a=class extends Nx{constructor(){super(),yr(this,e),yr(this,t),yr(this,n),vr(this,n,(e=>{if(!Cx&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}))}onSubscribe(){xr(this,t)||this.setEventListener(xr(this,n))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=xr(this,t))||e.call(this),vr(this,t,void 0))}setEventListener(e){var a;vr(this,n,e),null==(a=xr(this,t))||a.call(this),vr(this,t,e((e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})))}setFocused(t){xr(this,e)!==t&&(vr(this,e,t),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach((t=>{t(e)}))}isFocused(){var t;return"boolean"==typeof xr(this,e)?xr(this,e):"hidden"!==(null==(t=globalThis.document)?void 0:t.visibilityState)}},e=new WeakMap,t=new WeakMap,n=new WeakMap,a),Yx=new(o=class extends Nx{constructor(){super(),yr(this,r,!0),yr(this,i),yr(this,s),vr(this,s,(e=>{if(!Cx&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}))}onSubscribe(){xr(this,i)||this.setEventListener(xr(this,s))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=xr(this,i))||e.call(this),vr(this,i,void 0))}setEventListener(e){var t;vr(this,s,e),null==(t=xr(this,i))||t.call(this),vr(this,i,e(this.setOnline.bind(this)))}setOnline(e){xr(this,r)!==e&&(vr(this,r,e),this.listeners.forEach((t=>{t(e)})))}isOnline(){return xr(this,r)}},r=new WeakMap,i=new WeakMap,s=new WeakMap,o);function qx(){let e,t;const n=new Promise(((n,a)=>{e=n,t=a}));function a(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch((()=>{})),n.resolve=t=>{a({status:"fulfilled",value:t}),e(t)},n.reject=e=>{a({status:"rejected",reason:e}),t(e)},n}function Qx(e){return Math.min(1e3*2**e,3e4)}function Zx(e){return"online"!==(e??"online")||Yx.isOnline()}var Jx=class extends Error{constructor(e){super("CancelledError"),this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent}};function Kx(e){return e instanceof Jx}function Xx(e){let t,n=!1,a=0,r=!1;const i=qx(),s=()=>Hx.isFocused()&&("always"===e.networkMode||Yx.isOnline())&&e.canRun(),o=()=>Zx(e.networkMode)&&e.canRun(),l=n=>{var a;r||(r=!0,null==(a=e.onSuccess)||a.call(e,n),null==t||t(),i.resolve(n))},c=n=>{var a;r||(r=!0,null==(a=e.onError)||a.call(e,n),null==t||t(),i.reject(n))},d=()=>new Promise((n=>{var a;t=e=>{(r||s())&&n(e)},null==(a=e.onPause)||a.call(e)})).then((()=>{var n;t=void 0,r||null==(n=e.onContinue)||n.call(e)})),u=()=>{if(r)return;let t;const i=0===a?e.initialPromise:void 0;try{t=i??e.fn()}catch(o){t=Promise.reject(o)}Promise.resolve(t).then(l).catch((t=>{var i;if(r)return;const o=e.retry??(Cx?0:3),l=e.retryDelay??Qx,f="function"==typeof l?l(a,t):l,m=!0===o||"number"==typeof o&&a<o||"function"==typeof o&&o(a,t);var p;!n&&m?(a++,null==(i=e.onFail)||i.call(e,a,t),(p=f,new Promise((e=>{setTimeout(e,p)}))).then((()=>s()?void 0:d())).then((()=>{n?c(t):u()}))):c(t)}))};return{promise:i,cancel:t=>{var n;r||(c(new Jx(t)),null==(n=e.abort)||n.call(e))},continue:()=>(null==t||t(),i),cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:o,start:()=>(o()?u():d().then(u),i)}}var ey=e=>setTimeout(e,0);var ty=function(){let e=[],t=0,n=e=>{e()},a=e=>{e()},r=ey;const i=a=>{t?e.push(a):r((()=>{n(a)}))};return{batch:i=>{let s;t++;try{s=i()}finally{t--,t||(()=>{const t=e;e=[],t.length&&r((()=>{a((()=>{t.forEach((e=>{n(e)}))}))}))})()}return s},batchCalls:e=>(...t)=>{i((()=>{e(...t)}))},schedule:i,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{a=e},setScheduler:e=>{r=e}}}(),ny=(c=class{constructor(){yr(this,l)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),kx(this.gcTime)&&vr(this,l,setTimeout((()=>{this.optionalRemove()}),this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Cx?1/0:3e5))}clearGcTimeout(){xr(this,l)&&(clearTimeout(xr(this,l)),vr(this,l,void 0))}},l=new WeakMap,c),ay=(v=class extends ny{constructor(e){super(),yr(this,x),yr(this,d),yr(this,u),yr(this,f),yr(this,m),yr(this,p),yr(this,h),yr(this,g),vr(this,g,!1),vr(this,h,e.defaultOptions),this.setOptions(e.options),this.observers=[],vr(this,m,e.client),vr(this,f,xr(this,m).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,vr(this,d,function(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,a=n?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}(this.options)),this.state=e.state??xr(this,d),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return null==(e=xr(this,p))?void 0:e.promise}setOptions(e){this.options={...xr(this,h),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||xr(this,f).remove(this)}setData(e,t){const n=Bx(this.state.data,e,this.options);return br(this,x,y).call(this,{data:n,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),n}setState(e,t){br(this,x,y).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var t,n;const a=null==(t=xr(this,p))?void 0:t.promise;return null==(n=xr(this,p))||n.cancel(e),a?a.then(Sx).catch(Sx):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(xr(this,d))}isActive(){return this.observers.some((e=>!1!==Ex(e.options.enabled,this)))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Gx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some((e=>e.getCurrentResult().isStale)):void 0===this.state.data)}isStaleByTime(e=0){return this.state.isInvalidated||void 0===this.state.data||!Mx(this.state.dataUpdatedAt,e)}onFocus(){var e;const t=this.observers.find((e=>e.shouldFetchOnWindowFocus()));null==t||t.refetch({cancelRefetch:!1}),null==(e=xr(this,p))||e.continue()}onOnline(){var e;const t=this.observers.find((e=>e.shouldFetchOnReconnect()));null==t||t.refetch({cancelRefetch:!1}),null==(e=xr(this,p))||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),xr(this,f).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter((t=>t!==e)),this.observers.length||(xr(this,p)&&(xr(this,g)?xr(this,p).cancel({revert:!0}):xr(this,p).cancelRetry()),this.scheduleGc()),xr(this,f).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||br(this,x,y).call(this,{type:"invalidate"})}fetch(e,t){var n,a,r;if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&(null==t?void 0:t.cancelRefetch))this.cancel({silent:!0});else if(xr(this,p))return xr(this,p).continueRetry(),xr(this,p).promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find((e=>e.options.queryFn));e&&this.setOptions(e.options)}const i=new AbortController,s=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(vr(this,g,!0),i.signal)})},o={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:xr(this,m),state:this.state,fetchFn:()=>{const e=Vx(this.options,t),n={client:xr(this,m),queryKey:this.queryKey,meta:this.meta};return s(n),vr(this,g,!1),this.options.persister?this.options.persister(e,n,this):e(n)}};s(o),null==(n=this.options.behavior)||n.onFetch(o,this),vr(this,u,this.state),"idle"!==this.state.fetchStatus&&this.state.fetchMeta===(null==(a=o.fetchOptions)?void 0:a.meta)||br(this,x,y).call(this,{type:"fetch",meta:null==(r=o.fetchOptions)?void 0:r.meta});const l=e=>{var t,n,a,r;Kx(e)&&e.silent||br(this,x,y).call(this,{type:"error",error:e}),Kx(e)||(null==(n=(t=xr(this,f).config).onError)||n.call(t,e,this),null==(r=(a=xr(this,f).config).onSettled)||r.call(a,this.state.data,e,this)),this.scheduleGc()};return vr(this,p,Xx({initialPromise:null==t?void 0:t.initialPromise,fn:o.fetchFn,abort:i.abort.bind(i),onSuccess:e=>{var t,n,a,r;if(void 0!==e){try{this.setData(e)}catch(i){return void l(i)}null==(n=(t=xr(this,f).config).onSuccess)||n.call(t,e,this),null==(r=(a=xr(this,f).config).onSettled)||r.call(a,e,this.state.error,this),this.scheduleGc()}else l(new Error(`${this.queryHash} data is undefined`))},onError:l,onFail:(e,t)=>{br(this,x,y).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{br(this,x,y).call(this,{type:"pause"})},onContinue:()=>{br(this,x,y).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),xr(this,p).start()}},d=new WeakMap,u=new WeakMap,f=new WeakMap,m=new WeakMap,p=new WeakMap,h=new WeakMap,g=new WeakMap,x=new WeakSet,y=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...ry(t.data,this.options),fetchMeta:e.meta??null};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return Kx(n)&&n.revert&&xr(this,u)?{...xr(this,u),fetchStatus:"idle"}:{...t,error:n,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),ty.batch((()=>{this.observers.forEach((e=>{e.onQueryUpdate()})),xr(this,f).notify({query:this,type:"updated",action:e})}))},v);function ry(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Zx(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}var iy=(w=class extends Nx{constructor(e={}){super(),yr(this,b),this.config=e,vr(this,b,new Map)}build(e,t,n){const a=t.queryKey,r=t.queryHash??Ax(a,t);let i=this.get(r);return i||(i=new ay({client:e,queryKey:a,queryHash:r,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(a)}),this.add(i)),i}add(e){xr(this,b).has(e.queryHash)||(xr(this,b).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=xr(this,b).get(e.queryHash);t&&(e.destroy(),t===e&&xr(this,b).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ty.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}get(e){return xr(this,b).get(e)}getAll(){return[...xr(this,b).values()]}find(e){const t={exact:!0,...e};return this.getAll().find((e=>Ix(t,e)))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter((t=>Ix(e,t))):t}notify(e){ty.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}onFocus(){ty.batch((()=>{this.getAll().forEach((e=>{e.onFocus()}))}))}onOnline(){ty.batch((()=>{this.getAll().forEach((e=>{e.onOnline()}))}))}},b=new WeakMap,w),sy=(M=class extends ny{constructor(e){super(),yr(this,S),yr(this,j),yr(this,N),yr(this,C),this.mutationId=e.mutationId,vr(this,N,e.mutationCache),vr(this,j,[]),this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){xr(this,j).includes(e)||(xr(this,j).push(e),this.clearGcTimeout(),xr(this,N).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){vr(this,j,xr(this,j).filter((t=>t!==e))),this.scheduleGc(),xr(this,N).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){xr(this,j).length||("pending"===this.state.status?this.scheduleGc():xr(this,N).remove(this))}continue(){var e;return(null==(e=xr(this,C))?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var t,n,a,r,i,s,o,l,c,d,u,f,m,p,h,g,x,y,v,b;const w=()=>{br(this,S,k).call(this,{type:"continue"})};vr(this,C,Xx({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{br(this,S,k).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{br(this,S,k).call(this,{type:"pause"})},onContinue:w,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>xr(this,N).canRun(this)}));const j="pending"===this.state.status,M=!xr(this,C).canStart();try{if(j)w();else{br(this,S,k).call(this,{type:"pending",variables:e,isPaused:M}),await(null==(n=(t=xr(this,N).config).onMutate)?void 0:n.call(t,e,this));const i=await(null==(r=(a=this.options).onMutate)?void 0:r.call(a,e));i!==this.state.context&&br(this,S,k).call(this,{type:"pending",context:i,variables:e,isPaused:M})}const m=await xr(this,C).start();return await(null==(s=(i=xr(this,N).config).onSuccess)?void 0:s.call(i,m,e,this.state.context,this)),await(null==(l=(o=this.options).onSuccess)?void 0:l.call(o,m,e,this.state.context)),await(null==(d=(c=xr(this,N).config).onSettled)?void 0:d.call(c,m,null,this.state.variables,this.state.context,this)),await(null==(f=(u=this.options).onSettled)?void 0:f.call(u,m,null,e,this.state.context)),br(this,S,k).call(this,{type:"success",data:m}),m}catch(_){try{throw await(null==(p=(m=xr(this,N).config).onError)?void 0:p.call(m,_,e,this.state.context,this)),await(null==(g=(h=this.options).onError)?void 0:g.call(h,_,e,this.state.context)),await(null==(y=(x=xr(this,N).config).onSettled)?void 0:y.call(x,void 0,_,this.state.variables,this.state.context,this)),await(null==(b=(v=this.options).onSettled)?void 0:b.call(v,void 0,_,e,this.state.context)),_}finally{br(this,S,k).call(this,{type:"error",error:_})}}finally{xr(this,N).runNext(this)}}},j=new WeakMap,N=new WeakMap,C=new WeakMap,S=new WeakSet,k=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),ty.batch((()=>{xr(this,j).forEach((t=>{t.onMutationUpdate(e)})),xr(this,N).notify({mutation:this,type:"updated",action:e})}))},M);var oy=(L=class extends Nx{constructor(e={}){super(),yr(this,_),yr(this,E),yr(this,I),this.config=e,vr(this,_,new Set),vr(this,E,new Map),vr(this,I,0)}build(e,t,n){const a=new sy({mutationCache:this,mutationId:++wr(this,I)._,options:e.defaultMutationOptions(t),state:n});return this.add(a),a}add(e){xr(this,_).add(e);const t=ly(e);if("string"==typeof t){const n=xr(this,E).get(t);n?n.push(e):xr(this,E).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(xr(this,_).delete(e)){const t=ly(e);if("string"==typeof t){const n=xr(this,E).get(t);if(n)if(n.length>1){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}else n[0]===e&&xr(this,E).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=ly(e);if("string"==typeof t){const n=xr(this,E).get(t),a=null==n?void 0:n.find((e=>"pending"===e.state.status));return!a||a===e}return!0}runNext(e){var t;const n=ly(e);if("string"==typeof n){const a=null==(t=xr(this,E).get(n))?void 0:t.find((t=>t!==e&&t.state.isPaused));return(null==a?void 0:a.continue())??Promise.resolve()}return Promise.resolve()}clear(){ty.batch((()=>{xr(this,_).forEach((e=>{this.notify({type:"removed",mutation:e})})),xr(this,_).clear(),xr(this,E).clear()}))}getAll(){return Array.from(xr(this,_))}find(e){const t={exact:!0,...e};return this.getAll().find((e=>Lx(t,e)))}findAll(e={}){return this.getAll().filter((t=>Lx(e,t)))}notify(e){ty.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}resumePausedMutations(){const e=this.getAll().filter((e=>e.state.isPaused));return ty.batch((()=>Promise.all(e.map((e=>e.continue().catch(Sx))))))}},_=new WeakMap,E=new WeakMap,I=new WeakMap,L);function ly(e){var t;return null==(t=e.options.scope)?void 0:t.id}function cy(e){return{onFetch:(t,n)=>{var a,r,i,s,o;const l=t.options,c=null==(i=null==(r=null==(a=t.fetchOptions)?void 0:a.meta)?void 0:r.fetchMore)?void 0:i.direction,d=(null==(s=t.state.data)?void 0:s.pages)||[],u=(null==(o=t.state.data)?void 0:o.pageParams)||[];let f={pages:[],pageParams:[]},m=0;const p=async()=>{let n=!1;const a=Vx(t.options,t.fetchOptions),r=async(e,r,i)=>{if(n)return Promise.reject();if(null==r&&e.pages.length)return Promise.resolve(e);const s={client:t.client,queryKey:t.queryKey,pageParam:r,direction:i?"backward":"forward",meta:t.options.meta};var o;o=s,Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener("abort",(()=>{n=!0})),t.signal)});const l=await a(s),{maxPages:c}=t.options,d=i?Wx:Ux;return{pages:d(e.pages,l,c),pageParams:d(e.pageParams,r,c)}};if(c&&d.length){const e="backward"===c,t={pages:d,pageParams:u},n=(e?uy:dy)(l,t);f=await r(t,n,e)}else{const t=e??d.length;do{const e=0===m?u[0]??l.initialPageParam:dy(l,f);if(m>0&&null==e)break;f=await r(f,e),m++}while(m<t)}return f};t.options.persister?t.fetchFn=()=>{var e,a;return null==(a=(e=t.options).persister)?void 0:a.call(e,p,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=p}}}function dy(e,{pages:t,pageParams:n}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,n[a],n):void 0}function uy(e,{pages:t,pageParams:n}){var a;return t.length>0?null==(a=e.getPreviousPageParam)?void 0:a.call(e,t[0],t,n[0],n):void 0}var fy=(B=class{constructor(e={}){yr(this,A),yr(this,T),yr(this,D),yr(this,P),yr(this,O),yr(this,R),yr(this,z),yr(this,F),vr(this,A,e.queryCache||new iy),vr(this,T,e.mutationCache||new oy),vr(this,D,e.defaultOptions||{}),vr(this,P,new Map),vr(this,O,new Map),vr(this,R,0)}mount(){wr(this,R)._++,1===xr(this,R)&&(vr(this,z,Hx.subscribe((async e=>{e&&(await this.resumePausedMutations(),xr(this,A).onFocus())}))),vr(this,F,Yx.subscribe((async e=>{e&&(await this.resumePausedMutations(),xr(this,A).onOnline())}))))}unmount(){var e,t;wr(this,R)._--,0===xr(this,R)&&(null==(e=xr(this,z))||e.call(this),vr(this,z,void 0),null==(t=xr(this,F))||t.call(this),vr(this,F,void 0))}isFetching(e){return xr(this,A).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return xr(this,T).findAll({...e,status:"pending"}).length}getQueryData(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null==(t=xr(this,A).get(n.queryHash))?void 0:t.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=xr(this,A).build(this,t),a=n.state.data;return void 0===a?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(_x(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return xr(this,A).findAll(e).map((({queryKey:e,state:t})=>[e,t.data]))}setQueryData(e,t,n){const a=this.defaultQueryOptions({queryKey:e}),r=xr(this,A).get(a.queryHash),i=function(e,t){return"function"==typeof e?e(t):e}(t,null==r?void 0:r.state.data);if(void 0!==i)return xr(this,A).build(this,a).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return ty.batch((()=>xr(this,A).findAll(e).map((({queryKey:e})=>[e,this.setQueryData(e,t,n)]))))}getQueryState(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null==(t=xr(this,A).get(n.queryHash))?void 0:t.state}removeQueries(e){const t=xr(this,A);ty.batch((()=>{t.findAll(e).forEach((e=>{t.remove(e)}))}))}resetQueries(e,t){const n=xr(this,A);return ty.batch((()=>(n.findAll(e).forEach((e=>{e.reset()})),this.refetchQueries({type:"active",...e},t))))}cancelQueries(e,t={}){const n={revert:!0,...t},a=ty.batch((()=>xr(this,A).findAll(e).map((e=>e.cancel(n)))));return Promise.all(a).then(Sx).catch(Sx)}invalidateQueries(e,t={}){return ty.batch((()=>(xr(this,A).findAll(e).forEach((e=>{e.invalidate()})),"none"===(null==e?void 0:e.refetchType)?Promise.resolve():this.refetchQueries({...e,type:(null==e?void 0:e.refetchType)??(null==e?void 0:e.type)??"active"},t))))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},a=ty.batch((()=>xr(this,A).findAll(e).filter((e=>!e.isDisabled())).map((e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch(Sx)),"paused"===e.state.fetchStatus?Promise.resolve():t}))));return Promise.all(a).then(Sx)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=xr(this,A).build(this,t);return n.isStaleByTime(_x(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Sx).catch(Sx)}fetchInfiniteQuery(e){return e.behavior=cy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Sx).catch(Sx)}ensureInfiniteQueryData(e){return e.behavior=cy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Yx.isOnline()?xr(this,T).resumePausedMutations():Promise.resolve()}getQueryCache(){return xr(this,A)}getMutationCache(){return xr(this,T)}getDefaultOptions(){return xr(this,D)}setDefaultOptions(e){vr(this,D,e)}setQueryDefaults(e,t){xr(this,P).set(Tx(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...xr(this,P).values()],n={};return t.forEach((t=>{Dx(e,t.queryKey)&&Object.assign(n,t.defaultOptions)})),n}setMutationDefaults(e,t){xr(this,O).set(Tx(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...xr(this,O).values()],n={};return t.forEach((t=>{Dx(e,t.mutationKey)&&Object.assign(n,t.defaultOptions)})),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...xr(this,D).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ax(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Gx&&(t.enabled=!1),t}defaultMutationOptions(e){return(null==e?void 0:e._defaulted)?e:{...xr(this,D).mutations,...(null==e?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){xr(this,A).clear(),xr(this,T).clear()}},A=new WeakMap,T=new WeakMap,D=new WeakMap,P=new WeakMap,O=new WeakMap,R=new WeakMap,z=new WeakMap,F=new WeakMap,B),my=(fe=class extends Nx{constructor(e,t){super(),yr(this,ne),yr(this,U),yr(this,W),yr(this,G),yr(this,V),yr(this,$),yr(this,H),yr(this,Y),yr(this,q),yr(this,Q),yr(this,Z),yr(this,J),yr(this,K),yr(this,X),yr(this,ee),yr(this,te,new Set),this.options=t,vr(this,U,e),vr(this,q,null),vr(this,Y,qx()),this.options.experimental_prefetchInRender||xr(this,Y).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(xr(this,W).addObserver(this),py(xr(this,W),this.options)?br(this,ne,ae).call(this):this.updateResult(),br(this,ne,oe).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return hy(xr(this,W),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return hy(xr(this,W),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,br(this,ne,le).call(this),br(this,ne,ce).call(this),xr(this,W).removeObserver(this)}setOptions(e){const t=this.options,n=xr(this,W);if(this.options=xr(this,U).defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof Ex(this.options.enabled,xr(this,W)))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");br(this,ne,de).call(this),xr(this,W).setOptions(this.options),t._defaulted&&!Ox(this.options,t)&&xr(this,U).getQueryCache().notify({type:"observerOptionsUpdated",query:xr(this,W),observer:this});const a=this.hasListeners();a&&gy(xr(this,W),n,this.options,t)&&br(this,ne,ae).call(this),this.updateResult(),!a||xr(this,W)===n&&Ex(this.options.enabled,xr(this,W))===Ex(t.enabled,xr(this,W))&&_x(this.options.staleTime,xr(this,W))===_x(t.staleTime,xr(this,W))||br(this,ne,re).call(this);const r=br(this,ne,ie).call(this);!a||xr(this,W)===n&&Ex(this.options.enabled,xr(this,W))===Ex(t.enabled,xr(this,W))&&r===xr(this,ee)||br(this,ne,se).call(this,r)}getOptimisticResult(e){const t=xr(this,U).getQueryCache().build(xr(this,U),e),n=this.createResult(t,e);return function(e,t){if(!Ox(e.getCurrentResult(),t))return!0;return!1}(this,n)&&(vr(this,V,n),vr(this,H,this.options),vr(this,$,xr(this,W).state)),n}getCurrentResult(){return xr(this,V)}trackResult(e,t){return new Proxy(e,{get:(e,n)=>(this.trackProp(n),null==t||t(n),Reflect.get(e,n))})}trackProp(e){xr(this,te).add(e)}getCurrentQuery(){return xr(this,W)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=xr(this,U).defaultQueryOptions(e),n=xr(this,U).getQueryCache().build(xr(this,U),t);return n.fetch().then((()=>this.createResult(n,t)))}fetch(e){return br(this,ne,ae).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then((()=>(this.updateResult(),xr(this,V))))}createResult(e,t){var n;const a=xr(this,W),r=this.options,i=xr(this,V),s=xr(this,$),o=xr(this,H),l=e!==a?e.state:xr(this,G),{state:c}=e;let d,u={...c},f=!1;if(t._optimisticResults){const n=this.hasListeners(),i=!n&&py(e,t),s=n&&gy(e,a,t,r);(i||s)&&(u={...u,...ry(c.data,e.options)}),"isRestoring"===t._optimisticResults&&(u.fetchStatus="idle")}let{error:m,errorUpdatedAt:p,status:h}=u;d=u.data;let g=!1;if(void 0!==t.placeholderData&&void 0===d&&"pending"===h){let e;(null==i?void 0:i.isPlaceholderData)&&t.placeholderData===(null==o?void 0:o.placeholderData)?(e=i.data,g=!0):e="function"==typeof t.placeholderData?t.placeholderData(null==(n=xr(this,J))?void 0:n.state.data,xr(this,J)):t.placeholderData,void 0!==e&&(h="success",d=Bx(null==i?void 0:i.data,e,t),f=!0)}if(t.select&&void 0!==d&&!g)if(i&&d===(null==s?void 0:s.data)&&t.select===xr(this,Q))d=xr(this,Z);else try{vr(this,Q,t.select),d=t.select(d),d=Bx(null==i?void 0:i.data,d,t),vr(this,Z,d),vr(this,q,null)}catch(N){vr(this,q,N)}xr(this,q)&&(m=xr(this,q),d=xr(this,Z),p=Date.now(),h="error");const x="fetching"===u.fetchStatus,y="pending"===h,v="error"===h,b=y&&x,w=void 0!==d,j={status:h,fetchStatus:u.fetchStatus,isPending:y,isSuccess:"success"===h,isError:v,isInitialLoading:b,isLoading:b,data:d,dataUpdatedAt:u.dataUpdatedAt,error:m,errorUpdatedAt:p,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>l.dataUpdateCount||u.errorUpdateCount>l.errorUpdateCount,isFetching:x,isRefetching:x&&!y,isLoadingError:v&&!w,isPaused:"paused"===u.fetchStatus,isPlaceholderData:f,isRefetchError:v&&w,isStale:xy(e,t),refetch:this.refetch,promise:xr(this,Y)};if(this.options.experimental_prefetchInRender){const t=e=>{"error"===j.status?e.reject(j.error):void 0!==j.data&&e.resolve(j.data)},n=()=>{const e=vr(this,Y,j.promise=qx());t(e)},r=xr(this,Y);switch(r.status){case"pending":e.queryHash===a.queryHash&&t(r);break;case"fulfilled":"error"!==j.status&&j.data===r.value||n();break;case"rejected":"error"===j.status&&j.error===r.reason||n()}}return j}updateResult(){const e=xr(this,V),t=this.createResult(xr(this,W),this.options);if(vr(this,$,xr(this,W).state),vr(this,H,this.options),void 0!==xr(this,$).data&&vr(this,J,xr(this,W)),Ox(t,e))return;vr(this,V,t);br(this,ne,ue).call(this,{listeners:(()=>{if(!e)return!0;const{notifyOnChangeProps:t}=this.options,n="function"==typeof t?t():t;if("all"===n||!n&&!xr(this,te).size)return!0;const a=new Set(n??xr(this,te));return this.options.throwOnError&&a.add("error"),Object.keys(xr(this,V)).some((t=>{const n=t;return xr(this,V)[n]!==e[n]&&a.has(n)}))})()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&br(this,ne,oe).call(this)}},U=new WeakMap,W=new WeakMap,G=new WeakMap,V=new WeakMap,$=new WeakMap,H=new WeakMap,Y=new WeakMap,q=new WeakMap,Q=new WeakMap,Z=new WeakMap,J=new WeakMap,K=new WeakMap,X=new WeakMap,ee=new WeakMap,te=new WeakMap,ne=new WeakSet,ae=function(e){br(this,ne,de).call(this);let t=xr(this,W).fetch(this.options,e);return(null==e?void 0:e.throwOnError)||(t=t.catch(Sx)),t},re=function(){br(this,ne,le).call(this);const e=_x(this.options.staleTime,xr(this,W));if(Cx||xr(this,V).isStale||!kx(e))return;const t=Mx(xr(this,V).dataUpdatedAt,e);vr(this,K,setTimeout((()=>{xr(this,V).isStale||this.updateResult()}),t+1))},ie=function(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(xr(this,W)):this.options.refetchInterval)??!1},se=function(e){br(this,ne,ce).call(this),vr(this,ee,e),!Cx&&!1!==Ex(this.options.enabled,xr(this,W))&&kx(xr(this,ee))&&0!==xr(this,ee)&&vr(this,X,setInterval((()=>{(this.options.refetchIntervalInBackground||Hx.isFocused())&&br(this,ne,ae).call(this)}),xr(this,ee)))},oe=function(){br(this,ne,re).call(this),br(this,ne,se).call(this,br(this,ne,ie).call(this))},le=function(){xr(this,K)&&(clearTimeout(xr(this,K)),vr(this,K,void 0))},ce=function(){xr(this,X)&&(clearInterval(xr(this,X)),vr(this,X,void 0))},de=function(){const e=xr(this,U).getQueryCache().build(xr(this,U),this.options);if(e===xr(this,W))return;const t=xr(this,W);vr(this,W,e),vr(this,G,e.state),this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))},ue=function(e){ty.batch((()=>{e.listeners&&this.listeners.forEach((e=>{e(xr(this,V))})),xr(this,U).getQueryCache().notify({query:xr(this,W),type:"observerResultsUpdated"})}))},fe);function py(e,t){return function(e,t){return!1!==Ex(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||void 0!==e.state.data&&hy(e,t,t.refetchOnMount)}function hy(e,t,n){if(!1!==Ex(t.enabled,e)){const a="function"==typeof n?n(e):n;return"always"===a||!1!==a&&xy(e,t)}return!1}function gy(e,t,n,a){return(e!==t||!1===Ex(a.enabled,e))&&(!n.suspense||"error"!==e.state.status)&&xy(e,n)}function xy(e,t){return!1!==Ex(t.enabled,e)&&e.isStaleByTime(_x(t.staleTime,e))}var yy=(be=class extends Nx{constructor(e,t){super(),yr(this,xe),yr(this,me),yr(this,pe),yr(this,he),yr(this,ge),vr(this,me,e),this.setOptions(t),this.bindMethods(),br(this,xe,ye).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var t;const n=this.options;this.options=xr(this,me).defaultMutationOptions(e),Ox(this.options,n)||xr(this,me).getMutationCache().notify({type:"observerOptionsUpdated",mutation:xr(this,he),observer:this}),(null==n?void 0:n.mutationKey)&&this.options.mutationKey&&Tx(n.mutationKey)!==Tx(this.options.mutationKey)?this.reset():"pending"===(null==(t=xr(this,he))?void 0:t.state.status)&&xr(this,he).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||null==(e=xr(this,he))||e.removeObserver(this)}onMutationUpdate(e){br(this,xe,ye).call(this),br(this,xe,ve).call(this,e)}getCurrentResult(){return xr(this,pe)}reset(){var e;null==(e=xr(this,he))||e.removeObserver(this),vr(this,he,void 0),br(this,xe,ye).call(this),br(this,xe,ve).call(this)}mutate(e,t){var n;return vr(this,ge,t),null==(n=xr(this,he))||n.removeObserver(this),vr(this,he,xr(this,me).getMutationCache().build(xr(this,me),this.options)),xr(this,he).addObserver(this),xr(this,he).execute(e)}},me=new WeakMap,pe=new WeakMap,he=new WeakMap,ge=new WeakMap,xe=new WeakSet,ye=function(){var e;const t=(null==(e=xr(this,he))?void 0:e.state)??{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0};vr(this,pe,{...t,isPending:"pending"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset})},ve=function(e){ty.batch((()=>{var t,n,a,r,i,s,o,l;if(xr(this,ge)&&this.hasListeners()){const c=xr(this,pe).variables,d=xr(this,pe).context;"success"===(null==e?void 0:e.type)?(null==(n=(t=xr(this,ge)).onSuccess)||n.call(t,e.data,c,d),null==(r=(a=xr(this,ge)).onSettled)||r.call(a,e.data,null,c,d)):"error"===(null==e?void 0:e.type)&&(null==(s=(i=xr(this,ge)).onError)||s.call(i,e.error,c,d),null==(l=(o=xr(this,ge)).onSettled)||l.call(o,void 0,e.error,c,d))}this.listeners.forEach((e=>{e(xr(this,pe))}))}))},be),vy=ci.createContext(void 0),by=e=>{const t=ci.useContext(vy);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},wy=({client:e,children:t})=>(ci.useEffect((()=>(e.mount(),()=>{e.unmount()})),[e]),vi.jsx(vy.Provider,{value:e,children:t})),jy=ci.createContext(!1);jy.Provider;var Ny=ci.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),Cy=(e,t,n)=>t.fetchOptimistic(e).catch((()=>{n.clearReset()}));function Sy(e,t,n){var a,r,i,s,o;const l=by(),c=ci.useContext(jy),d=ci.useContext(Ny),u=l.defaultQueryOptions(e);null==(r=null==(a=l.getDefaultOptions().queries)?void 0:a._experimental_beforeQuery)||r.call(a,u),u._optimisticResults=c?"isRestoring":"optimistic",(e=>{const t=e.staleTime;e.suspense&&(e.staleTime="function"==typeof t?(...e)=>Math.max(t(...e),1e3):Math.max(t??1e3,1e3),"number"==typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,1e3)))})(u),((e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))})(u,d),(e=>{ci.useEffect((()=>{e.clearReset()}),[e])})(d);const f=!l.getQueryCache().get(u.queryHash),[m]=ci.useState((()=>new t(l,u))),p=m.getOptimisticResult(u),h=!c&&!1!==e.subscribed;if(ci.useSyncExternalStore(ci.useCallback((e=>{const t=h?m.subscribe(ty.batchCalls(e)):Sx;return m.updateResult(),t}),[m,h]),(()=>m.getCurrentResult()),(()=>m.getCurrentResult())),ci.useEffect((()=>{m.setOptions(u)}),[u,m]),((e,t)=>(null==e?void 0:e.suspense)&&t.isPending)(u,p))throw Cy(u,m,d);if((({result:e,errorResetBoundary:t,throwOnError:n,query:a,suspense:r})=>e.isError&&!t.isReset()&&!e.isFetching&&a&&(r&&void 0===e.data||$x(n,[e.error,a])))({result:p,errorResetBoundary:d,throwOnError:u.throwOnError,query:l.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw p.error;if(null==(s=null==(i=l.getDefaultOptions().queries)?void 0:i._experimental_afterQuery)||s.call(i,u,p),u.experimental_prefetchInRender&&!Cx&&((e,t)=>e.isLoading&&e.isFetching&&!t)(p,c)){const e=f?Cy(u,m,d):null==(o=l.getQueryCache().get(u.queryHash))?void 0:o.promise;null==e||e.catch(Sx).finally((()=>{m.updateResult()}))}return u.notifyOnChangeProps?p:m.trackResult(p)}function ky(e,t){return Sy(e,my)}function My(e,t){const n=by(),[a]=ci.useState((()=>new yy(n,e)));ci.useEffect((()=>{a.setOptions(e)}),[a,e]);const r=ci.useSyncExternalStore(ci.useCallback((e=>a.subscribe(ty.batchCalls(e))),[a]),(()=>a.getCurrentResult()),(()=>a.getCurrentResult())),i=ci.useCallback(((e,t)=>{a.mutate(e,t).catch(Sx)}),[a]);if(r.error&&$x(a.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:i,mutateAsync:r.mutate}}async function _y(e){if(!e.ok){if(503===e.status)try{if((await e.json()).maintenanceMode)throw"/maintenance"!==window.location.pathname&&(window.location.href="/maintenance"),new Error("System is under maintenance")}catch(t){}const n=await e.text()||e.statusText;throw new Error(`${e.status}: ${n}`)}}async function Ey(e,t,n){const a=await fetch(t,{method:e,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await _y(a),a}const Iy=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t[0],{credentials:"include"});if("returnNull"===e&&401===n.status)return null;if(503===n.status)try{if((await n.json()).maintenanceMode)throw"/maintenance"!==window.location.pathname&&(window.location.href="/maintenance"),new Error("System is under maintenance")}catch(a){}return await _y(n),await n.json()},Ly=new fy({defaultOptions:{queries:{queryFn:Iy({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});let Ay=0;const Ty=new Map,Dy=e=>{if(Ty.has(e))return;const t=setTimeout((()=>{Ty.delete(e),zy({type:"REMOVE_TOAST",toastId:e})}),1e6);Ty.set(e,t)},Py=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map((e=>e.id===t.toast.id?{...e,...t.toast}:e))};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Dy(n):e.toasts.forEach((e=>{Dy(e.id)})),{...e,toasts:e.toasts.map((e=>e.id===n||void 0===n?{...e,open:!1}:e))}}case"REMOVE_TOAST":return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter((e=>e.id!==t.toastId))}}},Oy=[];let Ry={toasts:[]};function zy(e){Ry=Py(Ry,e),Oy.forEach((e=>{e(Ry)}))}function Fy({...e}){const t=(Ay=(Ay+1)%Number.MAX_SAFE_INTEGER,Ay.toString()),n=()=>zy({type:"DISMISS_TOAST",toastId:t});return zy({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||n()}}}),{id:t,dismiss:n,update:e=>zy({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function By(){const[e,t]=ci.useState(Ry);return ci.useEffect((()=>(Oy.push(t),()=>{const e=Oy.indexOf(t);e>-1&&Oy.splice(e,1)})),[e]),{...e,toast:Fy,dismiss:e=>zy({type:"DISMISS_TOAST",toastId:e})}}function Uy(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(null==e||e(a),!1===n||!a.defaultPrevented)return null==t?void 0:t(a)}}function Wy(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function Gy(...e){return t=>{let n=!1;const a=e.map((e=>{const a=Wy(e,t);return n||"function"!=typeof a||(n=!0),a}));if(n)return()=>{for(let t=0;t<a.length;t++){const n=a[t];"function"==typeof n?n():Wy(e[t],null)}}}}function Vy(...e){return ci.useCallback(Gy(...e),e)}function $y(e,t=[]){let n=[];const a=()=>{const t=n.map((e=>ci.createContext(e)));return function(n){const a=(null==n?void 0:n[e])||t;return ci.useMemo((()=>({[`__scope${e}`]:{...n,[e]:a}})),[n,a])}};return a.scopeName=e,[function(t,a){const r=ci.createContext(a),i=n.length;n=[...n,a];const s=t=>{var n;const{scope:a,children:s,...o}=t,l=(null==(n=null==a?void 0:a[e])?void 0:n[i])||r,c=ci.useMemo((()=>o),Object.values(o));return vi.jsx(l.Provider,{value:c,children:s})};return s.displayName=t+"Provider",[s,function(n,s){var o;const l=(null==(o=null==s?void 0:s[e])?void 0:o[i])||r,c=ci.useContext(l);if(c)return c;if(void 0!==a)return a;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},Hy(a,...t)]}function Hy(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const a=n.reduce(((t,{useScope:n,scopeName:a})=>({...t,...n(e)[`__scope${a}`]})),{});return ci.useMemo((()=>({[`__scope${t.scopeName}`]:a})),[a])}};return n.scopeName=t.scopeName,n}function Yy(e){const t=Qy(e),n=ci.forwardRef(((e,n)=>{const{children:a,...r}=e,i=ci.Children.toArray(a),s=i.find(Ky);if(s){const e=s.props.children,a=i.map((t=>t===s?ci.Children.count(e)>1?ci.Children.only(null):ci.isValidElement(e)?e.props.children:null:t));return vi.jsx(t,{...r,ref:n,children:ci.isValidElement(e)?ci.cloneElement(e,void 0,a):null})}return vi.jsx(t,{...r,ref:n,children:a})}));return n.displayName=`${e}.Slot`,n}var qy=Yy("Slot");function Qy(e){const t=ci.forwardRef(((e,t)=>{const{children:n,...a}=e;if(ci.isValidElement(n)){const e=function(e){var t,n;let a=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,r=a&&"isReactWarning"in a&&a.isReactWarning;if(r)return e.ref;if(a=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get,r=a&&"isReactWarning"in a&&a.isReactWarning,r)return e.props.ref;return e.props.ref||e.ref}(n),r=function(e,t){const n={...t};for(const a in t){const r=e[a],i=t[a];/^on[A-Z]/.test(a)?r&&i?n[a]=(...e)=>{const t=i(...e);return r(...e),t}:r&&(n[a]=r):"style"===a?n[a]={...r,...i}:"className"===a&&(n[a]=[r,i].filter(Boolean).join(" "))}return{...e,...n}}(a,n.props);return n.type!==ci.Fragment&&(r.ref=t?Gy(t,e):e),ci.cloneElement(n,r)}return ci.Children.count(n)>1?ci.Children.only(null):null}));return t.displayName=`${e}.SlotClone`,t}var Zy=Symbol("radix.slottable");function Jy(e){const t=({children:e})=>vi.jsx(vi.Fragment,{children:e});return t.displayName=`${e}.Slottable`,t.__radixId=Zy,t}function Ky(e){return ci.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Zy}function Xy(e){const t=e+"CollectionProvider",[n,a]=$y(t),[r,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=e=>{const{scope:t,children:n}=e,a=di.useRef(null),i=di.useRef(new Map).current;return vi.jsx(r,{scope:t,itemMap:i,collectionRef:a,children:n})};s.displayName=t;const o=e+"CollectionSlot",l=Yy(o),c=di.forwardRef(((e,t)=>{const{scope:n,children:a}=e,r=Vy(t,i(o,n).collectionRef);return vi.jsx(l,{ref:r,children:a})}));c.displayName=o;const d=e+"CollectionItemSlot",u="data-radix-collection-item",f=Yy(d),m=di.forwardRef(((e,t)=>{const{scope:n,children:a,...r}=e,s=di.useRef(null),o=Vy(t,s),l=i(d,n);return di.useEffect((()=>(l.itemMap.set(s,{ref:s,...r}),()=>{l.itemMap.delete(s)}))),vi.jsx(f,{[u]:"",ref:o,children:a})}));return m.displayName=d,[{Provider:s,Slot:c,ItemSlot:m},function(t){const n=i(e+"CollectionConsumer",t),a=di.useCallback((()=>{const e=n.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${u}]`)),a=Array.from(n.itemMap.values()).sort(((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current)));return a}),[n.collectionRef,n.itemMap]);return a},a]}var ev=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce(((e,t)=>{const n=Yy(`Primitive.${t}`),a=ci.forwardRef(((e,a)=>{const{asChild:r,...i}=e,s=r?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),vi.jsx(s,{...i,ref:a})}));return a.displayName=`Primitive.${t}`,{...e,[t]:a}}),{});function tv(e,t){e&&kg.flushSync((()=>e.dispatchEvent(t)))}function nv(e){const t=ci.useRef(e);return ci.useEffect((()=>{t.current=e})),ci.useMemo((()=>(...e)=>{var n;return null==(n=t.current)?void 0:n.call(t,...e)}),[])}var av,rv="dismissableLayer.update",iv="dismissableLayer.pointerDownOutside",sv="dismissableLayer.focusOutside",ov=ci.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lv=ci.forwardRef(((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:r,onFocusOutside:i,onInteractOutside:s,onDismiss:o,...l}=e,c=ci.useContext(ov),[d,u]=ci.useState(null),f=(null==d?void 0:d.ownerDocument)??(null==globalThis?void 0:globalThis.document),[,m]=ci.useState({}),p=Vy(t,(e=>u(e))),h=Array.from(c.layers),[g]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=h.indexOf(g),y=d?h.indexOf(d):-1,v=c.layersWithOutsidePointerEventsDisabled.size>0,b=y>=x,w=function(e,t=(null==globalThis?void 0:globalThis.document)){const n=nv(e),a=ci.useRef(!1),r=ci.useRef((()=>{}));return ci.useEffect((()=>{const e=e=>{if(e.target&&!a.current){let a=function(){uv(iv,n,i,{discrete:!0})};const i={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",r.current),r.current=a,t.addEventListener("click",r.current,{once:!0})):a()}else t.removeEventListener("click",r.current);a.current=!1},i=window.setTimeout((()=>{t.addEventListener("pointerdown",e)}),0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",e),t.removeEventListener("click",r.current)}}),[t,n]),{onPointerDownCapture:()=>a.current=!0}}((e=>{const t=e.target,n=[...c.branches].some((e=>e.contains(t)));b&&!n&&(null==r||r(e),null==s||s(e),e.defaultPrevented||null==o||o())}),f),j=function(e,t=(null==globalThis?void 0:globalThis.document)){const n=nv(e),a=ci.useRef(!1);return ci.useEffect((()=>{const e=e=>{if(e.target&&!a.current){uv(sv,n,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)}),[t,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}((e=>{const t=e.target;[...c.branches].some((e=>e.contains(t)))||(null==i||i(e),null==s||s(e),e.defaultPrevented||null==o||o())}),f);return function(e,t=(null==globalThis?void 0:globalThis.document)){const n=nv(e);ci.useEffect((()=>{const e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})}),[n,t])}((e=>{y===c.layers.size-1&&(null==a||a(e),!e.defaultPrevented&&o&&(e.preventDefault(),o()))}),f),ci.useEffect((()=>{if(d)return n&&(0===c.layersWithOutsidePointerEventsDisabled.size&&(av=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),dv(),()=>{n&&1===c.layersWithOutsidePointerEventsDisabled.size&&(f.body.style.pointerEvents=av)}}),[d,f,n,c]),ci.useEffect((()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),dv())}),[d,c]),ci.useEffect((()=>{const e=()=>m({});return document.addEventListener(rv,e),()=>document.removeEventListener(rv,e)}),[]),vi.jsx(ev.div,{...l,ref:p,style:{pointerEvents:v?b?"auto":"none":void 0,...e.style},onFocusCapture:Uy(e.onFocusCapture,j.onFocusCapture),onBlurCapture:Uy(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:Uy(e.onPointerDownCapture,w.onPointerDownCapture)})}));lv.displayName="DismissableLayer";var cv=ci.forwardRef(((e,t)=>{const n=ci.useContext(ov),a=ci.useRef(null),r=Vy(t,a);return ci.useEffect((()=>{const e=a.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}}),[n.branches]),vi.jsx(ev.div,{...e,ref:r})}));function dv(){const e=new CustomEvent(rv);document.dispatchEvent(e)}function uv(e,t,n,{discrete:a}){const r=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),a?tv(r,i):r.dispatchEvent(i)}cv.displayName="DismissableLayerBranch";var fv=lv,mv=cv,pv=(null==globalThis?void 0:globalThis.document)?ci.useLayoutEffect:()=>{},hv=ci.forwardRef(((e,t)=>{var n;const{container:a,...r}=e,[i,s]=ci.useState(!1);pv((()=>s(!0)),[]);const o=a||i&&(null==(n=null==globalThis?void 0:globalThis.document)?void 0:n.body);return o?Mg.createPortal(vi.jsx(ev.div,{...r,ref:t}),o):null}));hv.displayName="Portal";var gv=e=>{const{present:t,children:n}=e,a=function(e){const[t,n]=ci.useState(),a=ci.useRef(null),r=ci.useRef(e),i=ci.useRef("none"),s=e?"mounted":"unmounted",[o,l]=function(e,t){return ci.useReducer(((e,n)=>t[e][n]??e),e)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return ci.useEffect((()=>{const e=xv(a.current);i.current="mounted"===o?e:"none"}),[o]),pv((()=>{const t=a.current,n=r.current;if(n!==e){const a=i.current,s=xv(t);if(e)l("MOUNT");else if("none"===s||"none"===(null==t?void 0:t.display))l("UNMOUNT");else{l(n&&a!==s?"ANIMATION_OUT":"UNMOUNT")}r.current=e}}),[e,l]),pv((()=>{if(t){let e;const n=t.ownerDocument.defaultView??window,s=i=>{const s=xv(a.current).includes(i.animationName);if(i.target===t&&s&&(l("ANIMATION_END"),!r.current)){const a=t.style.animationFillMode;t.style.animationFillMode="forwards",e=n.setTimeout((()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=a)}))}},o=e=>{e.target===t&&(i.current=xv(a.current))};return t.addEventListener("animationstart",o),t.addEventListener("animationcancel",s),t.addEventListener("animationend",s),()=>{n.clearTimeout(e),t.removeEventListener("animationstart",o),t.removeEventListener("animationcancel",s),t.removeEventListener("animationend",s)}}l("ANIMATION_END")}),[t,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:ci.useCallback((e=>{a.current=e?getComputedStyle(e):null,n(e)}),[])}}(t),r="function"==typeof n?n({present:a.isPresent}):ci.Children.only(n),i=Vy(a.ref,function(e){var t,n;let a=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,r=a&&"isReactWarning"in a&&a.isReactWarning;if(r)return e.ref;if(a=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get,r=a&&"isReactWarning"in a&&a.isReactWarning,r)return e.props.ref;return e.props.ref||e.ref}(r));return"function"==typeof n||a.isPresent?ci.cloneElement(r,{ref:i}):null};function xv(e){return(null==e?void 0:e.animationName)||"none"}gv.displayName="Presence";var yv=ui[" useInsertionEffect ".trim().toString()]||pv;function vv({prop:e,defaultProp:t,onChange:n=()=>{},caller:a}){const[r,i,s]=function({defaultProp:e,onChange:t}){const[n,a]=ci.useState(e),r=ci.useRef(n),i=ci.useRef(t);return yv((()=>{i.current=t}),[t]),ci.useEffect((()=>{var e;r.current!==n&&(null==(e=i.current)||e.call(i,n),r.current=n)}),[n,r]),[n,a,i]}({defaultProp:t,onChange:n}),o=void 0!==e,l=o?e:r;{const t=ci.useRef(void 0!==e);ci.useEffect((()=>{const e=t.current;if(e!==o){const t=e?"controlled":"uncontrolled",n=o?"controlled":"uncontrolled";console.warn(`${a} is changing from ${t} to ${n}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=o}),[o,a])}const c=ci.useCallback((t=>{var n;if(o){const a=function(e){return"function"==typeof e}(t)?t(e):t;a!==e&&(null==(n=s.current)||n.call(s,a))}else i(t)}),[o,e,i,s]);return[l,c]}var bv=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),wv=ci.forwardRef(((e,t)=>vi.jsx(ev.span,{...e,ref:t,style:{...bv,...e.style}})));wv.displayName="VisuallyHidden";var jv=wv,Nv="ToastProvider",[Cv,Sv,kv]=Xy("Toast"),[Mv,_v]=$y("Toast",[kv]),[Ev,Iv]=Mv(Nv),Lv=e=>{const{__scopeToast:t,label:n="Notification",duration:a=5e3,swipeDirection:r="right",swipeThreshold:i=50,children:s}=e,[o,l]=ci.useState(null),[c,d]=ci.useState(0),u=ci.useRef(!1),f=ci.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Nv}\`. Expected non-empty \`string\`.`),vi.jsx(Cv.Provider,{scope:t,children:vi.jsx(Ev,{scope:t,label:n,duration:a,swipeDirection:r,swipeThreshold:i,toastCount:c,viewport:o,onViewportChange:l,onToastAdd:ci.useCallback((()=>d((e=>e+1))),[]),onToastRemove:ci.useCallback((()=>d((e=>e-1))),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:f,children:s})})};Lv.displayName=Nv;var Av="ToastViewport",Tv=["F8"],Dv="toast.viewportPause",Pv="toast.viewportResume",Ov=ci.forwardRef(((e,t)=>{const{__scopeToast:n,hotkey:a=Tv,label:r="Notifications ({hotkey})",...i}=e,s=Iv(Av,n),o=Sv(n),l=ci.useRef(null),c=ci.useRef(null),d=ci.useRef(null),u=ci.useRef(null),f=Vy(t,u,s.onViewportChange),m=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=s.toastCount>0;ci.useEffect((()=>{const e=e=>{var t;0!==a.length&&a.every((t=>e[t]||e.code===t))&&(null==(t=u.current)||t.focus())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[a]),ci.useEffect((()=>{const e=l.current,t=u.current;if(p&&e&&t){const n=()=>{if(!s.isClosePausedRef.current){const e=new CustomEvent(Dv);t.dispatchEvent(e),s.isClosePausedRef.current=!0}},a=()=>{if(s.isClosePausedRef.current){const e=new CustomEvent(Pv);t.dispatchEvent(e),s.isClosePausedRef.current=!1}},r=t=>{!e.contains(t.relatedTarget)&&a()},i=()=>{e.contains(document.activeElement)||a()};return e.addEventListener("focusin",n),e.addEventListener("focusout",r),e.addEventListener("pointermove",n),e.addEventListener("pointerleave",i),window.addEventListener("blur",n),window.addEventListener("focus",a),()=>{e.removeEventListener("focusin",n),e.removeEventListener("focusout",r),e.removeEventListener("pointermove",n),e.removeEventListener("pointerleave",i),window.removeEventListener("blur",n),window.removeEventListener("focus",a)}}}),[p,s.isClosePausedRef]);const h=ci.useCallback((({tabbingDirection:e})=>{const t=o().map((t=>{const n=t.ref.current,a=[n,...tb(n)];return"forwards"===e?a:a.reverse()}));return("forwards"===e?t.reverse():t).flat()}),[o]);return ci.useEffect((()=>{const e=u.current;if(e){const t=t=>{var n,a,r;const i=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!i){const i=document.activeElement,s=t.shiftKey;if(t.target===e&&s)return void(null==(n=c.current)||n.focus());const o=h({tabbingDirection:s?"backwards":"forwards"}),l=o.findIndex((e=>e===i));nb(o.slice(l+1))?t.preventDefault():s?null==(a=c.current)||a.focus():null==(r=d.current)||r.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}}),[o,h]),vi.jsxs(mv,{ref:l,role:"region","aria-label":r.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&vi.jsx(zv,{ref:c,onFocusFromOutsideViewport:()=>{nb(h({tabbingDirection:"forwards"}))}}),vi.jsx(Cv.Slot,{scope:n,children:vi.jsx(ev.ol,{tabIndex:-1,...i,ref:f})}),p&&vi.jsx(zv,{ref:d,onFocusFromOutsideViewport:()=>{nb(h({tabbingDirection:"backwards"}))}})]})}));Ov.displayName=Av;var Rv="ToastFocusProxy",zv=ci.forwardRef(((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:a,...r}=e,i=Iv(Rv,n);return vi.jsx(wv,{"aria-hidden":!0,tabIndex:0,...r,ref:t,style:{position:"fixed"},onFocus:e=>{var t;const n=e.relatedTarget;!(null==(t=i.viewport)?void 0:t.contains(n))&&a()}})}));zv.displayName=Rv;var Fv="Toast",Bv=ci.forwardRef(((e,t)=>{const{forceMount:n,open:a,defaultOpen:r,onOpenChange:i,...s}=e,[o,l]=vv({prop:a,defaultProp:r??!0,onChange:i,caller:Fv});return vi.jsx(gv,{present:n||o,children:vi.jsx(Gv,{open:o,...s,ref:t,onClose:()=>l(!1),onPause:nv(e.onPause),onResume:nv(e.onResume),onSwipeStart:Uy(e.onSwipeStart,(e=>{e.currentTarget.setAttribute("data-swipe","start")})),onSwipeMove:Uy(e.onSwipeMove,(e=>{const{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${n}px`)})),onSwipeCancel:Uy(e.onSwipeCancel,(e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")})),onSwipeEnd:Uy(e.onSwipeEnd,(e=>{const{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${n}px`),l(!1)}))})})}));Bv.displayName=Fv;var[Uv,Wv]=Mv(Fv,{onClose(){}}),Gv=ci.forwardRef(((e,t)=>{const{__scopeToast:n,type:a="foreground",duration:r,open:i,onClose:s,onEscapeKeyDown:o,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:u,onSwipeCancel:f,onSwipeEnd:m,...p}=e,h=Iv(Fv,n),[g,x]=ci.useState(null),y=Vy(t,(e=>x(e))),v=ci.useRef(null),b=ci.useRef(null),w=r||h.duration,j=ci.useRef(0),N=ci.useRef(w),C=ci.useRef(0),{onToastAdd:S,onToastRemove:k}=h,M=nv((()=>{var e;(null==g?void 0:g.contains(document.activeElement))&&(null==(e=h.viewport)||e.focus()),s()})),_=ci.useCallback((e=>{e&&e!==1/0&&(window.clearTimeout(C.current),j.current=(new Date).getTime(),C.current=window.setTimeout(M,e))}),[M]);ci.useEffect((()=>{const e=h.viewport;if(e){const t=()=>{_(N.current),null==c||c()},n=()=>{const e=(new Date).getTime()-j.current;N.current=N.current-e,window.clearTimeout(C.current),null==l||l()};return e.addEventListener(Dv,n),e.addEventListener(Pv,t),()=>{e.removeEventListener(Dv,n),e.removeEventListener(Pv,t)}}}),[h.viewport,w,l,c,_]),ci.useEffect((()=>{i&&!h.isClosePausedRef.current&&_(w)}),[i,w,h.isClosePausedRef,_]),ci.useEffect((()=>(S(),()=>k())),[S,k]);const E=ci.useMemo((()=>g?Kv(g):null),[g]);return h.viewport?vi.jsxs(vi.Fragment,{children:[E&&vi.jsx(Vv,{__scopeToast:n,role:"status","aria-live":"foreground"===a?"assertive":"polite","aria-atomic":!0,children:E}),vi.jsx(Uv,{scope:n,onClose:M,children:kg.createPortal(vi.jsx(Cv.ItemSlot,{scope:n,children:vi.jsx(fv,{asChild:!0,onEscapeKeyDown:Uy(o,(()=>{h.isFocusedToastEscapeKeyDownRef.current||M(),h.isFocusedToastEscapeKeyDownRef.current=!1})),children:vi.jsx(ev.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":h.swipeDirection,...p,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Uy(e.onKeyDown,(e=>{"Escape"===e.key&&(null==o||o(e.nativeEvent),e.nativeEvent.defaultPrevented||(h.isFocusedToastEscapeKeyDownRef.current=!0,M()))})),onPointerDown:Uy(e.onPointerDown,(e=>{0===e.button&&(v.current={x:e.clientX,y:e.clientY})})),onPointerMove:Uy(e.onPointerMove,(e=>{if(!v.current)return;const t=e.clientX-v.current.x,n=e.clientY-v.current.y,a=Boolean(b.current),r=["left","right"].includes(h.swipeDirection),i=["left","up"].includes(h.swipeDirection)?Math.min:Math.max,s=r?i(0,t):0,o=r?0:i(0,n),l="touch"===e.pointerType?10:2,c={x:s,y:o},f={originalEvent:e,delta:c};a?(b.current=c,Xv("toast.swipeMove",u,f,{discrete:!1})):eb(c,h.swipeDirection,l)?(b.current=c,Xv("toast.swipeStart",d,f,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>l||Math.abs(n)>l)&&(v.current=null)})),onPointerUp:Uy(e.onPointerUp,(e=>{const t=b.current,n=e.target;if(n.hasPointerCapture(e.pointerId)&&n.releasePointerCapture(e.pointerId),b.current=null,v.current=null,t){const n=e.currentTarget,a={originalEvent:e,delta:t};eb(t,h.swipeDirection,h.swipeThreshold)?Xv("toast.swipeEnd",m,a,{discrete:!0}):Xv("toast.swipeCancel",f,a,{discrete:!0}),n.addEventListener("click",(e=>e.preventDefault()),{once:!0})}}))})})}),h.viewport)})]}):null})),Vv=e=>{const{__scopeToast:t,children:n,...a}=e,r=Iv(Fv,t),[i,s]=ci.useState(!1),[o,l]=ci.useState(!1);return function(e=()=>{}){const t=nv(e);pv((()=>{let e=0,n=0;return e=window.requestAnimationFrame((()=>n=window.requestAnimationFrame(t))),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(n)}}),[t])}((()=>s(!0))),ci.useEffect((()=>{const e=window.setTimeout((()=>l(!0)),1e3);return()=>window.clearTimeout(e)}),[]),o?null:vi.jsx(hv,{asChild:!0,children:vi.jsx(wv,{...a,children:i&&vi.jsxs(vi.Fragment,{children:[r.label," ",n]})})})},$v=ci.forwardRef(((e,t)=>{const{__scopeToast:n,...a}=e;return vi.jsx(ev.div,{...a,ref:t})}));$v.displayName="ToastTitle";var Hv=ci.forwardRef(((e,t)=>{const{__scopeToast:n,...a}=e;return vi.jsx(ev.div,{...a,ref:t})}));Hv.displayName="ToastDescription";var Yv="ToastAction",qv=ci.forwardRef(((e,t)=>{const{altText:n,...a}=e;return n.trim()?vi.jsx(Jv,{altText:n,asChild:!0,children:vi.jsx(Zv,{...a,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Yv}\`. Expected non-empty \`string\`.`),null)}));qv.displayName=Yv;var Qv="ToastClose",Zv=ci.forwardRef(((e,t)=>{const{__scopeToast:n,...a}=e,r=Wv(Qv,n);return vi.jsx(Jv,{asChild:!0,children:vi.jsx(ev.button,{type:"button",...a,ref:t,onClick:Uy(e.onClick,r.onClose)})})}));Zv.displayName=Qv;var Jv=ci.forwardRef(((e,t)=>{const{__scopeToast:n,altText:a,...r}=e;return vi.jsx(ev.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...r,ref:t})}));function Kv(e){const t=[];return Array.from(e.childNodes).forEach((e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),function(e){return e.nodeType===e.ELEMENT_NODE}(e)){const n=e.ariaHidden||e.hidden||"none"===e.style.display,a=""===e.dataset.radixToastAnnounceExclude;if(!n)if(a){const n=e.dataset.radixToastAnnounceAlt;n&&t.push(n)}else t.push(...Kv(e))}})),t}function Xv(e,t,n,{discrete:a}){const r=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),a?tv(r,i):r.dispatchEvent(i)}var eb=(e,t,n=0)=>{const a=Math.abs(e.x),r=Math.abs(e.y),i=a>r;return"left"===t||"right"===t?i&&a>n:!i&&r>n};function tb(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function nb(e){const t=document.activeElement;return e.some((e=>e===t||(e.focus(),document.activeElement!==t)))}var ab=Lv,rb=Ov,ib=Bv,sb=$v,ob=Hv,lb=qv,cb=Zv;function db(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=db(e[t]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function ub(){for(var e,t,n=0,a="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=db(e))&&(a&&(a+=" "),a+=t);return a}const fb=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,mb=ub,pb=(e,t)=>n=>{var a;if(null==(null==t?void 0:t.variants))return mb(e,null==n?void 0:n.class,null==n?void 0:n.className);const{variants:r,defaultVariants:i}=t,s=Object.keys(r).map((e=>{const t=null==n?void 0:n[e],a=null==i?void 0:i[e];if(null===t)return null;const s=fb(t)||fb(a);return r[e][s]})),o=n&&Object.entries(n).reduce(((e,t)=>{let[n,a]=t;return void 0===a||(e[n]=a),e}),{}),l=null==t||null===(a=t.compoundVariants)||void 0===a?void 0:a.reduce(((e,t)=>{let{class:n,className:a,...r}=t;return Object.entries(r).every((e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...i,...o}[t]):{...i,...o}[t]===n}))?[...e,n,a]:e}),[]);return mb(e,s,l,null==n?void 0:n.class,null==n?void 0:n.className)},hb=(...e)=>e.filter(((e,t,n)=>Boolean(e)&&n.indexOf(e)===t)).join(" ");var gb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const xb=ci.forwardRef((({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:r="",children:i,iconNode:s,...o},l)=>ci.createElement("svg",{ref:l,...gb,width:t,height:t,stroke:e,strokeWidth:a?24*Number(n)/Number(t):n,className:hb("lucide",r),...o},[...s.map((([e,t])=>ci.createElement(e,t))),...Array.isArray(i)?i:[i]]))),yb=(e,t)=>{const n=ci.forwardRef((({className:n,...a},r)=>{return ci.createElement(xb,{ref:r,iconNode:t,className:hb(`lucide-${i=e,i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,n),...a});var i}));return n.displayName=`${e}`,n},vb=yb("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),bb=yb("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),wb=yb("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),jb=yb("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),Nb=yb("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]),Cb=yb("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),Sb=yb("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),kb=yb("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),Mb=yb("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),_b=yb("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Eb=yb("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Ib=yb("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Lb=yb("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Ab=yb("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]),Tb=yb("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Db=yb("CircleArrowRight",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}]]),Pb=yb("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Ob=yb("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Rb=yb("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),zb=yb("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),Fb=yb("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Bb=yb("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Ub=yb("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Wb=yb("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Gb=yb("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Vb=yb("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),$b=yb("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Hb=yb("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Yb=yb("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),qb=yb("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),Qb=yb("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Zb=yb("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Jb=yb("FileAudio",[["path",{d:"M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"rslqgf"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0",key:"9f7x3i"}]]),Kb=yb("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]),Xb=yb("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),ew=yb("FileVideo",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]),tw=yb("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]),nw=yb("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),aw=yb("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),rw=yb("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),iw=yb("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),sw=yb("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),ow=yb("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),lw=yb("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),cw=yb("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),dw=yb("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]),uw=yb("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),fw=yb("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),mw=yb("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),pw=yb("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),hw=yb("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),gw=yb("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),xw=yb("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]),yw=yb("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),vw=yb("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),bw=yb("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),ww=yb("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]),jw=yb("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),Nw=yb("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),Cw=yb("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),Sw=yb("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),kw=yb("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Mw=yb("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),_w=yb("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ew=yb("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Iw=yb("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]),Lw=yb("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Aw=yb("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]),Tw=yb("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Dw=yb("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),Pw=yb("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Ow=yb("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),Rw=yb("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]),zw=yb("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Fw=yb("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),Bw=yb("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),Uw=yb("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Ww=yb("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),Gw=yb("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),Vw=yb("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),$w=yb("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]),Hw=yb("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),Yw=yb("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),qw=yb("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),Qw=yb("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Zw=yb("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Jw=yb("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Kw=yb("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),Xw=yb("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]),ej=yb("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),tj=yb("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),nj=yb("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]),aj=yb("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),rj=yb("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),ij=yb("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),sj=yb("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),oj=yb("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),lj=yb("Variable",[["path",{d:"M8 21s-4-3-4-9 4-9 4-9",key:"uto9ud"}],["path",{d:"M16 3s4 3 4 9-4 9-4 9",key:"4w2vsq"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15",key:"f7djnv"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15",key:"1shsy8"}]]),cj=yb("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),dj=yb("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),uj=yb("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]),fj=yb("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),mj=e=>{const t=xj(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),pj(n,t)||gj(e)},getConflictingClassGroupIds:(e,t)=>{const r=n[e]||[];return t&&a[e]?[...r,...a[e]]:r}}},pj=(e,t)=>{var n;if(0===e.length)return t.classGroupId;const a=e[0],r=t.nextPart.get(a),i=r?pj(e.slice(1),r):void 0;if(i)return i;if(0===t.validators.length)return;const s=e.join("-");return null==(n=t.validators.find((({validator:e})=>e(s))))?void 0:n.classGroupId},hj=/^\[(.+)\]$/,gj=e=>{if(hj.test(e)){const t=hj.exec(e)[1],n=null==t?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},xj=e=>{const{theme:t,prefix:n}=e,a={nextPart:new Map,validators:[]};return wj(Object.entries(e.classGroups),n).forEach((([e,n])=>{yj(n,a,e,t)})),a},yj=(e,t,n,a)=>{e.forEach((e=>{if("string"!=typeof e){if("function"==typeof e)return bj(e)?void yj(e(a),t,n,a):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach((([e,r])=>{yj(r,vj(t,e),n,a)}))}else{(""===e?t:vj(t,e)).classGroupId=n}}))},vj=(e,t)=>{let n=e;return t.split("-").forEach((e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)})),n},bj=e=>e.isThemeGetter,wj=(e,t)=>t?e.map((([e,n])=>[e,n.map((e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map((([e,n])=>[t+e,n]))):e))])):e,jj=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,a=new Map;const r=(r,i)=>{n.set(r,i),t++,t>e&&(t=0,a=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=a.get(e))?(r(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):r(e,t)}}},Nj=e=>{const{separator:t,experimentalParseClassName:n}=e,a=1===t.length,r=t[0],i=t.length,s=e=>{const n=[];let s,o=0,l=0;for(let u=0;u<e.length;u++){let c=e[u];if(0===o){if(c===r&&(a||e.slice(u,u+i)===t)){n.push(e.slice(l,u)),l=u+i;continue}if("/"===c){s=u;continue}}"["===c?o++:"]"===c&&o--}const c=0===n.length?e:e.substring(l),d=c.startsWith("!");return{modifiers:n,hasImportantModifier:d,baseClassName:d?c.substring(1):c,maybePostfixModifierPosition:s&&s>l?s-l:void 0}};return n?e=>n({className:e,parseClassName:s}):s},Cj=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach((e=>{"["===e[0]?(t.push(...n.sort(),e),n=[]):n.push(e)})),t.push(...n.sort()),t},Sj=/\s+/;function kj(){let e,t,n=0,a="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Mj(e))&&(a&&(a+=" "),a+=t);return a}const Mj=e=>{if("string"==typeof e)return e;let t,n="";for(let a=0;a<e.length;a++)e[a]&&(t=Mj(e[a]))&&(n&&(n+=" "),n+=t);return n};function _j(e,...t){let n,a,r,i=function(o){const l=t.reduce(((e,t)=>t(e)),e());return n=(e=>({cache:jj(e.cacheSize),parseClassName:Nj(e),...mj(e)}))(l),a=n.cache.get,r=n.cache.set,i=s,s(o)};function s(e){const t=a(e);if(t)return t;const i=((e,t)=>{const{parseClassName:n,getClassGroupId:a,getConflictingClassGroupIds:r}=t,i=[],s=e.trim().split(Sj);let o="";for(let l=s.length-1;l>=0;l-=1){const e=s[l],{modifiers:t,hasImportantModifier:c,baseClassName:d,maybePostfixModifierPosition:u}=n(e);let f=Boolean(u),m=a(f?d.substring(0,u):d);if(!m){if(!f){o=e+(o.length>0?" "+o:o);continue}if(m=a(d),!m){o=e+(o.length>0?" "+o:o);continue}f=!1}const p=Cj(t).join(":"),h=c?p+"!":p,g=h+m;if(i.includes(g))continue;i.push(g);const x=r(m,f);for(let n=0;n<x.length;++n){const e=x[n];i.push(h+e)}o=e+(o.length>0?" "+o:o)}return o})(e,n);return r(e,i),i}return function(){return i(kj.apply(null,arguments))}}const Ej=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},Ij=/^\[(?:([a-z-]+):)?(.+)\]$/i,Lj=/^\d+\/\d+$/,Aj=new Set(["px","full","screen"]),Tj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Dj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Pj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Oj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Rj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,zj=e=>Bj(e)||Aj.has(e)||Lj.test(e),Fj=e=>Xj(e,"length",eN),Bj=e=>Boolean(e)&&!Number.isNaN(Number(e)),Uj=e=>Xj(e,"number",Bj),Wj=e=>Boolean(e)&&Number.isInteger(Number(e)),Gj=e=>e.endsWith("%")&&Bj(e.slice(0,-1)),Vj=e=>Ij.test(e),$j=e=>Tj.test(e),Hj=new Set(["length","size","percentage"]),Yj=e=>Xj(e,Hj,tN),qj=e=>Xj(e,"position",tN),Qj=new Set(["image","url"]),Zj=e=>Xj(e,Qj,aN),Jj=e=>Xj(e,"",nN),Kj=()=>!0,Xj=(e,t,n)=>{const a=Ij.exec(e);return!!a&&(a[1]?"string"==typeof t?a[1]===t:t.has(a[1]):n(a[2]))},eN=e=>Dj.test(e)&&!Pj.test(e),tN=()=>!1,nN=e=>Oj.test(e),aN=e=>Rj.test(e),rN=_j((()=>{const e=Ej("colors"),t=Ej("spacing"),n=Ej("blur"),a=Ej("brightness"),r=Ej("borderColor"),i=Ej("borderRadius"),s=Ej("borderSpacing"),o=Ej("borderWidth"),l=Ej("contrast"),c=Ej("grayscale"),d=Ej("hueRotate"),u=Ej("invert"),f=Ej("gap"),m=Ej("gradientColorStops"),p=Ej("gradientColorStopPositions"),h=Ej("inset"),g=Ej("margin"),x=Ej("opacity"),y=Ej("padding"),v=Ej("saturate"),b=Ej("scale"),w=Ej("sepia"),j=Ej("skew"),N=Ej("space"),C=Ej("translate"),S=()=>["auto",Vj,t],k=()=>[Vj,t],M=()=>["",zj,Fj],_=()=>["auto",Bj,Vj],E=()=>["","0",Vj],I=()=>[Bj,Vj];return{cacheSize:500,separator:":",theme:{colors:[Kj],spacing:[zj,Fj],blur:["none","",$j,Vj],brightness:I(),borderColor:[e],borderRadius:["none","","full",$j,Vj],borderSpacing:k(),borderWidth:M(),contrast:I(),grayscale:E(),hueRotate:I(),invert:E(),gap:k(),gradientColorStops:[e],gradientColorStopPositions:[Gj,Fj],inset:S(),margin:S(),opacity:I(),padding:k(),saturate:I(),scale:I(),sepia:E(),skew:I(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",Vj]}],container:["container"],columns:[{columns:[$j]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Vj]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[h]}],"inset-x":[{"inset-x":[h]}],"inset-y":[{"inset-y":[h]}],start:[{start:[h]}],end:[{end:[h]}],top:[{top:[h]}],right:[{right:[h]}],bottom:[{bottom:[h]}],left:[{left:[h]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Wj,Vj]}],basis:[{basis:S()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Vj]}],grow:[{grow:E()}],shrink:[{shrink:E()}],order:[{order:["first","last","none",Wj,Vj]}],"grid-cols":[{"grid-cols":[Kj]}],"col-start-end":[{col:["auto",{span:["full",Wj,Vj]},Vj]}],"col-start":[{"col-start":_()}],"col-end":[{"col-end":_()}],"grid-rows":[{"grid-rows":[Kj]}],"row-start-end":[{row:["auto",{span:[Wj,Vj]},Vj]}],"row-start":[{"row-start":_()}],"row-end":[{"row-end":_()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Vj]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Vj]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Vj,t]}],"min-w":[{"min-w":[Vj,t,"min","max","fit"]}],"max-w":[{"max-w":[Vj,t,"none","full","min","max","fit","prose",{screen:[$j]},$j]}],h:[{h:[Vj,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Vj,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Vj,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Vj,t,"auto","min","max","fit"]}],"font-size":[{text:["base",$j,Fj]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Uj]}],"font-family":[{font:[Kj]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Vj]}],"line-clamp":[{"line-clamp":["none",Bj,Uj]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",zj,Vj]}],"list-image":[{"list-image":["none",Vj]}],"list-style-type":[{list:["none","disc","decimal",Vj]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",zj,Fj]}],"underline-offset":[{"underline-offset":["auto",zj,Vj]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Vj]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Vj]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",qj]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Yj]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Zj]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[zj,Vj]}],"outline-w":[{outline:[zj,Fj]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[zj,Fj]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",$j,Jj]}],"shadow-color":[{shadow:[Kj]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[a]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",$j,Vj]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[v]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Vj]}],duration:[{duration:I()}],ease:[{ease:["linear","in","out","in-out",Vj]}],delay:[{delay:I()}],animate:[{animate:["none","spin","ping","pulse","bounce",Vj]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Wj,Vj]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Vj]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Vj]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Vj]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[zj,Fj,Uj]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}));function iN(...e){return rN(ub(e))}function sN(e,t="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e)}function oN(e){try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(t){return"Invalid date"}}const lN=ab,cN=ci.forwardRef((({className:e,...t},n)=>vi.jsx(rb,{ref:n,className:iN("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t})));cN.displayName=rb.displayName;const dN=pb("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),uN=ci.forwardRef((({className:e,variant:t,...n},a)=>vi.jsx(ib,{ref:a,className:iN(dN({variant:t}),e),...n})));uN.displayName=ib.displayName;ci.forwardRef((({className:e,...t},n)=>vi.jsx(lb,{ref:n,className:iN("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}))).displayName=lb.displayName;const fN=ci.forwardRef((({className:e,...t},n)=>vi.jsx(cb,{ref:n,className:iN("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:vi.jsx(fj,{className:"h-4 w-4"})})));fN.displayName=cb.displayName;const mN=ci.forwardRef((({className:e,...t},n)=>vi.jsx(sb,{ref:n,className:iN("text-sm ",e),...t})));mN.displayName=sb.displayName;const pN=ci.forwardRef((({className:e,...t},n)=>vi.jsx(ob,{ref:n,className:iN("text-sm opacity-90",e),...t})));function hN(){const{toasts:e}=By();return vi.jsxs(lN,{children:[e.map((function({id:e,title:t,description:n,action:a,...r}){return vi.jsxs(uN,{...r,children:[vi.jsxs("div",{className:"grid gap-1",children:[t&&vi.jsx(mN,{children:t}),n&&vi.jsx(pN,{children:n})]}),a,vi.jsx(fN,{})]},e)})),vi.jsx(cN,{})]})}pN.displayName=ob.displayName;var gN=ui[" useId ".trim().toString()]||(()=>{}),xN=0;function yN(e){const[t,n]=ci.useState(gN());return pv((()=>{n((e=>e??String(xN++)))}),[e]),t?`radix-${t}`:""}const vN=["top","right","bottom","left"],bN=Math.min,wN=Math.max,jN=Math.round,NN=Math.floor,CN=e=>({x:e,y:e}),SN={left:"right",right:"left",bottom:"top",top:"bottom"},kN={start:"end",end:"start"};function MN(e,t,n){return wN(e,bN(t,n))}function _N(e,t){return"function"==typeof e?e(t):e}function EN(e){return e.split("-")[0]}function IN(e){return e.split("-")[1]}function LN(e){return"x"===e?"y":"x"}function AN(e){return"y"===e?"height":"width"}function TN(e){return["top","bottom"].includes(EN(e))?"y":"x"}function DN(e){return LN(TN(e))}function PN(e){return e.replace(/start|end/g,(e=>kN[e]))}function ON(e){return e.replace(/left|right|bottom|top/g,(e=>SN[e]))}function RN(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function zN(e){const{x:t,y:n,width:a,height:r}=e;return{width:a,height:r,top:n,left:t,right:t+a,bottom:n+r,x:t,y:n}}function FN(e,t,n){let{reference:a,floating:r}=e;const i=TN(t),s=DN(t),o=AN(s),l=EN(t),c="y"===i,d=a.x+a.width/2-r.width/2,u=a.y+a.height/2-r.height/2,f=a[o]/2-r[o]/2;let m;switch(l){case"top":m={x:d,y:a.y-r.height};break;case"bottom":m={x:d,y:a.y+a.height};break;case"right":m={x:a.x+a.width,y:u};break;case"left":m={x:a.x-r.width,y:u};break;default:m={x:a.x,y:a.y}}switch(IN(t)){case"start":m[s]-=f*(n&&c?-1:1);break;case"end":m[s]+=f*(n&&c?-1:1)}return m}async function BN(e,t){var n;void 0===t&&(t={});const{x:a,y:r,platform:i,rects:s,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:f=!1,padding:m=0}=_N(t,e),p=RN(m),h=o[f?"floating"===u?"reference":"floating":u],g=zN(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(h)))||n?h:h.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:l})),x="floating"===u?{x:a,y:r,width:s.floating.width,height:s.floating.height}:s.reference,y=await(null==i.getOffsetParent?void 0:i.getOffsetParent(o.floating)),v=await(null==i.isElement?void 0:i.isElement(y))&&await(null==i.getScale?void 0:i.getScale(y))||{x:1,y:1},b=zN(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:y,strategy:l}):x);return{top:(g.top-b.top+p.top)/v.y,bottom:(b.bottom-g.bottom+p.bottom)/v.y,left:(g.left-b.left+p.left)/v.x,right:(b.right-g.right+p.right)/v.x}}function UN(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function WN(e){return vN.some((t=>e[t]>=0))}function GN(){return"undefined"!=typeof window}function VN(e){return YN(e)?(e.nodeName||"").toLowerCase():"#document"}function $N(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function HN(e){var t;return null==(t=(YN(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function YN(e){return!!GN()&&(e instanceof Node||e instanceof $N(e).Node)}function qN(e){return!!GN()&&(e instanceof Element||e instanceof $N(e).Element)}function QN(e){return!!GN()&&(e instanceof HTMLElement||e instanceof $N(e).HTMLElement)}function ZN(e){return!(!GN()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof $N(e).ShadowRoot)}function JN(e){const{overflow:t,overflowX:n,overflowY:a,display:r}=aC(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+n)&&!["inline","contents"].includes(r)}function KN(e){return["table","td","th"].includes(VN(e))}function XN(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(n){return!1}}))}function eC(e){const t=tC(),n=qN(e)?aC(e):e;return["transform","translate","scale","rotate","perspective"].some((e=>!!n[e]&&"none"!==n[e]))||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","translate","scale","rotate","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function tC(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function nC(e){return["html","body","#document"].includes(VN(e))}function aC(e){return $N(e).getComputedStyle(e)}function rC(e){return qN(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function iC(e){if("html"===VN(e))return e;const t=e.assignedSlot||e.parentNode||ZN(e)&&e.host||HN(e);return ZN(t)?t.host:t}function sC(e){const t=iC(e);return nC(t)?e.ownerDocument?e.ownerDocument.body:e.body:QN(t)&&JN(t)?t:sC(t)}function oC(e,t,n){var a;void 0===t&&(t=[]),void 0===n&&(n=!0);const r=sC(e),i=r===(null==(a=e.ownerDocument)?void 0:a.body),s=$N(r);if(i){const e=lC(s);return t.concat(s,s.visualViewport||[],JN(r)?r:[],e&&n?oC(e):[])}return t.concat(r,oC(r,[],n))}function lC(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function cC(e){const t=aC(e);let n=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const r=QN(e),i=r?e.offsetWidth:n,s=r?e.offsetHeight:a,o=jN(n)!==i||jN(a)!==s;return o&&(n=i,a=s),{width:n,height:a,$:o}}function dC(e){return qN(e)?e:e.contextElement}function uC(e){const t=dC(e);if(!QN(t))return CN(1);const n=t.getBoundingClientRect(),{width:a,height:r,$:i}=cC(t);let s=(i?jN(n.width):n.width)/a,o=(i?jN(n.height):n.height)/r;return s&&Number.isFinite(s)||(s=1),o&&Number.isFinite(o)||(o=1),{x:s,y:o}}const fC=CN(0);function mC(e){const t=$N(e);return tC()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:fC}function pC(e,t,n,a){void 0===t&&(t=!1),void 0===n&&(n=!1);const r=e.getBoundingClientRect(),i=dC(e);let s=CN(1);t&&(a?qN(a)&&(s=uC(a)):s=uC(e));const o=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==$N(e))&&t}(i,n,a)?mC(i):CN(0);let l=(r.left+o.x)/s.x,c=(r.top+o.y)/s.y,d=r.width/s.x,u=r.height/s.y;if(i){const e=$N(i),t=a&&qN(a)?$N(a):a;let n=e,r=lC(n);for(;r&&a&&t!==n;){const e=uC(r),t=r.getBoundingClientRect(),a=aC(r),i=t.left+(r.clientLeft+parseFloat(a.paddingLeft))*e.x,s=t.top+(r.clientTop+parseFloat(a.paddingTop))*e.y;l*=e.x,c*=e.y,d*=e.x,u*=e.y,l+=i,c+=s,n=$N(r),r=lC(n)}}return zN({width:d,height:u,x:l,y:c})}function hC(e,t){const n=rC(e).scrollLeft;return t?t.left+n:pC(HN(e)).left+n}function gC(e,t,n){void 0===n&&(n=!1);const a=e.getBoundingClientRect();return{x:a.left+t.scrollLeft-(n?0:hC(e,a)),y:a.top+t.scrollTop}}function xC(e,t,n){let a;if("viewport"===t)a=function(e,t){const n=$N(e),a=HN(e),r=n.visualViewport;let i=a.clientWidth,s=a.clientHeight,o=0,l=0;if(r){i=r.width,s=r.height;const e=tC();(!e||e&&"fixed"===t)&&(o=r.offsetLeft,l=r.offsetTop)}return{width:i,height:s,x:o,y:l}}(e,n);else if("document"===t)a=function(e){const t=HN(e),n=rC(e),a=e.ownerDocument.body,r=wN(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),i=wN(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let s=-n.scrollLeft+hC(e);const o=-n.scrollTop;return"rtl"===aC(a).direction&&(s+=wN(t.clientWidth,a.clientWidth)-r),{width:r,height:i,x:s,y:o}}(HN(e));else if(qN(t))a=function(e,t){const n=pC(e,!0,"fixed"===t),a=n.top+e.clientTop,r=n.left+e.clientLeft,i=QN(e)?uC(e):CN(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:r*i.x,y:a*i.y}}(t,n);else{const n=mC(e);a={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return zN(a)}function yC(e,t){const n=iC(e);return!(n===t||!qN(n)||nC(n))&&("fixed"===aC(n).position||yC(n,t))}function vC(e,t,n){const a=QN(t),r=HN(t),i="fixed"===n,s=pC(e,!0,i,t);let o={scrollLeft:0,scrollTop:0};const l=CN(0);function c(){l.x=hC(r)}if(a||!a&&!i)if(("body"!==VN(t)||JN(r))&&(o=rC(t)),a){const e=pC(t,!0,i,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else r&&c();i&&!a&&r&&c();const d=!r||a||i?CN(0):gC(r,o);return{x:s.left+o.scrollLeft-l.x-d.x,y:s.top+o.scrollTop-l.y-d.y,width:s.width,height:s.height}}function bC(e){return"static"===aC(e).position}function wC(e,t){if(!QN(e)||"fixed"===aC(e).position)return null;if(t)return t(e);let n=e.offsetParent;return HN(e)===n&&(n=n.ownerDocument.body),n}function jC(e,t){const n=$N(e);if(XN(e))return n;if(!QN(e)){let t=iC(e);for(;t&&!nC(t);){if(qN(t)&&!bC(t))return t;t=iC(t)}return n}let a=wC(e,t);for(;a&&KN(a)&&bC(a);)a=wC(a,t);return a&&nC(a)&&bC(a)&&!eC(a)?n:a||function(e){let t=iC(e);for(;QN(t)&&!nC(t);){if(eC(t))return t;if(XN(t))return null;t=iC(t)}return null}(e)||n}const NC={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:a,strategy:r}=e;const i="fixed"===r,s=HN(a),o=!!t&&XN(t.floating);if(a===s||o&&i)return n;let l={scrollLeft:0,scrollTop:0},c=CN(1);const d=CN(0),u=QN(a);if((u||!u&&!i)&&(("body"!==VN(a)||JN(s))&&(l=rC(a)),QN(a))){const e=pC(a);c=uC(a),d.x=e.x+a.clientLeft,d.y=e.y+a.clientTop}const f=!s||u||i?CN(0):gC(s,l,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+f.x,y:n.y*c.y-l.scrollTop*c.y+d.y+f.y}},getDocumentElement:HN,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:a,strategy:r}=e;const i=[..."clippingAncestors"===n?XN(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let a=oC(e,[],!1).filter((e=>qN(e)&&"body"!==VN(e))),r=null;const i="fixed"===aC(e).position;let s=i?iC(e):e;for(;qN(s)&&!nC(s);){const t=aC(s),n=eC(s);n||"fixed"!==t.position||(r=null),(i?!n&&!r:!n&&"static"===t.position&&r&&["absolute","fixed"].includes(r.position)||JN(s)&&!n&&yC(e,s))?a=a.filter((e=>e!==s)):r=t,s=iC(s)}return t.set(e,a),a}(t,this._c):[].concat(n),a],s=i[0],o=i.reduce(((e,n)=>{const a=xC(t,n,r);return e.top=wN(a.top,e.top),e.right=bN(a.right,e.right),e.bottom=bN(a.bottom,e.bottom),e.left=wN(a.left,e.left),e}),xC(t,s,r));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}},getOffsetParent:jC,getElementRects:async function(e){const t=this.getOffsetParent||jC,n=this.getDimensions,a=await n(e.floating);return{reference:vC(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=cC(e);return{width:t,height:n}},getScale:uC,isElement:qN,isRTL:function(e){return"rtl"===aC(e).direction}};function CC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function SC(e,t,n,a){void 0===a&&(a={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:s="function"==typeof ResizeObserver,layoutShift:o="function"==typeof IntersectionObserver,animationFrame:l=!1}=a,c=dC(e),d=r||i?[...c?oC(c):[],...oC(t)]:[];d.forEach((e=>{r&&e.addEventListener("scroll",n,{passive:!0}),i&&e.addEventListener("resize",n)}));const u=c&&o?function(e,t){let n,a=null;const r=HN(e);function i(){var e;clearTimeout(n),null==(e=a)||e.disconnect(),a=null}return function s(o,l){void 0===o&&(o=!1),void 0===l&&(l=1),i();const c=e.getBoundingClientRect(),{left:d,top:u,width:f,height:m}=c;if(o||t(),!f||!m)return;const p={rootMargin:-NN(u)+"px "+-NN(r.clientWidth-(d+f))+"px "+-NN(r.clientHeight-(u+m))+"px "+-NN(d)+"px",threshold:wN(0,bN(1,l))||1};let h=!0;function g(t){const a=t[0].intersectionRatio;if(a!==l){if(!h)return s();a?s(!1,a):n=setTimeout((()=>{s(!1,1e-7)}),1e3)}1!==a||CC(c,e.getBoundingClientRect())||s(),h=!1}try{a=new IntersectionObserver(g,{...p,root:r.ownerDocument})}catch(x){a=new IntersectionObserver(g,p)}a.observe(e)}(!0),i}(c,n):null;let f,m=-1,p=null;s&&(p=new ResizeObserver((e=>{let[a]=e;a&&a.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame((()=>{var e;null==(e=p)||e.observe(t)}))),n()})),c&&!l&&p.observe(c),p.observe(t));let h=l?pC(e):null;return l&&function t(){const a=pC(e);h&&!CC(h,a)&&n();h=a,f=requestAnimationFrame(t)}(),n(),()=>{var e;d.forEach((e=>{r&&e.removeEventListener("scroll",n),i&&e.removeEventListener("resize",n)})),null==u||u(),null==(e=p)||e.disconnect(),p=null,l&&cancelAnimationFrame(f)}}const kC=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,a;const{x:r,y:i,placement:s,middlewareData:o}=t,l=await async function(e,t){const{placement:n,platform:a,elements:r}=e,i=await(null==a.isRTL?void 0:a.isRTL(r.floating)),s=EN(n),o=IN(n),l="y"===TN(n),c=["left","top"].includes(s)?-1:1,d=i&&l?-1:1,u=_N(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:p}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return o&&"number"==typeof p&&(m="end"===o?-1*p:p),l?{x:m*d,y:f*c}:{x:f*c,y:m*d}}(t,e);return s===(null==(n=o.offset)?void 0:n.placement)&&null!=(a=o.arrow)&&a.alignmentOffset?{}:{x:r+l.x,y:i+l.y,data:{...l,placement:s}}}}},MC=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:a,placement:r}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:o={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=_N(e,t),c={x:n,y:a},d=await BN(t,l),u=TN(EN(r)),f=LN(u);let m=c[f],p=c[u];if(i){const e="y"===f?"bottom":"right";m=MN(m+d["y"===f?"top":"left"],m,m-d[e])}if(s){const e="y"===u?"bottom":"right";p=MN(p+d["y"===u?"top":"left"],p,p-d[e])}const h=o.fn({...t,[f]:m,[u]:p});return{...h,data:{x:h.x-n,y:h.y-a,enabled:{[f]:i,[u]:s}}}}}},_C=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,a;const{placement:r,middlewareData:i,rects:s,initialPlacement:o,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:h=!0,...g}=_N(e,t);if(null!=(n=i.arrow)&&n.alignmentOffset)return{};const x=EN(r),y=TN(o),v=EN(o)===o,b=await(null==l.isRTL?void 0:l.isRTL(c.floating)),w=f||(v||!h?[ON(o)]:function(e){const t=ON(e);return[PN(e),t,PN(t)]}(o)),j="none"!==p;!f&&j&&w.push(...function(e,t,n,a){const r=IN(e);let i=function(e,t,n){const a=["left","right"],r=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?r:a:t?a:r;case"left":case"right":return t?i:s;default:return[]}}(EN(e),"start"===n,a);return r&&(i=i.map((e=>e+"-"+r)),t&&(i=i.concat(i.map(PN)))),i}(o,h,p,b));const N=[o,...w],C=await BN(t,g),S=[];let k=(null==(a=i.flip)?void 0:a.overflows)||[];if(d&&S.push(C[x]),u){const e=function(e,t,n){void 0===n&&(n=!1);const a=IN(e),r=DN(e),i=AN(r);let s="x"===r?a===(n?"end":"start")?"right":"left":"start"===a?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=ON(s)),[s,ON(s)]}(r,s,b);S.push(C[e[0]],C[e[1]])}if(k=[...k,{placement:r,overflows:S}],!S.every((e=>e<=0))){var M,_;const e=((null==(M=i.flip)?void 0:M.index)||0)+1,t=N[e];if(t){var E;const n="alignment"===u&&y!==TN(t),a=(null==(E=k[0])?void 0:E.overflows[0])>0;if(!n||a)return{data:{index:e,overflows:k},reset:{placement:t}}}let n=null==(_=k.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:_.placement;if(!n)switch(m){case"bestFit":{var I;const e=null==(I=k.filter((e=>{if(j){const t=TN(e.placement);return t===y||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:I[0];e&&(n=e);break}case"initialPlacement":n=o}if(r!==n)return{reset:{placement:n}}}return{}}}},EC=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,a;const{placement:r,rects:i,platform:s,elements:o}=t,{apply:l=()=>{},...c}=_N(e,t),d=await BN(t,c),u=EN(r),f=IN(r),m="y"===TN(r),{width:p,height:h}=i.floating;let g,x;"top"===u||"bottom"===u?(g=u,x=f===(await(null==s.isRTL?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(x=u,g="end"===f?"top":"bottom");const y=h-d.top-d.bottom,v=p-d.left-d.right,b=bN(h-d[g],y),w=bN(p-d[x],v),j=!t.middlewareData.shift;let N=b,C=w;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(C=v),null!=(a=t.middlewareData.shift)&&a.enabled.y&&(N=y),j&&!f){const e=wN(d.left,0),t=wN(d.right,0),n=wN(d.top,0),a=wN(d.bottom,0);m?C=p-2*(0!==e||0!==t?e+t:wN(d.left,d.right)):N=h-2*(0!==n||0!==a?n+a:wN(d.top,d.bottom))}await l({...t,availableWidth:C,availableHeight:N});const S=await s.getDimensions(o.floating);return p!==S.width||h!==S.height?{reset:{rects:!0}}:{}}}},IC=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:a="referenceHidden",...r}=_N(e,t);switch(a){case"referenceHidden":{const e=UN(await BN(t,{...r,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:WN(e)}}}case"escaped":{const e=UN(await BN(t,{...r,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:WN(e)}}}default:return{}}}}},LC=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:a,placement:r,rects:i,platform:s,elements:o,middlewareData:l}=t,{element:c,padding:d=0}=_N(e,t)||{};if(null==c)return{};const u=RN(d),f={x:n,y:a},m=DN(r),p=AN(m),h=await s.getDimensions(c),g="y"===m,x=g?"top":"left",y=g?"bottom":"right",v=g?"clientHeight":"clientWidth",b=i.reference[p]+i.reference[m]-f[m]-i.floating[p],w=f[m]-i.reference[m],j=await(null==s.getOffsetParent?void 0:s.getOffsetParent(c));let N=j?j[v]:0;N&&await(null==s.isElement?void 0:s.isElement(j))||(N=o.floating[v]||i.floating[p]);const C=b/2-w/2,S=N/2-h[p]/2-1,k=bN(u[x],S),M=bN(u[y],S),_=k,E=N-h[p]-M,I=N/2-h[p]/2+C,L=MN(_,I,E),A=!l.arrow&&null!=IN(r)&&I!==L&&i.reference[p]/2-(I<_?k:M)-h[p]/2<0,T=A?I<_?I-_:I-E:0;return{[m]:f[m]+T,data:{[m]:L,centerOffset:I-L-T,...A&&{alignmentOffset:T}},reset:A}}}),AC=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:a,placement:r,rects:i,middlewareData:s}=t,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=_N(e,t),d={x:n,y:a},u=TN(r),f=LN(u);let m=d[f],p=d[u];const h=_N(o,t),g="number"==typeof h?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(l){const e="y"===f?"height":"width",t=i.reference[f]-i.floating[e]+g.mainAxis,n=i.reference[f]+i.reference[e]-g.mainAxis;m<t?m=t:m>n&&(m=n)}if(c){var x,y;const e="y"===f?"width":"height",t=["top","left"].includes(EN(r)),n=i.reference[u]-i.floating[e]+(t&&(null==(x=s.offset)?void 0:x[u])||0)+(t?0:g.crossAxis),a=i.reference[u]+i.reference[e]+(t?0:(null==(y=s.offset)?void 0:y[u])||0)-(t?g.crossAxis:0);p<n?p=n:p>a&&(p=a)}return{[f]:m,[u]:p}}}},TC=(e,t,n)=>{const a=new Map,r={platform:NC,...n},i={...r.platform,_c:a};return(async(e,t,n)=>{const{placement:a="bottom",strategy:r="absolute",middleware:i=[],platform:s}=n,o=i.filter(Boolean),l=await(null==s.isRTL?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:r}),{x:d,y:u}=FN(c,a,l),f=a,m={},p=0;for(let h=0;h<o.length;h++){const{name:n,fn:i}=o[h],{x:g,y:x,data:y,reset:v}=await i({x:d,y:u,initialPlacement:a,placement:f,strategy:r,middlewareData:m,rects:c,platform:s,elements:{reference:e,floating:t}});d=null!=g?g:d,u=null!=x?x:u,m={...m,[n]:{...m[n],...y}},v&&p<=50&&(p++,"object"==typeof v&&(v.placement&&(f=v.placement),v.rects&&(c=!0===v.rects?await s.getElementRects({reference:e,floating:t,strategy:r}):v.rects),({x:d,y:u}=FN(c,f,l))),h=-1)}return{x:d,y:u,placement:f,strategy:r,middlewareData:m}})(e,t,{...r,platform:i})};var DC="undefined"!=typeof document?ci.useLayoutEffect:ci.useEffect;function PC(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,a,r;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(a=n;0!==a--;)if(!PC(e[a],t[a]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(a=n;0!==a--;)if(!{}.hasOwnProperty.call(t,r[a]))return!1;for(a=n;0!==a--;){const n=r[a];if(("_owner"!==n||!e.$$typeof)&&!PC(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function OC(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function RC(e,t){const n=OC(e);return Math.round(t*n)/n}function zC(e){const t=ci.useRef(e);return DC((()=>{t.current=e})),t}const FC=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:a}="function"==typeof e?e(t):e;return n&&(r=n,{}.hasOwnProperty.call(r,"current"))?null!=n.current?LC({element:n.current,padding:a}).fn(t):{}:n?LC({element:n,padding:a}).fn(t):{};var r}}),BC=(e,t)=>({...kC(e),options:[e,t]}),UC=(e,t)=>({...MC(e),options:[e,t]}),WC=(e,t)=>({...AC(e),options:[e,t]}),GC=(e,t)=>({..._C(e),options:[e,t]}),VC=(e,t)=>({...EC(e),options:[e,t]}),$C=(e,t)=>({...IC(e),options:[e,t]}),HC=(e,t)=>({...FC(e),options:[e,t]});var YC=ci.forwardRef(((e,t)=>{const{children:n,width:a=10,height:r=5,...i}=e;return vi.jsx(ev.svg,{...i,ref:t,width:a,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:vi.jsx("polygon",{points:"0,0 30,0 15,10"})})}));YC.displayName="Arrow";var qC=YC;function QC(e){const[t,n]=ci.useState(void 0);return pv((()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver((t=>{if(!Array.isArray(t))return;if(!t.length)return;const a=t[0];let r,i;if("borderBoxSize"in a){const e=a.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,i=t.blockSize}else r=e.offsetWidth,i=e.offsetHeight;n({width:r,height:i})}));return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)}),[e]),t}var ZC="Popper",[JC,KC]=$y(ZC),[XC,eS]=JC(ZC),tS=e=>{const{__scopePopper:t,children:n}=e,[a,r]=ci.useState(null);return vi.jsx(XC,{scope:t,anchor:a,onAnchorChange:r,children:n})};tS.displayName=ZC;var nS="PopperAnchor",aS=ci.forwardRef(((e,t)=>{const{__scopePopper:n,virtualRef:a,...r}=e,i=eS(nS,n),s=ci.useRef(null),o=Vy(t,s);return ci.useEffect((()=>{i.onAnchorChange((null==a?void 0:a.current)||s.current)})),a?null:vi.jsx(ev.div,{...r,ref:o})}));aS.displayName=nS;var rS="PopperContent",[iS,sS]=JC(rS),oS=ci.forwardRef(((e,t)=>{var n,a,r,i,s,o;const{__scopePopper:l,side:c="bottom",sideOffset:d=0,align:u="center",alignOffset:f=0,arrowPadding:m=0,avoidCollisions:p=!0,collisionBoundary:h=[],collisionPadding:g=0,sticky:x="partial",hideWhenDetached:y=!1,updatePositionStrategy:v="optimized",onPlaced:b,...w}=e,j=eS(rS,l),[N,C]=ci.useState(null),S=Vy(t,(e=>C(e))),[k,M]=ci.useState(null),_=QC(k),E=(null==_?void 0:_.width)??0,I=(null==_?void 0:_.height)??0,L=c+("center"!==u?"-"+u:""),A="number"==typeof g?g:{top:0,right:0,bottom:0,left:0,...g},T=Array.isArray(h)?h:[h],D=T.length>0,P={padding:A,boundary:T.filter(uS),altBoundary:D},{refs:O,floatingStyles:R,placement:z,isPositioned:F,middlewareData:B}=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:a=[],platform:r,elements:{reference:i,floating:s}={},transform:o=!0,whileElementsMounted:l,open:c}=e,[d,u]=ci.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=ci.useState(a);PC(f,a)||m(a);const[p,h]=ci.useState(null),[g,x]=ci.useState(null),y=ci.useCallback((e=>{e!==j.current&&(j.current=e,h(e))}),[]),v=ci.useCallback((e=>{e!==N.current&&(N.current=e,x(e))}),[]),b=i||p,w=s||g,j=ci.useRef(null),N=ci.useRef(null),C=ci.useRef(d),S=null!=l,k=zC(l),M=zC(r),_=zC(c),E=ci.useCallback((()=>{if(!j.current||!N.current)return;const e={placement:t,strategy:n,middleware:f};M.current&&(e.platform=M.current),TC(j.current,N.current,e).then((e=>{const t={...e,isPositioned:!1!==_.current};I.current&&!PC(C.current,t)&&(C.current=t,kg.flushSync((()=>{u(t)})))}))}),[f,t,n,M,_]);DC((()=>{!1===c&&C.current.isPositioned&&(C.current.isPositioned=!1,u((e=>({...e,isPositioned:!1}))))}),[c]);const I=ci.useRef(!1);DC((()=>(I.current=!0,()=>{I.current=!1})),[]),DC((()=>{if(b&&(j.current=b),w&&(N.current=w),b&&w){if(k.current)return k.current(b,w,E);E()}}),[b,w,E,k,S]);const L=ci.useMemo((()=>({reference:j,floating:N,setReference:y,setFloating:v})),[y,v]),A=ci.useMemo((()=>({reference:b,floating:w})),[b,w]),T=ci.useMemo((()=>{const e={position:n,left:0,top:0};if(!A.floating)return e;const t=RC(A.floating,d.x),a=RC(A.floating,d.y);return o?{...e,transform:"translate("+t+"px, "+a+"px)",...OC(A.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:a}}),[n,o,A.floating,d.x,d.y]);return ci.useMemo((()=>({...d,update:E,refs:L,elements:A,floatingStyles:T})),[d,E,L,A,T])}({strategy:"fixed",placement:L,whileElementsMounted:(...e)=>SC(...e,{animationFrame:"always"===v}),elements:{reference:j.anchor},middleware:[BC({mainAxis:d+I,alignmentAxis:f}),p&&UC({mainAxis:!0,crossAxis:!1,limiter:"partial"===x?WC():void 0,...P}),p&&GC({...P}),VC({...P,apply:({elements:e,rects:t,availableWidth:n,availableHeight:a})=>{const{width:r,height:i}=t.reference,s=e.floating.style;s.setProperty("--radix-popper-available-width",`${n}px`),s.setProperty("--radix-popper-available-height",`${a}px`),s.setProperty("--radix-popper-anchor-width",`${r}px`),s.setProperty("--radix-popper-anchor-height",`${i}px`)}}),k&&HC({element:k,padding:m}),fS({arrowWidth:E,arrowHeight:I}),y&&$C({strategy:"referenceHidden",...P})]}),[U,W]=mS(z),G=nv(b);pv((()=>{F&&(null==G||G())}),[F,G]);const V=null==(n=B.arrow)?void 0:n.x,$=null==(a=B.arrow)?void 0:a.y,H=0!==(null==(r=B.arrow)?void 0:r.centerOffset),[Y,q]=ci.useState();return pv((()=>{N&&q(window.getComputedStyle(N).zIndex)}),[N]),vi.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...R,transform:F?R.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Y,"--radix-popper-transform-origin":[null==(i=B.transformOrigin)?void 0:i.x,null==(s=B.transformOrigin)?void 0:s.y].join(" "),...(null==(o=B.hide)?void 0:o.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:vi.jsx(iS,{scope:l,placedSide:U,onArrowChange:M,arrowX:V,arrowY:$,shouldHideArrow:H,children:vi.jsx(ev.div,{"data-side":U,"data-align":W,...w,ref:S,style:{...w.style,animation:F?void 0:"none"}})})})}));oS.displayName=rS;var lS="PopperArrow",cS={top:"bottom",right:"left",bottom:"top",left:"right"},dS=ci.forwardRef((function(e,t){const{__scopePopper:n,...a}=e,r=sS(lS,n),i=cS[r.placedSide];return vi.jsx("span",{ref:r.onArrowChange,style:{position:"absolute",left:r.arrowX,top:r.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[r.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[r.placedSide],visibility:r.shouldHideArrow?"hidden":void 0},children:vi.jsx(qC,{...a,ref:t,style:{...a.style,display:"block"}})})}));function uS(e){return null!==e}dS.displayName=lS;var fS=e=>({name:"transformOrigin",options:e,fn(t){var n,a,r;const{placement:i,rects:s,middlewareData:o}=t,l=0!==(null==(n=o.arrow)?void 0:n.centerOffset),c=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[u,f]=mS(i),m={start:"0%",center:"50%",end:"100%"}[f],p=((null==(a=o.arrow)?void 0:a.x)??0)+c/2,h=((null==(r=o.arrow)?void 0:r.y)??0)+d/2;let g="",x="";return"bottom"===u?(g=l?m:`${p}px`,x=-d+"px"):"top"===u?(g=l?m:`${p}px`,x=`${s.floating.height+d}px`):"right"===u?(g=-d+"px",x=l?m:`${h}px`):"left"===u&&(g=`${s.floating.width+d}px`,x=l?m:`${h}px`),{data:{x:g,y:x}}}});function mS(e){const[t,n="center"]=e.split("-");return[t,n]}var pS=tS,hS=aS,gS=oS,xS=dS,[yS,vS]=$y("Tooltip",[KC]),bS=KC(),wS="TooltipProvider",jS=700,NS="tooltip.open",[CS,SS]=yS(wS),kS=e=>{const{__scopeTooltip:t,delayDuration:n=jS,skipDelayDuration:a=300,disableHoverableContent:r=!1,children:i}=e,s=ci.useRef(!0),o=ci.useRef(!1),l=ci.useRef(0);return ci.useEffect((()=>{const e=l.current;return()=>window.clearTimeout(e)}),[]),vi.jsx(CS,{scope:t,isOpenDelayedRef:s,delayDuration:n,onOpen:ci.useCallback((()=>{window.clearTimeout(l.current),s.current=!1}),[]),onClose:ci.useCallback((()=>{window.clearTimeout(l.current),l.current=window.setTimeout((()=>s.current=!0),a)}),[a]),isPointerInTransitRef:o,onPointerInTransitChange:ci.useCallback((e=>{o.current=e}),[]),disableHoverableContent:r,children:i})};kS.displayName=wS;var MS="Tooltip",[_S,ES]=yS(MS),IS=e=>{const{__scopeTooltip:t,children:n,open:a,defaultOpen:r,onOpenChange:i,disableHoverableContent:s,delayDuration:o}=e,l=SS(MS,e.__scopeTooltip),c=bS(t),[d,u]=ci.useState(null),f=yN(),m=ci.useRef(0),p=s??l.disableHoverableContent,h=o??l.delayDuration,g=ci.useRef(!1),[x,y]=vv({prop:a,defaultProp:r??!1,onChange:e=>{e?(l.onOpen(),document.dispatchEvent(new CustomEvent(NS))):l.onClose(),null==i||i(e)},caller:MS}),v=ci.useMemo((()=>x?g.current?"delayed-open":"instant-open":"closed"),[x]),b=ci.useCallback((()=>{window.clearTimeout(m.current),m.current=0,g.current=!1,y(!0)}),[y]),w=ci.useCallback((()=>{window.clearTimeout(m.current),m.current=0,y(!1)}),[y]),j=ci.useCallback((()=>{window.clearTimeout(m.current),m.current=window.setTimeout((()=>{g.current=!0,y(!0),m.current=0}),h)}),[h,y]);return ci.useEffect((()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)}),[]),vi.jsx(pS,{...c,children:vi.jsx(_S,{scope:t,contentId:f,open:x,stateAttribute:v,trigger:d,onTriggerChange:u,onTriggerEnter:ci.useCallback((()=>{l.isOpenDelayedRef.current?j():b()}),[l.isOpenDelayedRef,j,b]),onTriggerLeave:ci.useCallback((()=>{p?w():(window.clearTimeout(m.current),m.current=0)}),[w,p]),onOpen:b,onClose:w,disableHoverableContent:p,children:n})})};IS.displayName=MS;var LS="TooltipTrigger",AS=ci.forwardRef(((e,t)=>{const{__scopeTooltip:n,...a}=e,r=ES(LS,n),i=SS(LS,n),s=bS(n),o=Vy(t,ci.useRef(null),r.onTriggerChange),l=ci.useRef(!1),c=ci.useRef(!1),d=ci.useCallback((()=>l.current=!1),[]);return ci.useEffect((()=>()=>document.removeEventListener("pointerup",d)),[d]),vi.jsx(hS,{asChild:!0,...s,children:vi.jsx(ev.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...a,ref:o,onPointerMove:Uy(e.onPointerMove,(e=>{"touch"!==e.pointerType&&(c.current||i.isPointerInTransitRef.current||(r.onTriggerEnter(),c.current=!0))})),onPointerLeave:Uy(e.onPointerLeave,(()=>{r.onTriggerLeave(),c.current=!1})),onPointerDown:Uy(e.onPointerDown,(()=>{r.open&&r.onClose(),l.current=!0,document.addEventListener("pointerup",d,{once:!0})})),onFocus:Uy(e.onFocus,(()=>{l.current||r.onOpen()})),onBlur:Uy(e.onBlur,r.onClose),onClick:Uy(e.onClick,r.onClose)})})}));AS.displayName=LS;var[TS,DS]=yS("TooltipPortal",{forceMount:void 0}),PS="TooltipContent",OS=ci.forwardRef(((e,t)=>{const n=DS(PS,e.__scopeTooltip),{forceMount:a=n.forceMount,side:r="top",...i}=e,s=ES(PS,e.__scopeTooltip);return vi.jsx(gv,{present:a||s.open,children:s.disableHoverableContent?vi.jsx(US,{side:r,...i,ref:t}):vi.jsx(RS,{side:r,...i,ref:t})})})),RS=ci.forwardRef(((e,t)=>{const n=ES(PS,e.__scopeTooltip),a=SS(PS,e.__scopeTooltip),r=ci.useRef(null),i=Vy(t,r),[s,o]=ci.useState(null),{trigger:l,onClose:c}=n,d=r.current,{onPointerInTransitChange:u}=a,f=ci.useCallback((()=>{o(null),u(!1)}),[u]),m=ci.useCallback(((e,t)=>{const n=e.currentTarget,a={x:e.clientX,y:e.clientY},r=function(e,t,n=5){const a=[];switch(t){case"top":a.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":a.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":a.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":a.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n})}return a}(a,function(e,t){const n=Math.abs(t.top-e.y),a=Math.abs(t.bottom-e.y),r=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,a,r,i)){case i:return"left";case r:return"right";case n:return"top";case a:return"bottom";default:throw new Error("unreachable")}}(a,n.getBoundingClientRect())),i=function(e){const t=e.slice();return t.sort(((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0)),function(e){if(e.length<=1)return e.slice();const t=[];for(let a=0;a<e.length;a++){const n=e[a];for(;t.length>=2;){const e=t[t.length-1],a=t[t.length-2];if(!((e.x-a.x)*(n.y-a.y)>=(e.y-a.y)*(n.x-a.x)))break;t.pop()}t.push(n)}t.pop();const n=[];for(let a=e.length-1;a>=0;a--){const t=e[a];for(;n.length>=2;){const e=n[n.length-1],a=n[n.length-2];if(!((e.x-a.x)*(t.y-a.y)>=(e.y-a.y)*(t.x-a.x)))break;n.pop()}n.push(t)}return n.pop(),1===t.length&&1===n.length&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}(t)}([...r,...function(e){const{top:t,right:n,bottom:a,left:r}=e;return[{x:r,y:t},{x:n,y:t},{x:n,y:a},{x:r,y:a}]}(t.getBoundingClientRect())]);o(i),u(!0)}),[u]);return ci.useEffect((()=>()=>f()),[f]),ci.useEffect((()=>{if(l&&d){const e=e=>m(e,d),t=e=>m(e,l);return l.addEventListener("pointerleave",e),d.addEventListener("pointerleave",t),()=>{l.removeEventListener("pointerleave",e),d.removeEventListener("pointerleave",t)}}}),[l,d,m,f]),ci.useEffect((()=>{if(s){const e=e=>{const t=e.target,n={x:e.clientX,y:e.clientY},a=(null==l?void 0:l.contains(t))||(null==d?void 0:d.contains(t)),r=!function(e,t){const{x:n,y:a}=e;let r=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const e=t[i],o=t[s],l=e.x,c=e.y,d=o.x,u=o.y;c>a!=u>a&&n<(d-l)*(a-c)/(u-c)+l&&(r=!r)}return r}(n,s);a?f():r&&(f(),c())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}}),[l,d,s,c,f]),vi.jsx(US,{...e,ref:i})})),[zS,FS]=yS(MS,{isInside:!1}),BS=Jy("TooltipContent"),US=ci.forwardRef(((e,t)=>{const{__scopeTooltip:n,children:a,"aria-label":r,onEscapeKeyDown:i,onPointerDownOutside:s,...o}=e,l=ES(PS,n),c=bS(n),{onClose:d}=l;return ci.useEffect((()=>(document.addEventListener(NS,d),()=>document.removeEventListener(NS,d))),[d]),ci.useEffect((()=>{if(l.trigger){const e=e=>{const t=e.target;(null==t?void 0:t.contains(l.trigger))&&d()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}}),[l.trigger,d]),vi.jsx(lv,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:e=>e.preventDefault(),onDismiss:d,children:vi.jsxs(gS,{"data-state":l.stateAttribute,...c,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[vi.jsx(BS,{children:a}),vi.jsx(zS,{scope:n,isInside:!0,children:vi.jsx(jv,{id:l.contentId,role:"tooltip",children:r||a})})]})})}));OS.displayName=PS;var WS="TooltipArrow";ci.forwardRef(((e,t)=>{const{__scopeTooltip:n,...a}=e,r=bS(n);return FS(WS,n).isInside?null:vi.jsx(xS,{...r,...a,ref:t})})).displayName=WS;var GS=OS;const VS=kS,$S=IS,HS=AS,YS=ci.forwardRef((({className:e,sideOffset:t=4,...n},a)=>vi.jsx(GS,{ref:a,sideOffset:t,className:iN("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n})));YS.displayName=GS.displayName;const qS=ci.forwardRef((({className:e,...t},n)=>vi.jsx("div",{ref:n,className:iN("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t})));qS.displayName="Card";const QS=ci.forwardRef((({className:e,...t},n)=>vi.jsx("div",{ref:n,className:iN("flex flex-col space-y-1.5 p-6",e),...t})));QS.displayName="CardHeader";const ZS=ci.forwardRef((({className:e,...t},n)=>vi.jsx("div",{ref:n,className:iN("text-2xl  leading-none tracking-tight",e),...t})));ZS.displayName="CardTitle";const JS=ci.forwardRef((({className:e,...t},n)=>vi.jsx("div",{ref:n,className:iN("text-sm text-muted-foreground",e),...t})));JS.displayName="CardDescription";const KS=ci.forwardRef((({className:e,...t},n)=>vi.jsx("div",{ref:n,className:iN("p-6 pt-0",e),...t})));KS.displayName="CardContent";const XS=ci.forwardRef((({className:e,...t},n)=>vi.jsx("div",{ref:n,className:iN("flex items-center p-6 pt-0",e),...t})));XS.displayName="CardFooter";const ek=pb("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",brand:"bg-brand-primary text-white hover:bg-brand-primary hover:opacity-90 transition-opacity",brandSecondary:"bg-brand-secondary text-white hover:bg-brand-secondary hover:opacity-90 transition-opacity",brandOutline:"btn-brand-outline",brandGhost:"btn-brand-ghost",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"brand",size:"default"}}),tk=ci.forwardRef((({className:e,variant:t,size:n,asChild:a=!1,...r},i)=>{const s=a?qy:"button";return vi.jsx(s,{className:iN(ek({variant:t,size:n,className:e})),ref:i,...r})}));tk.displayName="Button";const nk=pb("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs  transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ak({className:e,variant:t,...n}){return vi.jsx("div",{className:iN(nk({variant:t}),e),...n})}const rk=ci.createContext(null);function ik({children:e}){const[t,n]=ci.useState(null),[a,r]=ci.useState([]),[i,s]=ci.useState({}),[o,l]=ci.useState(!0),c=e=>{localStorage.setItem("preferred-language",e)},d=async e=>{try{const t=await Ey("GET",`/api/translations/language/${e}`);if(!t.ok)throw new Error("Failed to fetch translations");const n=await t.json(),a={};for(const e in n){const t=n[e];for(const n in t){a[`${e}.${n}`]=t[n]}}return a}catch(t){return console.error("Error fetching translations:",t),{}}};ci.useEffect((()=>{(async()=>{l(!0);try{console.log("Starting language initialization...");const e=await(async()=>{try{console.log("Fetching languages from /api/languages...");const e=await Ey("GET","/api/languages");if(!e.ok)throw console.error("Failed to fetch languages, status:",e.status),new Error("Failed to fetch languages");const t=await e.json();return console.log("Raw languages data from API:",t),t}catch(e){return console.error("Error fetching languages:",e),[]}})();if(console.log("Available languages received:",e.length,e),r(e),e.length>0){const t=localStorage.getItem("preferred-language")||"en";console.log("Stored language code:",t);const a=e.find((e=>e.code===t))||e.find((e=>!0===e.isDefault))||e[0];console.log("Selected preferred language:",a),a&&(await(async(e,t)=>{console.log(`Starting changeLanguageWithLanguages to: ${e}`),l(!0);try{console.log("Fetching translations...");const r=await d(e);console.log(`Fetched ${Object.keys(r).length} translations`);const i=t.find((t=>t.code===e));if(console.log("Found language in provided array:",i),i){console.log("Setting current language and translations..."),n(i),s(r),c(e);try{await Ey("PUT","/api/user/language",{languageCode:e}),console.log("Updated user language preference in database")}catch(a){console.error("Error updating user language preference:",a)}document.documentElement.lang=e,document.documentElement.dir=i.direction||"ltr",console.log("Language change completed successfully")}else console.error("Language not found in provided languages array")}catch(r){console.error("Error changing language:",r)}finally{console.log("Setting isLoading to false"),l(!1)}})(a.code,e),console.log("Language change completed, setting loading to false"))}else console.warn("No languages available from API"),l(!1)}catch(e){console.error("Error initializing translations:",e),l(!1)}console.log("Translation initialization completed")})()}),[]);const u={currentLanguage:t,languages:a,translations:i,isLoading:o,t:(e,t,n)=>{let a=i[e]||t||e;return n&&Object.entries(n).forEach((([e,t])=>{const n=`{{${e}}}`;a=a.replace(new RegExp(n,"g"),String(t))})),a},changeLanguage:async e=>{console.log(`Starting changeLanguage to: ${e}`),l(!0);try{console.log("Fetching translations...");const r=await d(e);console.log(`Fetched ${Object.keys(r).length} translations`);const i=a.find((t=>t.code===e));if(console.log("Found language:",i),i){console.log("Setting current language and translations..."),n(i),s(r),c(e);try{await Ey("PUT","/api/user/language",{languageCode:e}),console.log("Updated user language preference in database")}catch(t){console.error("Error updating user language preference:",t)}document.documentElement.lang=e,document.documentElement.dir=i.direction||"ltr",console.log("Language change completed successfully")}else console.error("Language not found in languages array")}catch(r){console.error("Error changing language:",r)}finally{console.log("Setting isLoading to false"),l(!1)}},refreshTranslations:async()=>{if(t){const e=await d(t.code);s(e)}}};return vi.jsx(rk.Provider,{value:u,children:e})}function sk(){const e=ci.useContext(rk);if(!e)throw new Error("useTranslation must be used within a TranslationProvider");return e}const ok={appName:"PowerChat",primaryColor:"#333235",secondaryColor:"#4F46E5"},lk=ci.createContext(null);function ck({children:e}){const[t,n]=ci.useState(ok),[a,r]=ci.useState(!0),[i,s]=ci.useState(null),o=e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},l=ci.useCallback((e=>{if(document.title=`${e.appName} - Multi-Channel Team Inbox & AI Chatbot Platform`,e.faviconUrl){const t=document.querySelector('link[rel="icon"]');if(t)t.setAttribute("href",e.faviconUrl);else{const t=document.createElement("link");t.rel="icon",t.href=e.faviconUrl,document.head.appendChild(t)}}document.documentElement.style.setProperty("--brand-primary-color",e.primaryColor),document.documentElement.style.setProperty("--brand-secondary-color",e.secondaryColor);const t=o(e.primaryColor),n=o(e.secondaryColor);if(t){document.documentElement.style.setProperty("--brand-primary-rgb",`${t.r}, ${t.g}, ${t.b}`);const n=`rgb(${Math.max(0,t.r-20)}, ${Math.max(0,t.g-20)}, ${Math.max(0,t.b-20)})`;document.documentElement.style.setProperty("--brand-primary-hover",n),document.documentElement.style.setProperty("--primary",`${t.r} ${t.g} ${t.b}`);document.querySelectorAll(".btn-brand-primary, .bg-brand-primary, .text-brand-primary, .border-brand-primary").forEach((t=>{t.style.setProperty("--brand-primary-color",e.primaryColor,"important")}))}if(n){document.documentElement.style.setProperty("--brand-secondary-rgb",`${n.r}, ${n.g}, ${n.b}`);const t=`rgb(${Math.max(0,n.r-20)}, ${Math.max(0,n.g-20)}, ${Math.max(0,n.b-20)})`;document.documentElement.style.setProperty("--brand-secondary-hover",t),document.documentElement.style.setProperty("--secondary",`${n.r} ${n.g} ${n.b}`);document.querySelectorAll(".btn-brand-secondary, .bg-brand-secondary, .text-brand-secondary, .border-brand-secondary").forEach((t=>{t.style.setProperty("--brand-secondary-color",e.secondaryColor,"important")}))}document.body.style.display="none",document.body.offsetHeight,document.body.style.display=""}),[]),c=ci.useCallback((async()=>{try{r(!0),s(null);const e=await Ey("GET","/api/branding");if(!e.ok)return 403===e.status?console.log("Access denied to branding settings, using default branding"):console.log(`Failed to fetch branding settings (${e.status}), using default branding`),n(ok),void l(ok);const t=await e.json(),a=t.find((e=>"branding"===e.key)),i=t.find((e=>"branding_logo"===e.key)),o=t.find((e=>"branding_favicon"===e.key)),c={...ok,...(null==a?void 0:a.value)||{},logoUrl:null==i?void 0:i.value,faviconUrl:null==o?void 0:o.value};n(c),l(c)}catch(e){console.log("Error fetching branding settings, using defaults:",e),n(ok),l(ok),s(e instanceof Error?e:new Error("Failed to fetch branding settings"))}finally{r(!1)}}),[l]);ci.useEffect((()=>{c()}),[c]);return vi.jsx(lk.Provider,{value:{branding:t,isLoading:a,error:i,refreshBranding:async()=>{await c()}},children:e})}function dk(){const e=ci.useContext(lk);if(!e)throw new Error("useBranding must be used within a BrandingProvider");return e}const uk=Symbol.for("drizzle:entityKind");function fk(e,t){if(!e||"object"!=typeof e)return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,uk))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(e).constructor;if(n)for(;n;){if(uk in n&&n[uk]===t[uk])return!0;n=Object.getPrototypeOf(n)}return!1}we=uk;class mk{constructor(e,t){hr(this,"name"),hr(this,"keyAsName"),hr(this,"primary"),hr(this,"notNull"),hr(this,"default"),hr(this,"defaultFn"),hr(this,"onUpdateFn"),hr(this,"hasDefault"),hr(this,"isUnique"),hr(this,"uniqueName"),hr(this,"uniqueType"),hr(this,"dataType"),hr(this,"columnType"),hr(this,"enumValues"),hr(this,"generated"),hr(this,"generatedIdentity"),hr(this,"config"),this.table=e,this.config=t,this.name=t.name,this.keyAsName=t.keyAsName,this.notNull=t.notNull,this.default=t.default,this.defaultFn=t.defaultFn,this.onUpdateFn=t.onUpdateFn,this.hasDefault=t.hasDefault,this.primary=t.primaryKey,this.isUnique=t.isUnique,this.uniqueName=t.uniqueName,this.uniqueType=t.uniqueType,this.dataType=t.dataType,this.columnType=t.columnType,this.generated=t.generated,this.generatedIdentity=t.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return void 0!==this.config.generated&&"byDefault"!==this.config.generated.type}}hr(mk,we,"Column"),je=uk;class pk{constructor(e,t,n){hr(this,"config"),hr(this,"$default",this.$defaultFn),hr(this,"$onUpdate",this.$onUpdateFn),this.config={name:e,keyAsName:""===e,notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:t,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){""===this.config.name&&(this.config.name=e)}}hr(pk,je,"ColumnBuilder");const hk=Symbol.for("drizzle:Name");Ne=uk;class gk{constructor(e,t){hr(this,"reference"),hr(this,"_onUpdate","no action"),hr(this,"_onDelete","no action"),this.reference=()=>{const{name:t,columns:n,foreignColumns:a}=e();return{name:t,columns:n,foreignTable:a[0].table,foreignColumns:a}},t&&(this._onUpdate=t.onUpdate,this._onDelete=t.onDelete)}onUpdate(e){return this._onUpdate=void 0===e?"no action":e,this}onDelete(e){return this._onDelete=void 0===e?"no action":e,this}build(e){return new xk(e,this)}}hr(gk,Ne,"PgForeignKeyBuilder"),Ce=uk;class xk{constructor(e,t){hr(this,"reference"),hr(this,"onUpdate"),hr(this,"onDelete"),this.table=e,this.reference=t.reference,this.onUpdate=t._onUpdate,this.onDelete=t._onDelete}getName(){const{name:e,columns:t,foreignColumns:n}=this.reference(),a=t.map((e=>e.name)),r=n.map((e=>e.name)),i=[this.table[hk],...a,n[0].table[hk],...r];return e??`${i.join("_")}_fk`}}function yk(e){return new wk(e)}function vk(e,t){return`${e[hk]}_${t.join("_")}_unique`}hr(xk,Ce,"PgForeignKey"),Se=uk;class bk{constructor(e,t){hr(this,"columns"),hr(this,"nullsNotDistinctConfig",!1),this.name=t,this.columns=e}nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(e){return new jk(e,this.columns,this.nullsNotDistinctConfig,this.name)}}hr(bk,Se,"PgUniqueConstraintBuilder"),ke=uk;class wk{constructor(e){hr(this,"name"),this.name=e}on(...e){return new bk(e,this.name)}}hr(wk,ke,"PgUniqueOnConstraintBuilder"),Me=uk;class jk{constructor(e,t,n,a){hr(this,"columns"),hr(this,"name"),hr(this,"nullsNotDistinct",!1),this.table=e,this.columns=t,this.name=a??vk(this.table,this.columns.map((e=>e.name))),this.nullsNotDistinct=n}getName(){return this.name}}function Nk(e,t,n){for(let a=t;a<e.length;a++){const r=e[a];if("\\"!==r){if('"'===r)return[e.slice(t,a).replace(/\\/g,""),a+1];if(!n&&(","===r||"}"===r))return[e.slice(t,a).replace(/\\/g,""),a]}else a++}return[e.slice(t).replace(/\\/g,""),e.length]}function Ck(e,t=0){const n=[];let a=t,r=!1;for(;a<e.length;){const i=e[a];if(","===i){(r||a===t)&&n.push(""),r=!0,a++;continue}if(r=!1,"\\"===i){a+=2;continue}if('"'===i){const[t,r]=Nk(e,a+1,!0);n.push(t),a=r;continue}if("}"===i)return[n,a+1];if("{"===i){const[t,r]=Ck(e,a+1);n.push(t),a=r;continue}const[s,o]=Nk(e,a,!1);n.push(s),a=o}return[n,a]}function Sk(e){const[t]=Ck(e,1);return t}function kk(e){return`{${e.map((e=>Array.isArray(e)?kk(e):"string"==typeof e?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`)).join(",")}}`}hr(jk,Me,"PgUniqueConstraint");class Mk extends(Ee=pk,_e=uk,Ee){constructor(){super(...arguments),hr(this,"foreignKeyConfigs",[])}array(e){return new Ik(this.config.name,this,e)}references(e,t={}){return this.foreignKeyConfigs.push({ref:e,actions:t}),this}unique(e,t){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=null==t?void 0:t.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,t){return this.foreignKeyConfigs.map((({ref:n,actions:a})=>function(e,...t){return e(...t)}(((n,a)=>{const r=new gk((()=>{const t=n();return{columns:[e],foreignColumns:[t]}}));return a.onUpdate&&r.onUpdate(a.onUpdate),a.onDelete&&r.onDelete(a.onDelete),r.build(t)}),n,a)))}buildExtraConfigColumn(e){return new Ek(e,this.config)}}hr(Mk,_e,"PgColumnBuilder");class _k extends(Le=mk,Ie=uk,Le){constructor(e,t){t.uniqueName||(t.uniqueName=vk(e,[t.name])),super(e,t),this.table=e}}hr(_k,Ie,"PgColumn");class Ek extends(Te=_k,Ae=uk,Te){constructor(){super(...arguments),hr(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass}),hr(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}}hr(Ek,Ae,"ExtraConfigColumn");class Ik extends(Pe=Mk,De=uk,Pe){constructor(e,t,n){super(e,"array","PgArray"),this.config.baseBuilder=t,this.config.size=n}build(e){const t=this.config.baseBuilder.build(e);return new Ak(e,this.config,t)}}hr(Ik,De,"PgArrayBuilder");const Lk=class e extends(Re=_k,Oe=uk,Re){constructor(e,t,n,a){super(e,t),hr(this,"size"),this.baseColumn=n,this.range=a,this.size=t.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${"number"==typeof this.size?this.size:""}]`}mapFromDriverValue(e){return"string"==typeof e&&(e=Sk(e)),e.map((e=>this.baseColumn.mapFromDriverValue(e)))}mapToDriverValue(t,n=!1){const a=t.map((t=>null===t?null:fk(this.baseColumn,e)?this.baseColumn.mapToDriverValue(t,!0):this.baseColumn.mapToDriverValue(t)));return n?a:kk(a)}};hr(Lk,Oe,"PgArray");let Ak=Lk;const Tk=Symbol.for("drizzle:isPgEnum");class Dk extends(Fe=Mk,ze=uk,Fe){constructor(e,t){super(e,"string","PgEnumColumn"),this.config.enum=t}build(e){return new Pk(e,this.config)}}hr(Dk,ze,"PgEnumColumnBuilder");class Pk extends(Ue=_k,Be=uk,Ue){constructor(e,t){super(e,t),hr(this,"enum",this.config.enum),hr(this,"enumValues",this.config.enum.enumValues),this.enum=t.enum}getSQLType(){return this.enum.enumName}}function Ok(e,t){return function(e,t,n){const a=Object.assign((e=>new Dk(e??"",a)),{enumName:e,enumValues:t,schema:n,[Tk]:!0});return a}(e,t,void 0)}hr(Pk,Be,"PgEnumColumn"),We=uk;class Rk{constructor(e,t,n,a=!1){this._={brand:"Subquery",sql:e,selectedFields:t,alias:n,isWith:a}}}hr(Rk,We,"Subquery");const zk={startActiveSpan:(e,t)=>t()},Fk=Symbol.for("drizzle:ViewBaseConfig"),Bk=Symbol.for("drizzle:Schema"),Uk=Symbol.for("drizzle:Columns"),Wk=Symbol.for("drizzle:ExtraConfigColumns"),Gk=Symbol.for("drizzle:OriginalName"),Vk=Symbol.for("drizzle:BaseName"),$k=Symbol.for("drizzle:IsAlias"),Hk=Symbol.for("drizzle:ExtraConfigBuilder"),Yk=Symbol.for("drizzle:IsDrizzleTable");let qk=(Ke=uk,Je=hk,Ze=Gk,Qe=Bk,qe=Uk,Ye=Wk,He=Vk,$e=$k,Ve=Yk,Ge=Hk,Xe=class{constructor(e,t,n){hr(this,Je),hr(this,Ze),hr(this,Qe),hr(this,qe),hr(this,Ye),hr(this,He),hr(this,$e,!1),hr(this,Ve,!0),hr(this,Ge),this[hk]=this[Gk]=e,this[Bk]=t,this[Vk]=n}},hr(Xe,Ke,"Table"),hr(Xe,"Symbol",{Name:hk,Schema:Bk,OriginalName:Gk,Columns:Uk,ExtraConfigColumns:Wk,BaseName:Vk,IsAlias:$k,ExtraConfigBuilder:Hk}),Xe);function Qk(e){return"object"==typeof e&&null!==e&&Yk in e}et=uk;class Zk{constructor(e){hr(this,"value"),this.value=Array.isArray(e)?e:[e]}getSQL(){return new Kk([this])}}hr(Zk,et,"StringChunk"),tt=uk;const Jk=class e{constructor(e){hr(this,"decoder",eM),hr(this,"shouldInlineParams",!1),this.queryChunks=e}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return zk.startActiveSpan("drizzle.buildSQL",(t=>{const n=this.buildQueryFromSourceParams(this.queryChunks,e);return null==t||t.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n}))}buildQueryFromSourceParams(t,n){const a=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:r,escapeName:i,escapeParam:s,prepareTyping:o,inlineParams:l,paramStartIndex:c}=a;return function(e){var t;const n={sql:"",params:[]};for(const a of e)n.sql+=a.sql,n.params.push(...a.params),(null==(t=a.typings)?void 0:t.length)&&(n.typings||(n.typings=[]),n.typings.push(...a.typings));return n}(t.map((t=>{var d,u,f;if(fk(t,Zk))return{sql:t.value.join(""),params:[]};if(fk(t,Xk))return{sql:i(t.value),params:[]};if(void 0===t)return{sql:"",params:[]};if(Array.isArray(t)){const e=[new Zk("(")];for(const[n,a]of t.entries())e.push(a),n<t.length-1&&e.push(new Zk(", "));return e.push(new Zk(")")),this.buildQueryFromSourceParams(e,a)}if(fk(t,e))return this.buildQueryFromSourceParams(t.queryChunks,{...a,inlineParams:l||t.shouldInlineParams});if(fk(t,qk)){const e=t[qk.Symbol.Schema],n=t[qk.Symbol.Name];return{sql:void 0===e||t[$k]?i(n):i(e)+"."+i(n),params:[]}}if(fk(t,mk)){const e=r.getColumnCasing(t);if("indexes"===n.invokeSource)return{sql:i(e),params:[]};const a=t.table[qk.Symbol.Schema];return{sql:t.table[$k]||void 0===a?i(t.table[qk.Symbol.Name])+"."+i(e):i(a)+"."+i(t.table[qk.Symbol.Name])+"."+i(e),params:[]}}if(fk(t,oM)){const e=t[Fk].schema,n=t[Fk].name;return{sql:void 0===e||t[Fk].isAlias?i(n):i(e)+"."+i(n),params:[]}}if(fk(t,nM)){if(fk(t.value,iM))return{sql:s(c.value++,t),params:[t],typings:["none"]};const n=null===t.value?null:t.encoder.mapToDriverValue(t.value);if(fk(n,e))return this.buildQueryFromSourceParams([n],a);if(l)return{sql:this.mapInlineParam(n,a),params:[]};let r=["none"];return o&&(r=[o(t.encoder)]),{sql:s(c.value++,n),params:[n],typings:r}}return fk(t,iM)?{sql:s(c.value++,t),params:[t],typings:["none"]}:fk(t,e.Aliased)&&void 0!==t.fieldAlias?{sql:i(t.fieldAlias),params:[]}:fk(t,Rk)?t._.isWith?{sql:i(t._.alias),params:[]}:this.buildQueryFromSourceParams([new Zk("("),t._.sql,new Zk(") "),new Xk(t._.alias)],a):(u=t)&&"function"==typeof u&&Tk in u&&!0===u[Tk]?t.schema?{sql:i(t.schema)+"."+i(t.enumName),params:[]}:{sql:i(t.enumName),params:[]}:null!=(f=t)&&"function"==typeof f.getSQL?(null==(d=t.shouldOmitSQLParens)?void 0:d.call(t))?this.buildQueryFromSourceParams([t.getSQL()],a):this.buildQueryFromSourceParams([new Zk("("),t.getSQL(),new Zk(")")],a):l?{sql:this.mapInlineParam(t,a),params:[]}:{sql:s(c.value++,t),params:[t],typings:["none"]}})))}mapInlineParam(e,{escapeString:t}){if(null===e)return"null";if("number"==typeof e||"boolean"==typeof e)return e.toString();if("string"==typeof e)return t(e);if("object"==typeof e){const n=e.toString();return t("[object Object]"===n?JSON.stringify(e):n)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(t){return void 0===t?this:new e.Aliased(this,t)}mapWith(e){return this.decoder="function"==typeof e?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};hr(Jk,tt,"SQL");let Kk=Jk;nt=uk;class Xk{constructor(e){hr(this,"brand"),this.value=e}getSQL(){return new Kk([this])}}hr(Xk,nt,"Name");const eM={mapFromDriverValue:e=>e},tM={mapToDriverValue:e=>e};at=uk;class nM{constructor(e,t=tM){hr(this,"brand"),this.value=e,this.encoder=t}getSQL(){return new Kk([this])}}function aM(e,...t){const n=[];(t.length>0||e.length>0&&""!==e[0])&&n.push(new Zk(e[0]));for(const[a,r]of t.entries())n.push(r,new Zk(e[a+1]));return new Kk(n)}var rM;hr(nM,at,"Param"),(rM=aM||(aM={})).empty=function(){return new Kk([])},rM.fromList=function(e){return new Kk(e)},rM.raw=function(e){return new Kk([new Zk(e)])},rM.join=function(e,t){const n=[];for(const[a,r]of e.entries())a>0&&void 0!==t&&n.push(t),n.push(r);return new Kk(n)},rM.identifier=function(e){return new Xk(e)},rM.placeholder=function(e){return new iM(e)},rM.param=function(e,t){return new nM(e,t)},(e=>{var t;t=uk;const n=class e{constructor(e,t){hr(this,"isSelectionField",!1),this.sql=e,this.fieldAlias=t}getSQL(){return this.sql}clone(){return new e(this.sql,this.fieldAlias)}};hr(n,t,"SQL.Aliased");let a=n;e.Aliased=a})(Kk||(Kk={}));let iM=(rt=uk,hr(it=class{constructor(e){this.name=e}getSQL(){return new Kk([this])}},rt,"Placeholder"),it);const sM=Symbol.for("drizzle:IsDrizzleView");lt=uk,ot=Fk,st=sM;class oM{constructor({name:e,schema:t,selectedFields:n,query:a}){hr(this,ot),hr(this,st,!0),this[Fk]={name:e,originalName:e,schema:t,selectedFields:n,query:a,isExisting:!a,isAlias:!1}}getSQL(){return new Kk([this])}}function lM(e,t){return{name:"string"==typeof e&&e.length>0?e:"",config:"object"==typeof e?e:t}}hr(oM,lt,"View"),mk.prototype.getSQL=function(){return new Kk([this])},qk.prototype.getSQL=function(){return new Kk([this])},Rk.prototype.getSQL=function(){return new Kk([this])};class cM extends(dt=Mk,ct=uk,dt){generatedAlwaysAsIdentity(e){if(e){const{name:t,...n}=e;this.config.generatedIdentity={type:"always",sequenceName:t,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:t,...n}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:t,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}hr(cM,ct,"PgIntColumnBaseBuilder");class dM extends(ft=cM,ut=uk,ft){constructor(e){super(e,"number","PgBigInt53")}build(e){return new uM(e,this.config)}}hr(dM,ut,"PgBigInt53Builder");class uM extends(pt=_k,mt=uk,pt){getSQLType(){return"bigint"}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}}hr(uM,mt,"PgBigInt53");class fM extends(gt=cM,ht=uk,gt){constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new mM(e,this.config)}}hr(fM,ht,"PgBigInt64Builder");class mM extends(yt=_k,xt=uk,yt){getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}function pM(e,t){const{name:n,config:a}=lM(e,t);return"number"===a.mode?new dM(n):new fM(n)}hr(mM,xt,"PgBigInt64");class hM extends(bt=Mk,vt=uk,bt){constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new gM(e,this.config)}}hr(hM,vt,"PgBigSerial53Builder");class gM extends(jt=_k,wt=uk,jt){getSQLType(){return"bigserial"}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}}hr(gM,wt,"PgBigSerial53");class xM extends(Ct=Mk,Nt=uk,Ct){constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new yM(e,this.config)}}hr(xM,Nt,"PgBigSerial64Builder");class yM extends(kt=_k,St=uk,kt){getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}function vM(e,t){const{name:n,config:a}=lM(e,t);return"number"===a.mode?new hM(n):new xM(n)}hr(yM,St,"PgBigSerial64");class bM extends(_t=Mk,Mt=uk,_t){constructor(e){super(e,"boolean","PgBoolean")}build(e){return new wM(e,this.config)}}hr(bM,Mt,"PgBooleanBuilder");class wM extends(It=_k,Et=uk,It){getSQLType(){return"boolean"}}function jM(e){return new bM(e??"")}hr(wM,Et,"PgBoolean");class NM extends(At=Mk,Lt=uk,At){constructor(e,t){super(e,"string","PgChar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new CM(e,this.config)}}hr(NM,Lt,"PgCharBuilder");class CM extends(Dt=_k,Tt=uk,Dt){constructor(){super(...arguments),hr(this,"length",this.config.length),hr(this,"enumValues",this.config.enumValues)}getSQLType(){return void 0===this.length?"char":`char(${this.length})`}}function SM(e,t={}){const{name:n,config:a}=lM(e,t);return new NM(n,a)}hr(CM,Tt,"PgChar");class kM extends(Ot=Mk,Pt=uk,Ot){constructor(e){super(e,"string","PgCidr")}build(e){return new MM(e,this.config)}}hr(kM,Pt,"PgCidrBuilder");class MM extends(zt=_k,Rt=uk,zt){getSQLType(){return"cidr"}}function _M(e){return new kM(e??"")}hr(MM,Rt,"PgCidr");class EM extends(Bt=Mk,Ft=uk,Bt){constructor(e,t,n){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=t,this.config.customTypeParams=n}build(e){return new IM(e,this.config)}}hr(EM,Ft,"PgCustomColumnBuilder");class IM extends(Wt=_k,Ut=uk,Wt){constructor(e,t){super(e,t),hr(this,"sqlName"),hr(this,"mapTo"),hr(this,"mapFrom"),this.sqlName=t.customTypeParams.dataType(t.fieldConfig),this.mapTo=t.customTypeParams.toDriver,this.mapFrom=t.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return"function"==typeof this.mapFrom?this.mapFrom(e):e}mapToDriverValue(e){return"function"==typeof this.mapTo?this.mapTo(e):e}}function LM(e){return(t,n)=>{const{name:a,config:r}=lM(t,n);return new EM(a,r,e)}}hr(IM,Ut,"PgCustomColumn");class AM extends(Vt=Mk,Gt=uk,Vt){defaultNow(){return this.default(aM`now()`)}}hr(AM,Gt,"PgDateColumnBaseBuilder");class TM extends(Ht=AM,$t=uk,Ht){constructor(e){super(e,"date","PgDate")}build(e){return new DM(e,this.config)}}hr(TM,$t,"PgDateBuilder");class DM extends(qt=_k,Yt=uk,qt){getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}hr(DM,Yt,"PgDate");class PM extends(Zt=AM,Qt=uk,Zt){constructor(e){super(e,"string","PgDateString")}build(e){return new OM(e,this.config)}}hr(PM,Qt,"PgDateStringBuilder");class OM extends(Kt=_k,Jt=uk,Kt){getSQLType(){return"date"}}function RM(e,t){const{name:n,config:a}=lM(e,t);return"date"===(null==a?void 0:a.mode)?new TM(n):new PM(n)}hr(OM,Jt,"PgDateString");class zM extends(en=Mk,Xt=uk,en){constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new FM(e,this.config)}}hr(zM,Xt,"PgDoublePrecisionBuilder");class FM extends(nn=_k,tn=uk,nn){getSQLType(){return"double precision"}mapFromDriverValue(e){return"string"==typeof e?Number.parseFloat(e):e}}function BM(e){return new zM(e??"")}hr(FM,tn,"PgDoublePrecision");class UM extends(rn=Mk,an=uk,rn){constructor(e){super(e,"string","PgInet")}build(e){return new WM(e,this.config)}}hr(UM,an,"PgInetBuilder");class WM extends(on=_k,sn=uk,on){getSQLType(){return"inet"}}function GM(e){return new UM(e??"")}hr(WM,sn,"PgInet");class VM extends(cn=cM,ln=uk,cn){constructor(e){super(e,"number","PgInteger")}build(e){return new $M(e,this.config)}}hr(VM,ln,"PgIntegerBuilder");class $M extends(un=_k,dn=uk,un){getSQLType(){return"integer"}mapFromDriverValue(e){return"string"==typeof e?Number.parseInt(e):e}}function HM(e){return new VM(e??"")}hr($M,dn,"PgInteger");class YM extends(mn=Mk,fn=uk,mn){constructor(e,t){super(e,"string","PgInterval"),this.config.intervalConfig=t}build(e){return new qM(e,this.config)}}hr(YM,fn,"PgIntervalBuilder");class qM extends(hn=_k,pn=uk,hn){constructor(){super(...arguments),hr(this,"fields",this.config.intervalConfig.fields),hr(this,"precision",this.config.intervalConfig.precision)}getSQLType(){return`interval${this.fields?` ${this.fields}`:""}${this.precision?`(${this.precision})`:""}`}}function QM(e,t={}){const{name:n,config:a}=lM(e,t);return new YM(n,a)}hr(qM,pn,"PgInterval");class ZM extends(xn=Mk,gn=uk,xn){constructor(e){super(e,"json","PgJson")}build(e){return new JM(e,this.config)}}hr(ZM,gn,"PgJsonBuilder");class JM extends(vn=_k,yn=uk,vn){constructor(e,t){super(e,t)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if("string"==typeof e)try{return JSON.parse(e)}catch{return e}return e}}function KM(e){return new ZM(e??"")}hr(JM,yn,"PgJson");class XM extends(wn=Mk,bn=uk,wn){constructor(e){super(e,"json","PgJsonb")}build(e){return new e_(e,this.config)}}hr(XM,bn,"PgJsonbBuilder");class e_ extends(Nn=_k,jn=uk,Nn){constructor(e,t){super(e,t)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if("string"==typeof e)try{return JSON.parse(e)}catch{return e}return e}}function t_(e){return new XM(e??"")}hr(e_,jn,"PgJsonb");class n_ extends(Sn=Mk,Cn=uk,Sn){constructor(e){super(e,"array","PgLine")}build(e){return new a_(e,this.config)}}hr(n_,Cn,"PgLineBuilder");class a_ extends(Mn=_k,kn=uk,Mn){getSQLType(){return"line"}mapFromDriverValue(e){const[t,n,a]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(n),Number.parseFloat(a)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}hr(a_,kn,"PgLine");class r_ extends(En=Mk,_n=uk,En){constructor(e){super(e,"json","PgLineABC")}build(e){return new i_(e,this.config)}}hr(r_,_n,"PgLineABCBuilder");class i_ extends(Ln=_k,In=uk,Ln){getSQLType(){return"line"}mapFromDriverValue(e){const[t,n,a]=e.slice(1,-1).split(",");return{a:Number.parseFloat(t),b:Number.parseFloat(n),c:Number.parseFloat(a)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}function s_(e,t){const{name:n,config:a}=lM(e,t);return(null==a?void 0:a.mode)&&"tuple"!==a.mode?new r_(n):new n_(n)}hr(i_,In,"PgLineABC");class o_ extends(Tn=Mk,An=uk,Tn){constructor(e){super(e,"string","PgMacaddr")}build(e){return new l_(e,this.config)}}hr(o_,An,"PgMacaddrBuilder");class l_ extends(Pn=_k,Dn=uk,Pn){getSQLType(){return"macaddr"}}function c_(e){return new o_(e??"")}hr(l_,Dn,"PgMacaddr");class d_ extends(Rn=Mk,On=uk,Rn){constructor(e){super(e,"string","PgMacaddr8")}build(e){return new u_(e,this.config)}}hr(d_,On,"PgMacaddr8Builder");class u_ extends(Fn=_k,zn=uk,Fn){getSQLType(){return"macaddr8"}}function f_(e){return new d_(e??"")}hr(u_,zn,"PgMacaddr8");class m_ extends(Un=Mk,Bn=uk,Un){constructor(e,t,n){super(e,"string","PgNumeric"),this.config.precision=t,this.config.scale=n}build(e){return new p_(e,this.config)}}hr(m_,Bn,"PgNumericBuilder");class p_ extends(Gn=_k,Wn=uk,Gn){constructor(e,t){super(e,t),hr(this,"precision"),hr(this,"scale"),this.precision=t.precision,this.scale=t.scale}getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}function h_(e,t){const{name:n,config:a}=lM(e,t);return new m_(n,null==a?void 0:a.precision,null==a?void 0:a.scale)}hr(p_,Wn,"PgNumeric");class g_ extends($n=Mk,Vn=uk,$n){constructor(e){super(e,"array","PgPointTuple")}build(e){return new x_(e,this.config)}}hr(g_,Vn,"PgPointTupleBuilder");class x_ extends(Yn=_k,Hn=uk,Yn){getSQLType(){return"point"}mapFromDriverValue(e){if("string"==typeof e){const[t,n]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(n)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}hr(x_,Hn,"PgPointTuple");class y_ extends(Qn=Mk,qn=uk,Qn){constructor(e){super(e,"json","PgPointObject")}build(e){return new v_(e,this.config)}}hr(y_,qn,"PgPointObjectBuilder");class v_ extends(Jn=_k,Zn=uk,Jn){getSQLType(){return"point"}mapFromDriverValue(e){if("string"==typeof e){const[t,n]=e.slice(1,-1).split(",");return{x:Number.parseFloat(t),y:Number.parseFloat(n)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}function b_(e,t){const{name:n,config:a}=lM(e,t);return(null==a?void 0:a.mode)&&"tuple"!==a.mode?new y_(n):new g_(n)}function w_(e,t){const n=new ArrayBuffer(8),a=new DataView(n);for(let r=0;r<8;r++)a.setUint8(r,e[t+r]);return a.getFloat64(0,!0)}function j_(e){const t=function(e){const t=[];for(let n=0;n<e.length;n+=2)t.push(Number.parseInt(e.slice(n,n+2),16));return new Uint8Array(t)}(e);let n=0;const a=t[n];n+=1;const r=new DataView(t.buffer),i=r.getUint32(n,1===a);if(n+=4,536870912&i&&(r.getUint32(n,1===a),n+=4),1==(65535&i)){const e=w_(t,n);n+=8;const a=w_(t,n);return n+=8,[e,a]}throw new Error("Unsupported geometry type")}hr(v_,Zn,"PgPointObject");class N_ extends(Xn=Mk,Kn=uk,Xn){constructor(e){super(e,"array","PgGeometry")}build(e){return new C_(e,this.config)}}hr(N_,Kn,"PgGeometryBuilder");class C_ extends(ta=_k,ea=uk,ta){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return j_(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}hr(C_,ea,"PgGeometry");class S_ extends(aa=Mk,na=uk,aa){constructor(e){super(e,"json","PgGeometryObject")}build(e){return new k_(e,this.config)}}hr(S_,na,"PgGeometryObjectBuilder");class k_ extends(ia=_k,ra=uk,ia){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const t=j_(e);return{x:t[0],y:t[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}function M_(e,t){const{name:n,config:a}=lM(e,t);return(null==a?void 0:a.mode)&&"tuple"!==a.mode?new S_(n):new N_(n)}hr(k_,ra,"PgGeometryObject");class __ extends(oa=Mk,sa=uk,oa){constructor(e,t){super(e,"number","PgReal"),this.config.length=t}build(e){return new E_(e,this.config)}}hr(__,sa,"PgRealBuilder");class E_ extends(ca=_k,la=uk,ca){constructor(e,t){super(e,t),hr(this,"mapFromDriverValue",(e=>"string"==typeof e?Number.parseFloat(e):e))}getSQLType(){return"real"}}function I_(e){return new __(e??"")}hr(E_,la,"PgReal");class L_ extends(ua=Mk,da=uk,ua){constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new A_(e,this.config)}}hr(L_,da,"PgSerialBuilder");class A_ extends(ma=_k,fa=uk,ma){getSQLType(){return"serial"}}function T_(e){return new L_(e??"")}hr(A_,fa,"PgSerial");class D_ extends(ha=cM,pa=uk,ha){constructor(e){super(e,"number","PgSmallInt")}build(e){return new P_(e,this.config)}}hr(D_,pa,"PgSmallIntBuilder");class P_ extends(xa=_k,ga=uk,xa){constructor(){super(...arguments),hr(this,"mapFromDriverValue",(e=>"string"==typeof e?Number(e):e))}getSQLType(){return"smallint"}}function O_(e){return new D_(e??"")}hr(P_,ga,"PgSmallInt");class R_ extends(va=Mk,ya=uk,va){constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new z_(e,this.config)}}hr(R_,ya,"PgSmallSerialBuilder");class z_ extends(wa=_k,ba=uk,wa){getSQLType(){return"smallserial"}}function F_(e){return new R_(e??"")}hr(z_,ba,"PgSmallSerial");class B_ extends(Na=Mk,ja=uk,Na){constructor(e,t){super(e,"string","PgText"),this.config.enumValues=t.enum}build(e){return new U_(e,this.config)}}hr(B_,ja,"PgTextBuilder");class U_ extends(Sa=_k,Ca=uk,Sa){constructor(){super(...arguments),hr(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}function W_(e,t={}){const{name:n,config:a}=lM(e,t);return new B_(n,a)}hr(U_,Ca,"PgText");class G_ extends(Ma=AM,ka=uk,Ma){constructor(e,t,n){super(e,"string","PgTime"),this.withTimezone=t,this.precision=n,this.config.withTimezone=t,this.config.precision=n}build(e){return new V_(e,this.config)}}hr(G_,ka,"PgTimeBuilder");class V_ extends(Ea=_k,_a=uk,Ea){constructor(e,t){super(e,t),hr(this,"withTimezone"),hr(this,"precision"),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){return`time${void 0===this.precision?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function $_(e,t={}){const{name:n,config:a}=lM(e,t);return new G_(n,a.withTimezone??!1,a.precision)}hr(V_,_a,"PgTime");class H_ extends(La=AM,Ia=uk,La){constructor(e,t,n){super(e,"date","PgTimestamp"),this.config.withTimezone=t,this.config.precision=n}build(e){return new Y_(e,this.config)}}hr(H_,Ia,"PgTimestampBuilder");class Y_ extends(Ta=_k,Aa=uk,Ta){constructor(e,t){super(e,t),hr(this,"withTimezone"),hr(this,"precision"),hr(this,"mapFromDriverValue",(e=>new Date(this.withTimezone?e:e+"+0000"))),hr(this,"mapToDriverValue",(e=>e.toISOString())),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){return`timestamp${void 0===this.precision?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}hr(Y_,Aa,"PgTimestamp");class q_ extends(Pa=AM,Da=uk,Pa){constructor(e,t,n){super(e,"string","PgTimestampString"),this.config.withTimezone=t,this.config.precision=n}build(e){return new Q_(e,this.config)}}hr(q_,Da,"PgTimestampStringBuilder");class Q_ extends(Ra=_k,Oa=uk,Ra){constructor(e,t){super(e,t),hr(this,"withTimezone"),hr(this,"precision"),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){return`timestamp${void 0===this.precision?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function Z_(e,t={}){const{name:n,config:a}=lM(e,t);return"string"===(null==a?void 0:a.mode)?new q_(n,a.withTimezone??!1,a.precision):new H_(n,(null==a?void 0:a.withTimezone)??!1,null==a?void 0:a.precision)}hr(Q_,Oa,"PgTimestampString");class J_ extends(Fa=Mk,za=uk,Fa){constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(aM`gen_random_uuid()`)}build(e){return new K_(e,this.config)}}hr(J_,za,"PgUUIDBuilder");class K_ extends(Ua=_k,Ba=uk,Ua){getSQLType(){return"uuid"}}function X_(e){return new J_(e??"")}hr(K_,Ba,"PgUUID");class eE extends(Ga=Mk,Wa=uk,Ga){constructor(e,t){super(e,"string","PgVarchar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new tE(e,this.config)}}hr(eE,Wa,"PgVarcharBuilder");class tE extends($a=_k,Va=uk,$a){constructor(){super(...arguments),hr(this,"length",this.config.length),hr(this,"enumValues",this.config.enumValues)}getSQLType(){return void 0===this.length?"varchar":`varchar(${this.length})`}}function nE(e,t={}){const{name:n,config:a}=lM(e,t);return new eE(n,a)}hr(tE,Va,"PgVarchar");class aE extends(Ya=Mk,Ha=uk,Ya){constructor(e,t){super(e,"string","PgBinaryVector"),this.config.dimensions=t.dimensions}build(e){return new rE(e,this.config)}}hr(aE,Ha,"PgBinaryVectorBuilder");class rE extends(Qa=_k,qa=uk,Qa){constructor(){super(...arguments),hr(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}function iE(e,t){const{name:n,config:a}=lM(e,t);return new aE(n,a)}hr(rE,qa,"PgBinaryVector");class sE extends(Ja=Mk,Za=uk,Ja){constructor(e,t){super(e,"array","PgHalfVector"),this.config.dimensions=t.dimensions}build(e){return new oE(e,this.config)}}hr(sE,Za,"PgHalfVectorBuilder");class oE extends(Xa=_k,Ka=uk,Xa){constructor(){super(...arguments),hr(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map((e=>Number.parseFloat(e)))}}function lE(e,t){const{name:n,config:a}=lM(e,t);return new sE(n,a)}hr(oE,Ka,"PgHalfVector");class cE extends(tr=Mk,er=uk,tr){constructor(e,t){super(e,"string","PgSparseVector"),this.config.dimensions=t.dimensions}build(e){return new dE(e,this.config)}}hr(cE,er,"PgSparseVectorBuilder");class dE extends(ar=_k,nr=uk,ar){constructor(){super(...arguments),hr(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}function uE(e,t){const{name:n,config:a}=lM(e,t);return new cE(n,a)}hr(dE,nr,"PgSparseVector");class fE extends(ir=Mk,rr=uk,ir){constructor(e,t){super(e,"array","PgVector"),this.config.dimensions=t.dimensions}build(e){return new mE(e,this.config)}}hr(fE,rr,"PgVectorBuilder");class mE extends(or=_k,sr=uk,or){constructor(){super(...arguments),hr(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map((e=>Number.parseFloat(e)))}}function pE(e,t){const{name:n,config:a}=lM(e,t);return new fE(n,a)}hr(mE,sr,"PgVector");const hE=Symbol.for("drizzle:PgInlineForeignKeys"),gE=Symbol.for("drizzle:EnableRLS");class xE extends(fr=qk,ur=uk,dr=hE,cr=gE,lr=qk.Symbol.ExtraConfigBuilder,fr){constructor(){super(...arguments),hr(this,dr,[]),hr(this,cr,!1),hr(this,lr)}}function yE(e,t,n,a,r=e){const i=new xE(e,a,r),s="function"==typeof t?t({bigint:pM,bigserial:vM,boolean:jM,char:SM,cidr:_M,customType:LM,date:RM,doublePrecision:BM,inet:GM,integer:HM,interval:QM,json:KM,jsonb:t_,line:s_,macaddr:c_,macaddr8:f_,numeric:h_,point:b_,geometry:M_,real:I_,serial:T_,smallint:O_,smallserial:F_,text:W_,time:$_,timestamp:Z_,uuid:X_,varchar:nE,bit:iE,halfvec:lE,sparsevec:uE,vector:pE}):t,o=Object.fromEntries(Object.entries(s).map((([e,t])=>{const n=t;n.setName(e);const a=n.build(i);return i[hE].push(...n.buildForeignKeys(a,i)),[e,a]}))),l=Object.fromEntries(Object.entries(s).map((([e,t])=>{const n=t;n.setName(e);return[e,n.buildExtraConfigColumn(i)]}))),c=Object.assign(i,o);return c[qk.Symbol.Columns]=o,c[qk.Symbol.ExtraConfigColumns]=l,n&&(c[xE.Symbol.ExtraConfigBuilder]=n),Object.assign(c,{enableRLS:()=>(c[xE.Symbol.EnableRLS]=!0,c)})}hr(xE,ur,"PgTable"),hr(xE,"Symbol",Object.assign({},qk.Symbol,{InlineForeignKeys:hE,EnableRLS:gE}));const vE=(e,t,n)=>yE(e,t,n,void 0);var bE,wE,jE;(wE=bE||(bE={})).assertEqual=e=>{},wE.assertIs=function(e){},wE.assertNever=function(e){throw new Error},wE.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},wE.getValidEnumValues=e=>{const t=wE.objectKeys(e).filter((t=>"number"!=typeof e[e[t]])),n={};for(const a of t)n[a]=e[a];return wE.objectValues(n)},wE.objectValues=e=>wE.objectKeys(e).map((function(t){return e[t]})),wE.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},wE.find=(e,t)=>{for(const n of e)if(t(n))return n},wE.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,wE.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},wE.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(jE||(jE={})).mergeShapes=(e,t)=>({...e,...t});const NE=bE.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),CE=e=>{switch(typeof e){case"undefined":return NE.undefined;case"string":return NE.string;case"number":return Number.isNaN(e)?NE.nan:NE.number;case"boolean":return NE.boolean;case"function":return NE.function;case"bigint":return NE.bigint;case"symbol":return NE.symbol;case"object":return Array.isArray(e)?NE.array:null===e?NE.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?NE.promise:"undefined"!=typeof Map&&e instanceof Map?NE.map:"undefined"!=typeof Set&&e instanceof Set?NE.set:"undefined"!=typeof Date&&e instanceof Date?NE.date:NE.object;default:return NE.unknown}},SE=bE.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class kE extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},a=e=>{for(const r of e.issues)if("invalid_union"===r.code)r.unionErrors.map(a);else if("invalid_return_type"===r.code)a(r.returnTypeError);else if("invalid_arguments"===r.code)a(r.argumentsError);else if(0===r.path.length)n._errors.push(t(r));else{let e=n,a=0;for(;a<r.path.length;){const n=r.path[a];a===r.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(r))):e[n]=e[n]||{_errors:[]},e=e[n],a++}}};return a(this),n}static assert(e){if(!(e instanceof kE))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,bE.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){const t={},n=[];for(const a of this.issues)a.path.length>0?(t[a.path[0]]=t[a.path[0]]||[],t[a.path[0]].push(e(a))):n.push(e(a));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}kE.create=e=>new kE(e);const ME=(e,t)=>{let n;switch(e.code){case SE.invalid_type:n=e.received===NE.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case SE.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,bE.jsonStringifyReplacer)}`;break;case SE.unrecognized_keys:n=`Unrecognized key(s) in object: ${bE.joinValues(e.keys,", ")}`;break;case SE.invalid_union:n="Invalid input";break;case SE.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${bE.joinValues(e.options)}`;break;case SE.invalid_enum_value:n=`Invalid enum value. Expected ${bE.joinValues(e.options)}, received '${e.received}'`;break;case SE.invalid_arguments:n="Invalid function arguments";break;case SE.invalid_return_type:n="Invalid function return type";break;case SE.invalid_date:n="Invalid date";break;case SE.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:bE.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case SE.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case SE.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case SE.custom:n="Invalid input";break;case SE.invalid_intersection_types:n="Intersection results could not be merged";break;case SE.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case SE.not_finite:n="Number must be finite";break;default:n=t.defaultError,bE.assertNever(e)}return{message:n}};let _E=ME;function EE(){return _E}const IE=e=>{const{data:t,path:n,errorMaps:a,issueData:r}=e,i=[...n,...r.path||[]],s={...r,path:i};if(void 0!==r.message)return{...r,path:i,message:r.message};let o="";const l=a.filter((e=>!!e)).slice().reverse();for(const c of l)o=c(s,{data:t,defaultError:o}).message;return{...r,path:i,message:o}};function LE(e,t){const n=EE(),a=IE({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===ME?void 0:ME].filter((e=>!!e))});e.common.issues.push(a)}class AE{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const a of t){if("aborted"===a.status)return TE;"dirty"===a.status&&e.dirty(),n.push(a.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const a of t){const e=await a.key,t=await a.value;n.push({key:e,value:t})}return AE.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const a of t){const{key:t,value:r}=a;if("aborted"===t.status)return TE;if("aborted"===r.status)return TE;"dirty"===t.status&&e.dirty(),"dirty"===r.status&&e.dirty(),"__proto__"===t.value||void 0===r.value&&!a.alwaysSet||(n[t.value]=r.value)}return{status:e.value,value:n}}}const TE=Object.freeze({status:"aborted"}),DE=e=>({status:"dirty",value:e}),PE=e=>({status:"valid",value:e}),OE=e=>"aborted"===e.status,RE=e=>"dirty"===e.status,zE=e=>"valid"===e.status,FE=e=>"undefined"!=typeof Promise&&e instanceof Promise;var BE,UE;(UE=BE||(BE={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},UE.toString=e=>"string"==typeof e?e:null==e?void 0:e.message;var WE,GE,VE=function(e,t,n,a){if("a"===n&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?a:"a"===n?a.call(e):a?a.value:t.get(e)},$E=function(e,t,n,a,r){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?r.call(e,n):r?r.value=n:t.set(e,n),n};class HE{constructor(e,t,n,a){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const YE=(e,t)=>{if(zE(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new kE(e.common.issues);return this._error=t,this._error}}};function qE(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:a,description:r}=e;if(t&&(n||a))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:r};return{errorMap:(t,r)=>{const{message:i}=e;return"invalid_enum_value"===t.code?{message:i??r.defaultError}:void 0===r.data?{message:i??a??r.defaultError}:"invalid_type"!==t.code?{message:r.defaultError}:{message:i??n??r.defaultError}},description:r}}class QE{get description(){return this._def.description}_getType(e){return CE(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:CE(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new AE,ctx:{common:e.parent.common,data:e.data,parsedType:CE(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(FE(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){const n={common:{issues:[],async:(null==t?void 0:t.async)??!1,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:CE(e)},a=this._parseSync({data:e,path:n.path,parent:n});return YE(n,a)}"~validate"(e){var t,n;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:CE(e)};if(!this["~standard"].async)try{const t=this._parseSync({data:e,path:[],parent:a});return zE(t)?{value:t.value}:{issues:a.common.issues}}catch(r){(null==(n=null==(t=null==r?void 0:r.message)?void 0:t.toLowerCase())?void 0:n.includes("encountered"))&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:a}).then((e=>zE(e)?{value:e.value}:{issues:a.common.issues}))}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:CE(e)},a=this._parse({data:e,path:n.path,parent:n}),r=await(FE(a)?a:Promise.resolve(a));return YE(n,r)}refine(e,t){const n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,a)=>{const r=e(t),i=()=>a.addIssue({code:SE.custom,...n(t)});return"undefined"!=typeof Promise&&r instanceof Promise?r.then((e=>!!e||(i(),!1))):!!r||(i(),!1)}))}refinement(e,t){return this._refinement(((n,a)=>!!e(n)||(a.addIssue("function"==typeof t?t(n,a):t),!1)))}_refinement(e){return new QI({schema:this,typeName:lL.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return ZI.create(this,this._def)}nullable(){return JI.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return II.create(this)}promise(){return qI.create(this,this._def)}or(e){return TI.create([this,e],this._def)}and(e){return RI.create(this,e,this._def)}transform(e){return new QI({...qE(this._def),schema:this,typeName:lL.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new KI({...qE(this._def),innerType:this,defaultValue:t,typeName:lL.ZodDefault})}brand(){return new nL({typeName:lL.ZodBranded,type:this,...qE(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new XI({...qE(this._def),innerType:this,catchValue:t,typeName:lL.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return aL.create(this,e)}readonly(){return rL.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ZE=/^c[^\s-]{8,}$/i,JE=/^[0-9a-z]+$/,KE=/^[0-9A-HJKMNP-TV-Z]{26}$/i,XE=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,eI=/^[a-z0-9_-]{21}$/i,tI=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,nI=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,aI=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let rI;const iI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,sI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,oI=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,lI=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,cI=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dI=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,uI="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",fI=new RegExp(`^${uI}$`);function mI(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${e.precision?"+":"?"}`}function pI(e){let t=`${uI}T${mI(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function hI(e,t){if(!tI.test(e))return!1;try{const[n]=e.split("."),a=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),r=JSON.parse(atob(a));return"object"==typeof r&&null!==r&&((!("typ"in r)||"JWT"===(null==r?void 0:r.typ))&&(!!r.alg&&(!t||r.alg===t)))}catch{return!1}}function gI(e,t){return!("v4"!==t&&t||!sI.test(e))||!("v6"!==t&&t||!lI.test(e))}class xI extends QE{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==NE.string){const t=this._getOrReturnCtx(e);return LE(t,{code:SE.invalid_type,expected:NE.string,received:t.parsedType}),TE}const t=new AE;let n;for(const i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(n=this._getOrReturnCtx(e,n),LE(n,{code:SE.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("max"===i.kind)e.data.length>i.value&&(n=this._getOrReturnCtx(e,n),LE(n,{code:SE.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("length"===i.kind){const a=e.data.length>i.value,r=e.data.length<i.value;(a||r)&&(n=this._getOrReturnCtx(e,n),a?LE(n,{code:SE.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):r&&LE(n,{code:SE.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),t.dirty())}else if("email"===i.kind)aI.test(e.data)||(n=this._getOrReturnCtx(e,n),LE(n,{validation:"email",code:SE.invalid_string,message:i.message}),t.dirty());else if("emoji"===i.kind)rI||(rI=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),rI.test(e.data)||(n=this._getOrReturnCtx(e,n),LE(n,{validation:"emoji",code:SE.invalid_string,message:i.message}),t.dirty());else if("uuid"===i.kind)XE.test(e.data)||(n=this._getOrReturnCtx(e,n),LE(n,{validation:"uuid",code:SE.invalid_string,message:i.message}),t.dirty());else if("nanoid"===i.kind)eI.test(e.data)||(n=this._getOrReturnCtx(e,n),LE(n,{validation:"nanoid",code:SE.invalid_string,message:i.message}),t.dirty());else if("cuid"===i.kind)ZE.test(e.data)||(n=this._getOrReturnCtx(e,n),LE(n,{validation:"cuid",code:SE.invalid_string,message:i.message}),t.dirty());else if("cuid2"===i.kind)JE.test(e.data)||(n=this._getOrReturnCtx(e,n),LE(n,{validation:"cuid2",code:SE.invalid_string,message:i.message}),t.dirty());else if("ulid"===i.kind)KE.test(e.data)||(n=this._getOrReturnCtx(e,n),LE(n,{validation:"ulid",code:SE.invalid_string,message:i.message}),t.dirty());else if("url"===i.kind)try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),LE(n,{validation:"url",code:SE.invalid_string,message:i.message}),t.dirty()}else if("regex"===i.kind){i.regex.lastIndex=0;i.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),LE(n,{validation:"regex",code:SE.invalid_string,message:i.message}),t.dirty())}else if("trim"===i.kind)e.data=e.data.trim();else if("includes"===i.kind)e.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(e,n),LE(n,{code:SE.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),t.dirty());else if("toLowerCase"===i.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===i.kind)e.data=e.data.toUpperCase();else if("startsWith"===i.kind)e.data.startsWith(i.value)||(n=this._getOrReturnCtx(e,n),LE(n,{code:SE.invalid_string,validation:{startsWith:i.value},message:i.message}),t.dirty());else if("endsWith"===i.kind)e.data.endsWith(i.value)||(n=this._getOrReturnCtx(e,n),LE(n,{code:SE.invalid_string,validation:{endsWith:i.value},message:i.message}),t.dirty());else if("datetime"===i.kind){pI(i).test(e.data)||(n=this._getOrReturnCtx(e,n),LE(n,{code:SE.invalid_string,validation:"datetime",message:i.message}),t.dirty())}else if("date"===i.kind){fI.test(e.data)||(n=this._getOrReturnCtx(e,n),LE(n,{code:SE.invalid_string,validation:"date",message:i.message}),t.dirty())}else if("time"===i.kind){new RegExp(`^${mI(i)}$`).test(e.data)||(n=this._getOrReturnCtx(e,n),LE(n,{code:SE.invalid_string,validation:"time",message:i.message}),t.dirty())}else"duration"===i.kind?nI.test(e.data)||(n=this._getOrReturnCtx(e,n),LE(n,{validation:"duration",code:SE.invalid_string,message:i.message}),t.dirty()):"ip"===i.kind?(a=e.data,("v4"!==(r=i.version)&&r||!iI.test(a))&&("v6"!==r&&r||!oI.test(a))&&(n=this._getOrReturnCtx(e,n),LE(n,{validation:"ip",code:SE.invalid_string,message:i.message}),t.dirty())):"jwt"===i.kind?hI(e.data,i.alg)||(n=this._getOrReturnCtx(e,n),LE(n,{validation:"jwt",code:SE.invalid_string,message:i.message}),t.dirty()):"cidr"===i.kind?gI(e.data,i.version)||(n=this._getOrReturnCtx(e,n),LE(n,{validation:"cidr",code:SE.invalid_string,message:i.message}),t.dirty()):"base64"===i.kind?cI.test(e.data)||(n=this._getOrReturnCtx(e,n),LE(n,{validation:"base64",code:SE.invalid_string,message:i.message}),t.dirty()):"base64url"===i.kind?dI.test(e.data)||(n=this._getOrReturnCtx(e,n),LE(n,{validation:"base64url",code:SE.invalid_string,message:i.message}),t.dirty()):bE.assertNever(i);var a,r;return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:SE.invalid_string,...BE.errToObj(n)})}_addCheck(e){return new xI({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...BE.errToObj(e)})}url(e){return this._addCheck({kind:"url",...BE.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...BE.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...BE.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...BE.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...BE.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...BE.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...BE.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...BE.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...BE.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...BE.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...BE.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...BE.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:(null==e?void 0:e.offset)??!1,local:(null==e?void 0:e.local)??!1,...BE.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...BE.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...BE.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...BE.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...BE.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...BE.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...BE.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...BE.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...BE.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...BE.errToObj(t)})}nonempty(e){return this.min(1,BE.errToObj(e))}trim(){return new xI({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new xI({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new xI({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isCIDR(){return!!this._def.checks.find((e=>"cidr"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get isBase64url(){return!!this._def.checks.find((e=>"base64url"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function yI(e,t){const n=(e.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,r=n>a?n:a;return Number.parseInt(e.toFixed(r).replace(".",""))%Number.parseInt(t.toFixed(r).replace(".",""))/10**r}xI.create=e=>new xI({checks:[],typeName:lL.ZodString,coerce:(null==e?void 0:e.coerce)??!1,...qE(e)});class vI extends QE{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==NE.number){const t=this._getOrReturnCtx(e);return LE(t,{code:SE.invalid_type,expected:NE.number,received:t.parsedType}),TE}let t;const n=new AE;for(const a of this._def.checks)if("int"===a.kind)bE.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),LE(t,{code:SE.invalid_type,expected:"integer",received:"float",message:a.message}),n.dirty());else if("min"===a.kind){(a.inclusive?e.data<a.value:e.data<=a.value)&&(t=this._getOrReturnCtx(e,t),LE(t,{code:SE.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty())}else if("max"===a.kind){(a.inclusive?e.data>a.value:e.data>=a.value)&&(t=this._getOrReturnCtx(e,t),LE(t,{code:SE.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty())}else"multipleOf"===a.kind?0!==yI(e.data,a.value)&&(t=this._getOrReturnCtx(e,t),LE(t,{code:SE.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):"finite"===a.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),LE(t,{code:SE.not_finite,message:a.message}),n.dirty()):bE.assertNever(a);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,BE.toString(t))}gt(e,t){return this.setLimit("min",e,!1,BE.toString(t))}lte(e,t){return this.setLimit("max",e,!0,BE.toString(t))}lt(e,t){return this.setLimit("max",e,!1,BE.toString(t))}setLimit(e,t,n,a){return new vI({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:BE.toString(a)}]})}_addCheck(e){return new vI({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:BE.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:BE.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:BE.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:BE.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:BE.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:BE.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:BE.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:BE.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:BE.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&bE.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}vI.create=e=>new vI({checks:[],typeName:lL.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...qE(e)});class bI extends QE{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==NE.bigint)return this._getInvalidInput(e);let t;const n=new AE;for(const a of this._def.checks)if("min"===a.kind){(a.inclusive?e.data<a.value:e.data<=a.value)&&(t=this._getOrReturnCtx(e,t),LE(t,{code:SE.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty())}else if("max"===a.kind){(a.inclusive?e.data>a.value:e.data>=a.value)&&(t=this._getOrReturnCtx(e,t),LE(t,{code:SE.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty())}else"multipleOf"===a.kind?e.data%a.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),LE(t,{code:SE.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):bE.assertNever(a);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return LE(t,{code:SE.invalid_type,expected:NE.bigint,received:t.parsedType}),TE}gte(e,t){return this.setLimit("min",e,!0,BE.toString(t))}gt(e,t){return this.setLimit("min",e,!1,BE.toString(t))}lte(e,t){return this.setLimit("max",e,!0,BE.toString(t))}lt(e,t){return this.setLimit("max",e,!1,BE.toString(t))}setLimit(e,t,n,a){return new bI({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:BE.toString(a)}]})}_addCheck(e){return new bI({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:BE.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:BE.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:BE.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:BE.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:BE.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}bI.create=e=>new bI({checks:[],typeName:lL.ZodBigInt,coerce:(null==e?void 0:e.coerce)??!1,...qE(e)});class wI extends QE{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==NE.boolean){const t=this._getOrReturnCtx(e);return LE(t,{code:SE.invalid_type,expected:NE.boolean,received:t.parsedType}),TE}return PE(e.data)}}wI.create=e=>new wI({typeName:lL.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...qE(e)});class jI extends QE{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==NE.date){const t=this._getOrReturnCtx(e);return LE(t,{code:SE.invalid_type,expected:NE.date,received:t.parsedType}),TE}if(Number.isNaN(e.data.getTime())){return LE(this._getOrReturnCtx(e),{code:SE.invalid_date}),TE}const t=new AE;let n;for(const a of this._def.checks)"min"===a.kind?e.data.getTime()<a.value&&(n=this._getOrReturnCtx(e,n),LE(n,{code:SE.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),t.dirty()):"max"===a.kind?e.data.getTime()>a.value&&(n=this._getOrReturnCtx(e,n),LE(n,{code:SE.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),t.dirty()):bE.assertNever(a);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new jI({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:BE.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:BE.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}jI.create=e=>new jI({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:lL.ZodDate,...qE(e)});class NI extends QE{_parse(e){if(this._getType(e)!==NE.symbol){const t=this._getOrReturnCtx(e);return LE(t,{code:SE.invalid_type,expected:NE.symbol,received:t.parsedType}),TE}return PE(e.data)}}NI.create=e=>new NI({typeName:lL.ZodSymbol,...qE(e)});class CI extends QE{_parse(e){if(this._getType(e)!==NE.undefined){const t=this._getOrReturnCtx(e);return LE(t,{code:SE.invalid_type,expected:NE.undefined,received:t.parsedType}),TE}return PE(e.data)}}CI.create=e=>new CI({typeName:lL.ZodUndefined,...qE(e)});class SI extends QE{_parse(e){if(this._getType(e)!==NE.null){const t=this._getOrReturnCtx(e);return LE(t,{code:SE.invalid_type,expected:NE.null,received:t.parsedType}),TE}return PE(e.data)}}SI.create=e=>new SI({typeName:lL.ZodNull,...qE(e)});class kI extends QE{constructor(){super(...arguments),this._any=!0}_parse(e){return PE(e.data)}}kI.create=e=>new kI({typeName:lL.ZodAny,...qE(e)});class MI extends QE{constructor(){super(...arguments),this._unknown=!0}_parse(e){return PE(e.data)}}MI.create=e=>new MI({typeName:lL.ZodUnknown,...qE(e)});class _I extends QE{_parse(e){const t=this._getOrReturnCtx(e);return LE(t,{code:SE.invalid_type,expected:NE.never,received:t.parsedType}),TE}}_I.create=e=>new _I({typeName:lL.ZodNever,...qE(e)});class EI extends QE{_parse(e){if(this._getType(e)!==NE.undefined){const t=this._getOrReturnCtx(e);return LE(t,{code:SE.invalid_type,expected:NE.void,received:t.parsedType}),TE}return PE(e.data)}}EI.create=e=>new EI({typeName:lL.ZodVoid,...qE(e)});class II extends QE{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),a=this._def;if(t.parsedType!==NE.array)return LE(t,{code:SE.invalid_type,expected:NE.array,received:t.parsedType}),TE;if(null!==a.exactLength){const e=t.data.length>a.exactLength.value,r=t.data.length<a.exactLength.value;(e||r)&&(LE(t,{code:e?SE.too_big:SE.too_small,minimum:r?a.exactLength.value:void 0,maximum:e?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(null!==a.minLength&&t.data.length<a.minLength.value&&(LE(t,{code:SE.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),null!==a.maxLength&&t.data.length>a.maxLength.value&&(LE(t,{code:SE.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>a.type._parseAsync(new HE(t,e,t.path,n))))).then((e=>AE.mergeArray(n,e)));const r=[...t.data].map(((e,n)=>a.type._parseSync(new HE(t,e,t.path,n))));return AE.mergeArray(n,r)}get element(){return this._def.type}min(e,t){return new II({...this._def,minLength:{value:e,message:BE.toString(t)}})}max(e,t){return new II({...this._def,maxLength:{value:e,message:BE.toString(t)}})}length(e,t){return new II({...this._def,exactLength:{value:e,message:BE.toString(t)}})}nonempty(e){return this.min(1,e)}}function LI(e){if(e instanceof AI){const t={};for(const n in e.shape){const a=e.shape[n];t[n]=ZI.create(LI(a))}return new AI({...e._def,shape:()=>t})}return e instanceof II?new II({...e._def,type:LI(e.element)}):e instanceof ZI?ZI.create(LI(e.unwrap())):e instanceof JI?JI.create(LI(e.unwrap())):e instanceof zI?zI.create(e.items.map((e=>LI(e)))):e}II.create=(e,t)=>new II({type:e,minLength:null,maxLength:null,exactLength:null,typeName:lL.ZodArray,...qE(t)});class AI extends QE{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=bE.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==NE.object){const t=this._getOrReturnCtx(e);return LE(t,{code:SE.invalid_type,expected:NE.object,received:t.parsedType}),TE}const{status:t,ctx:n}=this._processInputParams(e),{shape:a,keys:r}=this._getCached(),i=[];if(!(this._def.catchall instanceof _I&&"strip"===this._def.unknownKeys))for(const o in n.data)r.includes(o)||i.push(o);const s=[];for(const o of r){const e=a[o],t=n.data[o];s.push({key:{status:"valid",value:o},value:e._parse(new HE(n,t,n.path,o)),alwaysSet:o in n.data})}if(this._def.catchall instanceof _I){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of i)s.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)i.length>0&&(LE(n,{code:SE.unrecognized_keys,keys:i}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of i){const a=n.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new HE(n,a,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of s){const n=await t.key,a=await t.value;e.push({key:n,value:a,alwaysSet:t.alwaysSet})}return e})).then((e=>AE.mergeObjectSync(t,e))):AE.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return BE.errToObj,new AI({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var a,r;const i=(null==(r=(a=this._def).errorMap)?void 0:r.call(a,t,n).message)??n.defaultError;return"unrecognized_keys"===t.code?{message:BE.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new AI({...this._def,unknownKeys:"strip"})}passthrough(){return new AI({...this._def,unknownKeys:"passthrough"})}extend(e){return new AI({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new AI({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:lL.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new AI({...this._def,catchall:e})}pick(e){const t={};for(const n of bE.objectKeys(e))e[n]&&this.shape[n]&&(t[n]=this.shape[n]);return new AI({...this._def,shape:()=>t})}omit(e){const t={};for(const n of bE.objectKeys(this.shape))e[n]||(t[n]=this.shape[n]);return new AI({...this._def,shape:()=>t})}deepPartial(){return LI(this)}partial(e){const t={};for(const n of bE.objectKeys(this.shape)){const a=this.shape[n];e&&!e[n]?t[n]=a:t[n]=a.optional()}return new AI({...this._def,shape:()=>t})}required(e){const t={};for(const n of bE.objectKeys(this.shape))if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof ZI;)e=e._def.innerType;t[n]=e}return new AI({...this._def,shape:()=>t})}keyof(){return $I(bE.objectKeys(this.shape))}}AI.create=(e,t)=>new AI({shape:()=>e,unknownKeys:"strip",catchall:_I.create(),typeName:lL.ZodObject,...qE(t)}),AI.strictCreate=(e,t)=>new AI({shape:()=>e,unknownKeys:"strict",catchall:_I.create(),typeName:lL.ZodObject,...qE(t)}),AI.lazycreate=(e,t)=>new AI({shape:e,unknownKeys:"strip",catchall:_I.create(),typeName:lL.ZodObject,...qE(t)});class TI extends QE{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const a of e)if("dirty"===a.result.status)return t.common.issues.push(...a.ctx.common.issues),a.result;const n=e.map((e=>new kE(e.ctx.common.issues)));return LE(t,{code:SE.invalid_union,unionErrors:n}),TE}));{let e;const a=[];for(const i of n){const n={...t,common:{...t.common,issues:[]},parent:null},r=i._parseSync({data:t.data,path:t.path,parent:n});if("valid"===r.status)return r;"dirty"!==r.status||e||(e={result:r,ctx:n}),n.common.issues.length&&a.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const r=a.map((e=>new kE(e)));return LE(t,{code:SE.invalid_union,unionErrors:r}),TE}}get options(){return this._def.options}}TI.create=(e,t)=>new TI({options:e,typeName:lL.ZodUnion,...qE(t)});const DI=e=>e instanceof GI?DI(e.schema):e instanceof QI?DI(e.innerType()):e instanceof VI?[e.value]:e instanceof HI?e.options:e instanceof YI?bE.objectValues(e.enum):e instanceof KI?DI(e._def.innerType):e instanceof CI?[void 0]:e instanceof SI?[null]:e instanceof ZI?[void 0,...DI(e.unwrap())]:e instanceof JI?[null,...DI(e.unwrap())]:e instanceof nL||e instanceof rL?DI(e.unwrap()):e instanceof XI?DI(e._def.innerType):[];class PI extends QE{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==NE.object)return LE(t,{code:SE.invalid_type,expected:NE.object,received:t.parsedType}),TE;const n=this.discriminator,a=t.data[n],r=this.optionsMap.get(a);return r?t.common.async?r._parseAsync({data:t.data,path:t.path,parent:t}):r._parseSync({data:t.data,path:t.path,parent:t}):(LE(t,{code:SE.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),TE)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const a=new Map;for(const r of t){const t=DI(r.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const n of t){if(a.has(n))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(n)}`);a.set(n,r)}}return new PI({typeName:lL.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:a,...qE(n)})}}function OI(e,t){const n=CE(e),a=CE(t);if(e===t)return{valid:!0,data:e};if(n===NE.object&&a===NE.object){const n=bE.objectKeys(t),a=bE.objectKeys(e).filter((e=>-1!==n.indexOf(e))),r={...e,...t};for(const i of a){const n=OI(e[i],t[i]);if(!n.valid)return{valid:!1};r[i]=n.data}return{valid:!0,data:r}}if(n===NE.array&&a===NE.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let a=0;a<e.length;a++){const r=OI(e[a],t[a]);if(!r.valid)return{valid:!1};n.push(r.data)}return{valid:!0,data:n}}return n===NE.date&&a===NE.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class RI extends QE{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),a=(e,a)=>{if(OE(e)||OE(a))return TE;const r=OI(e.value,a.value);return r.valid?((RE(e)||RE(a))&&t.dirty(),{status:t.value,value:r.data}):(LE(n,{code:SE.invalid_intersection_types}),TE)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((([e,t])=>a(e,t))):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}RI.create=(e,t,n)=>new RI({left:e,right:t,typeName:lL.ZodIntersection,...qE(n)});class zI extends QE{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==NE.array)return LE(n,{code:SE.invalid_type,expected:NE.array,received:n.parsedType}),TE;if(n.data.length<this._def.items.length)return LE(n,{code:SE.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),TE;!this._def.rest&&n.data.length>this._def.items.length&&(LE(n,{code:SE.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const a=[...n.data].map(((e,t)=>{const a=this._def.items[t]||this._def.rest;return a?a._parse(new HE(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(a).then((e=>AE.mergeArray(t,e))):AE.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new zI({...this._def,rest:e})}}zI.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new zI({items:e,typeName:lL.ZodTuple,rest:null,...qE(t)})};class FI extends QE{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==NE.object)return LE(n,{code:SE.invalid_type,expected:NE.object,received:n.parsedType}),TE;const a=[],r=this._def.keyType,i=this._def.valueType;for(const s in n.data)a.push({key:r._parse(new HE(n,s,n.path,s)),value:i._parse(new HE(n,n.data[s],n.path,s)),alwaysSet:s in n.data});return n.common.async?AE.mergeObjectAsync(t,a):AE.mergeObjectSync(t,a)}get element(){return this._def.valueType}static create(e,t,n){return new FI(t instanceof QE?{keyType:e,valueType:t,typeName:lL.ZodRecord,...qE(n)}:{keyType:xI.create(),valueType:e,typeName:lL.ZodRecord,...qE(t)})}}class BI extends QE{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==NE.map)return LE(n,{code:SE.invalid_type,expected:NE.map,received:n.parsedType}),TE;const a=this._def.keyType,r=this._def.valueType,i=[...n.data.entries()].map((([e,t],i)=>({key:a._parse(new HE(n,e,n.path,[i,"key"])),value:r._parse(new HE(n,t,n.path,[i,"value"]))})));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of i){const a=await n.key,r=await n.value;if("aborted"===a.status||"aborted"===r.status)return TE;"dirty"!==a.status&&"dirty"!==r.status||t.dirty(),e.set(a.value,r.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of i){const a=n.key,r=n.value;if("aborted"===a.status||"aborted"===r.status)return TE;"dirty"!==a.status&&"dirty"!==r.status||t.dirty(),e.set(a.value,r.value)}return{status:t.value,value:e}}}}BI.create=(e,t,n)=>new BI({valueType:t,keyType:e,typeName:lL.ZodMap,...qE(n)});class UI extends QE{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==NE.set)return LE(n,{code:SE.invalid_type,expected:NE.set,received:n.parsedType}),TE;const a=this._def;null!==a.minSize&&n.data.size<a.minSize.value&&(LE(n,{code:SE.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),t.dirty()),null!==a.maxSize&&n.data.size>a.maxSize.value&&(LE(n,{code:SE.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),t.dirty());const r=this._def.valueType;function i(e){const n=new Set;for(const a of e){if("aborted"===a.status)return TE;"dirty"===a.status&&t.dirty(),n.add(a.value)}return{status:t.value,value:n}}const s=[...n.data.values()].map(((e,t)=>r._parse(new HE(n,e,n.path,t))));return n.common.async?Promise.all(s).then((e=>i(e))):i(s)}min(e,t){return new UI({...this._def,minSize:{value:e,message:BE.toString(t)}})}max(e,t){return new UI({...this._def,maxSize:{value:e,message:BE.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}UI.create=(e,t)=>new UI({valueType:e,minSize:null,maxSize:null,typeName:lL.ZodSet,...qE(t)});class WI extends QE{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==NE.function)return LE(t,{code:SE.invalid_type,expected:NE.function,received:t.parsedType}),TE;function n(e,n){return IE({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,EE(),ME].filter((e=>!!e)),issueData:{code:SE.invalid_arguments,argumentsError:n}})}function a(e,n){return IE({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,EE(),ME].filter((e=>!!e)),issueData:{code:SE.invalid_return_type,returnTypeError:n}})}const r={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof qI){const e=this;return PE((async function(...t){const s=new kE([]),o=await e._def.args.parseAsync(t,r).catch((e=>{throw s.addIssue(n(t,e)),s})),l=await Reflect.apply(i,this,o);return await e._def.returns._def.type.parseAsync(l,r).catch((e=>{throw s.addIssue(a(l,e)),s}))}))}{const e=this;return PE((function(...t){const s=e._def.args.safeParse(t,r);if(!s.success)throw new kE([n(t,s.error)]);const o=Reflect.apply(i,this,s.data),l=e._def.returns.safeParse(o,r);if(!l.success)throw new kE([a(o,l.error)]);return l.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new WI({...this._def,args:zI.create(e).rest(MI.create())})}returns(e){return new WI({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new WI({args:e||zI.create([]).rest(MI.create()),returns:t||MI.create(),typeName:lL.ZodFunction,...qE(n)})}}class GI extends QE{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}GI.create=(e,t)=>new GI({getter:e,typeName:lL.ZodLazy,...qE(t)});class VI extends QE{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return LE(t,{received:t.data,code:SE.invalid_literal,expected:this._def.value}),TE}return{status:"valid",value:e.data}}get value(){return this._def.value}}function $I(e,t){return new HI({values:e,typeName:lL.ZodEnum,...qE(t)})}VI.create=(e,t)=>new VI({value:e,typeName:lL.ZodLiteral,...qE(t)});class HI extends QE{constructor(){super(...arguments),WE.set(this,void 0)}_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return LE(t,{expected:bE.joinValues(n),received:t.parsedType,code:SE.invalid_type}),TE}if(VE(this,WE,"f")||$E(this,WE,new Set(this._def.values),"f"),!VE(this,WE,"f").has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return LE(t,{received:t.data,code:SE.invalid_enum_value,options:n}),TE}return PE(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return HI.create(e,{...this._def,...t})}exclude(e,t=this._def){return HI.create(this.options.filter((t=>!e.includes(t))),{...this._def,...t})}}WE=new WeakMap,HI.create=$I;class YI extends QE{constructor(){super(...arguments),GE.set(this,void 0)}_parse(e){const t=bE.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==NE.string&&n.parsedType!==NE.number){const e=bE.objectValues(t);return LE(n,{expected:bE.joinValues(e),received:n.parsedType,code:SE.invalid_type}),TE}if(VE(this,GE,"f")||$E(this,GE,new Set(bE.getValidEnumValues(this._def.values)),"f"),!VE(this,GE,"f").has(e.data)){const e=bE.objectValues(t);return LE(n,{received:n.data,code:SE.invalid_enum_value,options:e}),TE}return PE(e.data)}get enum(){return this._def.values}}GE=new WeakMap,YI.create=(e,t)=>new YI({values:e,typeName:lL.ZodNativeEnum,...qE(t)});class qI extends QE{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==NE.promise&&!1===t.common.async)return LE(t,{code:SE.invalid_type,expected:NE.promise,received:t.parsedType}),TE;const n=t.parsedType===NE.promise?t.data:Promise.resolve(t.data);return PE(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}qI.create=(e,t)=>new qI({type:e,typeName:lL.ZodPromise,...qE(t)});class QI extends QE{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===lL.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),a=this._def.effect||null,r={addIssue:e=>{LE(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(r.addIssue=r.addIssue.bind(r),"preprocess"===a.type){const e=a.transform(n.data,r);if(n.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return TE;const a=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===a.status?TE:"dirty"===a.status||"dirty"===t.value?DE(a.value):a}));{if("aborted"===t.value)return TE;const a=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===a.status?TE:"dirty"===a.status||"dirty"===t.value?DE(a.value):a}}if("refinement"===a.type){const e=e=>{const t=a.refinement(e,r);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===a.status?TE:("dirty"===a.status&&t.dirty(),e(a.value),{status:t.value,value:a.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?TE:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===a.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!zE(e))return e;const i=a.transform(e.value,r);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>zE(e)?Promise.resolve(a.transform(e.value,r)).then((e=>({status:t.value,value:e}))):e))}bE.assertNever(a)}}QI.create=(e,t,n)=>new QI({schema:e,typeName:lL.ZodEffects,effect:t,...qE(n)}),QI.createWithPreprocess=(e,t,n)=>new QI({schema:t,effect:{type:"preprocess",transform:e},typeName:lL.ZodEffects,...qE(n)});class ZI extends QE{_parse(e){return this._getType(e)===NE.undefined?PE(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ZI.create=(e,t)=>new ZI({innerType:e,typeName:lL.ZodOptional,...qE(t)});class JI extends QE{_parse(e){return this._getType(e)===NE.null?PE(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}JI.create=(e,t)=>new JI({innerType:e,typeName:lL.ZodNullable,...qE(t)});class KI extends QE{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===NE.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}KI.create=(e,t)=>new KI({innerType:e,typeName:lL.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...qE(t)});class XI extends QE{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return FE(a)?a.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new kE(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===a.status?a.value:this._def.catchValue({get error(){return new kE(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}XI.create=(e,t)=>new XI({innerType:e,typeName:lL.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...qE(t)});class eL extends QE{_parse(e){if(this._getType(e)!==NE.nan){const t=this._getOrReturnCtx(e);return LE(t,{code:SE.invalid_type,expected:NE.nan,received:t.parsedType}),TE}return{status:"valid",value:e.data}}}eL.create=e=>new eL({typeName:lL.ZodNaN,...qE(e)});const tL=Symbol("zod_brand");class nL extends QE{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class aL extends QE{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?TE:"dirty"===e.status?(t.dirty(),DE(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?TE:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new aL({in:e,out:t,typeName:lL.ZodPipeline})}}class rL extends QE{_parse(e){const t=this._def.innerType._parse(e),n=e=>(zE(e)&&(e.value=Object.freeze(e.value)),e);return FE(t)?t.then((e=>n(e))):n(t)}unwrap(){return this._def.innerType}}function iL(e,t){const n="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof n?{message:n}:n}function sL(e,t={},n){return e?kI.create().superRefine(((a,r)=>{const i=e(a);if(i instanceof Promise)return i.then((e=>{if(!e){const e=iL(t,a),i=e.fatal??n??!0;r.addIssue({code:"custom",...e,fatal:i})}}));if(!i){const e=iL(t,a),i=e.fatal??n??!0;r.addIssue({code:"custom",...e,fatal:i})}})):kI.create()}rL.create=(e,t)=>new rL({innerType:e,typeName:lL.ZodReadonly,...qE(t)});const oL={object:AI.lazycreate};var lL,cL;(cL=lL||(lL={})).ZodString="ZodString",cL.ZodNumber="ZodNumber",cL.ZodNaN="ZodNaN",cL.ZodBigInt="ZodBigInt",cL.ZodBoolean="ZodBoolean",cL.ZodDate="ZodDate",cL.ZodSymbol="ZodSymbol",cL.ZodUndefined="ZodUndefined",cL.ZodNull="ZodNull",cL.ZodAny="ZodAny",cL.ZodUnknown="ZodUnknown",cL.ZodNever="ZodNever",cL.ZodVoid="ZodVoid",cL.ZodArray="ZodArray",cL.ZodObject="ZodObject",cL.ZodUnion="ZodUnion",cL.ZodDiscriminatedUnion="ZodDiscriminatedUnion",cL.ZodIntersection="ZodIntersection",cL.ZodTuple="ZodTuple",cL.ZodRecord="ZodRecord",cL.ZodMap="ZodMap",cL.ZodSet="ZodSet",cL.ZodFunction="ZodFunction",cL.ZodLazy="ZodLazy",cL.ZodLiteral="ZodLiteral",cL.ZodEnum="ZodEnum",cL.ZodEffects="ZodEffects",cL.ZodNativeEnum="ZodNativeEnum",cL.ZodOptional="ZodOptional",cL.ZodNullable="ZodNullable",cL.ZodDefault="ZodDefault",cL.ZodCatch="ZodCatch",cL.ZodPromise="ZodPromise",cL.ZodBranded="ZodBranded",cL.ZodPipeline="ZodPipeline",cL.ZodReadonly="ZodReadonly";const dL=xI.create,uL=vI.create,fL=eL.create,mL=bI.create,pL=wI.create,hL=jI.create,gL=NI.create,xL=CI.create,yL=SI.create,vL=kI.create,bL=MI.create,wL=_I.create,jL=EI.create,NL=II.create,CL=AI.create,SL=AI.strictCreate,kL=TI.create,ML=PI.create,_L=RI.create,EL=zI.create,IL=FI.create,LL=BI.create,AL=UI.create,TL=WI.create,DL=GI.create,PL=VI.create,OL=HI.create,RL=YI.create,zL=qI.create,FL=QI.create,BL=ZI.create,UL=JI.create,WL=QI.createWithPreprocess,GL=aL.create,VL={string:e=>xI.create({...e,coerce:!0}),number:e=>vI.create({...e,coerce:!0}),boolean:e=>wI.create({...e,coerce:!0}),bigint:e=>bI.create({...e,coerce:!0}),date:e=>jI.create({...e,coerce:!0})},$L=TE,HL=Object.freeze(Object.defineProperty({__proto__:null,BRAND:tL,DIRTY:DE,EMPTY_PATH:[],INVALID:TE,NEVER:$L,OK:PE,ParseStatus:AE,Schema:QE,ZodAny:kI,ZodArray:II,ZodBigInt:bI,ZodBoolean:wI,ZodBranded:nL,ZodCatch:XI,ZodDate:jI,ZodDefault:KI,ZodDiscriminatedUnion:PI,ZodEffects:QI,ZodEnum:HI,ZodError:kE,get ZodFirstPartyTypeKind(){return lL},ZodFunction:WI,ZodIntersection:RI,ZodIssueCode:SE,ZodLazy:GI,ZodLiteral:VI,ZodMap:BI,ZodNaN:eL,ZodNativeEnum:YI,ZodNever:_I,ZodNull:SI,ZodNullable:JI,ZodNumber:vI,ZodObject:AI,ZodOptional:ZI,ZodParsedType:NE,ZodPipeline:aL,ZodPromise:qI,ZodReadonly:rL,ZodRecord:FI,ZodSchema:QE,ZodSet:UI,ZodString:xI,ZodSymbol:NI,ZodTransformer:QI,ZodTuple:zI,ZodType:QE,ZodUndefined:CI,ZodUnion:TI,ZodUnknown:MI,ZodVoid:EI,addIssueToContext:LE,any:vL,array:NL,bigint:mL,boolean:pL,coerce:VL,custom:sL,date:hL,datetimeRegex:pI,defaultErrorMap:ME,discriminatedUnion:ML,effect:FL,enum:OL,function:TL,getErrorMap:EE,getParsedType:CE,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>sL((t=>t instanceof e),t),intersection:_L,isAborted:OE,isAsync:FE,isDirty:RE,isValid:zE,late:oL,lazy:DL,literal:PL,makeIssue:IE,map:LL,nan:fL,nativeEnum:RL,never:wL,null:yL,nullable:UL,number:uL,object:CL,get objectUtil(){return jE},oboolean:()=>pL().optional(),onumber:()=>uL().optional(),optional:BL,ostring:()=>dL().optional(),pipeline:GL,preprocess:WL,promise:zL,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),record:IL,set:AL,setErrorMap:function(e){_E=e},strictObject:SL,string:dL,symbol:gL,transformer:FL,tuple:EL,undefined:xL,union:kL,unknown:bL,get util(){return bE},void:jL},Symbol.toStringTag,{value:"Module"})),YL=-128,qL=127,QL=255,ZL=-32768,JL=32767,KL=65535,XL=-8388608,eA=8388607,tA=16777215,nA=-2147483648,aA=2147483647,rA=4294967295,iA=-0x800000000000,sA=0x7fffffffffff,oA=0xffffffffffff,lA=-9223372036854775808n,cA=9223372036854775807n,dA=18446744073709551615n;function uA(e,t){return t.includes(e.columnType)}const fA=kL([dL(),uL(),pL(),yL()]),mA=kL([fA,IL(vL()),NL(vL())]),pA=sL((e=>e instanceof Buffer));function hA(e,t){const n=(null==t?void 0:t.zodInstance)??HL,a=(null==t?void 0:t.coerce)??{};let r;return function(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}(e)&&(r=e.enumValues.length?n.enum(e.enumValues):n.string()),r||(uA(e,["PgGeometry","PgPointTuple"])?r=n.tuple([n.number(),n.number()]):uA(e,["PgGeometryObject","PgPointObject"])?r=n.object({x:n.number(),y:n.number()}):uA(e,["PgHalfVector","PgVector"])?(r=n.array(n.number()),r=e.dimensions?r.length(e.dimensions):r):uA(e,["PgLine"])?r=n.tuple([n.number(),n.number(),n.number()]):uA(e,["PgLineABC"])?r=n.object({a:n.number(),b:n.number(),c:n.number()}):uA(e,["PgArray"])?(r=n.array(hA(e.baseColumn,n)),r=e.size?r.length(e.size):r):"array"===e.dataType?r=n.array(n.any()):"number"===e.dataType?r=function(e,t,n){let a,r,i=e.getSQLType().includes("unsigned"),s=!1;uA(e,["MySqlTinyInt","SingleStoreTinyInt"])?(a=i?0:YL,r=i?QL:qL,s=!0):uA(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(a=i?0:ZL,r=i?KL:JL,s=!0):uA(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(a=i?0:XL,r=i?tA:eA,s=uA(e,["MySqlMediumInt","SingleStoreMediumInt"])):uA(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(a=i?0:nA,r=i?rA:aA,s=!0):uA(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(a=i?0:iA,r=i?oA:sA):uA(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(i=i||uA(e,["MySqlSerial","SingleStoreSerial"]),a=i?0:Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER,s=!0):uA(e,["MySqlYear","SingleStoreYear"])?(a=1901,r=2155,s=!0):(a=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER);let o=!0===n||(null==n?void 0:n.number)?t.coerce.number():t.number();return o=o.min(a).max(r),s?o.int():o}(e,n,a):"bigint"===e.dataType?r=function(e,t,n){const a=e.getSQLType().includes("unsigned"),r=a?0n:lA,i=a?dA:cA,s=!0===n||(null==n?void 0:n.bigint)?t.coerce.bigint():t.bigint();return s.min(r).max(i)}(e,n,a):"boolean"===e.dataType?r=!0===a||a.boolean?n.coerce.boolean():n.boolean():"date"===e.dataType?r=!0===a||a.date?n.coerce.date():n.date():"string"===e.dataType?r=function(e,t,n){if(uA(e,["PgUUID"]))return t.string().uuid();let a,r,i=!1;uA(e,["PgVarchar","SQLiteText"])?a=e.length:uA(e,["MySqlVarChar","SingleStoreVarChar"])?a=e.length??KL:uA(e,["MySqlText","SingleStoreText"])&&(a="longtext"===e.textType?rA:"mediumtext"===e.textType?tA:"text"===e.textType?KL:QL);uA(e,["PgChar","MySqlChar","SingleStoreChar"])&&(a=e.length,i=!0);uA(e,["PgBinaryVector"])&&(r=/^[01]+$/,a=e.dimensions);let s=!0===n||(null==n?void 0:n.string)?t.coerce.string():t.string();return s=r?s.regex(r):s,a&&i?s.length(a):a?s.max(a):s}(e,n,a):"json"===e.dataType?r=mA:"custom"===e.dataType?r=n.any():"buffer"===e.dataType&&(r=pA)),r||(r=n.any()),r}function gA(e){return Qk(e)?e[qk.Symbol.Columns]:e[Fk].selectedFields}function xA(e,t,n,a){const r={};for(const[s,o]of Object.entries(e)){if(!fk(o,mk)&&!fk(o,Kk)&&!fk(o,Kk.Aliased)&&"object"==typeof o){const e=Qk(o)||"object"==typeof(i=o)&&null!==i&&sM in i?gA(o):o;r[s]=xA(e,t[s]??{},n,a);continue}const e=t[s];if(void 0!==e&&"function"!=typeof e){r[s]=e;continue}const l=fk(o,mk)?o:void 0,c=l?hA(l,a):vL(),d="function"==typeof e?e(c):c;n.never(l)||(r[s]=d,l&&(n.nullable(l)&&(r[s]=r[s].nullable()),n.optional(l)&&(r[s]=r[s].optional())))}var i;return CL(r)}const yA={never:e=>{var t,n;return"always"===(null==(t=null==e?void 0:e.generated)?void 0:t.type)||"always"===(null==(n=null==e?void 0:e.generatedIdentity)?void 0:n.type)},optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},vA=(e,t)=>xA(gA(e),{},yA),bA=Ok("user_role",["super_admin","admin","agent"]),wA=vE("companies",{id:T_("id").primaryKey(),name:W_("name").notNull(),slug:W_("slug").notNull().unique(),logo:W_("logo"),primaryColor:W_("primary_color").default("#333235"),active:jM("active").default(!0),plan:W_("plan").default("free"),planId:HM("plan_id").references((()=>BA.id)),subscriptionStatus:W_("subscription_status",{enum:["active","inactive","pending","cancelled","overdue","trial"]}).default("inactive"),subscriptionStartDate:Z_("subscription_start_date"),subscriptionEndDate:Z_("subscription_end_date"),trialStartDate:Z_("trial_start_date"),trialEndDate:Z_("trial_end_date"),isInTrial:jM("is_in_trial").default(!1),maxUsers:HM("max_users").default(5),createdAt:Z_("created_at").defaultNow(),updatedAt:Z_("updated_at").defaultNow()});vA(wA).pick({name:!0,slug:!0,logo:!0,primaryColor:!0,active:!0,plan:!0,planId:!0,subscriptionStatus:!0,subscriptionStartDate:!0,subscriptionEndDate:!0,trialStartDate:!0,trialEndDate:!0,isInTrial:!0,maxUsers:!0});const jA=vE("users",{id:T_("id").primaryKey(),username:W_("username").notNull().unique(),password:W_("password").notNull(),fullName:W_("full_name").notNull(),email:W_("email").notNull(),avatarUrl:W_("avatar_url"),role:bA("role").default("agent"),companyId:HM("company_id").references((()=>wA.id)),isSuperAdmin:jM("is_super_admin").default(!1),languagePreference:W_("language_preference").default("en"),permissions:t_("permissions").default("{}"),createdAt:Z_("created_at").defaultNow(),updatedAt:Z_("updated_at").defaultNow()}),NA=vE("role_permissions",{id:T_("id").primaryKey(),companyId:HM("company_id").references((()=>wA.id)).notNull(),role:bA("role").notNull(),permissions:t_("permissions").notNull().default("{}"),createdAt:Z_("created_at").defaultNow(),updatedAt:Z_("updated_at").defaultNow()}),CA=vA(jA).pick({username:!0,password:!0,fullName:!0,email:!0,avatarUrl:!0,role:!0,companyId:!0,isSuperAdmin:!0,languagePreference:!0,permissions:!0});vA(NA).pick({companyId:!0,role:!0,permissions:!0}),OL(["whatsapp_official","whatsapp_unofficial","messenger","instagram"]);const SA=vE("channel_connections",{id:T_("id").primaryKey(),userId:HM("user_id").notNull(),companyId:HM("company_id").references((()=>wA.id)),channelType:W_("channel_type").notNull(),accountId:W_("account_id").notNull(),accountName:W_("account_name").notNull(),accessToken:W_("access_token"),status:W_("status").default("active"),connectionData:t_("connection_data"),createdAt:Z_("created_at").defaultNow(),updatedAt:Z_("updated_at").defaultNow()});vA(SA).pick({userId:!0,companyId:!0,channelType:!0,accountId:!0,accountName:!0,accessToken:!0,status:!0,connectionData:!0});const kA=vE("contacts",{id:T_("id").primaryKey(),companyId:HM("company_id").references((()=>wA.id)),name:W_("name").notNull(),avatarUrl:W_("avatar_url"),email:W_("email"),phone:W_("phone"),company:W_("company"),tags:W_("tags").array(),isActive:jM("is_active").default(!0),identifier:W_("identifier"),identifierType:W_("identifier_type"),source:W_("source"),notes:W_("notes"),createdAt:Z_("created_at").defaultNow(),updatedAt:Z_("updated_at").defaultNow()});vA(kA).pick({companyId:!0,name:!0,avatarUrl:!0,email:!0,phone:!0,company:!0,tags:!0,isActive:!0,identifier:!0,identifierType:!0,source:!0,notes:!0});const MA=vE("conversations",{id:T_("id").primaryKey(),companyId:HM("company_id").references((()=>wA.id)),contactId:HM("contact_id"),channelType:W_("channel_type").notNull(),channelId:HM("channel_id").notNull(),status:W_("status").default("open"),assignedToUserId:HM("assigned_to_user_id"),lastMessageAt:Z_("last_message_at").defaultNow(),unreadCount:HM("unread_count").default(0),botDisabled:jM("bot_disabled").default(!1),disabledAt:Z_("disabled_at"),disableDuration:HM("disable_duration"),disableReason:W_("disable_reason"),isGroup:jM("is_group").default(!1),groupJid:W_("group_jid"),groupName:W_("group_name"),groupDescription:W_("group_description"),groupParticipantCount:HM("group_participant_count").default(0),groupCreatedAt:Z_("group_created_at"),groupMetadata:t_("group_metadata"),createdAt:Z_("created_at").defaultNow(),updatedAt:Z_("updated_at").defaultNow()});vA(MA).pick({companyId:!0,contactId:!0,channelType:!0,channelId:!0,status:!0,assignedToUserId:!0,lastMessageAt:!0,unreadCount:!0,botDisabled:!0,disabledAt:!0,disableDuration:!0,disableReason:!0,isGroup:!0,groupJid:!0,groupName:!0,groupDescription:!0,groupParticipantCount:!0,groupCreatedAt:!0,groupMetadata:!0});vA(vE("group_participants",{id:T_("id").primaryKey(),conversationId:HM("conversation_id").notNull().references((()=>MA.id)),contactId:HM("contact_id").references((()=>kA.id)),participantJid:W_("participant_jid").notNull(),participantName:W_("participant_name"),isAdmin:jM("is_admin").default(!1),isSuperAdmin:jM("is_super_admin").default(!1),joinedAt:Z_("joined_at").defaultNow(),leftAt:Z_("left_at"),isActive:jM("is_active").default(!0),createdAt:Z_("created_at").defaultNow(),updatedAt:Z_("updated_at").defaultNow()})).pick({conversationId:!0,contactId:!0,participantJid:!0,participantName:!0,isAdmin:!0,isSuperAdmin:!0,joinedAt:!0,leftAt:!0,isActive:!0});const _A=vE("messages",{id:T_("id").primaryKey(),conversationId:HM("conversation_id").notNull(),externalId:W_("external_id"),direction:W_("direction").notNull(),type:W_("type").default("text"),content:W_("content").notNull(),metadata:t_("metadata"),senderId:HM("sender_id"),senderType:W_("sender_type"),status:W_("status").default("sent"),sentAt:Z_("sent_at"),readAt:Z_("read_at"),isFromBot:jM("is_from_bot").default(!1),mediaUrl:W_("media_url"),groupParticipantJid:W_("group_participant_jid"),groupParticipantName:W_("group_participant_name"),createdAt:Z_("created_at").defaultNow()});vA(_A).pick({conversationId:!0,externalId:!0,direction:!0,type:!0,content:!0,metadata:!0,senderId:!0,senderType:!0,status:!0,sentAt:!0,readAt:!0,isFromBot:!0,mediaUrl:!0,groupParticipantJid:!0,groupParticipantName:!0});vA(vE("notes",{id:T_("id").primaryKey(),contactId:HM("contact_id").notNull(),userId:HM("created_by_id").notNull(),content:W_("content").notNull(),createdAt:Z_("created_at").defaultNow(),updatedAt:Z_("updated_at").defaultNow()})).pick({contactId:!0,userId:!0,content:!0});const EA=OL(["start","message","condition","input","api_call","delay","end","attachment","template","contact_property","trigger","image","video","audio","document","wait","follow_up","webhook","http_request","shopify","woocommerce","typebot","flowise","bot_disable","bot_reset"]);OL(["draft","active","inactive","archived"]);const IA=vE("flows",{id:T_("id").primaryKey(),userId:HM("user_id").notNull().references((()=>jA.id)),companyId:HM("company_id").references((()=>wA.id)),name:W_("name").notNull(),description:W_("description"),status:W_("status",{enum:["draft","active","inactive","archived"]}).notNull().default("draft"),nodes:t_("nodes").notNull().default([]),edges:t_("edges").notNull().default([]),version:HM("version").notNull().default(1),createdAt:Z_("created_at").notNull().defaultNow(),updatedAt:Z_("updated_at").notNull().defaultNow()});vA(IA).pick({userId:!0,companyId:!0,name:!0,description:!0,status:!0,nodes:!0,edges:!0,version:!0});const LA=vE("flow_assignments",{id:T_("id").primaryKey(),flowId:HM("flow_id").notNull().references((()=>IA.id)),channelId:HM("channel_id").notNull().references((()=>SA.id)),isActive:jM("is_active").notNull().default(!1),createdAt:Z_("created_at").notNull().defaultNow(),updatedAt:Z_("updated_at").notNull().defaultNow()}),AA=vE("flow_sessions",{id:T_("id").primaryKey(),sessionId:W_("session_id").notNull().unique(),flowId:HM("flow_id").notNull().references((()=>IA.id)),conversationId:HM("conversation_id").notNull().references((()=>MA.id)),contactId:HM("contact_id").notNull().references((()=>kA.id)),companyId:HM("company_id").references((()=>wA.id)),status:W_("status",{enum:["active","waiting","paused","completed","failed","abandoned","timeout"]}).notNull().default("active"),currentNodeId:W_("current_node_id"),triggerNodeId:W_("trigger_node_id").notNull(),executionPath:t_("execution_path").notNull().default([]),branchingHistory:t_("branching_history").notNull().default([]),sessionData:t_("session_data").notNull().default({}),nodeStates:t_("node_states").notNull().default({}),waitingContext:t_("waiting_context"),startedAt:Z_("started_at").notNull().defaultNow(),lastActivityAt:Z_("last_activity_at").notNull().defaultNow(),pausedAt:Z_("paused_at"),resumedAt:Z_("resumed_at"),completedAt:Z_("completed_at"),expiresAt:Z_("expires_at"),totalDurationMs:HM("total_duration_ms"),nodeExecutionCount:HM("node_execution_count").default(0),userInteractionCount:HM("user_interaction_count").default(0),errorCount:HM("error_count").default(0),lastErrorMessage:W_("last_error_message"),checkpointData:t_("checkpoint_data"),debugInfo:t_("debug_info"),createdAt:Z_("created_at").notNull().defaultNow(),updatedAt:Z_("updated_at").notNull().defaultNow()}),TA=vE("flow_executions",{id:T_("id").primaryKey(),executionId:W_("execution_id").notNull().unique(),flowId:HM("flow_id").notNull().references((()=>IA.id)),conversationId:HM("conversation_id").notNull().references((()=>MA.id)),contactId:HM("contact_id").notNull().references((()=>kA.id)),companyId:HM("company_id").references((()=>wA.id)),status:W_("status",{enum:["running","waiting","completed","failed","abandoned"]}).notNull().default("running"),triggerNodeId:W_("trigger_node_id").notNull(),currentNodeId:W_("current_node_id"),executionPath:t_("execution_path").notNull().default([]),contextData:t_("context_data").notNull().default({}),startedAt:Z_("started_at").notNull().defaultNow(),completedAt:Z_("completed_at"),lastActivityAt:Z_("last_activity_at").notNull().defaultNow(),totalDurationMs:HM("total_duration_ms"),completionRate:h_("completion_rate",{precision:5,scale:2}),errorMessage:W_("error_message"),createdAt:Z_("created_at").notNull().defaultNow(),updatedAt:Z_("updated_at").notNull().defaultNow()}),DA=vE("flow_session_variables",{id:T_("id").primaryKey(),sessionId:W_("session_id").notNull().references((()=>AA.sessionId)),variableKey:W_("variable_key").notNull(),variableValue:t_("variable_value").notNull(),variableType:W_("variable_type",{enum:["string","number","boolean","object","array"]}).notNull().default("string"),scope:W_("scope",{enum:["global","flow","node","user","session"]}).notNull().default("session"),nodeId:W_("node_id"),isEncrypted:jM("is_encrypted").default(!1),expiresAt:Z_("expires_at"),createdAt:Z_("created_at").notNull().defaultNow(),updatedAt:Z_("updated_at").notNull().defaultNow()}),PA=vE("flow_session_cursors",{id:T_("id").primaryKey(),sessionId:W_("session_id").notNull().references((()=>AA.sessionId)),currentNodeId:W_("current_node_id").notNull(),previousNodeId:W_("previous_node_id"),nextPossibleNodes:t_("next_possible_nodes").notNull().default([]),branchConditions:t_("branch_conditions").notNull().default({}),loopState:t_("loop_state"),waitingForInput:jM("waiting_for_input").default(!1),inputExpectedType:W_("input_expected_type"),inputValidationRules:t_("input_validation_rules"),timeoutAt:Z_("timeout_at"),createdAt:Z_("created_at").notNull().defaultNow(),updatedAt:Z_("updated_at").notNull().defaultNow()});vE("flow_step_executions",{id:T_("id").primaryKey(),sessionId:W_("session_id").references((()=>AA.sessionId)),flowExecutionId:HM("flow_execution_id").references((()=>TA.id)),nodeId:W_("node_id").notNull(),nodeType:W_("node_type").notNull(),stepOrder:HM("step_order").notNull(),startedAt:Z_("started_at").notNull().defaultNow(),completedAt:Z_("completed_at"),durationMs:HM("duration_ms"),status:W_("status",{enum:["running","completed","failed","skipped","waiting","timeout"]}).notNull().default("running"),inputData:t_("input_data"),outputData:t_("output_data"),errorMessage:W_("error_message"),retryCount:HM("retry_count").default(0),maxRetries:HM("max_retries").default(0),createdAt:Z_("created_at").notNull().defaultNow()}),vA(LA).pick({flowId:!0,channelId:!0,isActive:!0}),vA(AA).pick({sessionId:!0,flowId:!0,conversationId:!0,contactId:!0,companyId:!0,status:!0,currentNodeId:!0,triggerNodeId:!0,executionPath:!0,branchingHistory:!0,sessionData:!0,nodeStates:!0,waitingContext:!0,expiresAt:!0}),vA(DA).pick({sessionId:!0,variableKey:!0,variableValue:!0,variableType:!0,scope:!0,nodeId:!0,isEncrypted:!0,expiresAt:!0}),vA(PA).pick({sessionId:!0,currentNodeId:!0,previousNodeId:!0,nextPossibleNodes:!0,branchConditions:!0,loopState:!0,waitingForInput:!0,inputExpectedType:!0,inputValidationRules:!0,timeoutAt:!0});const OA=vE("follow_up_schedules",{id:T_("id").primaryKey(),scheduleId:W_("schedule_id").notNull().unique(),sessionId:W_("session_id").references((()=>AA.sessionId)),flowId:HM("flow_id").notNull().references((()=>IA.id)),conversationId:HM("conversation_id").notNull().references((()=>MA.id)),contactId:HM("contact_id").notNull().references((()=>kA.id)),companyId:HM("company_id").references((()=>wA.id)),nodeId:W_("node_id").notNull(),messageType:W_("message_type",{enum:["text","image","video","audio","document"]}).notNull().default("text"),messageContent:W_("message_content"),mediaUrl:W_("media_url"),caption:W_("caption"),templateId:HM("template_id"),triggerEvent:W_("trigger_event",{enum:["conversation_start","node_execution","specific_datetime","relative_delay"]}).notNull().default("conversation_start"),triggerNodeId:W_("trigger_node_id"),delayAmount:HM("delay_amount"),delayUnit:W_("delay_unit",{enum:["minutes","hours","days","weeks"]}),scheduledFor:Z_("scheduled_for"),specificDatetime:Z_("specific_datetime"),timezone:W_("timezone").default("UTC"),status:W_("status",{enum:["scheduled","sent","failed","cancelled","expired"]}).notNull().default("scheduled"),sentAt:Z_("sent_at"),failedReason:W_("failed_reason"),retryCount:HM("retry_count").default(0),maxRetries:HM("max_retries").default(3),channelType:W_("channel_type").notNull(),channelConnectionId:HM("channel_connection_id").references((()=>SA.id)),variables:t_("variables").default({}),executionContext:t_("execution_context").default({}),createdAt:Z_("created_at").notNull().defaultNow(),updatedAt:Z_("updated_at").notNull().defaultNow(),expiresAt:Z_("expires_at")}),RA=vE("follow_up_templates",{id:T_("id").primaryKey(),companyId:HM("company_id").notNull().references((()=>wA.id)),name:W_("name").notNull(),description:W_("description"),messageType:W_("message_type",{enum:["text","image","video","audio","document"]}).notNull().default("text"),content:W_("content").notNull(),mediaUrl:W_("media_url"),caption:W_("caption"),defaultDelayAmount:HM("default_delay_amount").default(24),defaultDelayUnit:W_("default_delay_unit",{enum:["minutes","hours","days","weeks"]}).default("hours"),variables:t_("variables").default([]),category:W_("category").default("general"),isActive:jM("is_active").default(!0),usageCount:HM("usage_count").default(0),createdBy:HM("created_by").references((()=>jA.id)),createdAt:Z_("created_at").notNull().defaultNow(),updatedAt:Z_("updated_at").notNull().defaultNow()},(e=>({uniqueCompanyName:yk().on(e.companyId,e.name)}))),zA=vE("follow_up_execution_log",{id:T_("id").primaryKey(),scheduleId:W_("schedule_id").notNull().references((()=>OA.scheduleId)),executionAttempt:HM("execution_attempt").notNull().default(1),status:W_("status",{enum:["success","failed","retry"]}).notNull(),messageId:W_("message_id"),errorMessage:W_("error_message"),executionDurationMs:HM("execution_duration_ms"),executedAt:Z_("executed_at").notNull().defaultNow(),responseReceived:jM("response_received").default(!1),responseAt:Z_("response_at"),responseContent:W_("response_content")});vA(OA).pick({scheduleId:!0,sessionId:!0,flowId:!0,conversationId:!0,contactId:!0,companyId:!0,nodeId:!0,messageType:!0,messageContent:!0,mediaUrl:!0,caption:!0,templateId:!0,triggerEvent:!0,triggerNodeId:!0,delayAmount:!0,delayUnit:!0,scheduledFor:!0,specificDatetime:!0,timezone:!0,status:!0,maxRetries:!0,channelType:!0,channelConnectionId:!0,variables:!0,executionContext:!0,expiresAt:!0}),vA(RA).pick({companyId:!0,name:!0,description:!0,messageType:!0,content:!0,mediaUrl:!0,caption:!0,defaultDelayAmount:!0,defaultDelayUnit:!0,variables:!0,category:!0,isActive:!0,createdBy:!0}),vA(zA).pick({scheduleId:!0,executionAttempt:!0,status:!0,messageId:!0,errorMessage:!0,executionDurationMs:!0,responseReceived:!0,responseAt:!0,responseContent:!0});vA(vE("google_calendar_tokens",{id:T_("id").primaryKey(),userId:HM("user_id").notNull().references((()=>jA.id)),companyId:HM("company_id").notNull().references((()=>wA.id)),accessToken:W_("access_token").notNull(),refreshToken:W_("refresh_token"),idToken:W_("id_token"),tokenType:W_("token_type"),expiryDate:Z_("expiry_date"),scope:W_("scope"),createdAt:Z_("created_at").notNull().defaultNow(),updatedAt:Z_("updated_at").notNull().defaultNow()})).pick({userId:!0,companyId:!0,accessToken:!0,refreshToken:!0,idToken:!0,tokenType:!0,expiryDate:!0,scope:!0});OL([...EA.options,"google_calendar_event","google_calendar_availability","ai_assistant","update_pipeline_stage"]),OL(["pending","accepted","expired","revoked"]);vA(vE("team_invitations",{id:T_("id").primaryKey(),email:W_("email").notNull(),invitedByUserId:HM("invited_by_user_id").notNull().references((()=>jA.id)),companyId:HM("company_id").notNull().references((()=>wA.id)),role:W_("role").notNull().default("agent"),token:W_("token").notNull().unique(),status:W_("status",{enum:["pending","accepted","expired","revoked"]}).notNull().default("pending"),expiresAt:Z_("expires_at").notNull(),createdAt:Z_("created_at").notNull().defaultNow(),updatedAt:Z_("updated_at").notNull().defaultNow()})).pick({email:!0,invitedByUserId:!0,companyId:!0,role:!0,token:!0,status:!0,expiresAt:!0}),OL(["lead","qualified","contacted","demo_scheduled","proposal","negotiation","closed_won","closed_lost"]),OL(["low","medium","high"]);const FA=vE("pipeline_stages",{id:T_("id").primaryKey(),companyId:HM("company_id").references((()=>wA.id)),name:W_("name").notNull(),color:W_("color").notNull(),order:HM("order_num").notNull(),createdAt:Z_("created_at").notNull().defaultNow(),updatedAt:Z_("updated_at").notNull().defaultNow()});vA(FA).pick({companyId:!0,name:!0,color:!0,order:!0});const BA=vE("plans",{id:T_("id").primaryKey(),name:W_("name").notNull(),description:W_("description"),price:h_("price",{precision:10,scale:2}).notNull().default("0"),maxUsers:HM("max_users").notNull().default(5),maxContacts:HM("max_contacts").notNull().default(1e3),maxChannels:HM("max_channels").notNull().default(3),maxFlows:HM("max_flows").notNull().default(1),maxCampaigns:HM("max_campaigns").notNull().default(5),maxCampaignRecipients:HM("max_campaign_recipients").notNull().default(1e3),campaignFeatures:t_("campaign_features").notNull().default(["basic_campaigns"]),isActive:jM("is_active").notNull().default(!0),isFree:jM("is_free").notNull().default(!1),hasTrialPeriod:jM("has_trial_period").notNull().default(!1),trialDays:HM("trial_days").default(0),features:t_("features").notNull().default([]),createdAt:Z_("created_at").notNull().defaultNow(),updatedAt:Z_("updated_at").notNull().defaultNow()});vA(BA).pick({name:!0,description:!0,price:!0,maxUsers:!0,maxContacts:!0,maxChannels:!0,maxFlows:!0,maxCampaigns:!0,maxCampaignRecipients:!0,campaignFeatures:!0,isActive:!0,isFree:!0,hasTrialPeriod:!0,trialDays:!0,features:!0});vA(vE("app_settings",{id:T_("id").primaryKey(),key:W_("key").notNull().unique(),value:t_("value").notNull(),createdAt:Z_("created_at").notNull().defaultNow(),updatedAt:Z_("updated_at").notNull().defaultNow()})).pick({key:!0,value:!0});const UA=vE("company_settings",{id:T_("id").primaryKey(),companyId:HM("company_id").notNull().references((()=>wA.id)),key:W_("key").notNull(),value:t_("value").notNull(),createdAt:Z_("created_at").notNull().defaultNow(),updatedAt:Z_("updated_at").notNull().defaultNow()});yk("company_settings_company_key_unique").on(UA.companyId,UA.key),vA(UA).pick({companyId:!0,key:!0,value:!0});const WA=vE("languages",{id:T_("id").primaryKey(),code:W_("code").notNull().unique(),name:W_("name").notNull(),nativeName:W_("native_name").notNull(),flagIcon:W_("flag_icon"),isActive:jM("is_active").default(!0),isDefault:jM("is_default").default(!1),direction:W_("direction").default("ltr"),createdAt:Z_("created_at").defaultNow(),updatedAt:Z_("updated_at").defaultNow()});vA(WA).pick({code:!0,name:!0,nativeName:!0,flagIcon:!0,isActive:!0,isDefault:!0,direction:!0});const GA=vE("translation_namespaces",{id:T_("id").primaryKey(),name:W_("name").notNull().unique(),description:W_("description"),createdAt:Z_("created_at").defaultNow(),updatedAt:Z_("updated_at").defaultNow()});vA(GA).pick({name:!0,description:!0});const VA=vE("translation_keys",{id:T_("id").primaryKey(),namespaceId:HM("namespace_id").references((()=>GA.id)),key:W_("key").notNull(),description:W_("description"),createdAt:Z_("created_at").defaultNow(),updatedAt:Z_("updated_at").defaultNow()});vA(VA).pick({namespaceId:!0,key:!0,description:!0});vA(vE("translations",{id:T_("id").primaryKey(),keyId:HM("key_id").notNull().references((()=>VA.id)),languageId:HM("language_id").notNull().references((()=>WA.id)),value:W_("value").notNull(),createdAt:Z_("created_at").defaultNow(),updatedAt:Z_("updated_at").defaultNow()})).pick({keyId:!0,languageId:!0,value:!0});vA(vE("payment_transactions",{id:T_("id").primaryKey(),companyId:HM("company_id").references((()=>wA.id)),planId:HM("plan_id").references((()=>BA.id)),amount:h_("amount",{precision:10,scale:2}).notNull(),currency:W_("currency").notNull().default("USD"),status:W_("status",{enum:["pending","completed","failed","refunded","cancelled"]}).notNull().default("pending"),paymentMethod:W_("payment_method",{enum:["stripe","mercadopago","paypal","bank_transfer","other"]}).notNull(),paymentIntentId:W_("payment_intent_id"),externalTransactionId:W_("external_transaction_id"),receiptUrl:W_("receipt_url"),metadata:t_("metadata"),createdAt:Z_("created_at").notNull().defaultNow(),updatedAt:Z_("updated_at").notNull().defaultNow()})).pick({companyId:!0,planId:!0,amount:!0,currency:!0,status:!0,paymentMethod:!0,paymentIntentId:!0,externalTransactionId:!0,receiptUrl:!0,metadata:!0});const $A=vE("deals",{id:T_("id").primaryKey(),companyId:HM("company_id").references((()=>wA.id)),contactId:HM("contact_id").notNull().references((()=>kA.id)),title:W_("title").notNull(),stageId:HM("stage_id").references((()=>FA.id)),stage:W_("stage",{enum:["lead","qualified","contacted","demo_scheduled","proposal","negotiation","closed_won","closed_lost"]}).notNull().default("lead"),value:HM("value"),priority:W_("priority",{enum:["low","medium","high"]}).default("medium"),dueDate:Z_("due_date"),assignedToUserId:HM("assigned_to_user_id").references((()=>jA.id)),description:W_("description"),tags:W_("tags").array(),status:W_("status").default("active"),lastActivityAt:Z_("last_activity_at").defaultNow(),createdAt:Z_("created_at").notNull().defaultNow(),updatedAt:Z_("updated_at").notNull().defaultNow()});vA($A).pick({companyId:!0,contactId:!0,title:!0,stageId:!0,stage:!0,value:!0,priority:!0,dueDate:!0,assignedToUserId:!0,description:!0,tags:!0,status:!0,lastActivityAt:!0});vA(vE("deal_activities",{id:T_("id").primaryKey(),dealId:HM("deal_id").notNull().references((()=>$A.id)),userId:HM("user_id").notNull().references((()=>jA.id)),type:W_("type").notNull(),content:W_("content").notNull(),metadata:t_("metadata"),createdAt:Z_("created_at").notNull().defaultNow()})).pick({dealId:!0,userId:!0,type:!0,content:!0,metadata:!0});const HA=Ok("update_status",["pending","downloading","validating","applying","completed","failed","rolled_back"]),YA=vE("system_updates",{id:T_("id").primaryKey(),version:W_("version").notNull(),releaseNotes:W_("release_notes"),downloadUrl:W_("download_url").notNull(),packageHash:W_("package_hash"),packageSize:HM("package_size"),status:HA("status").notNull().default("pending"),scheduledAt:Z_("scheduled_at"),startedAt:Z_("started_at"),completedAt:Z_("completed_at"),errorMessage:W_("error_message"),rollbackData:t_("rollback_data"),migrationScripts:t_("migration_scripts").default("[]"),backupPath:W_("backup_path"),progressPercentage:HM("progress_percentage").default(0),createdAt:Z_("created_at").notNull().defaultNow(),updatedAt:Z_("updated_at").notNull().defaultNow()}),qA=vE("maintenance_mode",{id:T_("id").primaryKey(),enabled:jM("enabled").notNull().default(!1),message:W_("message").default("System is under maintenance. Please try again later."),estimatedCompletion:Z_("estimated_completion"),bypassCode:W_("bypass_code"),enabledBy:HM("enabled_by").references((()=>jA.id)),enabledAt:Z_("enabled_at"),disabledAt:Z_("disabled_at"),createdAt:Z_("created_at").notNull().defaultNow(),updatedAt:Z_("updated_at").notNull().defaultNow()});vA(YA).pick({version:!0,releaseNotes:!0,downloadUrl:!0,packageHash:!0,packageSize:!0,status:!0,scheduledAt:!0,migrationScripts:!0}),vA(qA).pick({enabled:!0,message:!0,estimatedCompletion:!0,bypassCode:!0,enabledBy:!0}),OL(["draft","scheduled","running","paused","completed","cancelled","failed"]),OL(["immediate","scheduled","drip"]),OL(["pending","processing","sent","delivered","read","failed","skipped"]),OL(["connected","disconnected","connecting","error","banned"]);const QA=vE("campaign_templates",{id:T_("id").primaryKey(),companyId:HM("company_id").notNull().references((()=>wA.id)),createdById:HM("created_by_id").notNull().references((()=>jA.id)),name:W_("name").notNull(),description:W_("description"),category:W_("category").default("general"),content:W_("content").notNull(),mediaUrls:t_("media_urls").default([]),variables:t_("variables").default([]),channelType:W_("channel_type").notNull().default("whatsapp"),isActive:jM("is_active").default(!0),usageCount:HM("usage_count").default(0),createdAt:Z_("created_at").notNull().defaultNow(),updatedAt:Z_("updated_at").notNull().defaultNow()}),ZA=vE("contact_segments",{id:T_("id").primaryKey(),companyId:HM("company_id").notNull().references((()=>wA.id)),createdById:HM("created_by_id").notNull().references((()=>jA.id)),name:W_("name").notNull(),description:W_("description"),criteria:t_("criteria").notNull(),contactCount:HM("contact_count").default(0),lastUpdatedAt:Z_("last_updated_at").defaultNow(),createdAt:Z_("created_at").notNull().defaultNow(),updatedAt:Z_("updated_at").notNull().defaultNow()}),JA=vE("campaigns",{id:T_("id").primaryKey(),companyId:HM("company_id").notNull().references((()=>wA.id)),createdById:HM("created_by_id").notNull().references((()=>jA.id)),templateId:HM("template_id").references((()=>QA.id)),segmentId:HM("segment_id").references((()=>ZA.id)),name:W_("name").notNull(),description:W_("description"),channelType:W_("channel_type").notNull().default("whatsapp"),channelId:HM("channel_id").references((()=>SA.id)),channelIds:t_("channel_ids").default([]),content:W_("content").notNull(),mediaUrls:t_("media_urls").default([]),variables:t_("variables").default({}),campaignType:W_("campaign_type",{enum:["immediate","scheduled","drip"]}).notNull().default("immediate"),scheduledAt:Z_("scheduled_at"),timezone:W_("timezone").default("UTC"),dripSettings:t_("drip_settings"),status:W_("status",{enum:["draft","scheduled","running","paused","completed","cancelled","failed"]}).notNull().default("draft"),startedAt:Z_("started_at"),completedAt:Z_("completed_at"),pausedAt:Z_("paused_at"),totalRecipients:HM("total_recipients").default(0),processedRecipients:HM("processed_recipients").default(0),successfulSends:HM("successful_sends").default(0),failedSends:HM("failed_sends").default(0),rateLimitSettings:t_("rate_limit_settings").default({messages_per_minute:10,messages_per_hour:200,messages_per_day:1e3,delay_between_messages:6,random_delay_range:[3,10],humanization_enabled:!0}),complianceSettings:t_("compliance_settings").default({require_opt_out:!0,spam_check_enabled:!0,content_filter_enabled:!0}),antiBanSettings:t_("anti_ban_settings").default({enabled:!0,mode:"moderate",businessHoursOnly:!1,respectWeekends:!1,randomizeDelay:!0,minDelay:3,maxDelay:15,accountRotation:!0,cooldownPeriod:30,messageVariation:!1}),createdAt:Z_("created_at").notNull().defaultNow(),updatedAt:Z_("updated_at").notNull().defaultNow()}),KA=vE("campaign_recipients",{id:T_("id").primaryKey(),campaignId:HM("campaign_id").notNull().references((()=>JA.id)),contactId:HM("contact_id").notNull().references((()=>kA.id)),personalizedContent:W_("personalized_content"),variables:t_("variables").default({}),status:W_("status",{enum:["pending","processing","sent","delivered","read","failed","skipped"]}).notNull().default("pending"),scheduledAt:Z_("scheduled_at"),sentAt:Z_("sent_at"),deliveredAt:Z_("delivered_at"),readAt:Z_("read_at"),failedAt:Z_("failed_at"),errorMessage:W_("error_message"),retryCount:HM("retry_count").default(0),maxRetries:HM("max_retries").default(3),externalMessageId:W_("external_message_id"),conversationId:HM("conversation_id").references((()=>MA.id)),createdAt:Z_("created_at").notNull().defaultNow(),updatedAt:Z_("updated_at").notNull().defaultNow()},(e=>({uniqueCampaignContact:yk().on(e.campaignId,e.contactId)})));vE("campaign_messages",{id:T_("id").primaryKey(),campaignId:HM("campaign_id").notNull().references((()=>JA.id)),recipientId:HM("recipient_id").notNull().references((()=>KA.id)),messageId:HM("message_id").references((()=>_A.id)),content:W_("content").notNull(),mediaUrls:t_("media_urls").default([]),messageType:W_("message_type").default("text"),status:W_("status",{enum:["pending","sent","delivered","read","failed"]}).notNull().default("pending"),sentAt:Z_("sent_at"),deliveredAt:Z_("delivered_at"),readAt:Z_("read_at"),failedAt:Z_("failed_at"),whatsappMessageId:W_("whatsapp_message_id"),whatsappStatus:W_("whatsapp_status"),errorCode:W_("error_code"),errorMessage:W_("error_message"),createdAt:Z_("created_at").notNull().defaultNow()}),vE("campaign_analytics",{id:T_("id").primaryKey(),campaignId:HM("campaign_id").notNull().references((()=>JA.id)),recordedAt:Z_("recorded_at").notNull().defaultNow(),totalRecipients:HM("total_recipients").default(0),messagesSent:HM("messages_sent").default(0),messagesDelivered:HM("messages_delivered").default(0),messagesRead:HM("messages_read").default(0),messagesFailed:HM("messages_failed").default(0),deliveryRate:h_("delivery_rate",{precision:5,scale:2}).default("0.00"),readRate:h_("read_rate",{precision:5,scale:2}).default("0.00"),failureRate:h_("failure_rate",{precision:5,scale:2}).default("0.00"),avgDeliveryTime:HM("avg_delivery_time"),avgReadTime:HM("avg_read_time"),estimatedCost:h_("estimated_cost",{precision:10,scale:4}).default("0.0000"),metricsData:t_("metrics_data").default({})});const XA=vE("whatsapp_accounts",{id:T_("id").primaryKey(),companyId:HM("company_id").notNull().references((()=>wA.id)),channelId:HM("channel_id").references((()=>SA.id)),accountName:W_("account_name").notNull(),phoneNumber:W_("phone_number").notNull(),accountType:W_("account_type",{enum:["official","unofficial"]}).notNull().default("unofficial"),sessionData:t_("session_data"),qrCode:W_("qr_code"),connectionStatus:W_("connection_status",{enum:["connected","disconnected","connecting","error","banned"]}).default("disconnected"),lastActivityAt:Z_("last_activity_at"),messageCountToday:HM("message_count_today").default(0),messageCountHour:HM("message_count_hour").default(0),warningCount:HM("warning_count").default(0),restrictionCount:HM("restriction_count").default(0),rateLimits:t_("rate_limits").default({max_messages_per_minute:10,max_messages_per_hour:200,max_messages_per_day:1e3,cooldown_period:300,humanization_enabled:!0}),healthScore:HM("health_score").default(100),lastHealthCheck:Z_("last_health_check"),isActive:jM("is_active").default(!0),rotationGroup:W_("rotation_group"),priority:HM("priority").default(1),createdAt:Z_("created_at").notNull().defaultNow(),updatedAt:Z_("updated_at").notNull().defaultNow()},(e=>({uniqueCompanyPhone:yk().on(e.companyId,e.phoneNumber)})));vE("whatsapp_account_logs",{id:T_("id").primaryKey(),accountId:HM("account_id").notNull().references((()=>XA.id)),eventType:W_("event_type").notNull(),eventData:t_("event_data"),message:W_("message"),severity:W_("severity",{enum:["info","warning","error","critical"]}).default("info"),messagesSentToday:HM("messages_sent_today").default(0),healthScore:HM("health_score").default(100),createdAt:Z_("created_at").notNull().defaultNow()}),vE("campaign_queue",{id:T_("id").primaryKey(),campaignId:HM("campaign_id").notNull().references((()=>JA.id)),recipientId:HM("recipient_id").notNull().references((()=>KA.id)),accountId:HM("account_id").references((()=>SA.id)),priority:HM("priority").default(1),scheduledFor:Z_("scheduled_for").notNull(),attempts:HM("attempts").default(0),maxAttempts:HM("max_attempts").default(3),status:W_("status",{enum:["pending","processing","completed","failed","cancelled"]}).notNull().default("pending"),startedAt:Z_("started_at"),completedAt:Z_("completed_at"),errorMessage:W_("error_message"),lastErrorAt:Z_("last_error_at"),metadata:t_("metadata").default({}),createdAt:Z_("created_at").notNull().defaultNow(),updatedAt:Z_("updated_at").notNull().defaultNow()}),vA(QA).pick({companyId:!0,createdById:!0,name:!0,description:!0,category:!0,content:!0,mediaUrls:!0,variables:!0,channelType:!0,isActive:!0}),vA(ZA).pick({companyId:!0,createdById:!0,name:!0,description:!0,criteria:!0}),vA(JA).pick({companyId:!0,createdById:!0,templateId:!0,segmentId:!0,name:!0,description:!0,channelType:!0,channelId:!0,channelIds:!0,content:!0,mediaUrls:!0,variables:!0,campaignType:!0,scheduledAt:!0,timezone:!0,dripSettings:!0,rateLimitSettings:!0,complianceSettings:!0,antiBanSettings:!0}),vA(KA).pick({campaignId:!0,contactId:!0,personalizedContent:!0,variables:!0,scheduledAt:!0,maxRetries:!0}),vA(XA).pick({companyId:!0,channelId:!0,accountName:!0,phoneNumber:!0,accountType:!0,rateLimits:!0,rotationGroup:!0,priority:!0}),CA.extend({password:dL().min(6,"Password must be at least 6 characters"),confirmPassword:dL()}).refine((e=>e.password===e.confirmPassword),{message:"Passwords don't match",path:["confirmPassword"]});const eT=ci.createContext(null);function tT({children:e}){const{toast:t}=By(),[n,a]=mx(),{data:r,error:i,isLoading:s}=ky({queryKey:["/api/user"],queryFn:Iy({on401:"returnNull"})}),{data:o,isLoading:l}=ky({queryKey:["/api/user/with-company"],queryFn:async()=>{try{const e=await Ey("GET","/api/user/with-company");if(!e.ok)return null;return(await e.json()).company}catch(e){return console.error("Error fetching company data:",e),null}},enabled:!!r&&!!r.companyId&&!r.isSuperAdmin}),{data:c,isLoading:d}=ky({queryKey:["maintenance-mode-status"],queryFn:async()=>{try{const e=await Ey("GET","/api/auto-update/maintenance");return e.ok?await e.json():{enabled:!1}}catch(e){return console.error("Error checking maintenance mode:",e),{enabled:!1}}},refetchInterval:3e4,refetchOnWindowFocus:!0,retry:1}),u=(null==c?void 0:c.enabled)||!1,f=!(!(null==r?void 0:r.companyId)||(null==r?void 0:r.isSuperAdmin)||"true"!==sessionStorage.getItem("isImpersonating")&&"true"!==localStorage.getItem("isImpersonating")),m=s||l;ci.useEffect((()=>{if(!d&&u&&r){if(r.isSuperAdmin)return;if("/maintenance"===n)return;a("/maintenance")}}),[u,d,r,n,a]);const p=My({mutationFn:async e=>{const t=await Ey("POST","/api/login",e);if(!t.ok){const e=await t.json().catch((()=>({})));throw new Error(e.message||"Invalid credentials")}return await t.json()},onSuccess:e=>{Ly.setQueryData(["/api/user"],e),Ly.invalidateQueries({queryKey:["/api/user/with-company"]}),t({title:"Login successful",description:`Welcome back, ${e.fullName}!`})},onError:e=>{t({title:"Login failed",description:e.message||"Invalid credentials",variant:"destructive"})}}),h=My({mutationFn:async e=>{const t=await Ey("POST","/api/admin/login",e);if(!t.ok){const e=await t.json().catch((()=>({})));throw new Error(e.message||"Invalid admin credentials")}return await t.json()},onSuccess:e=>{Ly.setQueryData(["/api/user"],e),Ly.invalidateQueries({queryKey:["/api/user"]}),t({title:"Admin login successful",description:`Welcome back, ${e.fullName}!`}),setTimeout((()=>{window.location.href="/admin/dashboard"}),500)},onError:e=>{t({title:"Admin login failed",description:e.message||"Invalid admin credentials",variant:"destructive"})}}),g=My({mutationFn:async e=>{const{confirmPassword:t,...n}=e,a=await Ey("POST","/api/register",n);return await a.json()},onSuccess:e=>{Ly.setQueryData(["/api/user"],e),t({title:"Registration successful",description:`Welcome to PowerChat, ${e.fullName}!`})},onError:e=>{t({title:"Registration failed",description:e.message||"Could not create account",variant:"destructive"})}}),x=My({mutationFn:async()=>{await Ey("POST","/api/logout"),sessionStorage.removeItem("isImpersonating")},onSuccess:()=>{Ly.setQueryData(["/api/user"],null),t({title:"Logged out",description:"You have been successfully logged out"}),setTimeout((()=>{window.location.href="/auth"}),500)},onError:e=>{t({title:"Logout failed",description:e.message,variant:"destructive"})}}),y=My({mutationFn:async e=>{const t=await Ey("POST",`/api/admin/impersonate/${e}`);if(!t.ok){const e=await t.json().catch((()=>({})));throw new Error(e.error||"Failed to impersonate company")}return await t.json()},onSuccess:e=>{var n;sessionStorage.setItem("isImpersonating","true"),localStorage.setItem("isImpersonating","true"),localStorage.setItem("originalSuperAdminId",(null==(n=e.originalUserId)?void 0:n.toString())||""),Ly.setQueryData(["/api/user"],e.user),Ly.setQueryData(["/api/user/with-company"],{company:e.company}),t({title:"Company impersonation active",description:`You are now logged in as ${e.user.fullName}`}),setTimeout((()=>{window.location.href="/"}),500)},onError:e=>{t({title:"Impersonation failed",description:e.message,variant:"destructive"})}}),v=My({mutationFn:async()=>{try{const t=await fetch("/api/admin/return-from-impersonation",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!t.ok){let n="Failed to return from impersonation";try{n=(await t.json()).error||n}catch(e){console.warn("Could not parse error response:",e),n=`Server error (${t.status}): ${t.statusText}`}throw new Error(n)}try{return await t.json()}catch(e){return console.warn("Could not parse success response:",e),{user:null,impersonating:!1,message:"Returned to admin account (response parsing failed)"}}}catch(t){throw console.error("Network error during return from impersonation:",t),new Error("Network error: Could not connect to server")}},onSuccess:e=>{sessionStorage.removeItem("isImpersonating"),localStorage.removeItem("isImpersonating"),localStorage.removeItem("originalSuperAdminId"),Ly.clear(),e.user&&Ly.setQueryData(["/api/user"],e.user),t({title:"Returned to admin account",description:e.message||"You are now logged in as super admin"}),setTimeout((()=>{window.location.replace("/admin/dashboard")}),1e3)},onError:e=>{sessionStorage.removeItem("isImpersonating"),localStorage.removeItem("isImpersonating"),localStorage.removeItem("originalSuperAdminId"),t({title:"Failed to return to admin account",description:e.message+" - Redirecting to admin login",variant:"destructive"}),setTimeout((()=>{Ly.clear(),sessionStorage.clear(),localStorage.clear(),window.location.replace("/admin/login")}),2e3)}});return vi.jsx(eT.Provider,{value:{user:r??null,company:o??null,isLoading:m,error:i,isImpersonating:f,isMaintenanceMode:u,isLoadingMaintenance:d,loginMutation:p,adminLoginMutation:h,logoutMutation:x,registerMutation:g,impersonateCompanyMutation:y,returnFromImpersonationMutation:v},children:e})}function nT(){const e=ci.useContext(eT);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}function aT(){const{t:e}=sk(),{branding:t}=dk(),{user:n}=nT(),[a,r]=mx();ci.useEffect((()=>{console.log("404 Page accessed:",window.location.pathname)}),[]);const i=[{label:e("navigation.inbox","Inbox"),icon:yw,path:"/inbox",description:e("errors.404_quick_links.inbox_desc","Access your conversations and messages")},{label:e("navigation.dashboard","Dashboard"),icon:sw,path:"/",description:e("errors.404_quick_links.dashboard_desc","View your main dashboard")},{label:e("navigation.contacts","Contacts"),icon:Pw,path:"/contacts",description:e("errors.404_quick_links.contacts_desc","Manage your contacts")}];return vi.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 px-4 py-8",children:vi.jsxs("div",{className:"w-full max-w-4xl mx-auto",children:[vi.jsx(qS,{className:"w-full shadow-2xl border-0 bg-white/80 backdrop-blur-sm dark:bg-gray-800/80",children:vi.jsx(KS,{className:"p-8 md:p-12",children:vi.jsxs("div",{className:"text-center space-y-8",children:[vi.jsxs("div",{className:"relative",children:[vi.jsx("h1",{className:"text-8xl md:text-9xl font-bold opacity-20 select-none",style:{color:t.primaryColor},children:"404"}),vi.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:vi.jsx(Tb,{className:"h-16 w-16 md:h-20 md:w-20",style:{color:t.primaryColor}})})]}),vi.jsxs("div",{className:"space-y-4",children:[vi.jsx(ak,{variant:"outline",className:"text-sm px-4 py-2",style:{borderColor:t.primaryColor,color:t.primaryColor},children:e("errors.404_badge","Page Not Found")}),vi.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white",children:e("errors.404_title","Oops! Page Not Found")}),vi.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto leading-relaxed",children:e("errors.404_description","The page you're looking for doesn't exist or has been moved. Don't worry, it happens to the best of us!")})]}),vi.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center pt-4",children:[vi.jsxs(tk,{onClick:()=>{window.history.length>1?window.history.back():r("/")},variant:"outline",size:"lg",className:"w-full sm:w-auto min-w-[140px]",children:[vi.jsx(bb,{className:"h-4 w-4 mr-2"}),e("errors.404_go_back","Go Back")]}),vi.jsxs(tk,{onClick:()=>{r("/")},variant:"brand",size:"lg",className:"w-full sm:w-auto min-w-[140px]",children:[vi.jsx(sw,{className:"h-4 w-4 mr-2"}),e("errors.404_go_home","Go Home")]}),vi.jsxs(tk,{onClick:()=>{window.location.reload()},variant:"ghost",size:"lg",className:"w-full sm:w-auto min-w-[140px]",children:[vi.jsx(Lw,{className:"h-4 w-4 mr-2"}),e("errors.404_refresh","Refresh")]})]})]})})}),n&&vi.jsx("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-4",children:i.map(((e,n)=>{const a=e.icon;return vi.jsx(qS,{className:"group hover:shadow-lg transition-all duration-300 cursor-pointer border-0 bg-white/60 backdrop-blur-sm dark:bg-gray-800/60 hover:bg-white/80 dark:hover:bg-gray-800/80",onClick:()=>r(e.path),children:vi.jsxs(KS,{className:"p-6 text-center space-y-3",children:[vi.jsx("div",{className:"w-12 h-12 rounded-full mx-auto flex items-center justify-center group-hover:scale-110 transition-transform duration-300",style:{backgroundColor:`${t.primaryColor}20`},children:vi.jsx(a,{className:"h-6 w-6",style:{color:t.primaryColor}})}),vi.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:e.label}),vi.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:e.description})]})},n)}))}),vi.jsx(qS,{className:"mt-8 border-0 bg-white/60 backdrop-blur-sm dark:bg-gray-800/60",children:vi.jsx(KS,{className:"p-6",children:vi.jsxs("div",{className:"text-center space-y-4",children:[vi.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[vi.jsx(Rb,{className:"h-5 w-5 text-gray-500"}),vi.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e("errors.404_need_help","Need Help?")})]}),vi.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e("errors.404_help_description","If you believe this is an error or need assistance, please contact our support team.")}),vi.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center items-center",children:[vi.jsxs(tk,{variant:"outline",size:"sm",onClick:()=>window.open("mailto:support@powerchatapp.net","_blank"),className:"w-full sm:w-auto",children:[vi.jsx(pw,{className:"h-4 w-4 mr-2"}),e("errors.404_contact_support","Contact Support")]}),vi.jsxs(tk,{variant:"ghost",size:"sm",onClick:()=>window.open("/help","_blank"),className:"w-full sm:w-auto",children:[vi.jsx(Rb,{className:"h-4 w-4 mr-2"}),e("errors.404_help_center","Help Center")]})]})]})})}),vi.jsx("div",{className:"mt-8 text-center",children:vi.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e("errors.404_footer","Powered by")," ",t.appName]})})]})})}var rT=ci.createContext(void 0);function iT(e){const t=ci.useContext(rT);return e||t||"ltr"}var sT=0;function oT(){ci.useEffect((()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??lT()),document.body.insertAdjacentElement("beforeend",e[1]??lT()),sT++,()=>{1===sT&&document.querySelectorAll("[data-radix-focus-guard]").forEach((e=>e.remove())),sT--}}),[])}function lT(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var cT="focusScope.autoFocusOnMount",dT="focusScope.autoFocusOnUnmount",uT={bubbles:!1,cancelable:!0},fT=ci.forwardRef(((e,t)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:r,onUnmountAutoFocus:i,...s}=e,[o,l]=ci.useState(null),c=nv(r),d=nv(i),u=ci.useRef(null),f=Vy(t,(e=>l(e))),m=ci.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;ci.useEffect((()=>{if(a){let e=function(e){if(m.paused||!o)return;const t=e.target;o.contains(t)?u.current=t:gT(u.current,{select:!0})},t=function(e){if(m.paused||!o)return;const t=e.relatedTarget;null!==t&&(o.contains(t)||gT(u.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&gT(o)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const a=new MutationObserver(n);return o&&a.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),a.disconnect()}}}),[a,o,m.paused]),ci.useEffect((()=>{if(o){xT.add(m);const t=document.activeElement;if(!o.contains(t)){const n=new CustomEvent(cT,uT);o.addEventListener(cT,c),o.dispatchEvent(n),n.defaultPrevented||(!function(e,{select:t=!1}={}){const n=document.activeElement;for(const a of e)if(gT(a,{select:t}),document.activeElement!==n)return}((e=mT(o),e.filter((e=>"A"!==e.tagName))),{select:!0}),document.activeElement===t&&gT(o))}return()=>{o.removeEventListener(cT,c),setTimeout((()=>{const e=new CustomEvent(dT,uT);o.addEventListener(dT,d),o.dispatchEvent(e),e.defaultPrevented||gT(t??document.body,{select:!0}),o.removeEventListener(dT,d),xT.remove(m)}),0)}}var e}),[o,c,d,m]);const p=ci.useCallback((e=>{if(!n&&!a)return;if(m.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,r=document.activeElement;if(t&&r){const t=e.currentTarget,[a,i]=function(e){const t=mT(e),n=pT(t,e),a=pT(t.reverse(),e);return[n,a]}(t);a&&i?e.shiftKey||r!==i?e.shiftKey&&r===a&&(e.preventDefault(),n&&gT(i,{select:!0})):(e.preventDefault(),n&&gT(a,{select:!0})):r===t&&e.preventDefault()}}),[n,a,m.paused]);return vi.jsx(ev.div,{tabIndex:-1,...s,ref:f,onKeyDown:p})}));function mT(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function pT(e,t){for(const n of e)if(!hT(n,{upTo:t}))return n}function hT(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function gT(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}fT.displayName="FocusScope";var xT=function(){let e=[];return{add(t){const n=e[0];t!==n&&(null==n||n.pause()),e=yT(e,t),e.unshift(t)},remove(t){var n;e=yT(e,t),null==(n=e[0])||n.resume()}}}();function yT(e,t){const n=[...e],a=n.indexOf(t);return-1!==a&&n.splice(a,1),n}var vT="rovingFocusGroup.onEntryFocus",bT={bubbles:!1,cancelable:!0},wT="RovingFocusGroup",[jT,NT,CT]=Xy(wT),[ST,kT]=$y(wT,[CT]),[MT,_T]=ST(wT),ET=ci.forwardRef(((e,t)=>vi.jsx(jT.Provider,{scope:e.__scopeRovingFocusGroup,children:vi.jsx(jT.Slot,{scope:e.__scopeRovingFocusGroup,children:vi.jsx(IT,{...e,ref:t})})})));ET.displayName=wT;var IT=ci.forwardRef(((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:r=!1,dir:i,currentTabStopId:s,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...u}=e,f=ci.useRef(null),m=Vy(t,f),p=iT(i),[h,g]=vv({prop:s,defaultProp:o??null,onChange:l,caller:wT}),[x,y]=ci.useState(!1),v=nv(c),b=NT(n),w=ci.useRef(!1),[j,N]=ci.useState(0);return ci.useEffect((()=>{const e=f.current;if(e)return e.addEventListener(vT,v),()=>e.removeEventListener(vT,v)}),[v]),vi.jsx(MT,{scope:n,orientation:a,dir:p,loop:r,currentTabStopId:h,onItemFocus:ci.useCallback((e=>g(e)),[g]),onItemShiftTab:ci.useCallback((()=>y(!0)),[]),onFocusableItemAdd:ci.useCallback((()=>N((e=>e+1))),[]),onFocusableItemRemove:ci.useCallback((()=>N((e=>e-1))),[]),children:vi.jsx(ev.div,{tabIndex:x||0===j?-1:0,"data-orientation":a,...u,ref:m,style:{outline:"none",...e.style},onMouseDown:Uy(e.onMouseDown,(()=>{w.current=!0})),onFocus:Uy(e.onFocus,(e=>{const t=!w.current;if(e.target===e.currentTarget&&t&&!x){const t=new CustomEvent(vT,bT);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=b().filter((e=>e.focusable));DT([e.find((e=>e.active)),e.find((e=>e.id===h)),...e].filter(Boolean).map((e=>e.ref.current)),d)}}w.current=!1})),onBlur:Uy(e.onBlur,(()=>y(!1)))})})})),LT="RovingFocusGroupItem",AT=ci.forwardRef(((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:r=!1,tabStopId:i,children:s,...o}=e,l=yN(),c=i||l,d=_T(LT,n),u=d.currentTabStopId===c,f=NT(n),{onFocusableItemAdd:m,onFocusableItemRemove:p,currentTabStopId:h}=d;return ci.useEffect((()=>{if(a)return m(),()=>p()}),[a,m,p]),vi.jsx(jT.ItemSlot,{scope:n,id:c,focusable:a,active:r,children:vi.jsx(ev.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:Uy(e.onMouseDown,(e=>{a?d.onItemFocus(c):e.preventDefault()})),onFocus:Uy(e.onFocus,(()=>d.onItemFocus(c))),onKeyDown:Uy(e.onKeyDown,(e=>{if("Tab"===e.key&&e.shiftKey)return void d.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,n){const a=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,n);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(a)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(a)?void 0:TT[a]}(e,d.orientation,d.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let r=f().filter((e=>e.focusable)).map((e=>e.ref.current));if("last"===t)r.reverse();else if("prev"===t||"next"===t){"prev"===t&&r.reverse();const i=r.indexOf(e.currentTarget);r=d.loop?(a=i+1,(n=r).map(((e,t)=>n[(a+t)%n.length]))):r.slice(i+1)}setTimeout((()=>DT(r)))}var n,a})),children:"function"==typeof s?s({isCurrentTabStop:u,hasTabStop:null!=h}):s})})}));AT.displayName=LT;var TT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function DT(e,t=!1){const n=document.activeElement;for(const a of e){if(a===n)return;if(a.focus({preventScroll:t}),document.activeElement!==n)return}}var PT=ET,OT=AT,RT=new WeakMap,zT=new WeakMap,FT={},BT=0,UT=function(e){return e&&(e.host||UT(e.parentNode))},WT=function(e,t,n,a){var r=function(e,t){return t.map((function(t){if(e.contains(t))return t;var n=UT(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)})).filter((function(e){return Boolean(e)}))}(t,Array.isArray(e)?e:[e]);FT[n]||(FT[n]=new WeakMap);var i=FT[n],s=[],o=new Set,l=new Set(r),c=function(e){e&&!o.has(e)&&(o.add(e),c(e.parentNode))};r.forEach(c);var d=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,(function(e){if(o.has(e))d(e);else try{var t=e.getAttribute(a),r=null!==t&&"false"!==t,l=(RT.get(e)||0)+1,c=(i.get(e)||0)+1;RT.set(e,l),i.set(e,c),s.push(e),1===l&&r&&zT.set(e,!0),1===c&&e.setAttribute(n,"true"),r||e.setAttribute(a,"true")}catch(u){console.error("aria-hidden: cannot operate on ",e,u)}}))};return d(t),o.clear(),BT++,function(){s.forEach((function(e){var t=RT.get(e)-1,r=i.get(e)-1;RT.set(e,t),i.set(e,r),t||(zT.has(e)||e.removeAttribute(a),zT.delete(e)),r||e.removeAttribute(n)})),--BT||(RT=new WeakMap,RT=new WeakMap,zT=new WeakMap,FT={})}},GT=function(e,t,n){void 0===n&&(n="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),r=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e);return r?(a.push.apply(a,Array.from(r.querySelectorAll("[aria-live], script"))),WT(a,r,n,"aria-hidden")):function(){return null}},VT=function(){return VT=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},VT.apply(this,arguments)};function $T(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}"function"==typeof SuppressedError&&SuppressedError;var HT="right-scroll-bar-position",YT="width-before-scroll-bar";function qT(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var QT="undefined"!=typeof window?ci.useLayoutEffect:ci.useEffect,ZT=new WeakMap;function JT(e,t){var n,a,r,i=(n=null,a=function(t){return e.forEach((function(e){return qT(e,t)}))},(r=ci.useState((function(){return{value:n,callback:a,facade:{get current(){return r.value},set current(e){var t=r.value;t!==e&&(r.value=e,r.callback(e,t))}}}}))[0]).callback=a,r.facade);return QT((function(){var t=ZT.get(i);if(t){var n=new Set(t),a=new Set(e),r=i.current;n.forEach((function(e){a.has(e)||qT(e,null)})),a.forEach((function(e){n.has(e)||qT(e,r)}))}ZT.set(i,e)}),[e]),i}function KT(e){return e}var XT=function(e){var t=e.sideCar,n=$T(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return ci.createElement(a,VT({},n))};XT.isSideCarExport=!0;var eD=function(e){void 0===e&&(e={});var t=function(e,t){void 0===t&&(t=KT);var n=[],a=!1;return{read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var r=t(e,a);return n.push(r),function(){n=n.filter((function(e){return e!==r}))}},assignSyncMedium:function(e){for(a=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){a=!0;var t=[];if(n.length){var r=n;n=[],r.forEach(e),t=n}var i=function(){var n=t;t=[],n.forEach(e)},s=function(){return Promise.resolve().then(i)};s(),n={push:function(e){t.push(e),s()},filter:function(e){return t=t.filter(e),n}}}}}(null);return t.options=VT({async:!0,ssr:!1},e),t}(),tD=function(){},nD=ci.forwardRef((function(e,t){var n=ci.useRef(null),a=ci.useState({onScrollCapture:tD,onWheelCapture:tD,onTouchMoveCapture:tD}),r=a[0],i=a[1],s=e.forwardProps,o=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,u=e.shards,f=e.sideCar,m=e.noRelative,p=e.noIsolation,h=e.inert,g=e.allowPinchZoom,x=e.as,y=void 0===x?"div":x,v=e.gapMode,b=$T(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=f,j=JT([n,t]),N=VT(VT({},b),r);return ci.createElement(ci.Fragment,null,d&&ci.createElement(w,{sideCar:eD,removeScrollBar:c,shards:u,noRelative:m,noIsolation:p,inert:h,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:v}),s?ci.cloneElement(ci.Children.only(o),VT(VT({},N),{ref:j})):ci.createElement(y,VT({},N,{className:l,ref:j}),o))}));nD.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},nD.classNames={fullWidth:YT,zeroRight:HT};function aD(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=function(){if("undefined"!=typeof __webpack_nonce__)return __webpack_nonce__}();return t&&e.setAttribute("nonce",t),e}var rD=function(){var e=0,t=null;return{add:function(n){var a,r;0==e&&(t=aD())&&(r=n,(a=t).styleSheet?a.styleSheet.cssText=r:a.appendChild(document.createTextNode(r)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},iD=function(){var e,t=(e=rD(),function(t,n){ci.useEffect((function(){return e.add(t),function(){e.remove()}}),[t&&n])});return function(e){var n=e.styles,a=e.dynamic;return t(n,a),null}},sD={left:0,top:0,right:0,gap:0},oD=function(e){return parseInt(e||"",10)||0},lD=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return sD;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],a=t["padding"===e?"paddingTop":"marginTop"],r=t["padding"===e?"paddingRight":"marginRight"];return[oD(n),oD(a),oD(r)]}(e),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-n+t[2]-t[0])}},cD=iD(),dD="data-scroll-locked",uD=function(e,t,n,a){var r=e.left,i=e.top,s=e.right,o=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(a,";\n   padding-right: ").concat(o,"px ").concat(a,";\n  }\n  body[").concat(dD,"] {\n    overflow: hidden ").concat(a,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(a,";"),"margin"===n&&"\n    padding-left: ".concat(r,"px;\n    padding-top: ").concat(i,"px;\n    padding-right: ").concat(s,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(o,"px ").concat(a,";\n    "),"padding"===n&&"padding-right: ".concat(o,"px ").concat(a,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(HT," {\n    right: ").concat(o,"px ").concat(a,";\n  }\n  \n  .").concat(YT," {\n    margin-right: ").concat(o,"px ").concat(a,";\n  }\n  \n  .").concat(HT," .").concat(HT," {\n    right: 0 ").concat(a,";\n  }\n  \n  .").concat(YT," .").concat(YT," {\n    margin-right: 0 ").concat(a,";\n  }\n  \n  body[").concat(dD,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(o,"px;\n  }\n")},fD=function(){var e=parseInt(document.body.getAttribute(dD)||"0",10);return isFinite(e)?e:0},mD=function(e){var t=e.noRelative,n=e.noImportant,a=e.gapMode,r=void 0===a?"margin":a;ci.useEffect((function(){return document.body.setAttribute(dD,(fD()+1).toString()),function(){var e=fD()-1;e<=0?document.body.removeAttribute(dD):document.body.setAttribute(dD,e.toString())}}),[]);var i=ci.useMemo((function(){return lD(r)}),[r]);return ci.createElement(cD,{styles:uD(i,!t,r,n?"":"!important")})},pD=!1;if("undefined"!=typeof window)try{var hD=Object.defineProperty({},"passive",{get:function(){return pD=!0,!0}});window.addEventListener("test",hD,hD),window.removeEventListener("test",hD,hD)}catch(Bze){pD=!1}var gD=!!pD&&{passive:!1},xD=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},yD=function(e,t){var n=t.ownerDocument,a=t;do{if("undefined"!=typeof ShadowRoot&&a instanceof ShadowRoot&&(a=a.host),vD(e,a)){var r=bD(e,a);if(r[1]>r[2])return!0}a=a.parentNode}while(a&&a!==n.body);return!1},vD=function(e,t){return"v"===e?function(e){return xD(e,"overflowY")}(t):function(e){return xD(e,"overflowX")}(t)},bD=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},wD=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},jD=function(e){return[e.deltaX,e.deltaY]},ND=function(e){return e&&"current"in e?e.current:e},CD=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},SD=0,kD=[];function MD(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const _D=(ED=function(e){var t=ci.useRef([]),n=ci.useRef([0,0]),a=ci.useRef(),r=ci.useState(SD++)[0],i=ci.useState(iD)[0],s=ci.useRef(e);ci.useEffect((function(){s.current=e}),[e]),ci.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(r));var t=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,i=t.length;r<i;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}([e.lockRef.current],(e.shards||[]).map(ND),!0).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-".concat(r))})),function(){document.body.classList.remove("block-interactivity-".concat(r)),t.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(r))}))}}}),[e.inert,e.lockRef.current,e.shards]);var o=ci.useCallback((function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!s.current.allowPinchZoom;var r,i=wD(e),o=n.current,l="deltaX"in e?e.deltaX:o[0]-i[0],c="deltaY"in e?e.deltaY:o[1]-i[1],d=e.target,u=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===d.type)return!1;var f=yD(u,d);if(!f)return!0;if(f?r=u:(r="v"===u?"h":"v",f=yD(u,d)),!f)return!1;if(!a.current&&"changedTouches"in e&&(l||c)&&(a.current=r),!r)return!0;var m=a.current||r;return function(e,t,n,a){var r=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),i=r*a,s=n.target,o=t.contains(s),l=!1,c=i>0,d=0,u=0;do{var f=bD(e,s),m=f[0],p=f[1]-f[2]-r*m;(m||p)&&vD(e,s)&&(d+=p,u+=m),s=s.parentNode.host||s.parentNode}while(!o&&s!==document.body||o&&(t.contains(s)||t===s));return(c&&Math.abs(d)<1||!c&&Math.abs(u)<1)&&(l=!0),l}(m,t,e,"h"===m?l:c)}),[]),l=ci.useCallback((function(e){var n=e;if(kD.length&&kD[kD.length-1]===i){var a="deltaY"in n?jD(n):wD(n),r=t.current.filter((function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&(t=e.delta,r=a,t[0]===r[0]&&t[1]===r[1]);var t,r}))[0];if(r&&r.should)n.cancelable&&n.preventDefault();else if(!r){var l=(s.current.shards||[]).map(ND).filter(Boolean).filter((function(e){return e.contains(n.target)}));(l.length>0?o(n,l[0]):!s.current.noIsolation)&&n.cancelable&&n.preventDefault()}}}),[]),c=ci.useCallback((function(e,n,a,r){var i={name:e,delta:n,target:a,should:r,shadowParent:MD(a)};t.current.push(i),setTimeout((function(){t.current=t.current.filter((function(e){return e!==i}))}),1)}),[]),d=ci.useCallback((function(e){n.current=wD(e),a.current=void 0}),[]),u=ci.useCallback((function(t){c(t.type,jD(t),t.target,o(t,e.lockRef.current))}),[]),f=ci.useCallback((function(t){c(t.type,wD(t),t.target,o(t,e.lockRef.current))}),[]);ci.useEffect((function(){return kD.push(i),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:f}),document.addEventListener("wheel",l,gD),document.addEventListener("touchmove",l,gD),document.addEventListener("touchstart",d,gD),function(){kD=kD.filter((function(e){return e!==i})),document.removeEventListener("wheel",l,gD),document.removeEventListener("touchmove",l,gD),document.removeEventListener("touchstart",d,gD)}}),[]);var m=e.removeScrollBar,p=e.inert;return ci.createElement(ci.Fragment,null,p?ci.createElement(i,{styles:CD(r)}):null,m?ci.createElement(mD,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},eD.useMedium(ED),XT);var ED,ID=ci.forwardRef((function(e,t){return ci.createElement(nD,VT({},e,{ref:t,sideCar:_D}))}));ID.classNames=nD.classNames;var LD=["Enter"," "],AD=["ArrowUp","PageDown","End"],TD=["ArrowDown","PageUp","Home",...AD],DD={ltr:[...LD,"ArrowRight"],rtl:[...LD,"ArrowLeft"]},PD={ltr:["ArrowLeft"],rtl:["ArrowRight"]},OD="Menu",[RD,zD,FD]=Xy(OD),[BD,UD]=$y(OD,[FD,KC,kT]),WD=KC(),GD=kT(),[VD,$D]=BD(OD),[HD,YD]=BD(OD),qD=e=>{const{__scopeMenu:t,open:n=!1,children:a,dir:r,onOpenChange:i,modal:s=!0}=e,o=WD(t),[l,c]=ci.useState(null),d=ci.useRef(!1),u=nv(i),f=iT(r);return ci.useEffect((()=>{const e=()=>{d.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>d.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}}),[]),vi.jsx(pS,{...o,children:vi.jsx(VD,{scope:t,open:n,onOpenChange:u,content:l,onContentChange:c,children:vi.jsx(HD,{scope:t,onClose:ci.useCallback((()=>u(!1)),[u]),isUsingKeyboardRef:d,dir:f,modal:s,children:a})})})};qD.displayName=OD;var QD=ci.forwardRef(((e,t)=>{const{__scopeMenu:n,...a}=e,r=WD(n);return vi.jsx(hS,{...r,...a,ref:t})}));QD.displayName="MenuAnchor";var ZD="MenuPortal",[JD,KD]=BD(ZD,{forceMount:void 0}),XD=e=>{const{__scopeMenu:t,forceMount:n,children:a,container:r}=e,i=$D(ZD,t);return vi.jsx(JD,{scope:t,forceMount:n,children:vi.jsx(gv,{present:n||i.open,children:vi.jsx(hv,{asChild:!0,container:r,children:a})})})};XD.displayName=ZD;var eP="MenuContent",[tP,nP]=BD(eP),aP=ci.forwardRef(((e,t)=>{const n=KD(eP,e.__scopeMenu),{forceMount:a=n.forceMount,...r}=e,i=$D(eP,e.__scopeMenu),s=YD(eP,e.__scopeMenu);return vi.jsx(RD.Provider,{scope:e.__scopeMenu,children:vi.jsx(gv,{present:a||i.open,children:vi.jsx(RD.Slot,{scope:e.__scopeMenu,children:s.modal?vi.jsx(rP,{...r,ref:t}):vi.jsx(iP,{...r,ref:t})})})})})),rP=ci.forwardRef(((e,t)=>{const n=$D(eP,e.__scopeMenu),a=ci.useRef(null),r=Vy(t,a);return ci.useEffect((()=>{const e=a.current;if(e)return GT(e)}),[]),vi.jsx(oP,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Uy(e.onFocusOutside,(e=>e.preventDefault()),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})})),iP=ci.forwardRef(((e,t)=>{const n=$D(eP,e.__scopeMenu);return vi.jsx(oP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})})),sP=Yy("MenuContent.ScrollLock"),oP=ci.forwardRef(((e,t)=>{const{__scopeMenu:n,loop:a=!1,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:f,onDismiss:m,disableOutsideScroll:p,...h}=e,g=$D(eP,n),x=YD(eP,n),y=WD(n),v=GD(n),b=zD(n),[w,j]=ci.useState(null),N=ci.useRef(null),C=Vy(t,N,g.onContentChange),S=ci.useRef(0),k=ci.useRef(""),M=ci.useRef(0),_=ci.useRef(null),E=ci.useRef("right"),I=ci.useRef(0),L=p?ID:ci.Fragment,A=p?{as:sP,allowPinchZoom:!0}:void 0,T=e=>{var t,n;const a=k.current+e,r=b().filter((e=>!e.disabled)),i=document.activeElement,s=null==(t=r.find((e=>e.ref.current===i)))?void 0:t.textValue,o=function(e,t,n){const a=t.length>1&&Array.from(t).every((e=>e===t[0])),r=a?t[0]:t,i=n?e.indexOf(n):-1;let s=(o=e,l=Math.max(i,0),o.map(((e,t)=>o[(l+t)%o.length])));var o,l;1===r.length&&(s=s.filter((e=>e!==n)));const c=s.find((e=>e.toLowerCase().startsWith(r.toLowerCase())));return c!==n?c:void 0}(r.map((e=>e.textValue)),a,s),l=null==(n=r.find((e=>e.textValue===o)))?void 0:n.ref.current;!function e(t){k.current=t,window.clearTimeout(S.current),""!==t&&(S.current=window.setTimeout((()=>e("")),1e3))}(a),l&&setTimeout((()=>l.focus()))};ci.useEffect((()=>()=>window.clearTimeout(S.current)),[]),oT();const D=ci.useCallback((e=>{var t,n;return E.current===(null==(t=_.current)?void 0:t.side)&&function(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return function(e,t){const{x:n,y:a}=e;let r=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const e=t[i],o=t[s],l=e.x,c=e.y,d=o.x,u=o.y;c>a!=u>a&&n<(d-l)*(a-c)/(u-c)+l&&(r=!r)}return r}(n,t)}(e,null==(n=_.current)?void 0:n.area)}),[]);return vi.jsx(tP,{scope:n,searchRef:k,onItemEnter:ci.useCallback((e=>{D(e)&&e.preventDefault()}),[D]),onItemLeave:ci.useCallback((e=>{var t;D(e)||(null==(t=N.current)||t.focus(),j(null))}),[D]),onTriggerLeave:ci.useCallback((e=>{D(e)&&e.preventDefault()}),[D]),pointerGraceTimerRef:M,onPointerGraceIntentChange:ci.useCallback((e=>{_.current=e}),[]),children:vi.jsx(L,{...A,children:vi.jsx(fT,{asChild:!0,trapped:r,onMountAutoFocus:Uy(i,(e=>{var t;e.preventDefault(),null==(t=N.current)||t.focus({preventScroll:!0})})),onUnmountAutoFocus:s,children:vi.jsx(lv,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:f,onDismiss:m,children:vi.jsx(PT,{asChild:!0,...v,dir:x.dir,orientation:"vertical",loop:a,currentTabStopId:w,onCurrentTabStopIdChange:j,onEntryFocus:Uy(l,(e=>{x.isUsingKeyboardRef.current||e.preventDefault()})),preventScrollOnEntryFocus:!0,children:vi.jsx(gS,{role:"menu","aria-orientation":"vertical","data-state":TP(g.open),"data-radix-menu-content":"",dir:x.dir,...y,...h,ref:C,style:{outline:"none",...h.style},onKeyDown:Uy(h.onKeyDown,(e=>{const t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,n=e.ctrlKey||e.altKey||e.metaKey,a=1===e.key.length;t&&("Tab"===e.key&&e.preventDefault(),!n&&a&&T(e.key));const r=N.current;if(e.target!==r)return;if(!TD.includes(e.key))return;e.preventDefault();const i=b().filter((e=>!e.disabled)).map((e=>e.ref.current));AD.includes(e.key)&&i.reverse(),function(e){const t=document.activeElement;for(const n of e){if(n===t)return;if(n.focus(),document.activeElement!==t)return}}(i)})),onBlur:Uy(e.onBlur,(e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(S.current),k.current="")})),onPointerMove:Uy(e.onPointerMove,OP((e=>{const t=e.target,n=I.current!==e.clientX;if(e.currentTarget.contains(t)&&n){const t=e.clientX>I.current?"right":"left";E.current=t,I.current=e.clientX}})))})})})})})})}));aP.displayName=eP;var lP=ci.forwardRef(((e,t)=>{const{__scopeMenu:n,...a}=e;return vi.jsx(ev.div,{role:"group",...a,ref:t})}));lP.displayName="MenuGroup";var cP=ci.forwardRef(((e,t)=>{const{__scopeMenu:n,...a}=e;return vi.jsx(ev.div,{...a,ref:t})}));cP.displayName="MenuLabel";var dP="MenuItem",uP="menu.itemSelect",fP=ci.forwardRef(((e,t)=>{const{disabled:n=!1,onSelect:a,...r}=e,i=ci.useRef(null),s=YD(dP,e.__scopeMenu),o=nP(dP,e.__scopeMenu),l=Vy(t,i),c=ci.useRef(!1);return vi.jsx(mP,{...r,ref:l,disabled:n,onClick:Uy(e.onClick,(()=>{const e=i.current;if(!n&&e){const t=new CustomEvent(uP,{bubbles:!0,cancelable:!0});e.addEventListener(uP,(e=>null==a?void 0:a(e)),{once:!0}),tv(e,t),t.defaultPrevented?c.current=!1:s.onClose()}})),onPointerDown:t=>{var n;null==(n=e.onPointerDown)||n.call(e,t),c.current=!0},onPointerUp:Uy(e.onPointerUp,(e=>{var t;c.current||null==(t=e.currentTarget)||t.click()})),onKeyDown:Uy(e.onKeyDown,(e=>{const t=""!==o.searchRef.current;n||t&&" "===e.key||LD.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())}))})}));fP.displayName=dP;var mP=ci.forwardRef(((e,t)=>{const{__scopeMenu:n,disabled:a=!1,textValue:r,...i}=e,s=nP(dP,n),o=GD(n),l=ci.useRef(null),c=Vy(t,l),[d,u]=ci.useState(!1),[f,m]=ci.useState("");return ci.useEffect((()=>{const e=l.current;e&&m((e.textContent??"").trim())}),[i.children]),vi.jsx(RD.ItemSlot,{scope:n,disabled:a,textValue:r??f,children:vi.jsx(OT,{asChild:!0,...o,focusable:!a,children:vi.jsx(ev.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...i,ref:c,onPointerMove:Uy(e.onPointerMove,OP((e=>{if(a)s.onItemLeave(e);else if(s.onItemEnter(e),!e.defaultPrevented){e.currentTarget.focus({preventScroll:!0})}}))),onPointerLeave:Uy(e.onPointerLeave,OP((e=>s.onItemLeave(e)))),onFocus:Uy(e.onFocus,(()=>u(!0))),onBlur:Uy(e.onBlur,(()=>u(!1)))})})})})),pP=ci.forwardRef(((e,t)=>{const{checked:n=!1,onCheckedChange:a,...r}=e;return vi.jsx(jP,{scope:e.__scopeMenu,checked:n,children:vi.jsx(fP,{role:"menuitemcheckbox","aria-checked":DP(n)?"mixed":n,...r,ref:t,"data-state":PP(n),onSelect:Uy(r.onSelect,(()=>null==a?void 0:a(!!DP(n)||!n)),{checkForDefaultPrevented:!1})})})}));pP.displayName="MenuCheckboxItem";var hP="MenuRadioGroup",[gP,xP]=BD(hP,{value:void 0,onValueChange:()=>{}}),yP=ci.forwardRef(((e,t)=>{const{value:n,onValueChange:a,...r}=e,i=nv(a);return vi.jsx(gP,{scope:e.__scopeMenu,value:n,onValueChange:i,children:vi.jsx(lP,{...r,ref:t})})}));yP.displayName=hP;var vP="MenuRadioItem",bP=ci.forwardRef(((e,t)=>{const{value:n,...a}=e,r=xP(vP,e.__scopeMenu),i=n===r.value;return vi.jsx(jP,{scope:e.__scopeMenu,checked:i,children:vi.jsx(fP,{role:"menuitemradio","aria-checked":i,...a,ref:t,"data-state":PP(i),onSelect:Uy(a.onSelect,(()=>{var e;return null==(e=r.onValueChange)?void 0:e.call(r,n)}),{checkForDefaultPrevented:!1})})})}));bP.displayName=vP;var wP="MenuItemIndicator",[jP,NP]=BD(wP,{checked:!1}),CP=ci.forwardRef(((e,t)=>{const{__scopeMenu:n,forceMount:a,...r}=e,i=NP(wP,n);return vi.jsx(gv,{present:a||DP(i.checked)||!0===i.checked,children:vi.jsx(ev.span,{...r,ref:t,"data-state":PP(i.checked)})})}));CP.displayName=wP;var SP=ci.forwardRef(((e,t)=>{const{__scopeMenu:n,...a}=e;return vi.jsx(ev.div,{role:"separator","aria-orientation":"horizontal",...a,ref:t})}));SP.displayName="MenuSeparator";var kP=ci.forwardRef(((e,t)=>{const{__scopeMenu:n,...a}=e,r=WD(n);return vi.jsx(xS,{...r,...a,ref:t})}));kP.displayName="MenuArrow";var[MP,_P]=BD("MenuSub"),EP="MenuSubTrigger",IP=ci.forwardRef(((e,t)=>{const n=$D(EP,e.__scopeMenu),a=YD(EP,e.__scopeMenu),r=_P(EP,e.__scopeMenu),i=nP(EP,e.__scopeMenu),s=ci.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:l}=i,c={__scopeMenu:e.__scopeMenu},d=ci.useCallback((()=>{s.current&&window.clearTimeout(s.current),s.current=null}),[]);return ci.useEffect((()=>d),[d]),ci.useEffect((()=>{const e=o.current;return()=>{window.clearTimeout(e),l(null)}}),[o,l]),vi.jsx(QD,{asChild:!0,...c,children:vi.jsx(mP,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":TP(n.open),...e,ref:Gy(t,r.onTriggerChange),onClick:t=>{var a;null==(a=e.onClick)||a.call(e,t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Uy(e.onPointerMove,OP((t=>{i.onItemEnter(t),t.defaultPrevented||e.disabled||n.open||s.current||(i.onPointerGraceIntentChange(null),s.current=window.setTimeout((()=>{n.onOpenChange(!0),d()}),100))}))),onPointerLeave:Uy(e.onPointerLeave,OP((e=>{var t,a;d();const r=null==(t=n.content)?void 0:t.getBoundingClientRect();if(r){const t=null==(a=n.content)?void 0:a.dataset.side,s="right"===t,l=s?-5:5,c=r[s?"left":"right"],d=r[s?"right":"left"];i.onPointerGraceIntentChange({area:[{x:e.clientX+l,y:e.clientY},{x:c,y:r.top},{x:d,y:r.top},{x:d,y:r.bottom},{x:c,y:r.bottom}],side:t}),window.clearTimeout(o.current),o.current=window.setTimeout((()=>i.onPointerGraceIntentChange(null)),300)}else{if(i.onTriggerLeave(e),e.defaultPrevented)return;i.onPointerGraceIntentChange(null)}}))),onKeyDown:Uy(e.onKeyDown,(t=>{var r;const s=""!==i.searchRef.current;e.disabled||s&&" "===t.key||DD[a.dir].includes(t.key)&&(n.onOpenChange(!0),null==(r=n.content)||r.focus(),t.preventDefault())}))})})}));IP.displayName=EP;var LP="MenuSubContent",AP=ci.forwardRef(((e,t)=>{const n=KD(eP,e.__scopeMenu),{forceMount:a=n.forceMount,...r}=e,i=$D(eP,e.__scopeMenu),s=YD(eP,e.__scopeMenu),o=_P(LP,e.__scopeMenu),l=ci.useRef(null),c=Vy(t,l);return vi.jsx(RD.Provider,{scope:e.__scopeMenu,children:vi.jsx(gv,{present:a||i.open,children:vi.jsx(RD.Slot,{scope:e.__scopeMenu,children:vi.jsx(oP,{id:o.contentId,"aria-labelledby":o.triggerId,...r,ref:c,align:"start",side:"rtl"===s.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{var t;s.isUsingKeyboardRef.current&&(null==(t=l.current)||t.focus()),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:Uy(e.onFocusOutside,(e=>{e.target!==o.trigger&&i.onOpenChange(!1)})),onEscapeKeyDown:Uy(e.onEscapeKeyDown,(e=>{s.onClose(),e.preventDefault()})),onKeyDown:Uy(e.onKeyDown,(e=>{var t;const n=e.currentTarget.contains(e.target),a=PD[s.dir].includes(e.key);n&&a&&(i.onOpenChange(!1),null==(t=o.trigger)||t.focus(),e.preventDefault())}))})})})})}));function TP(e){return e?"open":"closed"}function DP(e){return"indeterminate"===e}function PP(e){return DP(e)?"indeterminate":e?"checked":"unchecked"}function OP(e){return t=>"mouse"===t.pointerType?e(t):void 0}AP.displayName=LP;var RP=qD,zP=QD,FP=XD,BP=aP,UP=lP,WP=cP,GP=fP,VP=pP,$P=yP,HP=bP,YP=CP,qP=SP,QP=kP,ZP=IP,JP=AP,KP="DropdownMenu",[XP,eO]=$y(KP,[UD]),tO=UD(),[nO,aO]=XP(KP),rO=e=>{const{__scopeDropdownMenu:t,children:n,dir:a,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=e,l=tO(t),c=ci.useRef(null),[d,u]=vv({prop:r,defaultProp:i??!1,onChange:s,caller:KP});return vi.jsx(nO,{scope:t,triggerId:yN(),triggerRef:c,contentId:yN(),open:d,onOpenChange:u,onOpenToggle:ci.useCallback((()=>u((e=>!e))),[u]),modal:o,children:vi.jsx(RP,{...l,open:d,onOpenChange:u,dir:a,modal:o,children:n})})};rO.displayName=KP;var iO="DropdownMenuTrigger",sO=ci.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,disabled:a=!1,...r}=e,i=aO(iO,n),s=tO(n);return vi.jsx(zP,{asChild:!0,...s,children:vi.jsx(ev.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...r,ref:Gy(t,i.triggerRef),onPointerDown:Uy(e.onPointerDown,(e=>{a||0!==e.button||!1!==e.ctrlKey||(i.onOpenToggle(),i.open||e.preventDefault())})),onKeyDown:Uy(e.onKeyDown,(e=>{a||(["Enter"," "].includes(e.key)&&i.onOpenToggle(),"ArrowDown"===e.key&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())}))})})}));sO.displayName=iO;var oO=e=>{const{__scopeDropdownMenu:t,...n}=e,a=tO(t);return vi.jsx(FP,{...a,...n})};oO.displayName="DropdownMenuPortal";var lO="DropdownMenuContent",cO=ci.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,r=aO(lO,n),i=tO(n),s=ci.useRef(!1);return vi.jsx(BP,{id:r.contentId,"aria-labelledby":r.triggerId,...i,...a,ref:t,onCloseAutoFocus:Uy(e.onCloseAutoFocus,(e=>{var t;s.current||null==(t=r.triggerRef.current)||t.focus(),s.current=!1,e.preventDefault()})),onInteractOutside:Uy(e.onInteractOutside,(e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,a=2===t.button||n;r.modal&&!a||(s.current=!0)})),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})}));cO.displayName=lO;ci.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,r=tO(n);return vi.jsx(UP,{...r,...a,ref:t})})).displayName="DropdownMenuGroup";var dO=ci.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,r=tO(n);return vi.jsx(WP,{...r,...a,ref:t})}));dO.displayName="DropdownMenuLabel";var uO=ci.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,r=tO(n);return vi.jsx(GP,{...r,...a,ref:t})}));uO.displayName="DropdownMenuItem";var fO=ci.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,r=tO(n);return vi.jsx(VP,{...r,...a,ref:t})}));fO.displayName="DropdownMenuCheckboxItem";ci.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,r=tO(n);return vi.jsx($P,{...r,...a,ref:t})})).displayName="DropdownMenuRadioGroup";var mO=ci.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,r=tO(n);return vi.jsx(HP,{...r,...a,ref:t})}));mO.displayName="DropdownMenuRadioItem";var pO=ci.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,r=tO(n);return vi.jsx(YP,{...r,...a,ref:t})}));pO.displayName="DropdownMenuItemIndicator";var hO=ci.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,r=tO(n);return vi.jsx(qP,{...r,...a,ref:t})}));hO.displayName="DropdownMenuSeparator";ci.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,r=tO(n);return vi.jsx(QP,{...r,...a,ref:t})})).displayName="DropdownMenuArrow";var gO=ci.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,r=tO(n);return vi.jsx(ZP,{...r,...a,ref:t})}));gO.displayName="DropdownMenuSubTrigger";var xO=ci.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,r=tO(n);return vi.jsx(JP,{...r,...a,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})}));xO.displayName="DropdownMenuSubContent";var yO=oO,vO=cO,bO=dO,wO=uO,jO=fO,NO=mO,CO=pO,SO=hO,kO=gO,MO=xO;const _O=rO,EO=sO;ci.forwardRef((({className:e,inset:t,children:n,...a},r)=>vi.jsxs(kO,{ref:r,className:iN("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...a,children:[n,vi.jsx(Ib,{className:"ml-auto"})]}))).displayName=kO.displayName;ci.forwardRef((({className:e,...t},n)=>vi.jsx(MO,{ref:n,className:iN("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}))).displayName=MO.displayName;const IO=ci.forwardRef((({className:e,sideOffset:t=4,...n},a)=>vi.jsx(yO,{children:vi.jsx(vO,{ref:a,sideOffset:t,className:iN("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})})));IO.displayName=vO.displayName;const LO=ci.forwardRef((({className:e,inset:t,...n},a)=>vi.jsx(wO,{ref:a,className:iN("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n})));LO.displayName=wO.displayName;ci.forwardRef((({className:e,children:t,checked:n,...a},r)=>vi.jsxs(jO,{ref:r,className:iN("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...a,children:[vi.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:vi.jsx(CO,{children:vi.jsx(Mb,{className:"h-4 w-4"})})}),t]}))).displayName=jO.displayName;ci.forwardRef((({className:e,children:t,...n},a)=>vi.jsxs(NO,{ref:a,className:iN("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[vi.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:vi.jsx(CO,{children:vi.jsx(Bb,{className:"h-2 w-2 fill-current"})})}),t]}))).displayName=NO.displayName;const AO=ci.forwardRef((({className:e,inset:t,...n},a)=>vi.jsx(bO,{ref:a,className:iN("px-2 py-1.5 text-sm ",t&&"pl-8",e),...n})));AO.displayName=bO.displayName;const TO=ci.forwardRef((({className:e,...t},n)=>vi.jsx(SO,{ref:n,className:iN("-mx-1 my-1 h-px bg-muted",e),...t})));function DO({variant:e="default",className:t}){const{currentLanguage:n,languages:a,changeLanguage:r,isLoading:i,t:s}=sk(),[o,l]=ci.useState(!1),c=async e=>{if((null==n?void 0:n.code)!==e&&!o){l(!0);try{await r(e)}catch(t){console.error("Error changing language:",t)}finally{l(!1)}}};if(i||!n)return null;const d=a.filter((e=>e.isActive));return 0===d.length?null:"compact"===e?vi.jsxs(_O,{children:[vi.jsx(EO,{asChild:!0,children:vi.jsxs(tk,{variant:"ghost",size:"sm",className:iN("h-8 w-8 p-0",t),disabled:o,children:[vi.jsx(aw,{className:"h-4 w-4"}),vi.jsx("span",{className:"sr-only",children:s("language_switcher.select_language","Select language")})]})}),vi.jsx(IO,{align:"end",className:"w-48",children:d.map((e=>vi.jsxs(LO,{onClick:()=>c(e.code),className:"flex items-center justify-between cursor-pointer",children:[vi.jsxs("div",{className:"flex items-center",children:[e.flagIcon&&vi.jsx("span",{className:"mr-2 text-sm",children:e.flagIcon}),vi.jsx("span",{children:e.name})]}),n.code===e.code&&vi.jsx(Mb,{className:"h-4 w-4 text-primary"})]},e.id)))})]}):vi.jsxs(_O,{children:[vi.jsx(EO,{asChild:!0,children:vi.jsxs(tk,{variant:"brand",className:iN("flex items-center gap-2",t),disabled:o,children:[vi.jsx(aw,{className:"h-4 w-4"}),vi.jsxs("div",{className:"flex items-center gap-1",children:[n.flagIcon&&vi.jsx("span",{className:"text-sm",children:n.flagIcon}),vi.jsx("span",{className:"hidden sm:inline",children:n.name}),vi.jsx("span",{className:"sm:hidden",children:n.code.toUpperCase()})]}),vi.jsx(_b,{className:"h-3 w-3"})]})}),vi.jsx(IO,{align:"end",className:"w-48",children:d.map((e=>vi.jsxs(LO,{onClick:()=>c(e.code),className:"flex items-center justify-between cursor-pointer",children:[vi.jsxs("div",{className:"flex items-center",children:[e.flagIcon&&vi.jsx("span",{className:"mr-2 text-sm",children:e.flagIcon}),vi.jsx("span",{children:e.name})]}),n.code===e.code&&vi.jsx(Mb,{className:"h-4 w-4 text-primary"})]},e.id)))})]})}function PO({className:e,showLabel:t=!0,variant:n="ghost"}){const{currentLanguage:a,languages:r,changeLanguage:i,isLoading:s,t:o}=sk(),[l,c]=ci.useState(!1);console.log("ProfileLanguageSelector Debug:",{isLoading:s,languagesCount:r.length,languages:r.map((e=>({id:e.id,code:e.code,name:e.name,nativeName:e.nativeName,isActive:e.isActive,isActiveType:typeof e.isActive,isDefault:e.isDefault,flagIcon:e.flagIcon}))),currentLanguage:a?{id:a.id,code:a.code,name:a.name,isActive:a.isActive}:null});const d=r.filter((e=>!0===e.isActive));console.log("Active languages after filter:",d.length,d);return console.log("ProfileLanguageSelector render decision:",{isLoading:s,currentLanguage:!!a,activeLanguagesLength:d.length,willShowLoading:s,willShowNoLanguages:!a||0===d.length}),s?(console.log("Showing loading state"),vi.jsxs(tk,{variant:n,size:"sm",disabled:!0,className:iN("gap-2",e),children:[vi.jsx(uw,{className:"h-4 w-4 animate-spin"}),t&&vi.jsx("span",{className:"text-sm",children:"Loading..."})]})):a&&0!==d.length?(console.log("Showing language dropdown"),vi.jsxs(_O,{children:[vi.jsx(EO,{asChild:!0,children:vi.jsxs(tk,{variant:n,size:"sm",className:iN("gap-2 justify-start",e),disabled:l,children:[vi.jsx(aw,{className:"h-4 w-4"}),t&&vi.jsxs(vi.Fragment,{children:[vi.jsx("span",{className:"text-sm",children:a.nativeName}),a.flagIcon&&vi.jsx("span",{className:"text-sm",children:a.flagIcon})]}),l?vi.jsx(uw,{className:"h-3 w-3 animate-spin ml-auto"}):vi.jsx(_b,{className:"h-3 w-3 ml-auto"})]})}),vi.jsxs(IO,{align:"end",className:"w-56",children:[vi.jsxs(AO,{className:"flex items-center gap-2",children:[vi.jsx(aw,{className:"h-4 w-4"}),o("common.language_selector.title","Select Language")]}),vi.jsx(TO,{}),d.map((e=>vi.jsxs(LO,{onClick:()=>(async e=>{if(e!==(null==a?void 0:a.code)&&!l){c(!0);try{await i(e)}catch(t){console.error("Error changing language:",t)}finally{c(!1)}}})(e.code),className:"flex items-center justify-between cursor-pointer",disabled:l,children:[vi.jsxs("div",{className:"flex items-center gap-3",children:[e.flagIcon&&vi.jsx("span",{className:"text-lg",children:e.flagIcon}),vi.jsxs("div",{className:"flex flex-col",children:[vi.jsx("span",{className:"text-sm font-medium",children:e.nativeName}),vi.jsx("span",{className:"text-xs text-muted-foreground",children:e.name})]})]}),a.code===e.code&&vi.jsx(Mb,{className:"h-4 w-4 text-primary"})]},e.code))),0===d.length&&vi.jsx(LO,{disabled:!0,children:vi.jsx("span",{className:"text-sm text-muted-foreground",children:o("common.language_selector.no_languages","No languages available")})})]})]})):(console.log("Showing no languages state"),vi.jsxs(tk,{variant:n,size:"sm",disabled:!0,className:iN("gap-2",e),children:[vi.jsx(aw,{className:"h-4 w-4"}),t&&vi.jsx("span",{className:"text-sm",children:"No languages"})]}))}TO.displayName=SO.displayName;const OO={VIEW_ALL_CONVERSATIONS:"view_all_conversations",VIEW_ASSIGNED_CONVERSATIONS:"view_assigned_conversations",ASSIGN_CONVERSATIONS:"assign_conversations",MANAGE_CONVERSATIONS:"manage_conversations",VIEW_CONTACTS:"view_contacts",MANAGE_CONTACTS:"manage_contacts",VIEW_CHANNELS:"view_channels",MANAGE_CHANNELS:"manage_channels",VIEW_FLOWS:"view_flows",MANAGE_FLOWS:"manage_flows",VIEW_ANALYTICS:"view_analytics",VIEW_DETAILED_ANALYTICS:"view_detailed_analytics",VIEW_TEAM:"view_team",MANAGE_TEAM:"manage_team",VIEW_SETTINGS:"view_settings",MANAGE_SETTINGS:"manage_settings",VIEW_PIPELINE:"view_pipeline",MANAGE_PIPELINE:"manage_pipeline",VIEW_CALENDAR:"view_calendar",MANAGE_CALENDAR:"manage_calendar",VIEW_CAMPAIGNS:"view_campaigns",CREATE_CAMPAIGNS:"create_campaigns",EDIT_CAMPAIGNS:"edit_campaigns",DELETE_CAMPAIGNS:"delete_campaigns",MANAGE_TEMPLATES:"manage_templates",MANAGE_SEGMENTS:"manage_segments",VIEW_CAMPAIGN_ANALYTICS:"view_campaign_analytics",MANAGE_WHATSAPP_ACCOUNTS:"manage_whatsapp_accounts",CONFIGURE_CHANNELS:"configure_channels"},RO=async()=>{const e=await fetch("/api/users/permissions",{credentials:"include"});if(!e.ok)throw new Error("Failed to fetch user permissions");return e.json()},zO=()=>{const{user:e}=nT(),{data:t={},isLoading:n,error:a,refetch:r}=ky({queryKey:["userPermissions",null==e?void 0:e.id],queryFn:RO,enabled:!!e,staleTime:3e5,gcTime:6e5}),i=n=>!!(null==e?void 0:e.isSuperAdmin)||!0===t[n],s=n=>!!(null==e?void 0:e.isSuperAdmin)||n.some((e=>!0===t[e]));return{permissions:t,isLoading:n,error:a,refetch:r,hasPermission:i,hasAnyPermission:s,hasAllPermissions:n=>!!(null==e?void 0:e.isSuperAdmin)||n.every((e=>!0===t[e])),canViewAllConversations:()=>i(OO.VIEW_ALL_CONVERSATIONS),canOnlyViewAssignedConversations:()=>i(OO.VIEW_ASSIGNED_CONVERSATIONS)&&!i(OO.VIEW_ALL_CONVERSATIONS),canAssignConversations:()=>i(OO.ASSIGN_CONVERSATIONS),canManageConversations:()=>i(OO.MANAGE_CONVERSATIONS),canAccessSettings:()=>s([OO.VIEW_SETTINGS,OO.MANAGE_SETTINGS]),canAccessAnalytics:()=>s([OO.VIEW_ANALYTICS,OO.VIEW_DETAILED_ANALYTICS]),canAccessTeam:()=>s([OO.VIEW_TEAM,OO.MANAGE_TEAM]),canAccessPipeline:()=>s([OO.VIEW_PIPELINE,OO.MANAGE_PIPELINE]),canAccessFlows:()=>s([OO.VIEW_FLOWS,OO.MANAGE_FLOWS]),canAccessChannels:()=>s([OO.VIEW_CHANNELS,OO.MANAGE_CHANNELS]),canAccessContacts:()=>s([OO.VIEW_CONTACTS,OO.MANAGE_CONTACTS]),canAccessCalendar:()=>s([OO.VIEW_CALENDAR,OO.MANAGE_CALENDAR]),canAccessCampaigns:()=>s([OO.VIEW_CAMPAIGNS,OO.CREATE_CAMPAIGNS,OO.EDIT_CAMPAIGNS,OO.DELETE_CAMPAIGNS,OO.MANAGE_TEMPLATES,OO.MANAGE_SEGMENTS,OO.VIEW_CAMPAIGN_ANALYTICS,OO.MANAGE_WHATSAPP_ACCOUNTS,OO.CONFIGURE_CHANNELS]),PERMISSIONS:OO}},FO=({permission:e,permissions:t,requireAll:n=!1,fallback:a=null,children:r})=>{const{hasPermission:i,hasAnyPermission:s,hasAllPermissions:o}=zO();let l=!1;return e?l=i(e):t&&(l=n?o(t):s(t)),l?di.createElement(di.Fragment,null,r):di.createElement(di.Fragment,null,a)};function BO({isOpen:e,isLoading:t,results:n,onClose:a,onSelect:r,query:i}){const[s,o]=mx(),{t:l}=sk(),[c,d]=ci.useState(-1),u=ci.useRef(null),f=n.conversations.length+n.contacts.length+n.templates.length;ci.useEffect((()=>{d(-1)}),[n]),ci.useEffect((()=>{const t=t=>{if(e)switch(t.key){case"ArrowDown":t.preventDefault(),d((e=>(e+1)%f));break;case"ArrowUp":t.preventDefault(),d((e=>e<=0?f-1:e-1));break;case"Enter":t.preventDefault(),c>=0&&m(c);break;case"Escape":t.preventDefault(),a()}};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)}),[e,c,f]);const m=e=>{let t=0;if(e<n.conversations.length){const t=n.conversations[e];return console.log("Search: Keyboard selecting conversation",{contactId:t.contact.id,channelType:t.channelType}),localStorage.setItem("selectedContactId",t.contact.id.toString()),localStorage.setItem("selectedChannelType",t.channelType||"whatsapp"),o("/inbox"),void r()}if(t+=n.conversations.length,e<t+n.contacts.length){const a=n.contacts[e-t];return console.log("Search: Keyboard selecting contact",{contactId:a.id,identifierType:a.identifierType}),localStorage.setItem("selectedContactId",a.id.toString()),localStorage.setItem("selectedChannelType",a.identifierType||"whatsapp"),o("/inbox"),void r()}if(t+=n.contacts.length,e<t+n.templates.length)return o("/campaigns/templates"),void r()},p=()=>{o("/campaigns/templates"),r()},h=e=>{const t=new Date(e);return((new Date).getTime()-t.getTime())/36e5<24?t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):t.toLocaleDateString()},g=(e,t=50)=>e.length>t?e.substring(0,t)+"...":e;return e?vi.jsx("div",{ref:u,className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50 max-h-96 overflow-y-auto",children:t?vi.jsxs("div",{className:"p-4 flex items-center justify-center",children:[vi.jsx(uw,{className:"h-4 w-4 animate-spin mr-2"}),vi.jsx("span",{className:"text-sm text-gray-500",children:l("common.searching","Searching...")})]}):vi.jsx(vi.Fragment,{children:0===f?vi.jsx("div",{className:"p-4 text-center text-gray-500",children:vi.jsx("div",{className:"text-sm",children:l("search.no_results",'No results found for "{{query}}"',{query:i})})}):vi.jsxs("div",{className:"py-2",children:[n.conversations.length>0&&vi.jsxs("div",{children:[vi.jsx("div",{className:"px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:l("search.conversations","Conversations")}),n.conversations.map(((e,t)=>vi.jsxs("button",{className:iN("w-full px-3 py-2 text-left hover:bg-gray-50 flex items-center space-x-3",c===t&&"bg-gray-50"),onClick:()=>(e=>{console.log("Search: Selecting conversation",{contactId:e.contact.id,channelType:e.channelType}),localStorage.setItem("selectedContactId",e.contact.id.toString()),localStorage.setItem("selectedChannelType",e.channelType||"whatsapp"),o("/inbox"),r()})(e),children:[vi.jsx(xw,{className:"h-4 w-4 text-blue-500 flex-shrink-0"}),vi.jsxs("div",{className:"flex-1 min-w-0",children:[vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsx("span",{className:"text-sm font-medium text-gray-900 truncate",children:e.contact.name}),vi.jsx("span",{className:"text-xs text-gray-500",children:h(e.lastMessageAt)})]}),e.lastMessage&&vi.jsx("div",{className:"text-xs text-gray-500 truncate",children:g(e.lastMessage.content)})]})]},`conversation-${e.id}`)))]}),n.contacts.length>0&&vi.jsxs("div",{children:[vi.jsx("div",{className:"px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:l("search.contacts","Contacts")}),n.contacts.map(((e,t)=>{const a=n.conversations.length+t;return vi.jsxs("button",{className:iN("w-full px-3 py-2 text-left hover:bg-gray-50 flex items-center space-x-3",c===a&&"bg-gray-50"),onClick:()=>(e=>{console.log("Search: Selecting contact",{contactId:e.id,identifierType:e.identifierType}),localStorage.setItem("selectedContactId",e.id.toString()),localStorage.setItem("selectedChannelType",e.identifierType||"whatsapp"),o("/inbox"),r()})(e),children:[vi.jsx(sj,{className:"h-4 w-4 text-green-500 flex-shrink-0"}),vi.jsxs("div",{className:"flex-1 min-w-0",children:[vi.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),vi.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[e.phone&&vi.jsxs("div",{className:"flex items-center",children:[vi.jsx(kw,{className:"h-3 w-3 mr-1"}),e.phone]}),e.email&&vi.jsxs("div",{className:"flex items-center",children:[vi.jsx(pw,{className:"h-3 w-3 mr-1"}),e.email]})]})]})]},`contact-${e.id}`)}))]}),n.templates.length>0&&vi.jsxs("div",{children:[vi.jsx("div",{className:"px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:l("search.templates","Templates")}),n.templates.map(((e,t)=>{const a=n.conversations.length+n.contacts.length+t;return vi.jsxs("button",{className:iN("w-full px-3 py-2 text-left hover:bg-gray-50 flex items-center space-x-3",c===a&&"bg-gray-50"),onClick:p,children:[vi.jsx(Xb,{className:"h-4 w-4 text-purple-500 flex-shrink-0"}),vi.jsxs("div",{className:"flex-1 min-w-0",children:[vi.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),e.description&&vi.jsx("div",{className:"text-xs text-gray-500 truncate",children:g(e.description)})]})]},`template-${e.id}`)}))]})]})})}):null}function UO(e,t){try{e=e.replace("#","");let n=parseInt(e.substring(0,2),16),a=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16);return n=Math.max(0,Math.min(255,n+t)),a=Math.max(0,Math.min(255,a+t)),r=Math.max(0,Math.min(255,r+t)),`#${n.toString(16).padStart(2,"0")}${a.toString(16).padStart(2,"0")}${r.toString(16).padStart(2,"0")}`}catch(n){return"#1f2937"}}function WO(){var e;const{toast:t}=By(),{t:n}=sk(),[a,r]=mx(),{user:i,company:s,logoutMutation:o,isImpersonating:l,returnFromImpersonationMutation:c}=nT(),{branding:d}=dk(),{PERMISSIONS:u}=zO(),f=ci.useRef(null),[m,p]=ci.useState(!1),{searchQuery:h,isOpen:g,isLoading:x,results:y,handleSearch:v,clearSearch:b,closeDropdown:w,openDropdown:j}=function(e=300){const[t,n]=ci.useState(""),[a,r]=ci.useState(""),[i,s]=ci.useState(!1);ci.useEffect((()=>{const n=setTimeout((()=>{r(t)}),e);return()=>clearTimeout(n)}),[t,e]),ci.useEffect((()=>{t.trim()||s(!1)}),[t]);const{data:o,isLoading:l,error:c}=ky({queryKey:["search",a],queryFn:async()=>{if(!a.trim()||a.length<2)return{conversations:[],contacts:[],templates:[]};const e=await fetch(`/api/search?q=${encodeURIComponent(a)}&limit=5`);if(!e.ok)throw new Error("Search failed");return e.json()},enabled:a.length>=2,staleTime:3e4,refetchOnWindowFocus:!1}),d=ci.useCallback((e=>{n(e),e.trim().length>=2&&s(!0)}),[]),u=ci.useCallback((()=>{n(""),r(""),s(!1)}),[]),f=ci.useCallback((()=>{s(!1)}),[]),m=ci.useCallback((()=>{t.trim().length>=2&&s(!0)}),[t]);return{searchQuery:t,debouncedQuery:a,isOpen:i,isLoading:l&&a.length>=2,error:c,results:o||{conversations:[],contacts:[],templates:[]},handleSearch:d,clearSearch:u,closeDropdown:f,openDropdown:m}}(300);ci.useEffect((()=>{const e=e=>{f.current&&!f.current.contains(e.target)&&w()};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[w]);const N=s?{headerBg:{backgroundColor:UO(s.primaryColor??"#1f2937",-40)},borderColor:{borderColor:UO(s.primaryColor??"#1f2937",-30)}}:{headerBg:{backgroundColor:"#1f2937"},borderColor:{borderColor:"#374151"}};return vi.jsxs("header",{className:"sticky top-0 z-10 text-white border-b px-4 py-2 grid grid-cols-3 items-center",style:{...N.headerBg,...N.borderColor},children:[vi.jsxs("div",{className:"flex items-center",children:[l&&vi.jsxs(tk,{variant:"brand",size:"sm",className:"btn-brand-primary mr-4 text-amber-600 border-amber-600 hover:bg-amber-50",onClick:async()=>{try{t({title:n("admin.returning_to_admin","Returning to admin account"),description:n("common.please_wait","Please wait...")}),c.mutate()}catch(e){t({title:n("admin.error_returning","Error returning to admin"),description:n("admin.trying_fallback","Trying fallback method..."),variant:"destructive"}),sessionStorage.removeItem("isImpersonating"),localStorage.removeItem("isImpersonating"),localStorage.removeItem("originalSuperAdminId");try{await fetch("/api/clear-session",{method:"POST"})}catch(a){console.warn("Could not clear session via API:",a)}setTimeout((()=>{window.location.replace("/admin/login")}),1e3)}},disabled:c.isPending,children:[vi.jsx(bb,{className:"h-4 w-4 mr-1"}),c.isPending?n("admin.returning","Returning..."):n("admin.return_to_admin","Return to Admin")]}),vi.jsxs("div",{className:"flex items-center",children:[(null==s?void 0:s.logo)||d.logoUrl?vi.jsx("img",{src:(null==s?void 0:s.logo)||d.logoUrl,alt:(null==s?void 0:s.name)||d.appName,className:"h-8 w-8 object-contain"}):vi.jsx("svg",{className:"h-8 w-8 text-primary-600",fill:"currentColor",viewBox:"0 0 24 24",children:vi.jsx("path",{d:"M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M12,20c-4.41,0-8-3.59-8-8s3.59-8,8-8s8,3.59,8,8\r\n              S16.41,20,12,20z M14.59,8.59L16,10l-6,6l-4-4l1.41-1.41L10,13.17L14.59,8.59z"})}),vi.jsxs("span",{className:"ml-2 text-xl text-white",children:[(null==s?void 0:s.name)||d.appName,l&&vi.jsx("span",{className:"ml-2 text-xs px-2 py-1 bg-amber-100 text-amber-800 rounded-full",children:n("admin.impersonating","Impersonating")})]})]})]}),vi.jsx("div",{className:"flex justify-center",children:vi.jsxs("div",{className:"relative w-[400px] max-w-full hidden md:block",ref:f,children:[vi.jsx("form",{onSubmit:e=>{e.preventDefault()},children:vi.jsxs("div",{className:"relative",children:[vi.jsx("input",{type:"search",placeholder:n("common.search_placeholder","Search conversations, contacts, templates..."),className:"w-full px-4 py-2 pr-10 rounded-lg bg-gray-800 border border-gray-600 text-white placeholder-gray-400 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:h,onChange:e=>v(e.target.value),onFocus:j}),h?vi.jsx("button",{type:"button",onClick:b,className:"absolute right-3 top-2.5 text-gray-400 hover:text-white",children:vi.jsx(fj,{className:"h-4 w-4"})}):vi.jsx(Pw,{className:"h-4 w-4 absolute right-3 top-2.5 text-gray-400"})]})}),vi.jsx(BO,{isOpen:g,isLoading:x,results:y,onClose:w,onSelect:b,query:h})]})}),vi.jsxs("div",{className:"flex items-center justify-end space-x-4",children:[vi.jsx("button",{className:"md:hidden flex items-center justify-center h-8 w-8 rounded-full bg-gray-700 hover:bg-gray-600",onClick:()=>p(!0),children:vi.jsx(Pw,{className:"h-4 w-4 text-white"})}),vi.jsx(DO,{variant:"compact"}),vi.jsx(FO,{permissions:[u.VIEW_SETTINGS,u.MANAGE_SETTINGS],children:vi.jsx("button",{className:"flex items-center justify-center h-8 w-8 rounded-full bg-gray-700 hover:bg-gray-600",onClick:()=>r("/settings"),children:vi.jsx("i",{className:"ri-settings-3-line text-white"})})}),vi.jsxs(_O,{children:[vi.jsxs(EO,{className:"flex items-center cursor-pointer hover:opacity-80",children:[vi.jsx("div",{className:"h-8 w-8 rounded-full flex items-center justify-center text-white font-medium",style:{backgroundColor:(null==s?void 0:s.primaryColor)||d.primaryColor},children:(null==(e=null==i?void 0:i.fullName)?void 0:e.split(" ").map((e=>e[0])).join(""))||"JD"}),vi.jsx("span",{className:"ml-2 hidden md:block text-white",children:(null==i?void 0:i.fullName)||"John Doe"})]}),vi.jsxs(IO,{align:"end",className:"w-56",children:[vi.jsxs("div",{className:"px-2 py-1.5 text-sm font-medium",children:[vi.jsx("div",{children:(null==i?void 0:i.fullName)||"John Doe"}),vi.jsx("div",{className:"text-xs text-muted-foreground",children:(null==i?void 0:i.email)||"email@example.com"}),s&&vi.jsxs("div",{className:"text-xs flex items-center mt-1 text-primary",children:[vi.jsx(Cb,{className:"h-3 w-3 mr-1"}),s.name]})]}),vi.jsx(TO,{}),vi.jsxs(LO,{className:"cursor-pointer",onClick:()=>r("/profile"),children:[vi.jsx(sj,{className:"mr-2 h-4 w-4"}),vi.jsx("span",{children:n("nav.profile","Profile")})]}),vi.jsx(FO,{permissions:[u.VIEW_SETTINGS,u.MANAGE_SETTINGS],children:vi.jsxs(LO,{className:"cursor-pointer",onClick:()=>r("/settings"),children:[vi.jsx(zw,{className:"mr-2 h-4 w-4"}),vi.jsx("span",{children:n("nav.settings","Settings")})]})}),vi.jsx(LO,{className:"p-0",children:vi.jsx(PO,{className:"w-full justify-start p-2"})}),vi.jsx(TO,{}),vi.jsxs(LO,{className:"cursor-pointer text-red-600 focus:text-red-600",onClick:()=>{sessionStorage.removeItem("isImpersonating"),localStorage.removeItem("isImpersonating"),localStorage.removeItem("originalSuperAdminId"),o.mutate()},disabled:o.isPending,children:[vi.jsx(mw,{className:"mr-2 h-4 w-4"}),vi.jsx("span",{children:o.isPending?n("auth.logging_out","Logging out..."):n("auth.logout","Logout")})]})]})]})]}),m&&vi.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[vi.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>p(!1)}),vi.jsxs("div",{className:"fixed top-0 left-0 right-0 border-b p-4",style:{...N.headerBg,...N.borderColor},children:[vi.jsxs("div",{className:"flex items-center space-x-3",children:[vi.jsx("button",{onClick:()=>p(!1),className:"flex items-center justify-center h-8 w-8 rounded-full bg-gray-700 hover:bg-gray-600",children:vi.jsx(fj,{className:"h-4 w-4 text-white"})}),vi.jsxs("div",{className:"flex-1 relative",children:[vi.jsx("input",{type:"search",placeholder:n("common.search_placeholder","Search conversations, contacts, templates..."),className:"w-full px-4 py-2 pr-10 rounded-lg bg-gray-800 border border-gray-600 text-white placeholder-gray-400 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",value:h,onChange:e=>v(e.target.value),autoFocus:!0}),h?vi.jsx("button",{type:"button",onClick:b,className:"absolute right-3 top-2.5 text-gray-400 hover:text-white",children:vi.jsx(fj,{className:"h-4 w-4"})}):vi.jsx(Pw,{className:"h-4 w-4 absolute right-3 top-2.5 text-gray-400"})]})]}),vi.jsx("div",{className:"mt-4 max-h-96 overflow-y-auto",children:vi.jsx(BO,{isOpen:!0,isLoading:x,results:y,onClose:()=>p(!1),onSelect:()=>{b(),p(!1)},query:h})})]})]})]})}function GO(e){const[t,n]=ci.useState(!1),[a,r]=ci.useState(null),i=ci.useRef(null),{toast:s}=By(),{user:o,isLoading:l}=nT(),c=ci.useRef({}),d=ci.useRef(null),u=ci.useRef(0);ci.useEffect((()=>{if(l||!o)return;const t=`${"https:"===window.location.protocol?"wss:":"ws:"}//${window.location.host}${e}`,a=new WebSocket(t);return i.current=a,a.addEventListener("open",(()=>{n(!0),u.current=0,a.send(JSON.stringify({type:"authenticate",userId:o.id}))})),a.addEventListener("close",(e=>{if(n(!1),d.current&&clearTimeout(d.current),o&&u.current<5){u.current++;const e=Math.min(1e3*Math.pow(2,u.current-1),3e4);d.current=setTimeout((()=>{u.current>=3&&console.log("WebSocket disconnected, attempting to reconnect...")}),e)}else u.current>=5&&console.warn("WebSocket connection failed after maximum retry attempts")})),a.addEventListener("error",(e=>{console.error("WebSocket error:",e)})),a.addEventListener("message",(e=>{try{const t=JSON.parse(e.data);if(r(t),"authError"===t.type)return s({title:"Authentication Error",description:t.message||"Failed to authenticate WebSocket connection",variant:"destructive"}),void a.close();t.type&&c.current[t.type]&&c.current[t.type].forEach((e=>{e(t)}))}catch(Bze){console.error("Error parsing WebSocket message:",Bze)}})),()=>{d.current&&clearTimeout(d.current),a.readyState===WebSocket.OPEN&&a.close()}}),[e,s,o,l]);const f=ci.useCallback(((e,t)=>(c.current[e]||(c.current[e]=[]),c.current[e].push(t),()=>{c.current[e]=c.current[e].filter((e=>e!==t))})),[]);return{isConnected:t,lastMessage:a,sendMessage:ci.useCallback((e=>{var t;return(null==(t=i.current)?void 0:t.readyState)===WebSocket.OPEN&&(i.current.send(JSON.stringify(e)),!0)}),[]),onMessage:f}}const VO=ci.createContext(void 0);function $O({children:e}){const[t,n]=ci.useState(null),[a,r]=ci.useState(null),[i,s]=ci.useState({}),[o,l]=ci.useState({}),[c,d]=ci.useState(null),u=by(),{toast:f}=By(),{t:m}=sk(),{isConnected:p,sendMessage:h,onMessage:g}=GO("/ws"),{data:x,isLoading:y}=ky({queryKey:["/api/conversations"],refetchOnWindowFocus:!1}),v=Array.isArray(x)?x:(null==x?void 0:x.conversations)||[],{data:b=[],isLoading:w}=ky({queryKey:["/api/contacts"],refetchOnWindowFocus:!1}),j=async(e,t=1,n=!1)=>{try{l((t=>({...t,[e]:{page:1,hasMore:!0,loading:!0,...t[e]||{}}})));const a=await Ey("GET",`/api/conversations/${e}/messages?page=${t}&limit=25`),r=await a.json();s((t=>{const a=t[e]||[],i=n?[...r.messages,...a]:r.messages;return{...t,[e]:i}})),l((t=>({...t,[e]:{page:r.pagination.page,hasMore:r.pagination.hasMore,loading:!1}})))}catch(Bze){l((t=>({...t,[e]:{page:1,hasMore:!0,loading:!1,...t[e]||{}}}))),f({title:m("common.error","Error"),description:m("inbox.failed_load_messages","Failed to load conversation messages"),variant:"destructive"})}};ci.useEffect((()=>{if(t){l((e=>({...e,[t]:{page:1,hasMore:!0,loading:!1}})));const e=async()=>{try{(await fetch(`/api/conversations/${t}/mark-read`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}})).ok}catch(e){}};j(t),e()}}),[t,f]),ci.useEffect((()=>g("messageDeleted",(e=>{const{messageId:t,conversationId:n}=e.data;t&&n&&s((e=>({...e,[n]:(e[n]||[]).filter((e=>e.id!==t))})))}))),[g]),ci.useEffect((()=>g("conversationHistoryCleared",(e=>{const{conversationId:t}=e.data;t&&(s((e=>({...e,[t]:[]}))),l((e=>({...e,[t]:{page:1,hasMore:!1,loading:!1}}))),f({title:"Chat History Cleared",description:"All messages have been removed from this conversation.",variant:"default"}))}))),[g,f]),ci.useEffect((()=>g("newMessage",(e=>{const t=e.data;if(t&&t.conversationId){s((e=>{const n=e[t.conversationId]||[];return n.some((e=>e.id===t.id||(!(!e.externalId||!t.externalId||e.externalId!==t.externalId)||(e.content===t.content&&e.direction===t.direction&&e.type===t.type&&Math.abs(new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime())<2e3||(!!(t.mediaUrl&&e.mediaUrl&&e.mediaUrl===t.mediaUrl&&e.direction===t.direction&&Math.abs(new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime())<1e4)||!!(t.type&&e.type&&t.type===e.type&&t.direction===e.direction&&["image","video","audio","document"].includes(t.type)&&(t.content===`${t.type.charAt(0).toUpperCase()+t.type.slice(1)} message`||e.content===`${e.type.charAt(0).toUpperCase()+e.type.slice(1)} message`)&&Math.abs(new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime())<5e3))))))?(console.log("Duplicate message detected, skipping:",t),e):{...e,[t.conversationId]:[...n,t]}})),u.invalidateQueries({queryKey:["/api/conversations",t.conversationId,"messages"]});new Audio("/assets/notification.mp3").play().catch((()=>{}))}}))),[g,u]),ci.useEffect((()=>g("conversationUpdated",(e=>{const t=e.data;u.setQueryData(["/api/conversations"],(e=>e&&e.conversations?{...e,conversations:e.conversations.map((e=>e.id===t.id?{...e,...t}:e))}:e))}))),[g,u]),ci.useEffect((()=>g("conversationAssigned",(e=>{const{conversationId:t,agentId:n}=e.data;u.setQueryData(["/api/conversations"],(e=>e&&e.conversations?{...e,conversations:e.conversations.map((e=>e.id===t?{...e,assignedToUserId:n}:e))}:e)),f({title:m("inbox.conversation_assigned","Conversation Assigned"),description:n?m("inbox.conversation_assigned_to_agent","Conversation has been assigned to an agent"):m("inbox.conversation_unassigned","Conversation has been unassigned")})}))),[g,u,f]),ci.useEffect((()=>g("conversationUnassigned",(e=>{const{conversationId:t}=e.data;u.setQueryData(["/api/conversations"],(e=>e&&e.conversations?{...e,conversations:e.conversations.map((e=>e.id===t?{...e,assignedToUserId:null}:e))}:e)),f({title:m("inbox.conversation_unassigned","Conversation Unassigned"),description:m("inbox.conversation_unassigned_desc","Conversation has been unassigned")})}))),[g,u,f]),ci.useEffect((()=>g("unreadCountUpdated",(e=>{const{conversationId:t,unreadCount:n}=e.data;u.setQueryData(["/api/conversations"],(e=>e&&e.conversations?{...e,conversations:e.conversations.map((e=>e.id===t?{...e,unreadCount:n}:e))}:e))}))),[g,u]),ci.useEffect((()=>g("newConversation",(e=>{const t=e.data;u.setQueryData(["/api/conversations"],(e=>{if(!e||!e.conversations)return{conversations:[t],total:1,page:1,limit:50,totalPages:1};return e.conversations.some((e=>e.id===t.id))?e:{...e,conversations:[t,...e.conversations],total:e.total+1}})),u.invalidateQueries({queryKey:["/api/conversations"]}),t.contact&&f({title:m("inbox.new_conversation","New Conversation"),description:m("inbox.new_conversation_with","New conversation started with {{name}}",{name:t.contact.name||m("common.unknown_contact","Unknown Contact")})})}))),[g,u,f]);const N={activeConversationId:t,setActiveConversationId:n,activeChannelId:a,setActiveChannelId:r,conversations:v,contacts:b,messages:i,messagesPagination:o,isLoading:y||w,sendMessage:(e,t,n=!1)=>{p?h({type:"sendMessage",message:{conversationId:e,content:t,isFromBot:n}}):f({title:m("inbox.not_connected","Not Connected"),description:m("inbox.cannot_send_message","Cannot send message, not connected to server"),variant:"destructive"})},sendMediaMessage:async(e,t,n)=>{try{if(!p)throw f({title:m("inbox.not_connected","Not Connected"),description:m("inbox.cannot_send_media","Cannot send media, not connected to server"),variant:"destructive"}),new Error(m("inbox.not_connected_server","Not connected to server"));if(!v.find((t=>t.id===e)))throw new Error(m("inbox.conversation_not_found","Conversation not found"));const r=await new Promise(((a,r)=>{const i=new XMLHttpRequest,s=new FormData;s.append("file",t),n&&s.append("caption",n),i.onload=function(){i.status>=200&&i.status<300?a({ok:!0,status:i.status,statusText:i.statusText,json:()=>JSON.parse(i.responseText)}):a({ok:!1,status:i.status,statusText:i.statusText,json:()=>{try{return JSON.parse(i.responseText)}catch(e){return{error:i.statusText}}}})},i.onerror=function(){r(new Error(m("inbox.network_error","Network error")))},i.upload.onprogress=function(e){e.lengthComputable},i.open("POST",`/api/conversations/${e}/upload-media`,!0),i.withCredentials=!0,i.send(s)}));if(!r.ok)try{const e=await r.json();throw new Error(e.error||e.message||m("inbox.failed_send_media","Failed to send media message"))}catch(a){throw new Error(m("inbox.server_error","Server error ({{status}}): {{statusText}}",{status:r.status,statusText:r.statusText}))}const i=await r.json();return console.log("Media message sent, will be added via WebSocket:",i),i}catch(Bze){throw f({title:m("common.error","Error"),description:Bze.message||m("inbox.failed_send_media","Failed to send media message"),variant:"destructive"}),Bze}},loadMoreMessages:async e=>{const t=o[e];t&&!t.loading&&t.hasMore&&await j(e,t.page+1,!0)},replyToMessage:c,setReplyToMessage:d};return vi.jsx(VO.Provider,{value:N,children:e})}function HO(){const e=ci.useContext(VO);if(void 0===e)throw new Error("useConversations must be used within a ConversationProvider");return e}function YO({className:e="",showIcon:t=!1,variant:n="default"}){const{data:a,isLoading:r}=ky({queryKey:["app-version"],queryFn:async()=>{const e=await fetch("/api/auto-update/version");if(!e.ok)throw new Error("Failed to fetch version");return e.json()},staleTime:3e5,refetchOnWindowFocus:!1});if(r)return vi.jsx("div",{className:`text-xs text-muted-foreground ${e}`,children:"Loading version..."});const i=(null==a?void 0:a.version)||"1.0.0";return vi.jsxs("div",{className:`flex items-center space-x-1 ${e}`,children:[vi.jsxs(ak,{variant:n,className:"text-xs text-white",children:["v",i]}),t&&vi.jsxs($S,{children:[vi.jsx(HS,{children:vi.jsx(lw,{className:"h-3 w-3 text-muted-foreground"})}),vi.jsx(YS,{children:vi.jsxs("p",{children:["Application Version: ",i]})})]})]})}const qO=pb("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),QO=ci.forwardRef((({className:e,variant:t,...n},a)=>vi.jsx("div",{ref:a,role:"alert",className:iN(qO({variant:t}),e),...n})));QO.displayName="Alert";const ZO=ci.forwardRef((({className:e,...t},n)=>vi.jsx("h5",{ref:n,className:iN("mb-1 font-medium leading-none tracking-tight",e),...t})));ZO.displayName="AlertTitle";const JO=ci.forwardRef((({className:e,...t},n)=>vi.jsx("div",{ref:n,className:iN("text-sm [&_p]:leading-relaxed",e),...t})));function KO({isCollapsed:e=!1}){const{company:t}=nT(),{t:n}=sk();if(!(null==t?void 0:t.isInTrial)||!(null==t?void 0:t.trialEndDate))return null;const a=new Date,r=new Date(t.trialEndDate),i=Math.ceil((r.getTime()-a.getTime())/864e5);if(i<=0)return null;const s=i<=3;return e?vi.jsx("div",{className:"px-2 py-2",children:vi.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center "+(s?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"),children:s?vi.jsx(Jw,{className:"h-5 w-5"}):vi.jsx(Ub,{className:"h-5 w-5"})})}):vi.jsx("div",{className:"px-2 py-2",children:vi.jsx(QO,{className:""+(s?"border-red-200 bg-red-50 text-red-800":"border-blue-200 bg-blue-50 text-blue-800"),children:vi.jsxs("div",{className:"flex items-center gap-2",children:[s?vi.jsx(Jw,{className:"h-4 w-4"}):vi.jsx(Ub,{className:"h-4 w-4"}),vi.jsxs("div",{className:"flex-1",children:[vi.jsx("div",{className:"font-medium text-sm",children:n("trial.status_title","Trial Period")}),vi.jsx(JO,{className:"text-xs mt-1",children:1===i?n("trial.expires_today","Expires today"):n("trial.days_remaining","{{days}} days remaining",{days:i})})]})]})})})}function XO(){const[e,t]=mx(),{setActiveChannelId:n,activeChannelId:a}=HO(),[r,i]=ci.useState(!1),[,s]=ci.useState(!1),{company:o}=nT(),{t:l}=sk(),{PERMISSIONS:c}=zO(),d=by(),{onMessage:u}=GO("/ws");ci.useEffect((()=>{const e=u("channelConnectionCreated",(e=>{d.invalidateQueries({queryKey:["/api/channel-connections",null==o?void 0:o.id]})})),t=u("channelConnectionUpdated",(e=>{d.invalidateQueries({queryKey:["/api/channel-connections",null==o?void 0:o.id]})})),r=u("channelConnectionDeleted",(e=>{var t;(null==(t=e.data)?void 0:t.id)===a&&n(null),d.invalidateQueries({queryKey:["/api/channel-connections",null==o?void 0:o.id]})})),i=u("whatsappConnectionStatus",(e=>{d.invalidateQueries({queryKey:["/api/channel-connections",null==o?void 0:o.id]})})),s=u("instagramConnectionStatus",(e=>{d.invalidateQueries({queryKey:["/api/channel-connections",null==o?void 0:o.id]})})),l=u("messengerConnectionStatus",(e=>{d.invalidateQueries({queryKey:["/api/channel-connections",null==o?void 0:o.id]})}));return()=>{e(),t(),r(),i(),s(),l()}}),[u,d,null==o?void 0:o.id,a,n]),ci.useEffect((()=>{const e=()=>{s(window.innerWidth<768),window.innerWidth<768&&i(!0)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]);const{data:f=[]}=ky({queryKey:["/api/channel-connections",null==o?void 0:o.id],refetchOnWindowFocus:!0,refetchOnReconnect:!0,staleTime:12e4,enabled:!!o}),m=o?{sidebarBg:{backgroundColor:p(o.primaryColor??"#1f2937",-40)},sidebarHover:{backgroundColor:p(o.primaryColor??"#1f2937",-30)},activeItem:{backgroundColor:p(o.primaryColor??"#1f2937",-20)},toggleButton:{backgroundColor:p(o.primaryColor??"#1f2937",-30)},toggleButtonHover:{backgroundColor:p(o.primaryColor??"#1f2937",-20)},toggleButtonBorder:{borderColor:p(o.primaryColor??"#1f2937",-10)}}:{sidebarBg:{},activeItem:{},toggleButton:{},toggleButtonBorder:{}};function p(e,t){try{e=e.replace("#","");let n=parseInt(e.substring(0,2),16),a=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16);return n=Math.max(0,Math.min(255,n+t)),a=Math.max(0,Math.min(255,a+t)),r=Math.max(0,Math.min(255,r+t)),`#${n.toString(16).padStart(2,"0")}${a.toString(16).padStart(2,"0")}${r.toString(16).padStart(2,"0")}`}catch(n){return"#1f2937"}}return vi.jsxs("nav",{className:`text-white ${r?"w-16":"w-64"} transition-all duration-300 ease-in-out flex-shrink-0 flex flex-col relative`,style:m.sidebarBg||{backgroundColor:"#1f2937"},children:[vi.jsx("button",{onClick:()=>{i(!r)},className:"absolute -right-3 top-6 text-white p-1 rounded-full border z-50 shadow-lg transition-colors",style:{...m.toggleButton,...m.toggleButtonBorder},"aria-label":r?"Expand sidebar":"Collapse sidebar",children:vi.jsx("i",{className:`ri-${r?"arrow-right":"arrow-left"}-s-line text-sm`})}),vi.jsxs("div",{className:"px-4 py-4 flex flex-col overflow-y-auto",children:[vi.jsxs("div",{className:"flex flex-col space-y-1",children:[vi.jsxs(vx,{href:"/inbox",className:"flex items-center px-2 py-2 rounded-lg "+("/inbox"===e?"text-white":"text-gray-400 hover:text-white"),style:"/inbox"===e?m.activeItem:{},children:[vi.jsx("i",{className:"ri-inbox-line text-xl"}),vi.jsx("span",{className:"ml-3 "+(r?"hidden":"block"),children:l("nav.inbox","Inbox")})]}),vi.jsx(FO,{permissions:[c.VIEW_FLOWS,c.MANAGE_FLOWS],children:vi.jsxs(vx,{href:"/flows",className:"flex items-center px-2 py-2 rounded-lg "+("/flows"===e?"text-white":"text-gray-400 hover:text-white"),style:"/flows"===e?m.activeItem:{},children:[vi.jsx("i",{className:"ri-flow-chart text-xl"}),vi.jsx("span",{className:"ml-3 "+(r?"hidden":"block"),children:l("nav.flow_builder","Flow Builder")})]})}),vi.jsx(FO,{permissions:[c.VIEW_CONTACTS,c.MANAGE_CONTACTS],children:vi.jsxs(vx,{href:"/contacts",className:"flex items-center px-2 py-2 rounded-lg "+("/contacts"===e?"text-white":"text-gray-400 hover:text-white"),style:"/contacts"===e?m.activeItem:{},children:[vi.jsx("i",{className:"ri-contacts-line text-xl"}),vi.jsx("span",{className:"ml-3 "+(r?"hidden":"block"),children:l("nav.contacts","Contacts")})]})}),vi.jsx(FO,{permissions:[c.VIEW_PIPELINE,c.MANAGE_PIPELINE],children:vi.jsxs(vx,{href:"/pipeline",className:"flex items-center px-2 py-2 rounded-lg "+("/pipeline"===e?"text-white":"text-gray-400 hover:text-white"),style:"/pipeline"===e?m.activeItem:{},children:[vi.jsx("i",{className:"ri-stack-line text-xl"}),vi.jsx("span",{className:"ml-3 "+(r?"hidden":"block"),children:l("nav.pipeline","Pipeline")})]})}),vi.jsx(FO,{permissions:[c.VIEW_CALENDAR,c.MANAGE_CALENDAR],children:vi.jsxs(vx,{href:"/calendar",className:"flex items-center px-2 py-2 rounded-lg "+("/calendar"===e?"text-white":"text-gray-400 hover:text-white"),style:"/calendar"===e?m.activeItem:{},children:[vi.jsx("i",{className:"ri-calendar-line text-xl"}),vi.jsx("span",{className:"ml-3 "+(r?"hidden":"block"),children:l("nav.calendar","Calendar")})]})}),vi.jsx(FO,{permissions:[c.VIEW_CAMPAIGNS,c.CREATE_CAMPAIGNS,c.EDIT_CAMPAIGNS,c.DELETE_CAMPAIGNS,c.MANAGE_TEMPLATES,c.MANAGE_SEGMENTS,c.VIEW_CAMPAIGN_ANALYTICS,c.MANAGE_WHATSAPP_ACCOUNTS,c.CONFIGURE_CHANNELS],children:vi.jsxs(vx,{href:"/campaigns",className:"flex items-center px-2 py-2 rounded-lg "+(e.startsWith("/campaigns")?"text-white":"text-gray-400 hover:text-white"),style:e.startsWith("/campaigns")?m.activeItem:{},children:[vi.jsx("i",{className:"ri-megaphone-line text-xl"}),vi.jsx("span",{className:"ml-3 "+(r?"hidden":"block"),children:l("nav.campaigns","Campaigns")})]})}),vi.jsx(FO,{permissions:[c.VIEW_ANALYTICS,c.VIEW_DETAILED_ANALYTICS],children:vi.jsxs(vx,{href:"/analytics",className:"flex items-center px-2 py-2 rounded-lg "+("/analytics"===e?"text-white":"text-gray-400 hover:text-white"),style:"/analytics"===e?m.activeItem:{},children:[vi.jsx("i",{className:"ri-bar-chart-line text-xl"}),vi.jsx("span",{className:"ml-3 "+(r?"hidden":"block"),children:l("nav.analytics","Analytics")})]})})]}),vi.jsx(FO,{permissions:[c.VIEW_CHANNELS,c.MANAGE_CHANNELS],children:vi.jsxs("div",{className:"mt-8 pt-4 border-t border-gray-700",children:[vi.jsx("h3",{className:"text-xs uppercase tracking-wide text-gray-500 mb-2 "+(r?"hidden":"block"),children:l("nav.channels","Channels")}),vi.jsx("div",{className:"flex flex-col space-y-1",children:f.map((i=>{let s,o;switch(i.channelType){case"whatsapp_official":s="ri-whatsapp-line",o="#25D366";break;case"whatsapp_unofficial":s="ri-whatsapp-line",o="#F59E0B";break;case"messenger":s="ri-messenger-line",o="#1877F2";break;case"instagram":s="ri-instagram-line",o="#E4405F";break;default:s="ri-chat-1-line",o="#333235"}const l=a===i.id;return vi.jsxs("button",{className:"flex items-center px-2 py-2 rounded-lg w-full text-left "+(l?"bg-gray-800 text-white":"text-gray-400 hover:bg-gray-800 hover:text-white"),onClick:()=>{return r=i.id,n(a===r?null:r),void("/inbox"!==e&&t("/inbox"));var r},children:[vi.jsx("i",{className:s+" text-xl",style:{color:l?"white":o}}),vi.jsx("span",{className:`ml-3 ${r?"hidden":"block"} truncate`,children:i.accountName})]},i.id)}))})]})}),vi.jsxs("div",{className:"mt-auto pt-4",children:[vi.jsx(KO,{isCollapsed:r}),vi.jsx(FO,{permissions:[c.VIEW_SETTINGS,c.MANAGE_SETTINGS],children:vi.jsxs(vx,{href:"/settings",className:"flex items-center px-2 py-2 rounded-lg "+("/settings"===e?"text-white":"text-gray-400 hover:text-white"),style:"/settings"===e?m.activeItem:{},children:[vi.jsx("i",{className:"ri-settings-line text-xl"}),vi.jsx("span",{className:"ml-3 "+(r?"hidden":"block"),children:l("nav.settings","Settings")})]})}),vi.jsxs("a",{href:`https://docs.${window.location.hostname.replace(/^www\./,"")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-2 py-2 rounded-lg w-full text-left text-gray-400 hover:text-white",children:[vi.jsx("i",{className:"ri-question-line text-xl"}),vi.jsx("span",{className:"ml-3 "+(r?"hidden":"block"),children:l("nav.help_support","Help & Support")})]}),o&&vi.jsx("div",{className:"mt-4 pt-4 border-t border-gray-700 text-xs text-gray-500 "+(r?"hidden":"block"),children:vi.jsxs("div",{className:"px-2 space-y-1",children:[vi.jsxs("div",{children:[l("nav.company","Company"),": ",o.name]}),vi.jsxs("div",{children:[l("nav.plan","Plan"),": ",vi.jsx("span",{className:"capitalize",children:o.plan})]}),vi.jsx("div",{className:"pt-2",children:vi.jsx(YO,{className:"text-xs",variant:"outline"})})]})})]})]})]})}function eR(){const[e,t]=mx(),{t:n}=sk();return ci.useEffect((()=>{t("/inbox")}),[t]),vi.jsxs("div",{className:"h-screen flex flex-col overflow-hidden font-sans text-gray-800",children:[vi.jsx(WO,{}),vi.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[vi.jsx(XO,{}),vi.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[vi.jsx("h1",{className:"text-2xl  mb-6",children:n("nav.dashboard","Dashboard")}),vi.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[vi.jsxs(qS,{children:[vi.jsx(QS,{children:vi.jsx(ZS,{children:n("dashboard.total_conversations","Total Conversations")})}),vi.jsx(KS,{children:vi.jsx("p",{className:"text-3xl font-bold",children:"15"})})]}),vi.jsxs(qS,{children:[vi.jsx(QS,{children:vi.jsx(ZS,{children:n("dashboard.active_conversations","Active Conversations")})}),vi.jsx(KS,{children:vi.jsx("p",{className:"text-3xl font-bold",children:"8"})})]}),vi.jsxs(qS,{children:[vi.jsx(QS,{children:vi.jsx(ZS,{children:n("dashboard.response_time","Response Time")})}),vi.jsx(KS,{children:vi.jsx("p",{className:"text-3xl font-bold",children:"5m"})})]})]})]})]})]})}function tR(e){const t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new e.constructor(+e):"number"==typeof e||"[object Number]"===t||"string"==typeof e||"[object String]"===t?new Date(e):new Date(NaN)}function nR(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function aR(e,t){const n=tR(e);return isNaN(t)?nR(e,NaN):t?(n.setDate(n.getDate()+t),n):n}function rR(e,t){const n=tR(e);if(isNaN(t))return nR(e,NaN);if(!t)return n;const a=n.getDate(),r=nR(e,n.getTime());r.setMonth(n.getMonth()+t+1,0);return a>=r.getDate()?r:(n.setFullYear(r.getFullYear(),r.getMonth(),a),n)}JO.displayName="AlertDescription";const iR=6048e5,sR=6e4,oR=36e5,lR=43200;function cR(e,t){return function(e,t){return nR(e,+tR(e)+t)}(e,t*oR)}let dR={};function uR(){return dR}function fR(e,t){var n,a,r,i;const s=uR(),o=(null==t?void 0:t.weekStartsOn)??(null==(a=null==(n=null==t?void 0:t.locale)?void 0:n.options)?void 0:a.weekStartsOn)??s.weekStartsOn??(null==(i=null==(r=s.locale)?void 0:r.options)?void 0:i.weekStartsOn)??0,l=tR(e),c=l.getDay(),d=(c<o?7:0)+c-o;return l.setDate(l.getDate()-d),l.setHours(0,0,0,0),l}function mR(e){return fR(e,{weekStartsOn:1})}function pR(e){const t=tR(e),n=t.getFullYear(),a=nR(e,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const r=mR(a),i=nR(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const s=mR(i);return t.getTime()>=r.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function hR(e){const t=tR(e);return t.setHours(0,0,0,0),t}function gR(e){const t=tR(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function xR(e,t){const n=hR(e),a=hR(t),r=+n-gR(n),i=+a-gR(a);return Math.round((r-i)/864e5)}function yR(e,t){return aR(e,7*t)}function vR(e,t){return rR(e,12*t)}function bR(e,t){const n=tR(e),a=tR(t),r=n.getTime()-a.getTime();return r<0?-1:r>0?1:r}function wR(e){return nR(e,Date.now())}function jR(e,t){return+hR(e)===+hR(t)}function NR(e){return e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function CR(e,t){const n=tR(e),a=tR(t);return 12*(n.getFullYear()-a.getFullYear())+(n.getMonth()-a.getMonth())}function SR(e){const t=tR(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function kR(e){const t=tR(e);return+function(e){const t=tR(e);return t.setHours(23,59,59,999),t}(t)===+SR(t)}function MR(e,t,n){const a=function(e,t){return+tR(e)-+tR(t)}(e,t)/1e3;return(r=null==n?void 0:n.roundingMethod,e=>{const t=(r?Math[r]:Math.trunc)(e);return 0===t?0:t})(a);var r}function _R(e,t){const n=tR(e.start),a=tR(e.end);let r=+n>+a;const i=r?+n:+a,s=r?a:n;s.setHours(0,0,0,0);const o=[];for(;+s<=i;)o.push(tR(s)),s.setDate(s.getDate()+1),s.setHours(0,0,0,0);return r?o.reverse():o}function ER(e){const t=tR(e);return t.setDate(1),t.setHours(0,0,0,0),t}function IR(e){const t=tR(e),n=nR(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function LR(e,t){var n,a,r,i;const s=uR(),o=(null==t?void 0:t.weekStartsOn)??(null==(a=null==(n=null==t?void 0:t.locale)?void 0:n.options)?void 0:a.weekStartsOn)??s.weekStartsOn??(null==(i=null==(r=s.locale)?void 0:r.options)?void 0:i.weekStartsOn)??0,l=tR(e),c=l.getDay(),d=6+(c<o?-7:0)-(c-o);return l.setDate(l.getDate()+d),l.setHours(23,59,59,999),l}function AR(e){return LR(e,{weekStartsOn:1})}const TR={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function DR(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const PR={date:DR({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:DR({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:DR({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},OR={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function RR(e){return(t,n)=>{let a;if("formatting"===((null==n?void 0:n.context)?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,r=(null==n?void 0:n.width)?String(n.width):t;a=e.formattingValues[r]||e.formattingValues[t]}else{const t=e.defaultWidth,r=(null==n?void 0:n.width)?String(n.width):e.defaultWidth;a=e.values[r]||e.values[t]}return a[e.argumentCallback?e.argumentCallback(t):t]}}const zR={ordinalNumber:(e,t)=>{const n=Number(e),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:RR({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:RR({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:RR({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:RR({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:RR({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function FR(e){return(t,n={})=>{const a=n.width,r=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=t.match(r);if(!i)return null;const s=i[0],o=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(o,(e=>e.test(s))):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(o,(e=>e.test(s)));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(s.length)}}}const BR={ordinalNumber:(UR={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},(e,t={})=>{const n=e.match(UR.matchPattern);if(!n)return null;const a=n[0],r=e.match(UR.parsePattern);if(!r)return null;let i=UR.valueCallback?UR.valueCallback(r[0]):r[0];return i=t.valueCallback?t.valueCallback(i):i,{value:i,rest:e.slice(a.length)}}),era:FR({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:FR({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:FR({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:FR({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:FR({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};var UR;const WR={code:"en-US",formatDistance:(e,t,n)=>{let a;const r=TR[e];return a="string"==typeof r?r:1===t?r.one:r.other.replace("{{count}}",t.toString()),(null==n?void 0:n.addSuffix)?n.comparison&&n.comparison>0?"in "+a:a+" ago":a},formatLong:PR,formatRelative:(e,t,n,a)=>OR[e],localize:zR,match:BR,options:{weekStartsOn:0,firstWeekContainsDate:1}};function GR(e){const t=tR(e),n=+mR(t)-+function(e){const t=pR(e),n=nR(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),mR(n)}(t);return Math.round(n/iR)+1}function VR(e,t){var n,a,r,i;const s=tR(e),o=s.getFullYear(),l=uR(),c=(null==t?void 0:t.firstWeekContainsDate)??(null==(a=null==(n=null==t?void 0:t.locale)?void 0:n.options)?void 0:a.firstWeekContainsDate)??l.firstWeekContainsDate??(null==(i=null==(r=l.locale)?void 0:r.options)?void 0:i.firstWeekContainsDate)??1,d=nR(e,0);d.setFullYear(o+1,0,c),d.setHours(0,0,0,0);const u=fR(d,t),f=nR(e,0);f.setFullYear(o,0,c),f.setHours(0,0,0,0);const m=fR(f,t);return s.getTime()>=u.getTime()?o+1:s.getTime()>=m.getTime()?o:o-1}function $R(e,t){const n=tR(e),a=+fR(n,t)-+function(e,t){var n,a,r,i;const s=uR(),o=(null==t?void 0:t.firstWeekContainsDate)??(null==(a=null==(n=null==t?void 0:t.locale)?void 0:n.options)?void 0:a.firstWeekContainsDate)??s.firstWeekContainsDate??(null==(i=null==(r=s.locale)?void 0:r.options)?void 0:i.firstWeekContainsDate)??1,l=VR(e,t),c=nR(e,0);return c.setFullYear(l,0,o),c.setHours(0,0,0,0),fR(c,t)}(n,t);return Math.round(a/iR)+1}function HR(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const YR={y(e,t){const n=e.getFullYear(),a=n>0?n:1-n;return HR("yy"===t?a%100:a,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):HR(n+1,2)},d:(e,t)=>HR(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>HR(e.getHours()%12||12,t.length),H:(e,t)=>HR(e.getHours(),t.length),m:(e,t)=>HR(e.getMinutes(),t.length),s:(e,t)=>HR(e.getSeconds(),t.length),S(e,t){const n=t.length,a=e.getMilliseconds();return HR(Math.trunc(a*Math.pow(10,n-3)),t.length)}},qR="midnight",QR="noon",ZR="morning",JR="afternoon",KR="evening",XR="night",ez={G:function(e,t,n){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});default:return n.era(a,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),a=t>0?t:1-t;return n.ordinalNumber(a,{unit:"year"})}return YR.y(e,t)},Y:function(e,t,n,a){const r=VR(e,a),i=r>0?r:1-r;if("YY"===t){return HR(i%100,2)}return"Yo"===t?n.ordinalNumber(i,{unit:"year"}):HR(i,t.length)},R:function(e,t){return HR(pR(e),t.length)},u:function(e,t){return HR(e.getFullYear(),t.length)},Q:function(e,t,n){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return HR(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,n){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return HR(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,n){const a=e.getMonth();switch(t){case"M":case"MM":return YR.M(e,t);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,n){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return HR(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,n,a){const r=$R(e,a);return"wo"===t?n.ordinalNumber(r,{unit:"week"}):HR(r,t.length)},I:function(e,t,n){const a=GR(e);return"Io"===t?n.ordinalNumber(a,{unit:"week"}):HR(a,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):YR.d(e,t)},D:function(e,t,n){const a=function(e){const t=tR(e);return xR(t,IR(t))+1}(e);return"Do"===t?n.ordinalNumber(a,{unit:"dayOfYear"}):HR(a,t.length)},E:function(e,t,n){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,n,a){const r=e.getDay(),i=(r-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return HR(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,n,a){const r=e.getDay(),i=(r-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return HR(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,n){const a=e.getDay(),r=0===a?7:a;switch(t){case"i":return String(r);case"ii":return HR(r,t.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const a=e.getHours();let r;switch(r=12===a?QR:0===a?qR:a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){const a=e.getHours();let r;switch(r=a>=17?KR:a>=12?JR:a>=4?ZR:XR,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return YR.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):YR.H(e,t)},K:function(e,t,n){const a=e.getHours()%12;return"Ko"===t?n.ordinalNumber(a,{unit:"hour"}):HR(a,t.length)},k:function(e,t,n){let a=e.getHours();return 0===a&&(a=24),"ko"===t?n.ordinalNumber(a,{unit:"hour"}):HR(a,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):YR.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):YR.s(e,t)},S:function(e,t){return YR.S(e,t)},X:function(e,t,n){const a=e.getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return nz(a);case"XXXX":case"XX":return az(a);default:return az(a,":")}},x:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"x":return nz(a);case"xxxx":case"xx":return az(a);default:return az(a,":")}},O:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+tz(a,":");default:return"GMT"+az(a,":")}},z:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+tz(a,":");default:return"GMT"+az(a,":")}},t:function(e,t,n){return HR(Math.trunc(e.getTime()/1e3),t.length)},T:function(e,t,n){return HR(e.getTime(),t.length)}};function tz(e,t=""){const n=e>0?"-":"+",a=Math.abs(e),r=Math.trunc(a/60),i=a%60;return 0===i?n+String(r):n+String(r)+t+HR(i,2)}function nz(e,t){if(e%60==0){return(e>0?"-":"+")+HR(Math.abs(e)/60,2)}return az(e,t)}function az(e,t=""){const n=e>0?"-":"+",a=Math.abs(e);return n+HR(Math.trunc(a/60),2)+t+HR(a%60,2)}const rz=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},iz=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},sz={p:iz,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],a=n[1],r=n[2];if(!r)return rz(e,t);let i;switch(a){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;default:i=t.dateTime({width:"full"})}return i.replace("{{date}}",rz(a,t)).replace("{{time}}",iz(r,t))}},oz=/^D+$/,lz=/^Y+$/,cz=["D","DD","YY","YYYY"];const dz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,uz=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fz=/^'([^]*?)'?$/,mz=/''/g,pz=/[a-zA-Z]/;function hz(e,t,n){var a,r,i,s,o,l,c,d;const u=uR(),f=(null==n?void 0:n.locale)??u.locale??WR,m=(null==n?void 0:n.firstWeekContainsDate)??(null==(r=null==(a=null==n?void 0:n.locale)?void 0:a.options)?void 0:r.firstWeekContainsDate)??u.firstWeekContainsDate??(null==(s=null==(i=u.locale)?void 0:i.options)?void 0:s.firstWeekContainsDate)??1,p=(null==n?void 0:n.weekStartsOn)??(null==(l=null==(o=null==n?void 0:n.locale)?void 0:o.options)?void 0:l.weekStartsOn)??u.weekStartsOn??(null==(d=null==(c=u.locale)?void 0:c.options)?void 0:d.weekStartsOn)??0,h=tR(e);if(!function(e){if(!NR(e)&&"number"!=typeof e)return!1;const t=tR(e);return!isNaN(Number(t))}(h))throw new RangeError("Invalid time value");let g=t.match(uz).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,sz[t])(e,f.formatLong)}return e})).join("").match(dz).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:gz(e)};if(ez[t])return{isToken:!0,value:e};if(t.match(pz))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));f.localize.preprocessor&&(g=f.localize.preprocessor(h,g));const x={firstWeekContainsDate:m,weekStartsOn:p,locale:f};return g.map((a=>{if(!a.isToken)return a.value;const r=a.value;(!(null==n?void 0:n.useAdditionalWeekYearTokens)&&function(e){return lz.test(e)}(r)||!(null==n?void 0:n.useAdditionalDayOfYearTokens)&&function(e){return oz.test(e)}(r))&&function(e,t,n){const a=function(e,t,n){const a="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(console.warn(a),cz.includes(e))throw new RangeError(a)}(r,t,String(e));return(0,ez[r[0]])(h,r,f.localize,x)})).join("")}function gz(e){const t=e.match(fz);return t?t[1].replace(mz,"'"):e}function xz(e,t,n){const a=uR(),r=(null==n?void 0:n.locale)??a.locale??WR,i=bR(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const s=Object.assign({},n,{addSuffix:null==n?void 0:n.addSuffix,comparison:i});let o,l;i>0?(o=tR(t),l=tR(e)):(o=tR(e),l=tR(t));const c=MR(l,o),d=(gR(l)-gR(o))/1e3,u=Math.round((c-d)/60);let f;if(u<2)return(null==n?void 0:n.includeSeconds)?c<5?r.formatDistance("lessThanXSeconds",5,s):c<10?r.formatDistance("lessThanXSeconds",10,s):c<20?r.formatDistance("lessThanXSeconds",20,s):c<40?r.formatDistance("halfAMinute",0,s):c<60?r.formatDistance("lessThanXMinutes",1,s):r.formatDistance("xMinutes",1,s):0===u?r.formatDistance("lessThanXMinutes",1,s):r.formatDistance("xMinutes",u,s);if(u<45)return r.formatDistance("xMinutes",u,s);if(u<90)return r.formatDistance("aboutXHours",1,s);if(u<1440){const e=Math.round(u/60);return r.formatDistance("aboutXHours",e,s)}if(u<2520)return r.formatDistance("xDays",1,s);if(u<lR){const e=Math.round(u/1440);return r.formatDistance("xDays",e,s)}if(u<86400)return f=Math.round(u/lR),r.formatDistance("aboutXMonths",f,s);if(f=function(e,t){const n=tR(e),a=tR(t),r=bR(n,a),i=Math.abs(CR(n,a));let s;if(i<1)s=0;else{1===n.getMonth()&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-r*i);let t=bR(n,a)===-r;kR(tR(e))&&1===i&&1===bR(e,a)&&(t=!1),s=r*(i-Number(t))}return 0===s?0:s}(l,o),f<12){const e=Math.round(u/lR);return r.formatDistance("xMonths",e,s)}{const e=f%12,t=Math.trunc(f/12);return e<3?r.formatDistance("aboutXYears",t,s):e<9?r.formatDistance("overXYears",t,s):r.formatDistance("almostXYears",t+1,s)}}function yz(e,t){return xz(e,wR(e),t)}function vz(e,t){const n=tR(e);if(isNaN(n.getTime()))throw new RangeError("Invalid time value");let a="",r="";{const e=HR(n.getDate(),2),t=HR(n.getMonth()+1,2);a=`${HR(n.getFullYear(),4)}-${t}-${e}`}{const e=n.getTimezoneOffset();if(0!==e){const t=Math.abs(e);r=`${e<0?"+":"-"}${HR(Math.trunc(t/60),2)}:${HR(t%60,2)}`}else r="Z";a=`${a}${""===a?"":"T"}${[HR(n.getHours(),2),HR(n.getMinutes(),2),HR(n.getSeconds(),2)].join(":")}${r}`}return a}function bz(e,t){return function(e,t,n){const a=fR(e,n),r=fR(t,n),i=+a-gR(a),s=+r-gR(r);return Math.round((i-s)/iR)}(function(e){const t=tR(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}(e),ER(e),t)+1}function wz(e,t){const n=tR(e),a=tR(t);return n.getTime()>a.getTime()}function jz(e,t){return+tR(e)<+tR(t)}function Nz(e,t){const n=tR(e),a=tR(t);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function Cz(e){return jR(e,wR(e))}function Sz(e,t){return aR(e,-t)}function kz(e,t){const n=function(e){const t={},n=e.split(Mz.dateTimeDelimiter);let a;if(n.length>2)return t;/:/.test(n[0])?a=n[0]:(t.date=n[0],a=n[1],Mz.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Mz.timeZoneDelimiter)[0],a=e.substr(t.date.length,e.length)));if(a){const e=Mz.timezone.exec(a);e?(t.time=a.replace(e[1],""),t.timezone=e[1]):t.time=a}return t}(e);let a;if(n.date){const e=function(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(n);if(!a)return{year:NaN,restDateString:""};const r=a[1]?parseInt(a[1]):null,i=a[2]?parseInt(a[2]):null;return{year:null===i?r:100*i,restDateString:e.slice((a[1]||a[2]).length)}}(n.date,2);a=function(e,t){if(null===t)return new Date(NaN);const n=e.match(_z);if(!n)return new Date(NaN);const a=!!n[4],r=Lz(n[1]),i=Lz(n[2])-1,s=Lz(n[3]),o=Lz(n[4]),l=Lz(n[5])-1;if(a)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,o,l)?function(e,t,n){const a=new Date(0);a.setUTCFullYear(e,0,4);const r=a.getUTCDay()||7,i=7*(t-1)+n+1-r;return a.setUTCDate(a.getUTCDate()+i),a}(t,o,l):new Date(NaN);{const e=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Tz[t]||(Dz(e)?29:28))}(t,i,s)&&function(e,t){return t>=1&&t<=(Dz(e)?366:365)}(t,r)?(e.setUTCFullYear(t,i,Math.max(r,s)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const r=a.getTime();let i,s=0;if(n.time&&(s=function(e){const t=e.match(Ez);if(!t)return NaN;const n=Az(t[1]),a=Az(t[2]),r=Az(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,a,r))return NaN;return n*oR+a*sR+1e3*r}(n.time),isNaN(s)))return new Date(NaN);if(!n.timezone){const e=new Date(r+s),t=new Date(0);return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t}return i=function(e){if("Z"===e)return 0;const t=e.match(Iz);if(!t)return 0;const n="+"===t[1]?-1:1,a=parseInt(t[2]),r=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,r))return NaN;return n*(a*oR+r*sR)}(n.timezone),isNaN(i)?new Date(NaN):new Date(r+s+i)}const Mz={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},_z=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Ez=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Iz=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Lz(e){return e?parseInt(e):1}function Az(e){return e&&parseFloat(e.replace(",","."))||0}const Tz=[31,null,31,30,31,30,31,31,30,31,30,31];function Dz(e){return e%400==0||e%4==0&&e%100!=0}function Pz(e,t){const n=tR(e),a=n.getFullYear(),r=n.getDate(),i=nR(e,0);i.setFullYear(a,t,15),i.setHours(0,0,0,0);const s=function(e){const t=tR(e),n=t.getFullYear(),a=t.getMonth(),r=nR(e,0);return r.setFullYear(n,a+1,0),r.setHours(0,0,0,0),r.getDate()}(i);return n.setMonth(t,Math.min(r,s)),n}function Oz(e,t){const n=tR(e);return isNaN(+n)?nR(e,NaN):(n.setFullYear(t),n)}function Rz(e,t){return rR(e,-1)}function zz(){return()=>{}}var Fz="Avatar",[Bz,Uz]=$y(Fz),[Wz,Gz]=Bz(Fz),Vz=ci.forwardRef(((e,t)=>{const{__scopeAvatar:n,...a}=e,[r,i]=ci.useState("idle");return vi.jsx(Wz,{scope:n,imageLoadingStatus:r,onImageLoadingStatusChange:i,children:vi.jsx(ev.span,{...a,ref:t})})}));Vz.displayName=Fz;var $z="AvatarImage",Hz=ci.forwardRef(((e,t)=>{const{__scopeAvatar:n,src:a,onLoadingStatusChange:r=()=>{},...i}=e,s=Gz($z,n),o=function(e,{referrerPolicy:t,crossOrigin:n}){const a=Wg.useSyncExternalStore(zz,(()=>!0),(()=>!1)),r=ci.useRef(null),i=a?(r.current||(r.current=new window.Image),r.current):null,[s,o]=ci.useState((()=>Qz(i,e)));return pv((()=>{o(Qz(i,e))}),[i,e]),pv((()=>{const e=e=>()=>{o(e)};if(!i)return;const a=e("loaded"),r=e("error");return i.addEventListener("load",a),i.addEventListener("error",r),t&&(i.referrerPolicy=t),"string"==typeof n&&(i.crossOrigin=n),()=>{i.removeEventListener("load",a),i.removeEventListener("error",r)}}),[i,n,t]),s}(a,i),l=nv((e=>{r(e),s.onImageLoadingStatusChange(e)}));return pv((()=>{"idle"!==o&&l(o)}),[o,l]),"loaded"===o?vi.jsx(ev.img,{...i,ref:t,src:a}):null}));Hz.displayName=$z;var Yz="AvatarFallback",qz=ci.forwardRef(((e,t)=>{const{__scopeAvatar:n,delayMs:a,...r}=e,i=Gz(Yz,n),[s,o]=ci.useState(void 0===a);return ci.useEffect((()=>{if(void 0!==a){const e=window.setTimeout((()=>o(!0)),a);return()=>window.clearTimeout(e)}}),[a]),s&&"loaded"!==i.imageLoadingStatus?vi.jsx(ev.span,{...r,ref:t}):null}));function Qz(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}qz.displayName=Yz;var Zz=Vz,Jz=Hz,Kz=qz;const Xz=ci.forwardRef((({className:e,...t},n)=>vi.jsx(Zz,{ref:n,className:iN("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t})));Xz.displayName=Zz.displayName;const eF=ci.forwardRef((({className:e,...t},n)=>vi.jsx(Jz,{ref:n,className:iN("aspect-square h-full w-full",e),...t})));eF.displayName=Jz.displayName;const tF=ci.forwardRef((({className:e,...t},n)=>vi.jsx(Kz,{ref:n,className:iN("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t})));function nF(){const{toast:e}=By(),t=by(),[n,a]=ci.useState(!1),r=My({mutationFn:async({contactId:e,connectionId:t})=>{a(!0);try{const n=await Ey("POST",`/api/contacts/${e}/update-profile-picture`,{connectionId:t});return await n.json()}finally{a(!1)}},onSuccess:(n,a)=>{t.invalidateQueries({queryKey:["/api/contacts"]}),t.invalidateQueries({queryKey:[`/api/contacts/${a.contactId}`]}),t.invalidateQueries({queryKey:["/api/conversations"]}),e({title:"Profile picture updated",description:"Successfully fetched the contact's WhatsApp profile picture."})},onError:t=>{e({title:"Failed to update profile picture",description:t.message,variant:"destructive"})}});return{updateProfilePicture:r.mutate,isUpdating:n,isError:r.isError,error:r.error}}function aF({contact:e,connectionId:t,size:n="md",showRefreshButton:a=!1,className:r}){const{updateProfilePicture:i,isUpdating:s}=nF(),{t:o}=sk(),[l,c]=ci.useState(!1),d={sm:"h-2.5 w-2.5",md:"h-3 w-3",lg:"h-4 w-4"};return vi.jsxs("div",{className:"relative group",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[vi.jsxs(Xz,{className:iN({sm:"h-8 w-8 text-xs",md:"h-10 w-10 text-sm",lg:"h-16 w-16 text-lg"}[n],r),children:[vi.jsx(eF,{src:e.avatarUrl||"",alt:e.name}),vi.jsx(tF,{children:(u=e.name,u.split(" ").map((e=>e[0])).join("").toUpperCase().substring(0,2))})]}),a&&t&&vi.jsx(VS,{children:vi.jsxs($S,{children:[vi.jsx(HS,{asChild:!0,children:vi.jsx(tk,{variant:"ghost",size:"icon",className:iN("absolute bottom-0 right-0 rounded-full bg-background shadow-md border border-border hover:bg-accent hover:text-accent-foreground transition-all duration-200 ease-in-out",{sm:"h-5 w-5",md:"h-6 w-6",lg:"h-8 w-8"}[n],l||s?"opacity-100 scale-100":"opacity-0 scale-95"),onClick:()=>{t&&!s&&i({contactId:e.id,connectionId:t})},disabled:s,children:s?vi.jsx(uw,{className:iN("animate-spin",d[n])}):vi.jsx(Lw,{className:d[n]})})}),vi.jsx(YS,{children:vi.jsx("p",{children:o("contacts.avatar.refresh_tooltip","Refresh WhatsApp profile picture")})})]})})]});var u}function rF({groupName:e,groupJid:t,connectionId:n,conversationId:a,size:r="md",showRefreshButton:i=!1,className:s,groupAvatarUrl:o,groupMetadata:l}){const{updateGroupProfilePicture:c,isUpdating:d}=function(){const{toast:e}=By(),t=by(),[n,a]=ci.useState(!1),r=My({mutationFn:async({conversationId:e,connectionId:t})=>{a(!0);try{const n=await Ey("POST",`/api/conversations/${e}/update-group-picture`,{connectionId:t});return await n.json()}finally{a(!1)}},onSuccess:(n,a)=>{t.invalidateQueries({queryKey:["/api/conversations"]}),t.invalidateQueries({queryKey:[`/api/conversations/${a.conversationId}`]}),e({title:"Group picture updated",description:"Successfully fetched the group's WhatsApp profile picture."})},onError:t=>{e({title:"Failed to update group picture",description:t.message,variant:"destructive"})}});return{updateGroupProfilePicture:r.mutate,isUpdating:n,isError:r.isError,error:r.error}}(),{t:u}=sk(),[f,m]=ci.useState(!1),p=o||(null==l?void 0:l.profilePictureUrl),h={sm:"h-2.5 w-2.5",md:"h-3 w-3",lg:"h-4 w-4"};return vi.jsxs("div",{className:"relative group",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[vi.jsxs(Xz,{className:iN({sm:"h-8 w-8 text-xs",md:"h-10 w-10 text-sm",lg:"h-16 w-16 text-lg"}[r],s),children:[vi.jsx(eF,{src:p||"",alt:e}),vi.jsx(tF,{className:"bg-blue-100 text-blue-700",children:e?(g=e,g.split(" ").map((e=>e[0])).join("").toUpperCase().substring(0,2)):vi.jsx(oj,{className:{sm:"h-4 w-4",md:"h-5 w-5",lg:"h-8 w-8"}[r]})})]}),i&&n&&a&&vi.jsx(VS,{children:vi.jsxs($S,{children:[vi.jsx(HS,{asChild:!0,children:vi.jsx(tk,{variant:"ghost",size:"icon",className:iN("absolute bottom-0 right-0 rounded-full bg-background shadow-md border border-border hover:bg-accent hover:text-accent-foreground transition-all duration-200 ease-in-out",{sm:"h-5 w-5",md:"h-6 w-6",lg:"h-8 w-8"}[r],f||d?"opacity-100 scale-100":"opacity-0 scale-95"),onClick:()=>{n&&a&&!d&&c({conversationId:a,connectionId:n})},disabled:d,children:d?vi.jsx(uw,{className:iN("animate-spin",h[r])}):vi.jsx(Lw,{className:h[r]})})}),vi.jsx(YS,{children:vi.jsx("p",{children:u("groups.avatar.refresh_tooltip","Refresh group profile picture")})})]})})]});var g}function iF({conversationId:e,currentAssignedUserId:t,onAssignmentChange:n,variant:a="button"}){const[r,i]=ci.useState(!1),{canAssignConversations:s}=zO(),{toast:o}=By(),{t:l}=sk(),c=by(),{data:d=[],isLoading:u,error:f}=ky({queryKey:["/api/agents"],queryFn:async()=>{const e=await Ey("GET","/api/agents");if(!e.ok){const t=await e.text();throw new Error(l("agents.fetch_failed",`Failed to fetch agents: ${e.status} ${t}`))}return await e.json()},retry:1,staleTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0}),m=My({mutationFn:async t=>{if(t){const n=await Ey("POST",`/api/conversations/${e}/assign`,{agentId:t});if(!n.ok){const e=await n.json();throw new Error(e.error||l("agents.assign_failed","Failed to assign conversation"))}return n.json()}{const t=await Ey("DELETE",`/api/conversations/${e}/assign`);if(!t.ok){const e=await t.json();throw new Error(e.error||l("agents.unassign_failed","Failed to unassign conversation"))}return t.json()}},onSuccess:(e,t)=>{var a;const r=t?null==(a=d.find((e=>e.id===t)))?void 0:a.fullName:null;o({title:t?l("agents.assigned_title","Conversation Assigned"):l("agents.unassigned_title","Conversation Unassigned"),description:t?l("agents.assigned_description",`Conversation assigned to ${r}`,{agentName:r}):l("agents.unassigned_description","Conversation has been unassigned")}),null==n||n(t),c.invalidateQueries({queryKey:["/api/conversations"]}),i(!1)},onError:e=>{o({title:l("agents.assignment_failed_title","Assignment Failed"),description:e.message||l("agents.assignment_failed_description","Failed to update assignment"),variant:"destructive"})}});if(!s())return null;const p=d.find((e=>e.id===t)),h=e=>{m.mutate(e)},g=e=>e.split(" ").map((e=>e[0])).join("").toUpperCase().slice(0,2);return"badge"===a?p?vi.jsx("div",{className:"agent-assignment-dropdown",children:vi.jsxs(_O,{open:r,onOpenChange:i,children:[vi.jsx(EO,{asChild:!0,children:vi.jsxs("button",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 hover:bg-gray-200 cursor-pointer transition-colors",children:[vi.jsxs(Xz,{className:"w-4 h-4 mr-1",children:[vi.jsx(eF,{src:p.avatarUrl}),vi.jsx(tF,{className:"text-xs",children:g(p.fullName)})]}),p.fullName]})}),vi.jsxs(IO,{align:"start",className:"w-56",children:[vi.jsx(AO,{children:l("agents.reassign_conversation","Reassign Conversation")}),vi.jsx(TO,{}),u?vi.jsxs(LO,{disabled:!0,children:[vi.jsx(uw,{className:"w-4 h-4 mr-2 animate-spin"}),l("agents.loading_agents","Loading agents...")]}):f?vi.jsxs(LO,{disabled:!0,children:[vi.jsx(oj,{className:"w-4 h-4 mr-2"}),l("agents.error_loading_agents","Error loading agents")]}):0===d.length?vi.jsxs(LO,{disabled:!0,children:[vi.jsx(oj,{className:"w-4 h-4 mr-2"}),l("agents.no_agents_available","No agents available")]}):vi.jsxs(vi.Fragment,{children:[d.map((e=>vi.jsxs(LO,{onClick:()=>h(e.id),disabled:m.isPending,className:"flex items-center",children:[vi.jsxs(Xz,{className:"w-6 h-6 mr-2",children:[vi.jsx(eF,{src:e.avatarUrl}),vi.jsx(tF,{className:"text-xs",children:g(e.fullName)})]}),vi.jsxs("div",{className:"flex-1",children:[vi.jsx("div",{className:"font-medium",children:e.fullName}),vi.jsx("div",{className:"text-xs text-gray-500",children:e.role})]}),e.id===t&&vi.jsx(Mb,{className:"w-4 h-4 text-green-600"})]},e.id))),vi.jsx(TO,{}),vi.jsxs(LO,{onClick:()=>h(null),disabled:m.isPending,className:"text-red-600",children:[vi.jsx(aj,{className:"w-4 h-4 mr-2"}),l("agents.unassign","Unassign")]})]})]})]})}):vi.jsx("div",{className:"agent-assignment-dropdown",children:vi.jsxs(_O,{open:r,onOpenChange:i,children:[vi.jsx(EO,{asChild:!0,children:vi.jsxs("button",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 cursor-pointer transition-colors",children:[vi.jsx(rj,{className:"w-3 h-3 mr-1"}),l("agents.unassigned","Unassigned")]})}),vi.jsxs(IO,{align:"start",className:"w-56",children:[vi.jsx(AO,{children:l("agents.assign_conversation","Assign Conversation")}),vi.jsx(TO,{}),u?vi.jsxs(LO,{disabled:!0,children:[vi.jsx(uw,{className:"w-4 h-4 mr-2 animate-spin"}),l("agents.loading_agents","Loading agents...")]}):f?vi.jsxs(LO,{disabled:!0,children:[vi.jsx(oj,{className:"w-4 h-4 mr-2"}),l("agents.error_loading_agents","Error loading agents")]}):0===d.length?vi.jsxs(LO,{disabled:!0,children:[vi.jsx(oj,{className:"w-4 h-4 mr-2"}),l("agents.no_agents_available","No agents available")]}):d.map((e=>vi.jsxs(LO,{onClick:()=>h(e.id),disabled:m.isPending,className:"flex items-center",children:[vi.jsxs(Xz,{className:"w-6 h-6 mr-2",children:[vi.jsx(eF,{src:e.avatarUrl}),vi.jsx(tF,{className:"text-xs",children:g(e.fullName)})]}),vi.jsxs("div",{className:"flex-1",children:[vi.jsx("div",{className:"font-medium",children:e.fullName}),vi.jsx("div",{className:"text-xs text-gray-500",children:e.role})]})]},e.id)))]})]})}):vi.jsx("div",{className:"agent-assignment-dropdown",children:vi.jsxs(_O,{open:r,onOpenChange:i,children:[vi.jsx(EO,{asChild:!0,children:vi.jsx(tk,{variant:p?"secondary":"outline",disabled:m.isPending,className:"flex items-center gap-2",children:m.isPending?vi.jsx(uw,{className:"w-4 h-4 animate-spin"}):p?vi.jsxs(vi.Fragment,{children:[vi.jsxs(Xz,{className:"w-5 h-5",children:[vi.jsx(eF,{src:p.avatarUrl}),vi.jsx(tF,{className:"text-xs",children:g(p.fullName)})]}),vi.jsx("span",{className:"hidden sm:inline",children:p.fullName})]}):vi.jsxs(vi.Fragment,{children:[vi.jsx(rj,{className:"w-4 h-4"}),vi.jsx("span",{className:"hidden sm:inline",children:l("agents.assign","Assign")})]})})}),vi.jsxs(IO,{align:"end",className:"w-56",children:[vi.jsx(AO,{children:p?l("agents.reassign_conversation","Reassign Conversation"):l("agents.assign_conversation","Assign Conversation")}),vi.jsx(TO,{}),u?vi.jsxs(LO,{disabled:!0,children:[vi.jsx(uw,{className:"w-4 h-4 mr-2 animate-spin"}),l("agents.loading_agents","Loading agents...")]}):f?vi.jsxs(LO,{disabled:!0,children:[vi.jsx(oj,{className:"w-4 h-4 mr-2"}),l("agents.error_loading_agents","Error loading agents")]}):0===d.length?vi.jsxs(LO,{disabled:!0,children:[vi.jsx(oj,{className:"w-4 h-4 mr-2"}),l("agents.no_agents_available","No agents available")]}):vi.jsxs(vi.Fragment,{children:[d.map((e=>vi.jsxs(LO,{onClick:()=>h(e.id),disabled:m.isPending,className:"flex items-center",children:[vi.jsxs(Xz,{className:"w-6 h-6 mr-2",children:[vi.jsx(eF,{src:e.avatarUrl}),vi.jsx(tF,{className:"text-xs",children:g(e.fullName)})]}),vi.jsxs("div",{className:"flex-1",children:[vi.jsx("div",{className:"font-medium",children:e.fullName}),vi.jsx("div",{className:"text-xs text-gray-500",children:e.role})]}),e.id===t&&vi.jsx(Mb,{className:"w-4 h-4 text-green-600"})]},e.id))),p&&vi.jsxs(vi.Fragment,{children:[vi.jsx(TO,{}),vi.jsxs(LO,{onClick:()=>h(null),disabled:m.isPending,className:"text-red-600",children:[vi.jsx(aj,{className:"w-4 h-4 mr-2"}),l("agents.unassign","Unassign")]})]})]})]})]})})}tF.displayName=Kz.displayName;const sF=e=>{if(!e)return e;return e.replace(/^> \*[^*]+\*\n\n/,"")};function oF(e){if(!e)return[];return lF(e,[{pattern:/`([^`]+)`/g,replacement:(e,t,n)=>vi.jsx("code",{className:"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 px-1.5 py-0.5 rounded text-sm font-mono border border-gray-200 dark:border-gray-600",children:t},`code-${n}`)},{pattern:/\*([^*]+)\*/g,replacement:(e,t,n)=>vi.jsx("strong",{className:"font-bold",children:t},`bold-${n}`)},{pattern:/_([^_]+)_/g,replacement:(e,t,n)=>vi.jsx("em",{className:"italic",children:t},`italic-${n}`)},{pattern:/~([^~]+)~/g,replacement:(e,t,n)=>vi.jsx("del",{className:"line-through",children:t},`strike-${n}`)}])}function lF(e,t,n=0){if(n>=t.length)return e?[e]:[];const a=t[n],r=[];let i,s=0;for(a.pattern.lastIndex=0;null!==(i=a.pattern.exec(e));){const o=i.index,l=a.pattern.lastIndex;if(o>s){const a=e.substring(s,o);r.push(...lF(a,t,n+1))}const c=a.replacement(i[0],i[1],r.length);r.push(c),s=l,o===l&&a.pattern.lastIndex++}if(s<e.length){const a=e.substring(s);r.push(...lF(a,t,n+1))}return r}const cF=e=>e?e.replace(/\*([^*]+)\*/g,"$1").replace(/_([^_]+)_/g,"$1").replace(/~([^~]+)~/g,"$1").replace(/`([^`]+)`/g,"$1"):e;function dF({conversation:e,isActive:t,onClick:n,searchQuery:a}){const{contact:r}=e,i=new Date(e.lastMessageAt),[s,o]=ci.useState(e.assignedToUserId),[l,c]=ci.useState(e.unreadCount||0),{t:d}=sk();by();const{onMessage:u}=GO("/ws"),f=()=>{n()},{data:m}=ky({queryKey:["/api/channel-connections"]}),{data:p,isLoading:h}=ky({queryKey:["/api/conversations",e.id,"latest-message"],queryFn:async()=>{var t;const n=await Ey("GET",`/api/conversations/${e.id}/messages?limit=1`);return(null==(t=(await n.json()).messages)?void 0:t[0])||null},staleTime:3e4,refetchOnWindowFocus:!1}),g=(e=>{switch(e){case"whatsapp":return{icon:"ri-whatsapp-line",color:"#25D366",name:d("conversations.item.channel.whatsapp","WhatsApp")};case"facebook":return{icon:"ri-messenger-line",color:"#1877F2",name:d("conversations.item.channel.messenger","Messenger")};case"instagram":return{icon:"ri-instagram-line",color:"#E4405F",name:d("conversations.item.channel.instagram","Instagram")};case"email":return{icon:"ri-mail-line",color:"#333235",name:d("conversations.item.channel.email","Email")};case"sms":return{icon:"ri-message-2-line",color:"#10B981",name:d("conversations.item.channel.sms","SMS")};case"webapp":return{icon:"ri-global-line",color:"#8B5CF6",name:d("conversations.item.channel.web_chat","Web Chat")};default:return{icon:"ri-chat-1-line",color:"#333235",name:d("conversations.item.channel.chat","Chat")}}})(e.channelType);ci.useEffect((()=>u("unreadCountUpdated",(t=>{t.data.conversationId===e.id&&c(t.data.unreadCount)}))),[u,e.id]),ci.useEffect((()=>{c(e.unreadCount||0)}),[e.unreadCount]);const x=ci.useMemo((()=>{const e=(null==p?void 0:p.createdAt)?new Date(p.createdAt):i;return Cz(e)?hz(e,"HH:mm"):jR(t=e,Sz(wR(t),1))?d("conversations.item.yesterday","Yesterday"):hz(e,"MMM dd");var t}),[p,i,d]);return vi.jsx("div",{className:`border-l-4 min-h-[88px] sm:min-h-[80px] ${t?"border-primary-500 bg-primary-50 hover:bg-primary-100":"border-transparent hover:bg-gray-50"} cursor-pointer transition-colors duration-150`,onClick:f,role:"button",tabIndex:0,"aria-label":`${d("conversations.item.conversation_with","Conversation with")} ${e.isGroup?e.groupName||d("groups.unnamed_group","Unnamed Group"):null==r?void 0:r.name}${l>0?`, ${l} ${d("conversations.item.unread_messages","unread messages")}`:""}`,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),f())},children:vi.jsxs("div",{className:"px-3 sm:px-4 py-3 sm:py-4",children:[vi.jsxs("div",{className:"flex justify-between items-start",children:[vi.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[vi.jsxs("div",{className:"relative flex-shrink-0",children:[e.isGroup?vi.jsx(rF,{groupName:e.groupName||"Group",groupJid:e.groupJid,connectionId:e.channelId,conversationId:e.id,groupMetadata:e.groupMetadata,size:"md",showRefreshButton:!1}):r?vi.jsx(aF,{contact:r,connectionId:e.channelId,showRefreshButton:!1,size:"md"}):vi.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gray-200"}),!e.isGroup&&vi.jsx("span",{className:`absolute bottom-0 right-0 block h-2.5 w-2.5 sm:h-3 sm:w-3 rounded-full ${(null==r?void 0:r.isActive)?"bg-green-500":"bg-gray-300"} border-2 border-white`})]}),vi.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsx("p",{className:"font-medium text-sm sm:text-base truncate pr-2",children:e.isGroup?e.groupName||d("groups.unnamed_group","Unnamed Group"):null==r?void 0:r.name}),l>0&&vi.jsx("span",{className:"inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-red-500 rounded-full min-w-[20px] h-5 flex-shrink-0","aria-label":`${l} ${d("conversations.item.unread_messages","unread messages")}`,children:l>99?"99+":l})]}),vi.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[vi.jsxs("span",{className:"flex items-center",children:[vi.jsx("i",{className:g.icon+" mr-1",style:{color:g.color}}),vi.jsx("span",{className:"truncate",children:g.name})]}),e.isGroup&&vi.jsxs(vi.Fragment,{children:[vi.jsx("span",{className:"mx-2",children:"•"}),vi.jsxs("span",{className:"truncate",children:[e.groupParticipantCount||0," ",d("groups.participants","participants")]})]})]})]})]}),vi.jsx("div",{className:"text-xs text-gray-500 ml-2 flex-shrink-0",children:x})]}),vi.jsx("div",{className:"mt-2 sm:mt-1",children:h?vi.jsx("div",{className:"animate-pulse",children:vi.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})}):vi.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 leading-relaxed",children:(e=>{if(!e)return d("conversations.item.no_messages_yet","No messages yet");let t="";switch(e.type){case"image":t=e.isFromBot?d("conversations.item.sent_image","📷 Sent an image"):d("conversations.item.image","📷 Image");break;case"video":t=e.isFromBot?d("conversations.item.sent_video","🎥 Sent a video"):d("conversations.item.video","🎥 Video");break;case"audio":t=e.isFromBot?d("conversations.item.sent_audio","🎵 Sent an audio"):d("conversations.item.audio","🎵 Audio");break;case"document":t=e.isFromBot?d("conversations.item.sent_document","📄 Sent a document"):d("conversations.item.document","📄 Document");break;default:const n=sF(e.content||"");t=cF(n)}return t.length>50&&(t=t.substring(0,50)+"..."),t})(p)})}),(null==r?void 0:r.tags)&&r.tags.length>0&&vi.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:r.tags.slice(0,5).map(((e,t)=>{const n=a&&a.trim().length>0&&e.toLowerCase().includes(a.toLowerCase().trim());return vi.jsx("span",{className:"px-2 py-1 text-xs rounded-full truncate max-w-[80px] "+(n?"bg-yellow-200 text-yellow-900 ring-2 ring-yellow-400":"bg-blue-100 text-blue-800"),children:e},t)}))}),vi.jsxs("div",{className:"mt-2 flex items-center justify-between gap-2",children:[vi.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:["open"===e.status&&!s&&vi.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800 whitespace-nowrap",children:d("conversations.item.new_lead","New Lead")}),"bot_active"===e.status&&vi.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs rounded-full bg-purple-100 text-purple-800 whitespace-nowrap",children:[vi.jsx("i",{className:"ri-robot-line mr-1"}),vi.jsx("span",{className:"hidden sm:inline",children:d("conversations.item.bot_active","Bot active")}),vi.jsx("span",{className:"sm:hidden",children:d("conversations.item.bot","Bot")})]}),"awaiting_reply"===e.status&&vi.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs rounded-full bg-yellow-100 text-yellow-800 whitespace-nowrap",children:[vi.jsx("i",{className:"ri-time-line mr-1"}),vi.jsx("span",{className:"hidden sm:inline",children:d("conversations.item.awaiting_reply","Awaiting reply")}),vi.jsx("span",{className:"sm:hidden",children:d("conversations.item.waiting","Waiting")})]})]}),vi.jsx("div",{className:"flex items-center flex-shrink-0",onClick:e=>e.stopPropagation(),children:vi.jsx(iF,{conversationId:e.id,currentAssignedUserId:s,onAssignmentChange:o,variant:"badge",size:"sm"})})]})]})})}var uF="Dialog",[fF,mF]=$y(uF),[pF,hF]=fF(uF),gF=e=>{const{__scopeDialog:t,children:n,open:a,defaultOpen:r,onOpenChange:i,modal:s=!0}=e,o=ci.useRef(null),l=ci.useRef(null),[c,d]=vv({prop:a,defaultProp:r??!1,onChange:i,caller:uF});return vi.jsx(pF,{scope:t,triggerRef:o,contentRef:l,contentId:yN(),titleId:yN(),descriptionId:yN(),open:c,onOpenChange:d,onOpenToggle:ci.useCallback((()=>d((e=>!e))),[d]),modal:s,children:n})};gF.displayName=uF;var xF="DialogTrigger",yF=ci.forwardRef(((e,t)=>{const{__scopeDialog:n,...a}=e,r=hF(xF,n),i=Vy(t,r.triggerRef);return vi.jsx(ev.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":zF(r.open),...a,ref:i,onClick:Uy(e.onClick,r.onOpenToggle)})}));yF.displayName=xF;var vF="DialogPortal",[bF,wF]=fF(vF,{forceMount:void 0}),jF=e=>{const{__scopeDialog:t,forceMount:n,children:a,container:r}=e,i=hF(vF,t);return vi.jsx(bF,{scope:t,forceMount:n,children:ci.Children.map(a,(e=>vi.jsx(gv,{present:n||i.open,children:vi.jsx(hv,{asChild:!0,container:r,children:e})})))})};jF.displayName=vF;var NF="DialogOverlay",CF=ci.forwardRef(((e,t)=>{const n=wF(NF,e.__scopeDialog),{forceMount:a=n.forceMount,...r}=e,i=hF(NF,e.__scopeDialog);return i.modal?vi.jsx(gv,{present:a||i.open,children:vi.jsx(kF,{...r,ref:t})}):null}));CF.displayName=NF;var SF=Yy("DialogOverlay.RemoveScroll"),kF=ci.forwardRef(((e,t)=>{const{__scopeDialog:n,...a}=e,r=hF(NF,n);return vi.jsx(ID,{as:SF,allowPinchZoom:!0,shards:[r.contentRef],children:vi.jsx(ev.div,{"data-state":zF(r.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})})),MF="DialogContent",_F=ci.forwardRef(((e,t)=>{const n=wF(MF,e.__scopeDialog),{forceMount:a=n.forceMount,...r}=e,i=hF(MF,e.__scopeDialog);return vi.jsx(gv,{present:a||i.open,children:i.modal?vi.jsx(EF,{...r,ref:t}):vi.jsx(IF,{...r,ref:t})})}));_F.displayName=MF;var EF=ci.forwardRef(((e,t)=>{const n=hF(MF,e.__scopeDialog),a=ci.useRef(null),r=Vy(t,n.contentRef,a);return ci.useEffect((()=>{const e=a.current;if(e)return GT(e)}),[]),vi.jsx(LF,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Uy(e.onCloseAutoFocus,(e=>{var t;e.preventDefault(),null==(t=n.triggerRef.current)||t.focus()})),onPointerDownOutside:Uy(e.onPointerDownOutside,(e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()})),onFocusOutside:Uy(e.onFocusOutside,(e=>e.preventDefault()))})})),IF=ci.forwardRef(((e,t)=>{const n=hF(MF,e.__scopeDialog),a=ci.useRef(!1),r=ci.useRef(!1);return vi.jsx(LF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var i,s;null==(i=e.onCloseAutoFocus)||i.call(e,t),t.defaultPrevented||(a.current||null==(s=n.triggerRef.current)||s.focus(),t.preventDefault()),a.current=!1,r.current=!1},onInteractOutside:t=>{var i,s;null==(i=e.onInteractOutside)||i.call(e,t),t.defaultPrevented||(a.current=!0,"pointerdown"===t.detail.originalEvent.type&&(r.current=!0));const o=t.target;(null==(s=n.triggerRef.current)?void 0:s.contains(o))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&r.current&&t.preventDefault()}})})),LF=ci.forwardRef(((e,t)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:r,onCloseAutoFocus:i,...s}=e,o=hF(MF,n),l=ci.useRef(null),c=Vy(t,l);return oT(),vi.jsxs(vi.Fragment,{children:[vi.jsx(fT,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:r,onUnmountAutoFocus:i,children:vi.jsx(lv,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":zF(o.open),...s,ref:c,onDismiss:()=>o.onOpenChange(!1)})}),vi.jsxs(vi.Fragment,{children:[vi.jsx(WF,{titleId:o.titleId}),vi.jsx(GF,{contentRef:l,descriptionId:o.descriptionId})]})]})})),AF="DialogTitle",TF=ci.forwardRef(((e,t)=>{const{__scopeDialog:n,...a}=e,r=hF(AF,n);return vi.jsx(ev.h2,{id:r.titleId,...a,ref:t})}));TF.displayName=AF;var DF="DialogDescription",PF=ci.forwardRef(((e,t)=>{const{__scopeDialog:n,...a}=e,r=hF(DF,n);return vi.jsx(ev.p,{id:r.descriptionId,...a,ref:t})}));PF.displayName=DF;var OF="DialogClose",RF=ci.forwardRef(((e,t)=>{const{__scopeDialog:n,...a}=e,r=hF(OF,n);return vi.jsx(ev.button,{type:"button",...a,ref:t,onClick:Uy(e.onClick,(()=>r.onOpenChange(!1)))})}));function zF(e){return e?"open":"closed"}RF.displayName=OF;var FF="DialogTitleWarning",[BF,UF]=function(e,t){const n=ci.createContext(t),a=e=>{const{children:t,...a}=e,r=ci.useMemo((()=>a),Object.values(a));return vi.jsx(n.Provider,{value:r,children:t})};return a.displayName=e+"Provider",[a,function(a){const r=ci.useContext(n);if(r)return r;if(void 0!==t)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}]}(FF,{contentName:MF,titleName:AF,docsSlug:"dialog"}),WF=({titleId:e})=>{const t=UF(FF),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return ci.useEffect((()=>{if(e){document.getElementById(e)||console.error(n)}}),[n,e]),null},GF=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${UF("DialogDescriptionWarning").contentName}}.`;return ci.useEffect((()=>{var a;const r=null==(a=e.current)?void 0:a.getAttribute("aria-describedby");if(t&&r){document.getElementById(t)||console.warn(n)}}),[n,e,t]),null},VF=gF,$F=yF,HF=jF,YF=CF,qF=_F,QF=TF,ZF=PF,JF=RF;const KF=VF,XF=$F,eB=HF,tB=JF,nB=ci.forwardRef((({className:e,...t},n)=>vi.jsx(YF,{ref:n,className:iN("fixed inset-0 z-100 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t})));nB.displayName=YF.displayName;const aB=ci.forwardRef((({className:e,children:t,...n},a)=>vi.jsxs(eB,{children:[vi.jsx(nB,{}),vi.jsxs(qF,{ref:a,className:iN("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg max-h-[85vh] translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg overflow-y-auto",e),...n,children:[vi.jsx("div",{className:"overflow-y-auto pr-1",children:t}),vi.jsxs(JF,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[vi.jsx(fj,{className:"h-4 w-4"}),vi.jsx("span",{className:"sr-only",children:"Close"})]})]})]})));aB.displayName=qF.displayName;const rB=({className:e,...t})=>vi.jsx("div",{className:iN("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});rB.displayName="DialogHeader";const iB=({className:e,...t})=>vi.jsx("div",{className:iN("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});iB.displayName="DialogFooter";const sB=ci.forwardRef((({className:e,...t},n)=>vi.jsx(QF,{ref:n,className:iN("text-lg  leading-none tracking-tight",e),...t})));sB.displayName=QF.displayName;const oB=ci.forwardRef((({className:e,...t},n)=>vi.jsx(ZF,{ref:n,className:iN("text-sm text-muted-foreground",e),...t})));oB.displayName=ZF.displayName;var lB=ci.forwardRef(((e,t)=>vi.jsx(ev.label,{...e,ref:t,onMouseDown:t=>{var n;t.target.closest("button, input, select, textarea")||(null==(n=e.onMouseDown)||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}})));lB.displayName="Label";var cB=lB;const dB=pb("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),uB=ci.forwardRef((({className:e,...t},n)=>vi.jsx(cB,{ref:n,className:iN(dB(),e),...t})));uB.displayName=cB.displayName;const fB=ci.forwardRef((({className:e,type:t,...n},a)=>vi.jsx("input",{type:t,className:iN("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...n})));fB.displayName="Input";const mB=ci.forwardRef((({className:e,...t},n)=>vi.jsx("textarea",{className:iN("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t})));function pB(e,[t,n]){return Math.min(n,Math.max(t,e))}function hB(e){const t=ci.useRef({value:e,previous:e});return ci.useMemo((()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous)),[e])}mB.displayName="Textarea";var gB=[" ","Enter","ArrowUp","ArrowDown"],xB=[" ","Enter"],yB="Select",[vB,bB,wB]=Xy(yB),[jB,NB]=$y(yB,[wB,KC]),CB=KC(),[SB,kB]=jB(yB),[MB,_B]=jB(yB),EB=e=>{const{__scopeSelect:t,children:n,open:a,defaultOpen:r,onOpenChange:i,value:s,defaultValue:o,onValueChange:l,dir:c,name:d,autoComplete:u,disabled:f,required:m,form:p}=e,h=CB(t),[g,x]=ci.useState(null),[y,v]=ci.useState(null),[b,w]=ci.useState(!1),j=iT(c),[N,C]=vv({prop:a,defaultProp:r??!1,onChange:i,caller:yB}),[S,k]=vv({prop:s,defaultProp:o,onChange:l,caller:yB}),M=ci.useRef(null),_=!g||(p||!!g.closest("form")),[E,I]=ci.useState(new Set),L=Array.from(E).map((e=>e.props.value)).join(";");return vi.jsx(pS,{...h,children:vi.jsxs(SB,{required:m,scope:t,trigger:g,onTriggerChange:x,valueNode:y,onValueNodeChange:v,valueNodeHasChildren:b,onValueNodeHasChildrenChange:w,contentId:yN(),value:S,onValueChange:k,open:N,onOpenChange:C,dir:j,triggerPointerDownPosRef:M,disabled:f,children:[vi.jsx(vB.Provider,{scope:t,children:vi.jsx(MB,{scope:e.__scopeSelect,onNativeOptionAdd:ci.useCallback((e=>{I((t=>new Set(t).add(e)))}),[]),onNativeOptionRemove:ci.useCallback((e=>{I((t=>{const n=new Set(t);return n.delete(e),n}))}),[]),children:n})}),_?vi.jsxs(gU,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:u,value:S,onChange:e=>k(e.target.value),disabled:f,form:p,children:[void 0===S?vi.jsx("option",{value:""}):null,Array.from(E)]},L):null]})})};EB.displayName=yB;var IB="SelectTrigger",LB=ci.forwardRef(((e,t)=>{const{__scopeSelect:n,disabled:a=!1,...r}=e,i=CB(n),s=kB(IB,n),o=s.disabled||a,l=Vy(t,s.onTriggerChange),c=bB(n),d=ci.useRef("touch"),[u,f,m]=yU((e=>{const t=c().filter((e=>!e.disabled)),n=t.find((e=>e.value===s.value)),a=vU(t,e,n);void 0!==a&&s.onValueChange(a.value)})),p=e=>{o||(s.onOpenChange(!0),m()),e&&(s.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return vi.jsx(hS,{asChild:!0,...i,children:vi.jsx(ev.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":xU(s.value)?"":void 0,...r,ref:l,onClick:Uy(r.onClick,(e=>{e.currentTarget.focus(),"mouse"!==d.current&&p(e)})),onPointerDown:Uy(r.onPointerDown,(e=>{d.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(p(e),e.preventDefault())})),onKeyDown:Uy(r.onKeyDown,(e=>{const t=""!==u.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||f(e.key),t&&" "===e.key||gB.includes(e.key)&&(p(),e.preventDefault())}))})})}));LB.displayName=IB;var AB="SelectValue",TB=ci.forwardRef(((e,t)=>{const{__scopeSelect:n,className:a,style:r,children:i,placeholder:s="",...o}=e,l=kB(AB,n),{onValueNodeHasChildrenChange:c}=l,d=void 0!==i,u=Vy(t,l.onValueNodeChange);return pv((()=>{c(d)}),[c,d]),vi.jsx(ev.span,{...o,ref:u,style:{pointerEvents:"none"},children:xU(l.value)?vi.jsx(vi.Fragment,{children:s}):i})}));TB.displayName=AB;var DB=ci.forwardRef(((e,t)=>{const{__scopeSelect:n,children:a,...r}=e;return vi.jsx(ev.span,{"aria-hidden":!0,...r,ref:t,children:a||"▼"})}));DB.displayName="SelectIcon";var PB=e=>vi.jsx(hv,{asChild:!0,...e});PB.displayName="SelectPortal";var OB="SelectContent",RB=ci.forwardRef(((e,t)=>{const n=kB(OB,e.__scopeSelect),[a,r]=ci.useState();if(pv((()=>{r(new DocumentFragment)}),[]),!n.open){const t=a;return t?kg.createPortal(vi.jsx(FB,{scope:e.__scopeSelect,children:vi.jsx(vB.Slot,{scope:e.__scopeSelect,children:vi.jsx("div",{children:e.children})})}),t):null}return vi.jsx(WB,{...e,ref:t})}));RB.displayName=OB;var zB=10,[FB,BB]=jB(OB),UB=Yy("SelectContent.RemoveScroll"),WB=ci.forwardRef(((e,t)=>{const{__scopeSelect:n,position:a="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:i,onPointerDownOutside:s,side:o,sideOffset:l,align:c,alignOffset:d,arrowPadding:u,collisionBoundary:f,collisionPadding:m,sticky:p,hideWhenDetached:h,avoidCollisions:g,...x}=e,y=kB(OB,n),[v,b]=ci.useState(null),[w,j]=ci.useState(null),N=Vy(t,(e=>b(e))),[C,S]=ci.useState(null),[k,M]=ci.useState(null),_=bB(n),[E,I]=ci.useState(!1),L=ci.useRef(!1);ci.useEffect((()=>{if(v)return GT(v)}),[v]),oT();const A=ci.useCallback((e=>{const[t,...n]=_().map((e=>e.ref.current)),[a]=n.slice(-1),r=document.activeElement;for(const i of e){if(i===r)return;if(null==i||i.scrollIntoView({block:"nearest"}),i===t&&w&&(w.scrollTop=0),i===a&&w&&(w.scrollTop=w.scrollHeight),null==i||i.focus(),document.activeElement!==r)return}}),[_,w]),T=ci.useCallback((()=>A([C,v])),[A,C,v]);ci.useEffect((()=>{E&&T()}),[E,T]);const{onOpenChange:D,triggerPointerDownPosRef:P}=y;ci.useEffect((()=>{if(v){let e={x:0,y:0};const t=t=>{var n,a;e={x:Math.abs(Math.round(t.pageX)-((null==(n=P.current)?void 0:n.x)??0)),y:Math.abs(Math.round(t.pageY)-((null==(a=P.current)?void 0:a.y)??0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():v.contains(n.target)||D(!1),document.removeEventListener("pointermove",t),P.current=null};return null!==P.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}}),[v,D,P]),ci.useEffect((()=>{const e=()=>D(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}}),[D]);const[O,R]=yU((e=>{const t=_().filter((e=>!e.disabled)),n=t.find((e=>e.ref.current===document.activeElement)),a=vU(t,e,n);a&&setTimeout((()=>a.ref.current.focus()))})),z=ci.useCallback(((e,t,n)=>{const a=!L.current&&!n;(void 0!==y.value&&y.value===t||a)&&(S(e),a&&(L.current=!0))}),[y.value]),F=ci.useCallback((()=>null==v?void 0:v.focus()),[v]),B=ci.useCallback(((e,t,n)=>{const a=!L.current&&!n;(void 0!==y.value&&y.value===t||a)&&M(e)}),[y.value]),U="popper"===a?VB:GB,W=U===VB?{side:o,sideOffset:l,align:c,alignOffset:d,arrowPadding:u,collisionBoundary:f,collisionPadding:m,sticky:p,hideWhenDetached:h,avoidCollisions:g}:{};return vi.jsx(FB,{scope:n,content:v,viewport:w,onViewportChange:j,itemRefCallback:z,selectedItem:C,onItemLeave:F,itemTextRefCallback:B,focusSelectedItem:T,selectedItemText:k,position:a,isPositioned:E,searchRef:O,children:vi.jsx(ID,{as:UB,allowPinchZoom:!0,children:vi.jsx(fT,{asChild:!0,trapped:y.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:Uy(r,(e=>{var t;null==(t=y.trigger)||t.focus({preventScroll:!0}),e.preventDefault()})),children:vi.jsx(lv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:vi.jsx(U,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:e=>e.preventDefault(),...x,...W,onPlaced:()=>I(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Uy(x.onKeyDown,(e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||R(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=_().filter((e=>!e.disabled)).map((e=>e.ref.current));if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const n=e.target,a=t.indexOf(n);t=t.slice(a+1)}setTimeout((()=>A(t))),e.preventDefault()}}))})})})})})}));WB.displayName="SelectContentImpl";var GB=ci.forwardRef(((e,t)=>{const{__scopeSelect:n,onPlaced:a,...r}=e,i=kB(OB,n),s=BB(OB,n),[o,l]=ci.useState(null),[c,d]=ci.useState(null),u=Vy(t,(e=>d(e))),f=bB(n),m=ci.useRef(!1),p=ci.useRef(!0),{viewport:h,selectedItem:g,selectedItemText:x,focusSelectedItem:y}=s,v=ci.useCallback((()=>{if(i.trigger&&i.valueNode&&o&&c&&h&&g&&x){const e=i.trigger.getBoundingClientRect(),t=c.getBoundingClientRect(),n=i.valueNode.getBoundingClientRect(),r=x.getBoundingClientRect();if("rtl"!==i.dir){const a=r.left-t.left,i=n.left-a,s=e.left-i,l=e.width+s,c=Math.max(l,t.width),d=window.innerWidth-zB,u=pB(i,[zB,Math.max(zB,d-c)]);o.style.minWidth=l+"px",o.style.left=u+"px"}else{const a=t.right-r.right,i=window.innerWidth-n.right-a,s=window.innerWidth-e.right-i,l=e.width+s,c=Math.max(l,t.width),d=window.innerWidth-zB,u=pB(i,[zB,Math.max(zB,d-c)]);o.style.minWidth=l+"px",o.style.right=u+"px"}const s=f(),l=window.innerHeight-2*zB,d=h.scrollHeight,u=window.getComputedStyle(c),p=parseInt(u.borderTopWidth,10),y=parseInt(u.paddingTop,10),v=parseInt(u.borderBottomWidth,10),b=p+y+d+parseInt(u.paddingBottom,10)+v,w=Math.min(5*g.offsetHeight,b),j=window.getComputedStyle(h),N=parseInt(j.paddingTop,10),C=parseInt(j.paddingBottom,10),S=e.top+e.height/2-zB,k=l-S,M=g.offsetHeight/2,_=p+y+(g.offsetTop+M),E=b-_;if(_<=S){const e=s.length>0&&g===s[s.length-1].ref.current;o.style.bottom="0px";const t=c.clientHeight-h.offsetTop-h.offsetHeight,n=_+Math.max(k,M+(e?C:0)+t+v);o.style.height=n+"px"}else{const e=s.length>0&&g===s[0].ref.current;o.style.top="0px";const t=Math.max(S,p+h.offsetTop+(e?N:0)+M)+E;o.style.height=t+"px",h.scrollTop=_-S+h.offsetTop}o.style.margin=`${zB}px 0`,o.style.minHeight=w+"px",o.style.maxHeight=l+"px",null==a||a(),requestAnimationFrame((()=>m.current=!0))}}),[f,i.trigger,i.valueNode,o,c,h,g,x,i.dir,a]);pv((()=>v()),[v]);const[b,w]=ci.useState();pv((()=>{c&&w(window.getComputedStyle(c).zIndex)}),[c]);const j=ci.useCallback((e=>{e&&!0===p.current&&(v(),null==y||y(),p.current=!1)}),[v,y]);return vi.jsx($B,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:m,onScrollButtonChange:j,children:vi.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:vi.jsx(ev.div,{...r,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})}));GB.displayName="SelectItemAlignedPosition";var VB=ci.forwardRef(((e,t)=>{const{__scopeSelect:n,align:a="start",collisionPadding:r=zB,...i}=e,s=CB(n);return vi.jsx(gS,{...s,...i,ref:t,align:a,collisionPadding:r,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})}));VB.displayName="SelectPopperPosition";var[$B,HB]=jB(OB,{}),YB="SelectViewport",qB=ci.forwardRef(((e,t)=>{const{__scopeSelect:n,nonce:a,...r}=e,i=BB(YB,n),s=HB(YB,n),o=Vy(t,i.onViewportChange),l=ci.useRef(0);return vi.jsxs(vi.Fragment,{children:[vi.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),vi.jsx(vB.Slot,{scope:n,children:vi.jsx(ev.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:Uy(r.onScroll,(e=>{const t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:a}=s;if((null==a?void 0:a.current)&&n){const e=Math.abs(l.current-t.scrollTop);if(e>0){const a=window.innerHeight-2*zB,r=parseFloat(n.style.minHeight),i=parseFloat(n.style.height),s=Math.max(r,i);if(s<a){const r=s+e,i=Math.min(a,r),o=r-i;n.style.height=i+"px","0px"===n.style.bottom&&(t.scrollTop=o>0?o:0,n.style.justifyContent="flex-end")}}}l.current=t.scrollTop}))})})]})}));qB.displayName=YB;var QB="SelectGroup",[ZB,JB]=jB(QB),KB=ci.forwardRef(((e,t)=>{const{__scopeSelect:n,...a}=e,r=yN();return vi.jsx(ZB,{scope:n,id:r,children:vi.jsx(ev.div,{role:"group","aria-labelledby":r,...a,ref:t})})}));KB.displayName=QB;var XB="SelectLabel",eU=ci.forwardRef(((e,t)=>{const{__scopeSelect:n,...a}=e,r=JB(XB,n);return vi.jsx(ev.div,{id:r.id,...a,ref:t})}));eU.displayName=XB;var tU="SelectItem",[nU,aU]=jB(tU),rU=ci.forwardRef(((e,t)=>{const{__scopeSelect:n,value:a,disabled:r=!1,textValue:i,...s}=e,o=kB(tU,n),l=BB(tU,n),c=o.value===a,[d,u]=ci.useState(i??""),[f,m]=ci.useState(!1),p=Vy(t,(e=>{var t;return null==(t=l.itemRefCallback)?void 0:t.call(l,e,a,r)})),h=yN(),g=ci.useRef("touch"),x=()=>{r||(o.onValueChange(a),o.onOpenChange(!1))};if(""===a)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return vi.jsx(nU,{scope:n,value:a,disabled:r,textId:h,isSelected:c,onItemTextChange:ci.useCallback((e=>{u((t=>t||((null==e?void 0:e.textContent)??"").trim()))}),[]),children:vi.jsx(vB.ItemSlot,{scope:n,value:a,disabled:r,textValue:d,children:vi.jsx(ev.div,{role:"option","aria-labelledby":h,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...s,ref:p,onFocus:Uy(s.onFocus,(()=>m(!0))),onBlur:Uy(s.onBlur,(()=>m(!1))),onClick:Uy(s.onClick,(()=>{"mouse"!==g.current&&x()})),onPointerUp:Uy(s.onPointerUp,(()=>{"mouse"===g.current&&x()})),onPointerDown:Uy(s.onPointerDown,(e=>{g.current=e.pointerType})),onPointerMove:Uy(s.onPointerMove,(e=>{var t;g.current=e.pointerType,r?null==(t=l.onItemLeave)||t.call(l):"mouse"===g.current&&e.currentTarget.focus({preventScroll:!0})})),onPointerLeave:Uy(s.onPointerLeave,(e=>{var t;e.currentTarget===document.activeElement&&(null==(t=l.onItemLeave)||t.call(l))})),onKeyDown:Uy(s.onKeyDown,(e=>{var t;""!==(null==(t=l.searchRef)?void 0:t.current)&&" "===e.key||(xB.includes(e.key)&&x()," "===e.key&&e.preventDefault())}))})})})}));rU.displayName=tU;var iU="SelectItemText",sU=ci.forwardRef(((e,t)=>{const{__scopeSelect:n,className:a,style:r,...i}=e,s=kB(iU,n),o=BB(iU,n),l=aU(iU,n),c=_B(iU,n),[d,u]=ci.useState(null),f=Vy(t,(e=>u(e)),l.onItemTextChange,(e=>{var t;return null==(t=o.itemTextRefCallback)?void 0:t.call(o,e,l.value,l.disabled)})),m=null==d?void 0:d.textContent,p=ci.useMemo((()=>vi.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value)),[l.disabled,l.value,m]),{onNativeOptionAdd:h,onNativeOptionRemove:g}=c;return pv((()=>(h(p),()=>g(p))),[h,g,p]),vi.jsxs(vi.Fragment,{children:[vi.jsx(ev.span,{id:l.textId,...i,ref:f}),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?kg.createPortal(i.children,s.valueNode):null]})}));sU.displayName=iU;var oU="SelectItemIndicator",lU=ci.forwardRef(((e,t)=>{const{__scopeSelect:n,...a}=e;return aU(oU,n).isSelected?vi.jsx(ev.span,{"aria-hidden":!0,...a,ref:t}):null}));lU.displayName=oU;var cU="SelectScrollUpButton",dU=ci.forwardRef(((e,t)=>{const n=BB(cU,e.__scopeSelect),a=HB(cU,e.__scopeSelect),[r,i]=ci.useState(!1),s=Vy(t,a.onScrollButtonChange);return pv((()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollTop>0;i(e)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}}),[n.viewport,n.isPositioned]),r?vi.jsx(mU,{...e,ref:s,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null}));dU.displayName=cU;var uU="SelectScrollDownButton",fU=ci.forwardRef(((e,t)=>{const n=BB(uU,e.__scopeSelect),a=HB(uU,e.__scopeSelect),[r,i]=ci.useState(!1),s=Vy(t,a.onScrollButtonChange);return pv((()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,n=Math.ceil(t.scrollTop)<e;i(n)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}}),[n.viewport,n.isPositioned]),r?vi.jsx(mU,{...e,ref:s,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null}));fU.displayName=uU;var mU=ci.forwardRef(((e,t)=>{const{__scopeSelect:n,onAutoScroll:a,...r}=e,i=BB("SelectScrollButton",n),s=ci.useRef(null),o=bB(n),l=ci.useCallback((()=>{null!==s.current&&(window.clearInterval(s.current),s.current=null)}),[]);return ci.useEffect((()=>()=>l()),[l]),pv((()=>{var e;const t=o().find((e=>e.ref.current===document.activeElement));null==(e=null==t?void 0:t.ref.current)||e.scrollIntoView({block:"nearest"})}),[o]),vi.jsx(ev.div,{"aria-hidden":!0,...r,ref:t,style:{flexShrink:0,...r.style},onPointerDown:Uy(r.onPointerDown,(()=>{null===s.current&&(s.current=window.setInterval(a,50))})),onPointerMove:Uy(r.onPointerMove,(()=>{var e;null==(e=i.onItemLeave)||e.call(i),null===s.current&&(s.current=window.setInterval(a,50))})),onPointerLeave:Uy(r.onPointerLeave,(()=>{l()}))})})),pU=ci.forwardRef(((e,t)=>{const{__scopeSelect:n,...a}=e;return vi.jsx(ev.div,{"aria-hidden":!0,...a,ref:t})}));pU.displayName="SelectSeparator";var hU="SelectArrow";ci.forwardRef(((e,t)=>{const{__scopeSelect:n,...a}=e,r=CB(n),i=kB(hU,n),s=BB(hU,n);return i.open&&"popper"===s.position?vi.jsx(xS,{...r,...a,ref:t}):null})).displayName=hU;var gU=ci.forwardRef((({__scopeSelect:e,value:t,...n},a)=>{const r=ci.useRef(null),i=Vy(a,r),s=hB(t);return ci.useEffect((()=>{const e=r.current;if(!e)return;const n=window.HTMLSelectElement.prototype,a=Object.getOwnPropertyDescriptor(n,"value").set;if(s!==t&&a){const n=new Event("change",{bubbles:!0});a.call(e,t),e.dispatchEvent(n)}}),[s,t]),vi.jsx(ev.select,{...n,style:{...bv,...n.style},ref:i,defaultValue:t})}));function xU(e){return""===e||void 0===e}function yU(e){const t=nv(e),n=ci.useRef(""),a=ci.useRef(0),r=ci.useCallback((e=>{const r=n.current+e;t(r),function e(t){n.current=t,window.clearTimeout(a.current),""!==t&&(a.current=window.setTimeout((()=>e("")),1e3))}(r)}),[t]),i=ci.useCallback((()=>{n.current="",window.clearTimeout(a.current)}),[]);return ci.useEffect((()=>()=>window.clearTimeout(a.current)),[]),[n,r,i]}function vU(e,t,n){const a=t.length>1&&Array.from(t).every((e=>e===t[0]))?t[0]:t,r=n?e.indexOf(n):-1;let i=(s=e,o=Math.max(r,0),s.map(((e,t)=>s[(o+t)%s.length])));var s,o;1===a.length&&(i=i.filter((e=>e!==n)));const l=i.find((e=>e.textValue.toLowerCase().startsWith(a.toLowerCase())));return l!==n?l:void 0}gU.displayName="SelectBubbleInput";var bU=LB,wU=DB,jU=PB,NU=RB,CU=qB,SU=eU,kU=rU,MU=sU,_U=lU,EU=dU,IU=fU,LU=pU;const AU=EB,TU=KB,DU=TB,PU=ci.forwardRef((({className:e,children:t,...n},a)=>vi.jsxs(bU,{ref:a,className:iN("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,vi.jsx(wU,{asChild:!0,children:vi.jsx(_b,{className:"h-4 w-4 opacity-50"})})]})));PU.displayName=bU.displayName;const OU=ci.forwardRef((({className:e,...t},n)=>vi.jsx(EU,{ref:n,className:iN("flex cursor-default items-center justify-center py-1",e),...t,children:vi.jsx(Lb,{className:"h-4 w-4"})})));OU.displayName=EU.displayName;const RU=ci.forwardRef((({className:e,...t},n)=>vi.jsx(IU,{ref:n,className:iN("flex cursor-default items-center justify-center py-1",e),...t,children:vi.jsx(_b,{className:"h-4 w-4"})})));RU.displayName=IU.displayName;const zU=ci.forwardRef((({className:e,children:t,position:n="popper",...a},r)=>vi.jsx(jU,{children:vi.jsxs(NU,{ref:r,className:iN("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...a,children:[vi.jsx(OU,{}),vi.jsx(CU,{className:iN("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),vi.jsx(RU,{})]})})));zU.displayName=NU.displayName;ci.forwardRef((({className:e,...t},n)=>vi.jsx(SU,{ref:n,className:iN("py-1.5 pl-8 pr-2 text-sm ",e),...t}))).displayName=SU.displayName;const FU=ci.forwardRef((({className:e,children:t,...n},a)=>vi.jsxs(kU,{ref:a,className:iN("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[vi.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:vi.jsx(_U,{children:vi.jsx(Mb,{className:"h-4 w-4"})})}),vi.jsx(MU,{children:t})]})));FU.displayName=kU.displayName;function BU({isOpen:e,onClose:t,onConversationCreated:n}){const[a,r]=ci.useState(""),[i,s]=ci.useState(""),[o,l]=ci.useState(null),[c,d]=ci.useState(""),[u,f]=ci.useState(!1),[m,p]=ci.useState([]),{toast:h}=By(),{t:g}=sk(),x=by(),{data:y=[],isLoading:v}=ky({queryKey:["/api/channel-connections"],staleTime:3e5}),b=y.filter((e=>("whatsapp_unofficial"===e.channelType||"whatsapp"===e.channelType)&&"active"===e.status));ci.useEffect((()=>{b.length>0&&!o&&l(b[0].id)}),[b,o]);const w=My({mutationFn:async e=>{const t=await Ey("POST","/api/conversations/whatsapp/initiate",e);if(!t.ok){const e=await t.json();throw new Error(e.message||g("new_conversation.create_failed","Failed to create conversation"))}return t.json()},onSuccess:e=>{h({title:g("common.success","Success"),description:g("new_conversation.success_message","WhatsApp conversation initiated successfully.")}),x.invalidateQueries({queryKey:["/api/conversations"]}),n&&n(e.conversation),j(),t()},onError:e=>{h({title:g("common.error","Error"),description:e.message||g("new_conversation.create_error","Failed to create conversation. Please try again."),variant:"destructive"})},onSettled:()=>{f(!1)}}),j=()=>{r(""),s(""),d(""),p([]),l(b.length>0?b[0].id:null)},N=()=>{u||(j(),t())};return vi.jsx(KF,{open:e,onOpenChange:e=>!e&&N(),children:vi.jsxs(aB,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto z-[9999]",children:[vi.jsxs(rB,{children:[vi.jsxs(sB,{className:"flex items-center gap-2",children:[vi.jsx(xw,{className:"w-5 h-5 text-green-600"}),g("new_conversation.title","Start New WhatsApp Conversation")]}),vi.jsx(oB,{children:g("new_conversation.description","Enter contact details to initiate a new WhatsApp conversation.")})]}),m.length>0&&vi.jsx(QO,{variant:"destructive",children:vi.jsx(JO,{children:vi.jsx("ul",{className:"list-disc list-inside space-y-1",children:m.map(((e,t)=>vi.jsx("li",{children:e},t)))})})}),!v&&0===b.length&&vi.jsx(QO,{children:vi.jsx(JO,{children:g("new_conversation.no_connections","No active WhatsApp connections found. Please connect WhatsApp in Settings first.")})}),vi.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e=[];a.trim()||e.push(g("new_conversation.name_required","Contact name is required")),i.trim()?i.replace(/\D/g,"").length<10&&e.push(g("new_conversation.phone_invalid","Please enter a valid phone number with at least 10 digits")):e.push(g("new_conversation.phone_required","Phone number is required"));return o||e.push(g("new_conversation.connection_required","Please select a WhatsApp connection")),0===b.length&&e.push(g("new_conversation.no_connections","No active WhatsApp connections found. Please connect WhatsApp in Settings first.")),p(e),0===e.length})())if(o)try{f(!0),await w.mutateAsync({name:a.trim(),phoneNumber:i.trim(),channelConnectionId:o,initialMessage:c.trim()||void 0})}catch(t){}else h({title:g("new_conversation.no_connection_selected","No Connection Selected"),description:g("new_conversation.select_connection","Please select a WhatsApp connection."),variant:"destructive"})},className:"space-y-4",children:[vi.jsxs("div",{className:"space-y-2",children:[vi.jsxs(uB,{htmlFor:"name",className:"flex items-center gap-2",children:[vi.jsx(sj,{className:"w-4 h-4"}),g("new_conversation.contact_name_required","Contact Name *")]}),vi.jsx(fB,{id:"name",value:a,onChange:e=>{r(e.target.value),m.length>0&&p([])},placeholder:g("new_conversation.enter_contact_name","Enter contact's full name"),required:!0,disabled:u})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsxs(uB,{htmlFor:"phone",className:"flex items-center gap-2",children:[vi.jsx(kw,{className:"w-4 h-4"}),g("new_conversation.phone_number_required","Phone Number *")]}),vi.jsx(fB,{id:"phone",type:"tel",value:i,onChange:e=>{const t=e.target.value.replace(/[^\d\s\-\(\)\+]/g,"");s(t),m.length>0&&p([])},placeholder:g("new_conversation.enter_phone_number","Enter phone number (e.g., +1234567890)"),required:!0,disabled:u}),vi.jsx("p",{className:"text-sm text-gray-500",children:g("new_conversation.include_country_code","Include country code for international numbers")})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsxs(uB,{htmlFor:"connection",className:"flex items-center gap-2",children:[vi.jsx("i",{className:"ri-whatsapp-line w-4 h-4 text-green-600"}),g("new_conversation.whatsapp_connection_required","WhatsApp Connection *")]}),v?vi.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded",children:[vi.jsx(uw,{className:"w-4 h-4 animate-spin"}),g("new_conversation.loading_connections","Loading connections...")]}):b.length>0?vi.jsxs(AU,{value:(null==o?void 0:o.toString())||"",onValueChange:e=>l(parseInt(e)),disabled:u,children:[vi.jsx(PU,{children:vi.jsx(DU,{placeholder:g("new_conversation.select_whatsapp_connection","Select WhatsApp connection")})}),vi.jsx(zU,{children:b.map((e=>vi.jsx(FU,{value:e.id.toString(),children:vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.accountName||`WhatsApp ${e.id}`,vi.jsxs("span",{className:"text-xs text-gray-500",children:["(",e.channelType,")"]})]})},e.id)))})]}):vi.jsx("div",{className:"p-2 border rounded bg-gray-50 text-gray-600 text-sm",children:g("new_conversation.no_connections_available","No active WhatsApp connections available")})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsxs(uB,{htmlFor:"message",className:"flex items-center gap-2",children:[vi.jsx(xw,{className:"w-4 h-4"}),g("new_conversation.initial_message_optional","Initial Message (Optional)")]}),vi.jsx(mB,{id:"message",value:c,onChange:e=>d(e.target.value),placeholder:g("new_conversation.enter_initial_message","Enter an optional first message to send..."),rows:3,disabled:u}),vi.jsx("p",{className:"text-sm text-gray-500",children:g("new_conversation.initial_message_help","This message will be sent immediately after creating the conversation")})]}),vi.jsxs(iB,{className:"flex flex-col sm:flex-row gap-2",children:[vi.jsx(tk,{type:"button",variant:"outline",onClick:N,disabled:u,className:"w-full sm:w-auto",children:g("common.cancel","Cancel")}),vi.jsx(tk,{type:"submit",disabled:u||0===b.length,className:"w-full sm:w-auto btn-brand-primary",children:u?vi.jsxs(vi.Fragment,{children:[vi.jsx(uw,{className:"w-4 h-4 mr-2 animate-spin"}),g("new_conversation.creating","Creating...")]}):vi.jsxs(vi.Fragment,{children:[vi.jsx(xw,{className:"w-4 h-4 mr-2"}),g("new_conversation.start_conversation","Start Conversation")]})})]})]})]})})}ci.forwardRef((({className:e,...t},n)=>vi.jsx(LU,{ref:n,className:iN("-mx-1 my-1 h-px bg-muted",e),...t}))).displayName=LU.displayName;const UU=ci.createContext(void 0);function WU({children:e}){const[t,n]=ci.useState(!1),[a,r]=ci.useState(!1),[i,s]=ci.useState(!0),[o,l]=ci.useState(!1),[c,d]=ci.useState(!1);ci.useEffect((()=>{const e=()=>{const e=window.innerWidth,t=e<768,a=e>=768&&e<1024,i=e>=1024;n(t),r(a),s(i),t?(l(!1),d(!1)):i&&(l(!0),d(!1))};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]);const u=e=>{l(e),e&&t&&d(!1)},f=e=>{d(e),e&&t&&l(!1)},m={isMobile:t,isTablet:a,isDesktop:i,isConversationListOpen:o,isContactDetailsOpen:c,setConversationListOpen:u,setContactDetailsOpen:f,toggleConversationList:()=>{u(!o)},toggleContactDetails:()=>{console.log("🔄 Toggling contact details from:",c,"to:",!c),f(!c)},closeAllPanels:()=>{l(!1),d(!1)}};return vi.jsx(UU.Provider,{value:m,children:e})}function GU(){const e=ci.useContext(UU);if(void 0===e)throw new Error("useMobileLayout must be used within a MobileLayoutProvider");return e}function VU(){const{conversations:e,isLoading:t,activeConversationId:n,setActiveConversationId:a,activeChannelId:r,setActiveChannelId:i}=HO(),{t:s}=sk(),[o,l]=ci.useState("all"),[c,d]=ci.useState(""),[u,f]=ci.useState(!1),{user:m}=nT(),{canViewAllConversations:p,canOnlyViewAssignedConversations:h}=zO(),{isMobile:g,isTablet:x,toggleConversationList:y,setConversationListOpen:v}=GU(),{data:b}=ky({queryKey:["/api/users/me"]});ci.useEffect((()=>{h()&&!(null==m?void 0:m.isSuperAdmin)&&l("assigned_to_me")}),[h,null==m?void 0:m.isSuperAdmin]);if(t)return vi.jsxs("div",{className:`\n        ${g?"w-full":"w-72 lg:w-80"}\n        border-r border-gray-200 bg-white flex-shrink-0 overflow-hidden flex flex-col\n        ${g?"h-full":""}\n      `,children:[vi.jsx("div",{className:"p-3 sm:p-4 border-b border-gray-200",children:vi.jsx("h2",{className:"text-lg font-medium",children:s("inbox.conversations","Conversations")})}),vi.jsx("div",{className:"flex-1 flex items-center justify-center",children:vi.jsxs("div",{className:"animate-pulse flex flex-col w-full p-3 sm:p-4 space-y-3",children:[vi.jsx("div",{className:"h-10 sm:h-12 bg-gray-200 rounded w-full"}),vi.jsx("div",{className:"h-16 sm:h-20 bg-gray-200 rounded w-full"}),vi.jsx("div",{className:"h-16 sm:h-20 bg-gray-200 rounded w-full"}),vi.jsx("div",{className:"h-16 sm:h-20 bg-gray-200 rounded w-full"})]})})]});const w=e.filter((e=>null===r||e.channelId===r)).filter((e=>!(h()&&!(null==m?void 0:m.isSuperAdmin)&&e.assignedToUserId!==(null==b?void 0:b.id))&&("all"===o||("assigned"===o?null!==e.assignedToUserId:"unassigned"===o?null===e.assignedToUserId:"assigned_to_me"!==o||e.assignedToUserId===(null==b?void 0:b.id))))).filter((e=>{var t,n,a;if(!c)return!0;const r=c.toLowerCase().trim(),i=e.contact;return!!i&&(!!(null==(t=i.name)?void 0:t.toLowerCase().includes(r))||(!!(null==(n=i.phone)?void 0:n.toLowerCase().includes(r))||(!!(null==(a=i.email)?void 0:a.toLowerCase().includes(r))||!(!i.tags||!Array.isArray(i.tags))&&i.tags.some((e=>e.toLowerCase().includes(r))))))})).sort(((e,t)=>new Date(t.lastMessageAt).getTime()-new Date(e.lastMessageAt).getTime()));return vi.jsxs("div",{className:`\n        ${g?"w-full":"w-72 lg:w-80"}\n        border-r border-gray-200 bg-white flex-shrink-0 overflow-hidden flex flex-col\n        ${g?"h-full":""}\n      `,onClick:e=>e.stopPropagation(),children:[vi.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-200 flex justify-between items-center",children:[vi.jsxs("div",{className:"flex-1 min-w-0",children:[vi.jsxs("div",{className:"flex items-center gap-2",children:[g&&vi.jsx("button",{onClick:y,className:"p-2 rounded-md hover:bg-gray-100 lg:hidden","aria-label":s("inbox.close_conversations","Close conversations"),children:vi.jsx("i",{className:"ri-close-line text-lg text-gray-600"})}),vi.jsx("h2",{className:"text-lg font-medium truncate",children:s("inbox.conversations","Conversations")})]}),r&&vi.jsxs("div",{className:"text-xs text-gray-500 mt-1 flex items-center",children:[vi.jsx("span",{className:"truncate",children:s("inbox.filtered_by_channel","Filtered by channel")}),vi.jsx("button",{onClick:()=>i(null),className:"ml-2 p-1 text-primary-600 hover:text-primary-800 rounded-full min-h-[44px] min-w-[44px] flex items-center justify-center",title:s("inbox.clear_channel_filter","Clear channel filter"),children:vi.jsx("i",{className:"ri-close-line text-xs"})})]})]}),vi.jsx("div",{className:"flex space-x-2 ml-2",children:vi.jsx("button",{className:"p-2 sm:p-1.5 rounded-md bg-primary-50 text-primary-600 hover:bg-primary-100 min-h-[44px] min-w-[44px] flex items-center justify-center",onClick:()=>f(!0),title:s("inbox.start_new_conversation","Start new conversation"),children:vi.jsx("i",{className:"ri-user-add-line text-lg sm:text-base"})})})]}),vi.jsx("div",{className:"p-3 sm:p-4 border-b border-gray-200 flex items-center bg-gray-50",children:vi.jsxs("div",{className:"relative flex-1",children:[vi.jsx("input",{type:"search",placeholder:s("inbox.search_conversations_enhanced","Search by name, tag, phone, email..."),className:"w-full pl-9 pr-4 py-3 sm:py-2 rounded-lg border border-gray-300 bg-white text-base sm:text-sm",value:c,onChange:e=>d(e.target.value)}),vi.jsx("i",{className:"ri-search-line absolute left-3 top-3.5 sm:top-2.5 text-gray-400"})]})}),vi.jsxs("div",{className:"flex px-3 sm:px-4 py-2 border-b border-gray-200 space-x-1 overflow-x-auto scrollbar-hide",children:[(p()||(null==m?void 0:m.isSuperAdmin))&&vi.jsx("button",{className:"px-3 sm:px-4 py-2 sm:py-1 rounded-full text-sm font-medium whitespace-nowrap min-h-[23px] sm:min-h-auto flex items-center "+("all"===o?"bg-primary-100 text-primary-700":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"),onClick:()=>l("all"),children:s("inbox.filter.all","All")}),(p()||(null==m?void 0:m.isSuperAdmin))&&vi.jsx("button",{className:"px-3 sm:px-4 py-2 sm:py-1 rounded-full text-sm font-medium whitespace-nowrap min-h-[23px] sm:min-h-auto flex items-center "+("unassigned"===o?"bg-primary-100 text-primary-700":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"),onClick:()=>l("unassigned"),children:s("inbox.filter.unassigned","Unassigned")}),vi.jsx("button",{className:"px-3 sm:px-4 py-2 sm:py-1 rounded-full text-sm font-medium whitespace-nowrap min-h-[23px] sm:min-h-auto flex items-center "+("assigned_to_me"===o?"bg-primary-100 text-primary-700":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"),onClick:()=>l("assigned_to_me"),children:s("inbox.filter.my_chats","My Chats")}),(p()||(null==m?void 0:m.isSuperAdmin))&&vi.jsx("button",{className:"px-3 sm:px-4 py-2 sm:py-1 rounded-full text-sm font-medium whitespace-nowrap min-h-[23px] sm:min-h-auto flex items-center "+("assigned"===o?"bg-primary-100 text-primary-700":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"),onClick:()=>l("assigned"),children:s("inbox.filter.assigned","Assigned")})]}),vi.jsx("div",{className:"overflow-y-auto flex-1 scrollbar-hide",children:0===w.length?vi.jsx("div",{className:"p-4 sm:p-6 text-center text-gray-500",children:vi.jsx("div",{className:"text-sm sm:text-base",children:s("inbox.no_conversations_found","No conversations found")})}):w.map((e=>vi.jsx(dF,{conversation:e,isActive:e.id===n,onClick:()=>{return t=e.id,a(t),void(g&&v(!1));var t},searchQuery:c},e.id)))}),vi.jsx(BU,{isOpen:u,onClose:()=>f(!1),onConversationCreated:e=>{e&&e.id&&(a(e.id),g&&v(!1))}})]})}const $U=({quotedMessageId:e,isInbound:t,onQuotedMessageClick:n})=>{const[a,r]=ci.useState(null),[i,s]=ci.useState(!0),[o,l]=ci.useState(null),{t:c}=sk();ci.useEffect((()=>{(async()=>{if(e)try{s(!0),l(null);const t=await fetch(`/api/messages/${e}`,{credentials:"include"});if(!t.ok)throw new Error("Failed to fetch quoted message");const n=await t.json();r(n)}catch(Bze){console.error("Error fetching quoted message:",Bze),l(Bze.message)}finally{s(!1)}else s(!1)})()}),[e]);return i?vi.jsxs("div",{className:`quoted-message-preview ${t?"inbound":"outbound"} loading`,children:[vi.jsx("div",{className:"quoted-border"}),vi.jsxs("div",{className:"quoted-content",children:[vi.jsx("div",{className:"quoted-sender",children:vi.jsx("div",{className:"loading-shimmer h-3 w-16 rounded"})}),vi.jsx("div",{className:"quoted-text",children:vi.jsx("div",{className:"loading-shimmer h-4 w-32 rounded"})})]})]}):o||!a?vi.jsxs("div",{className:`quoted-message-preview ${t?"inbound":"outbound"} error`,children:[vi.jsx("div",{className:"quoted-border"}),vi.jsxs("div",{className:"quoted-content",children:[vi.jsx("div",{className:"quoted-sender text-gray-500",children:c("quoted_message.deleted_sender","Unknown")}),vi.jsx("div",{className:"quoted-text text-gray-500 italic",children:c("quoted_message.deleted_message","This message was deleted")})]})]}):vi.jsxs("div",{className:`quoted-message-preview ${t?"inbound":"outbound"} ${n?"clickable":""}`,onClick:()=>{n&&n(e)},children:[vi.jsx("div",{className:"quoted-border"}),vi.jsxs("div",{className:"quoted-content",children:[vi.jsx("div",{className:"quoted-sender",children:a?"outbound"===a.direction?"user"===a.senderType?c("quoted_message.you","You"):c("quoted_message.assistant","Assistant"):"contact"===a.senderType?c("quoted_message.contact","Contact"):c("quoted_message.unknown_sender","Unknown"):c("quoted_message.unknown_sender","Unknown")}),vi.jsx("div",{className:"quoted-text",children:(()=>{if(!a)return"";const{type:e,content:t}=a;switch(e){case"image":return c("quoted_message.image","📷 Image");case"video":return c("quoted_message.video","🎥 Video");case"audio":return c("quoted_message.audio","🎵 Audio");case"document":return c("quoted_message.document","📄 Document");default:if(t&&"string"==typeof t&&t.trim().length>0){const e=sF(t),n=cF(e);return n.length>50?n.substring(0,50)+"...":n}return c("quoted_message.message","Message")}})()})]})]})};function HU({message:e,mediaUrl:t,onDownload:n,isDownloading:a=!1}){const{t:r}=sk(),[i,s]=ci.useState(!1),[o,l]=ci.useState(null),[c,d]=ci.useState(!0);ci.useEffect((()=>{t?u(t):d(!1)}),[t]);const u=async e=>{try{const t=(await fetch(e,{method:"HEAD"})).headers.get("content-length");if(t){const e=parseInt(t,10);l(e),s(e<=512e3)}else s(!0)}catch(t){console.error("Error checking media size:",t),s(!0)}finally{d(!1)}},f=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},m=e=>{var t;switch(null==(t=e.split(".").pop())?void 0:t.toLowerCase()){case"jpg":case"jpeg":case"png":case"gif":case"webp":return"Image";case"mp4":case"avi":case"mov":case"wmv":return"Video";case"mp3":case"wav":case"ogg":case"aac":return"Audio";case"pdf":return"PDF";case"doc":case"docx":return"Document";default:return"File"}};return(()=>{const{type:s="text",content:l}=e;if(c)return vi.jsx("div",{className:"flex items-center justify-center h-32 w-full bg-gray-100 rounded-md",children:vi.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[vi.jsx(uw,{className:"h-4 w-4 animate-spin"}),vi.jsx("span",{className:"text-sm",children:r("media.checking_size","Checking file size...")})]})});switch(s){case"image":return i&&t?vi.jsxs("div",{className:"message-media",children:[vi.jsx("div",{className:"relative rounded-md overflow-hidden bg-gray-100 mb-2",children:vi.jsx("img",{src:t,alt:r("message_bubble.image_message","Image message"),className:"max-w-full rounded-md object-contain",style:{maxHeight:"240px"},onError:e=>{var t,n;e.currentTarget.style.display="none",null==(t=e.currentTarget.parentElement)||t.classList.add("flex","items-center","justify-center","h-40");const a=document.createElement("i");a.className="ri-image-line text-4xl text-gray-400",null==(n=e.currentTarget.parentElement)||n.appendChild(a)}})}),l&&vi.jsx("p",{className:"whitespace-pre-wrap text-sm",children:l})]}):vi.jsxs("div",{className:"message-media",children:[vi.jsxs("div",{className:"flex flex-col items-center justify-center h-40 w-full bg-gray-200 rounded-md relative group",children:[vi.jsx("i",{className:"ri-image-line text-4xl text-gray-400 mb-2"}),vi.jsxs("div",{className:"text-center mb-3",children:[vi.jsx("p",{className:"text-sm text-gray-600 font-medium",children:m(t||"")}),o&&vi.jsx("p",{className:"text-xs text-gray-500",children:f(o)})]}),vi.jsx("button",{onClick:n,className:"flex items-center gap-2 bg-sky-500 hover:bg-sky-600 text-white py-2 px-4 rounded-md text-sm transition-all",disabled:a,children:a?vi.jsxs(vi.Fragment,{children:[vi.jsx(uw,{className:"h-4 w-4 animate-spin"}),vi.jsx("span",{children:r("message_bubble.downloading","Downloading...")})]}):vi.jsxs(vi.Fragment,{children:[vi.jsx(Hb,{className:"h-4 w-4"}),vi.jsx("span",{children:r("message_bubble.download_image","Download Image")})]})})]}),l&&vi.jsx("p",{className:"whitespace-pre-wrap text-sm mt-2",children:l})]});case"video":return i&&t?vi.jsxs("div",{className:"message-media",children:[vi.jsxs("video",{controls:!0,className:"max-w-full rounded-md",style:{maxHeight:"240px"},children:[vi.jsx("source",{src:t,type:"video/mp4"}),r("message_bubble.video_not_supported","Your browser does not support the video element.")]}),l&&vi.jsx("p",{className:"whitespace-pre-wrap text-sm mt-2",children:l})]}):vi.jsxs("div",{className:"message-media",children:[vi.jsxs("div",{className:"flex flex-col items-center justify-center h-40 w-full bg-gray-200 rounded-md",children:[vi.jsx("i",{className:"ri-video-line text-4xl text-gray-400 mb-2"}),vi.jsxs("div",{className:"text-center mb-3",children:[vi.jsx("p",{className:"text-sm text-gray-600 font-medium",children:m(t||"")}),o&&vi.jsx("p",{className:"text-xs text-gray-500",children:f(o)})]}),vi.jsx("button",{onClick:n,className:"flex items-center gap-2 bg-sky-500 hover:bg-sky-600 text-white py-2 px-4 rounded-md text-sm transition-all",disabled:a,children:a?vi.jsxs(vi.Fragment,{children:[vi.jsx(uw,{className:"h-4 w-4 animate-spin"}),vi.jsx("span",{children:r("message_bubble.downloading","Downloading...")})]}):vi.jsxs(vi.Fragment,{children:[vi.jsx(Hb,{className:"h-4 w-4"}),vi.jsx("span",{children:r("message_bubble.download_video","Download Video")})]})})]}),l&&vi.jsx("p",{className:"whitespace-pre-wrap text-sm mt-2",children:l})]});case"audio":return i&&t?vi.jsx("div",{className:"message-media",children:vi.jsxs("audio",{controls:!0,className:"max-w-full",children:[vi.jsx("source",{src:t,type:"audio/mpeg"}),r("message_bubble.audio_not_supported","Your browser does not support the audio element.")]})}):vi.jsx("div",{className:"message-media",children:vi.jsxs("div",{className:"flex items-center justify-between rounded-md bg-gray-100 p-3 w-full",children:[vi.jsxs("div",{className:"flex items-center",children:[vi.jsx("i",{className:"ri-file-music-line text-xl mr-3 text-gray-500"}),vi.jsxs("div",{children:[vi.jsx("p",{className:"text-sm font-medium text-gray-700",children:m(t||"")}),o&&vi.jsx("p",{className:"text-xs text-gray-500",children:f(o)})]})]}),vi.jsx("button",{onClick:n,className:"flex items-center gap-1 bg-sky-500 hover:bg-sky-600 text-white py-1 px-3 rounded-md text-xs transition-all ml-3",disabled:a,children:a?vi.jsxs(vi.Fragment,{children:[vi.jsx(uw,{className:"h-3 w-3 animate-spin"}),vi.jsx("span",{children:r("message_bubble.loading","Loading...")})]}):vi.jsxs(vi.Fragment,{children:[vi.jsx(Hb,{className:"h-3 w-3"}),vi.jsx("span",{children:r("message_bubble.download","Download")})]})})]})});case"document":return vi.jsxs("div",{className:"flex items-center justify-between rounded-md bg-gray-100 p-3 w-full",children:[vi.jsxs("div",{className:"flex items-center max-w-[70%]",children:[vi.jsx("i",{className:"ri-file-text-line text-xl mr-3 text-gray-500 flex-shrink-0"}),vi.jsxs("div",{className:"overflow-hidden",children:[vi.jsx("p",{className:"text-sm font-medium text-gray-700 truncate",children:l||r("message_bubble.document","Document")}),o&&vi.jsx("p",{className:"text-xs text-gray-500",children:f(o)})]})]}),t?vi.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 bg-sky-500 hover:bg-sky-600 text-white py-1 px-3 rounded-md text-xs transition-all ml-2 flex-shrink-0",children:[vi.jsx("i",{className:"ri-external-link-line"}),vi.jsx("span",{children:r("message_bubble.open","Open")})]}):vi.jsx("button",{onClick:n,className:"flex items-center gap-1 bg-sky-500 hover:bg-sky-600 text-white py-1 px-3 rounded-md text-xs transition-all ml-2 flex-shrink-0",disabled:a,children:a?vi.jsxs(vi.Fragment,{children:[vi.jsx(uw,{className:"h-3 w-3 animate-spin"}),vi.jsx("span",{children:r("message_bubble.loading","Loading...")})]}):vi.jsxs(vi.Fragment,{children:[vi.jsx(Hb,{className:"h-3 w-3"}),vi.jsx("span",{children:r("message_bubble.download","Download")})]})})]});case"sticker":return i&&t?vi.jsx("div",{className:"message-media",children:vi.jsx("img",{src:t,alt:r("message_bubble.sticker","Sticker"),className:"max-w-[120px] max-h-[120px]"})}):vi.jsx("div",{className:"message-media",children:vi.jsxs("div",{className:"flex items-center justify-between rounded-md bg-gray-100 p-3 w-full",children:[vi.jsxs("div",{className:"flex items-center",children:[vi.jsx("i",{className:"ri-sticky-note-line text-xl mr-3 text-gray-500"}),vi.jsxs("div",{children:[vi.jsx("p",{className:"text-sm font-medium text-gray-700",children:r("message_bubble.sticker","Sticker")}),o&&vi.jsx("p",{className:"text-xs text-gray-500",children:f(o)})]})]}),vi.jsx("button",{onClick:n,className:"flex items-center gap-1 bg-sky-500 hover:bg-sky-600 text-white py-1 px-3 rounded-md text-xs transition-all ml-3",disabled:a,children:a?vi.jsxs(vi.Fragment,{children:[vi.jsx(uw,{className:"h-3 w-3 animate-spin"}),vi.jsx("span",{children:r("message_bubble.loading","Loading...")})]}):vi.jsxs(vi.Fragment,{children:[vi.jsx(Hb,{className:"h-3 w-3"}),vi.jsx("span",{children:r("message_bubble.download","Download")})]})})]})});default:return vi.jsx("p",{className:"whitespace-pre-wrap",children:l})}})()}function YU({participantJid:e,participantName:t,connectionId:n,size:a="sm",className:r,avatarUrl:i,enableAutoFetch:s=!0}){const{profilePictureUrl:o}=function(e,t){By();const{data:n,isLoading:a,error:r,refetch:i}=ky({queryKey:["participant-profile-picture",e,t],queryFn:async()=>{if(!e||!t)return null;try{const n=await Ey("GET",`/api/whatsapp/participant-picture/${e}/${encodeURIComponent(t)}`),a=await n.json();return a.success?a.url:null}catch(n){return console.error(`Error fetching profile picture for ${t}:`,n),null}},enabled:!!e&&!!t,staleTime:3e5,cacheTime:18e5,retry:1});return{profilePictureUrl:n,isLoading:a,error:r,refetch:i}}(s&&!i?n:void 0,s&&!i?e:void 0),l=i||o||"",c=t||e.split("@")[0];return vi.jsxs(Xz,{className:iN({sm:"h-6 w-6 text-xs",md:"h-8 w-8 text-sm",lg:"h-10 w-10 text-base"}[a],r),children:[vi.jsx(eF,{src:l,alt:c}),vi.jsx(tF,{className:"bg-green-100 text-green-700 text-xs",children:((e,t)=>{if(e)return e.split(" ").map((e=>e[0])).join("").toUpperCase().substring(0,2);if(t){return t.split("@")[0].substring(0,2)}return"??"})(t,e)})]})}function qU({message:e,contact:t,channelType:n,onReply:a,onQuotedMessageClick:r,conversation:i}){var s;const[o,l]=ci.useState(!1),[c,d]=ci.useState(null),[u,f]=ci.useState(!1),[m,p]=ci.useState(!1),[h,g]=ci.useState(!1),[x,y]=ci.useState(null),[v,b]=ci.useState(!1),{toast:w}=By(),{t:j}=sk(),{activeConversationId:N}=HO(),C="inbound"===e.direction,S=e.isFromBot,k=e.sentAt||((null==(s=e.metadata)?void 0:s.timestamp)?new Date(e.metadata.timestamp):e.createdAt),M=hz(new Date(k),"h:mm a");ci.useEffect((()=>{(async()=>{if(N){b(!0);try{const e=await fetch(`/api/conversations/${N}/capabilities`,{credentials:"include",headers:{"Content-Type":"application/json"}});if(e.ok){const t=await e.json();y(t.capabilities)}else console.error("Failed to fetch channel capabilities"),y({supportsReply:!0,supportsDelete:!0,supportsQuotedMessages:!1,replyFormat:"mention"})}catch(e){console.error("Error fetching channel capabilities:",e),y({supportsReply:!0,supportsDelete:!0,supportsQuotedMessages:!1,replyFormat:"mention"})}finally{b(!1)}}})()}),[N]);const _=async()=>{if(!o){l(!0);try{const t=await fetch(`/api/messages/${e.id}/download-media`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!t.ok){const e=await t.json();throw new Error(e.error||j("message_bubble.download_failed","Failed to download media"))}const n=await t.json();d(n.mediaUrl),w({title:j("message_bubble.media_downloaded","Media downloaded"),description:j("message_bubble.download_success","Media has been downloaded successfully"),variant:"default"})}catch(Bze){const t=Bze instanceof Error?Bze.message:j("message_bubble.download_failed","Failed to download media");w({title:j("message_bubble.download_failed_title","Download failed"),description:t,variant:"destructive"})}finally{l(!1)}}},E=()=>{a&&a(e)},{canReply:I,canDelete:L}=(()=>{if(!x)return{canReply:!1,canDelete:!1};return{canReply:x.supportsReply,canDelete:x.supportsDelete&&!((null==x?void 0:x.deleteTimeLimit)&&Date.now()-new Date(e.sentAt||e.createdAt).getTime()>60*x.deleteTimeLimit*1e3)}})(),A=(()=>{try{if(!e.metadata)return null;let t;return t="string"==typeof e.metadata?JSON.parse(e.metadata):e.metadata,t.isQuotedMessage&&t.quotedMessageId?{isQuotedMessage:!0,quotedMessageId:t.quotedMessageId}:null}catch(t){return console.error("Error parsing message metadata for quoted message detection:",t),null}})(),T=()=>{g(!0)},D=()=>"whatsapp"===n||"whatsapp_unofficial"===n,P=()=>!0===(null==i?void 0:i.isGroup),O=e=>{if(!e)return"";if(e.name&&e.name!==e.phone)return e.name;const t=e.phone;return t&&t.length>10?`+${t.slice(0,-10)} ${t.slice(-10,-7)} ${t.slice(-7,-4)} ${t.slice(-4)}`:t||e.jid||j("groups.unknown_participant","Unknown Participant")},R=()=>{const{type:t="text",content:n}=e,a=e.mediaUrl||c||(()=>{if(!e.metadata)return null;try{return("string"==typeof e.metadata?JSON.parse(e.metadata):e.metadata).mediaUrl||null}catch(t){return null}})(),r=sF(n||"");if(["image","video","audio","document","sticker"].includes(t))return vi.jsx(HU,{message:e,mediaUrl:a,onDownload:_,isDownloading:o});if((i=r)&&[/\*[^*]+\*/,/_[^_]+_/,/~[^~]+~/,/`[^`]+`/,/(https?:\/\/[^\s]+)/].some((e=>e.test(i)))){const e=(e=>{if(!e)return[];const t=/(https?:\/\/[^\s]+)/g,n=[];let a,r=0;for(t.lastIndex=0;null!==(a=t.exec(e));){const i=a.index,s=t.lastIndex;if(i>r){const t=e.substring(r,i);n.push(...oF(t))}const o=a[1];/\.(jpeg|jpg|gif|png)$/i.test(o)?n.push(vi.jsx("div",{className:"mb-2",children:vi.jsx("img",{src:o,alt:"Link preview",className:"max-w-full rounded-md object-contain",style:{maxHeight:"240px"},onError:e=>{e.currentTarget.style.display="none"}})},`img-${n.length}`)):n.push(vi.jsx("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline break-all dark:text-blue-400",children:o},`url-${n.length}`)),r=s}if(r<e.length){const t=e.substring(r);n.push(...oF(t))}return 0===n.length?oF(e):n})(r);return vi.jsx("div",{className:"whitespace-pre-wrap break-words",children:e.map(((e,t)=>vi.jsx("span",{children:e},t)))})}return vi.jsx("p",{className:"whitespace-pre-wrap break-words",children:r});var i};if(C){const n=P()&&C?{jid:e.groupParticipantJid,name:e.groupParticipantName,phone:null==(z=e.groupParticipantJid)?void 0:z.split("@")[0]}:null;return vi.jsxs("div",{className:"flex mb-4","data-external-id":e.externalId,children:[vi.jsx("div",{className:"flex-shrink-0 mr-2",children:P()&&n?vi.jsx(YU,{participantJid:n.jid,participantName:n.name,connectionId:null==i?void 0:i.channelId,size:"md",enableAutoFetch:!0}):vi.jsx("img",{src:(null==t?void 0:t.avatarUrl)||`https://ui-avatars.com/api/?name=${encodeURIComponent((null==t?void 0:t.name)||"User")}&background=random`,alt:(null==t?void 0:t.name)||j("message_bubble.contact_avatar","Contact avatar"),className:"w-8 h-8 rounded-full"})}),vi.jsxs("div",{className:"max-w-[75%] md:max-w-[70%]",children:[P()&&n&&vi.jsx("div",{className:"mb-1",children:vi.jsx("span",{className:"text-xs font-medium text-gray-600",children:O(n)})}),vi.jsxs("div",{className:"relative group",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:[vi.jsxs("div",{className:"bg-white p-3 rounded-lg chat-bubble-contact shadow-sm",children:[A&&vi.jsx($U,{quotedMessageId:A.quotedMessageId,isInbound:!0,onQuotedMessageClick:r}),R(),e.status&&"delivered"!==e.status&&vi.jsx("div",{className:"text-right mt-1",children:vi.jsxs("span",{className:"text-xs text-gray-400",children:["read"===e.status&&vi.jsx("i",{className:"ri-eye-line"}),"failed"===e.status&&vi.jsx("i",{className:"ri-error-warning-line text-red-500"})]})})]}),(u||h)&&(I||L)&&vi.jsxs("div",{className:"absolute top-13 right-0 flex items-center gap-1 bg-white rounded-lg shadow-lg border border-gray-200 p-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-10",children:[I&&vi.jsx("button",{onClick:E,className:"p-1.5 rounded-md hover:bg-gray-100 text-gray-600 hover:text-blue-600 transition-colors min-h-[32px] min-w-[32px] flex items-center justify-center",title:j("message_bubble.reply","Reply to this message"),"aria-label":j("message_bubble.reply","Reply to this message"),children:vi.jsx(Aw,{className:"h-4 w-4"})}),L&&vi.jsx("button",{onClick:T,className:"p-1.5 rounded-md hover:bg-gray-100 text-gray-600 hover:text-red-600 transition-colors min-h-[32px] min-w-[32px] flex items-center justify-center",title:j("message_bubble.delete","Delete this message"),"aria-label":j("message_bubble.delete","Delete this message"),children:vi.jsx(Yw,{className:"h-4 w-4"})})]})]}),vi.jsx("div",{className:"mt-1 text-xs text-gray-500",children:M})]})]})}var z;return vi.jsxs("div",{className:"flex mb-4 justify-end","data-external-id":e.externalId,children:[vi.jsxs("div",{className:"max-w-[75%] md:max-w-[70%]",children:[S&&vi.jsxs("div",{className:"flex items-center justify-end mb-1",children:[vi.jsxs("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-0.5 rounded-full mr-2",children:[vi.jsx("i",{className:"ri-robot-line mr-1"}),j("message_bubble.bot","Bot")]}),vi.jsx("span",{className:"font-medium text-sm",children:j("message_bubble.powerchat_assistant","PowerChat Assistant")})]}),vi.jsxs("div",{className:"relative group",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:[vi.jsxs("div",{className:"bg-sky-500 p-3 rounded-lg chat-bubble-user text-white shadow-sm",children:[A&&vi.jsx($U,{quotedMessageId:A.quotedMessageId,isInbound:!1,onQuotedMessageClick:r}),R(),e.status&&"sent"!==e.status&&vi.jsx("div",{className:"text-right mt-1",children:vi.jsxs("span",{className:"text-xs text-sky-100",children:["delivered"===e.status&&vi.jsx("i",{className:"ri-check-double-line"}),"read"===e.status&&vi.jsx("i",{className:"ri-check-double-line font-bold"}),"sending"===e.status&&vi.jsx("i",{className:"ri-time-line"}),"failed"===e.status&&vi.jsx("i",{className:"ri-error-warning-line"})]})})]}),(u||h)&&(I||L)&&vi.jsxs("div",{className:"absolute top-13 left-2 flex items-center gap-1 bg-white rounded-lg shadow-lg border border-gray-200 p-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-10",children:[I&&vi.jsx("button",{onClick:E,className:"p-1.5 rounded-md hover:bg-gray-100 text-gray-600 hover:text-blue-600 transition-colors min-h-[32px] min-w-[32px] flex items-center justify-center",title:j("message_bubble.reply","Reply to this message"),"aria-label":j("message_bubble.reply","Reply to this message"),children:vi.jsx(Aw,{className:"h-4 w-4"})}),L&&vi.jsx("button",{onClick:T,className:"p-1.5 rounded-md hover:bg-gray-100 text-gray-600 hover:text-red-600 transition-colors min-h-[32px] min-w-[32px] flex items-center justify-center",title:j("message_bubble.delete","Delete this message"),"aria-label":j("message_bubble.delete","Delete this message"),children:vi.jsx(Yw,{className:"h-4 w-4"})})]})]}),vi.jsx("div",{className:"mt-1 text-xs text-gray-500 text-right",children:M})]}),vi.jsx("div",{className:"flex-shrink-0 ml-2",children:S?vi.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center",children:vi.jsx("i",{className:"ri-robot-line text-purple-600"})}):"user"===e.senderType?vi.jsx("div",{className:"w-8 h-8 rounded-full bg-sky-200 flex items-center justify-center text-sky-700 font-medium",children:vi.jsx("span",{children:"A"})}):vi.jsx("div",{className:"w-8 h-8 rounded-full bg-sky-100 flex items-center justify-center",children:vi.jsx("i",{className:"ri-customer-service-2-line text-sky-600"})})}),h&&vi.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:vi.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:vi.jsxs("div",{className:"p-6",children:[vi.jsxs("div",{className:"flex items-center mb-4",children:[vi.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:vi.jsx(Yw,{className:"h-5 w-5 text-red-600"})}),vi.jsxs("div",{className:"ml-4",children:[vi.jsx("h3",{className:"text-lg font-medium text-gray-900",children:D()?P()?j("message_bubble.confirm_delete_whatsapp_group_title","Delete Group Message for Everyone"):j("message_bubble.confirm_delete_whatsapp_title","Delete Message for Everyone"):j("message_bubble.confirm_delete_title","Delete Message")}),vi.jsx("p",{className:"text-sm text-gray-500",children:D()?(()=>{if(!e.createdAt)return!1;return Date.now()-new Date(e.createdAt).getTime()>432e4})()?P()?j("message_bubble.confirm_delete_whatsapp_group_old","This group message is too old to be deleted from WhatsApp (72-minute limit). It will only be deleted from PowerChat."):j("message_bubble.confirm_delete_whatsapp_old","This message is too old to be deleted from WhatsApp (72-minute limit). It will only be deleted from PowerChat."):P()?j("message_bubble.confirm_delete_whatsapp_group_message","This message will be deleted from both PowerChat and all group participants' WhatsApp chats. This action cannot be undone."):j("message_bubble.confirm_delete_whatsapp_message","This message will be deleted from both PowerChat and the recipient's WhatsApp chat. This action cannot be undone."):j("message_bubble.confirm_delete_message","Are you sure you want to delete this message? This action cannot be undone.")})]})]}),vi.jsx("div",{className:"bg-gray-50 p-3 rounded-md mb-4",children:vi.jsx("p",{className:"text-sm text-gray-700 line-clamp-3",children:sF(e.content||"")||j("message_bubble.media_message","Media message")})}),vi.jsxs("div",{className:"flex justify-end space-x-3",children:[vi.jsx("button",{onClick:()=>{g(!1)},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:m,children:j("common.cancel","Cancel")}),vi.jsx("button",{onClick:async()=>{if(e.id){p(!0);try{const t=await fetch(`/api/messages/${e.id}`,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"}});if(!t.ok){const e=await t.json();throw new Error(e.error||j("message_bubble.delete_failed","Failed to delete message"))}w({title:j("message_bubble.message_deleted","Message deleted"),description:j("message_bubble.delete_success","Message has been deleted successfully"),variant:"default"}),g(!1)}catch(Bze){const t=Bze instanceof Error?Bze.message:j("message_bubble.delete_failed","Failed to delete message");w({title:j("message_bubble.delete_failed_title","Delete failed"),description:t,variant:"destructive"})}finally{p(!1)}}},className:"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",disabled:m,children:m?vi.jsxs(vi.Fragment,{children:[vi.jsx(uw,{className:"h-4 w-4 animate-spin mr-2"}),j("message_bubble.deleting","Deleting...")]}):vi.jsxs(vi.Fragment,{children:[vi.jsx(Yw,{className:"h-4 w-4 mr-2"}),j("message_bubble.delete_confirm","Delete")]})})]})]})})})]})}function QU({conversationId:e,isOpen:t,onClose:n,file:a}){const[r,i]=ci.useState(""),[s,o]=ci.useState(!1),[l,c]=ci.useState(null),{toast:d}=By(),{t:u}=sk(),{sendMediaMessage:f}=HO();ci.useEffect((()=>{if(!a)return void c(null);const e=URL.createObjectURL(a);return c(e),()=>{e&&URL.revokeObjectURL(e)}}),[a]);return vi.jsx(KF,{open:t,onOpenChange:e=>!e&&n(),children:vi.jsxs(aB,{className:"sm:max-w-md",children:[vi.jsxs(rB,{children:[vi.jsx(sB,{children:u("media_upload.title","Send Media")}),vi.jsx(oB,{children:u("media_upload.description","Preview and send media files through WhatsApp")}),vi.jsx(tk,{variant:"ghost",size:"icon",className:"absolute right-2 top-2",onClick:n,children:vi.jsx(fj,{className:"h-4 w-4"})})]}),vi.jsx("div",{className:"flex flex-col gap-4 py-4",children:a?vi.jsxs(vi.Fragment,{children:[vi.jsx("div",{className:"flex justify-center",children:(()=>{if(!a||!l)return null;const e=a.type;return e.startsWith("image/")?vi.jsx("img",{src:l,alt:u("media_upload.image_preview","Image preview"),className:"max-h-64 max-w-full object-contain rounded-lg"}):e.startsWith("video/")?vi.jsx("video",{src:l,controls:!0,className:"max-h-64 max-w-full rounded-lg"}):e.startsWith("audio/")?vi.jsx("audio",{src:l,controls:!0,className:"w-full"}):vi.jsx("div",{className:"flex items-center justify-center p-6 bg-gray-100 rounded-lg w-full",children:vi.jsxs("div",{className:"text-center",children:[vi.jsx("i",{className:"ri-file-line text-4xl text-gray-600 mb-2"}),vi.jsx("p",{className:"text-sm text-gray-600 break-all",children:a.name}),vi.jsx("p",{className:"text-xs text-gray-500 mt-1",children:u("media_upload.file_size_kb","{{size}} KB",{size:(a.size/1024).toFixed(2)})})]})})})()}),vi.jsxs("div",{className:"text-sm text-muted-foreground",children:[vi.jsx("span",{className:"font-medium",children:a.name})," (",u("media_upload.file_size_kb","{{size}} KB",{size:(a.size/1024).toFixed(2)}),")"]}),vi.jsx(mB,{placeholder:u("media_upload.caption_placeholder","Add a caption (optional)"),value:r,onChange:e=>i(e.target.value),className:"min-h-24"})]}):vi.jsx("div",{className:"text-center py-6",children:vi.jsx("p",{className:"text-muted-foreground",children:u("media_upload.no_file_selected","No media file selected")})})}),vi.jsxs(iB,{className:"flex-col sm:flex-row sm:justify-end gap-2",children:[vi.jsx(tk,{variant:"outline",onClick:n,disabled:s,children:u("common.cancel","Cancel")}),vi.jsx(tk,{onClick:async()=>{if(a){o(!0);try{await f(e,a,r),d({title:u("common.success","Success"),description:u("media_upload.sent_successfully","Media message sent successfully")}),n()}catch(t){d({title:u("media_upload.error_sending","Error Sending Media"),description:t.message||u("media_upload.send_failed","Failed to send media message"),variant:"destructive"})}finally{o(!1)}}else d({title:u("common.error","Error"),description:u("media_upload.no_file_selected","No media file selected"),variant:"destructive"})},disabled:!a||s,children:s?vi.jsxs(vi.Fragment,{children:[vi.jsx(uw,{className:"mr-2 h-4 w-4 animate-spin"}),u("media_upload.sending","Sending...")]}):u("media_upload.send","Send")})]})]})})}function ZU(e){return[].concat(e)}function JU(e){return e.startsWith(":")}function KU(e){return nW(e)&&("*"===e||e.length>1&&":>~.+*".includes(e.slice(0,1))||aW(e))}function XU(e,t){return(nW(t)||"number"==typeof t)&&!tW(e)&&!JU(e)&&!eW(e)}function eW(e){return e.startsWith("@media")}function tW(e){return"--"===e}function nW(e){return e+""===e}function aW(e){return nW(e)&&(e.startsWith("&")||JU(e))}function rW(e,t=""){return e.filter(Boolean).join(t)}function iW(e,t){let n=0;if(0===t.length)return n.toString();for(let a=0;a<t.length;a++){n=(n<<5)-n+t.charCodeAt(a),n&=n}return`${e??"cl"}_${n.toString(36)}`}function sW(e,t){return`${e}:${t}`}var oW=class e{constructor(e,t,n,a){this.sheet=e,this.property=t,this.value=n,this.selector=a,this.property=t,this.value=n,this.joined=sW(t,n);const r=this.selector.preconditions.concat(this.selector.postconditions);this.hash=this.selector.hasConditions?this.selector.scopeClassName:iW(this.sheet.name,this.joined),this.key=rW([this.joined,r,this.hash])}toString(){let t=lW(this.selector.preconditions,{right:this.hash});return t=lW(this.selector.postconditions,{left:t}),`${t} {${e.genRule(this.property,this.value)}}`}static genRule(e,t){return sW(e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),function(e,t){return"content"===e?`"${t}"`:t}(e,t))+";"}};function lW(e,{left:t="",right:n=""}={}){const a=e.reduce(((e,t)=>JU(t)?e+t:aW(t)?e+t.slice(1):rW([e,t]," ")),t);return rW([a,(r=n,r?`.${r}`:"")]," ");var r}var cW,dW,uW=class e{constructor(e,t=null,{preconditions:n,postconditions:a}={}){this.sheet=e,this.preconditions=[],this.scopeClassName=null,this.scopeName=null,this.postconditions=[],this.preconditions=n?ZU(n):[],this.postconditions=a?ZU(a):[],this.setScope(t)}setScope(e){return e?(this.scopeClassName||(this.scopeName=e,this.scopeClassName=iW(this.sheet.name,e+this.sheet.count)),this):this}get hasConditions(){return this.preconditions.length>0||this.postconditions.length>0}addScope(t){return new e(this.sheet,t,{preconditions:this.preconditions,postconditions:this.postconditions})}addPrecondition(t){return new e(this.sheet,this.scopeClassName,{postconditions:this.postconditions,preconditions:this.preconditions.concat(t)})}addPostcondition(t){return new e(this.sheet,this.scopeClassName,{preconditions:this.preconditions,postconditions:this.postconditions.concat(t)})}createRule(e,t){return new oW(this.sheet,e,t,this)}},fW=class{constructor(e,t){this.name=e,this.rootNode=t,this.storedStyles={},this.storedClasses={},this.style="",this.count=0,this.id=`flairup-${e}`,this.styleTag=this.createStyleTag()}getStyle(){return this.style}append(e){var t,n;this.style=(t=this.style,n=e,t?`${t}\n${n}`:n)}apply(){this.count++,this.styleTag&&(this.styleTag.innerHTML=this.style)}isApplied(){return!!this.styleTag}createStyleTag(){if("undefined"==typeof document||this.isApplied()||null===this.rootNode)return this.styleTag;const e=document.createElement("style");return e.type="text/css",e.id=this.id,(this.rootNode??document.head).appendChild(e),e}addRule(e){const t=this.storedClasses[e.key];return nW(t)?t:(this.storedClasses[e.key]=e.hash,this.storedStyles[e.hash]=[e.property,e.value],this.append(e.toString()),e.hash)}};function mW(e,t){for(const n in e)t(n.trim(),e[n])}function pW(...e){return rW(e.reduce(((e,t)=>(t instanceof Set?e.push(...t):"string"==typeof t?e.push(t):Array.isArray(t)?e.push(pW(...t)):"object"==typeof t&&Object.entries(t).forEach((([t,n])=>{n&&e.push(t)})),e)),[])," ").trim()}function hW(e,t){const n=new fW(e,t);return{create:function(e){const t={};return gW(n,e,new uW(n)).forEach((([e,a,r])=>{xW(n,a,r).forEach((n=>{!function(e,n){t[e]=t[e]??new Set,t[e].add(n)}(e,n)}))})),n.apply(),t},getStyle:n.getStyle.bind(n),isApplied:n.isApplied.bind(n)}}function gW(e,t,n){const a=[];return mW(t,((r,i)=>{if(KU(r))return gW(e,i,n.addPrecondition(r)).forEach((e=>a.push(e)));a.push([r,t[r],n.addScope(r)])})),a}function xW(e,t,n){const a=new Set;return mW(t,((t,r)=>{let i=[];if(KU(t))i=xW(e,r,n.addPostcondition(t));else if(function(e){return"."===e}(t))i=ZU(r);else if(eW(t))i=function(e,t,n,a){e.append(n+" {");const r=xW(e,t,a);return e.append("}"),r}(e,r,t,n);else if(tW(t))i=function(e,t,n){const a=new Set,r=[];if(mW(t,((t,i)=>{if(XU(t,i))return void r.push(oW.genRule(t,i));yW(xW(e,i??{},n),a)})),!n.scopeClassName)return a;if(r.length){const t=r.join(" ");e.append(`${lW(n.preconditions,{right:n.scopeClassName})} {${t}}`)}return a.add(n.scopeClassName),a}(e,r,n);else if(XU(t,r)){const i=n.createRule(t,r);e.addRule(i),a.add(i.hash)}return yW(i,a)})),a}function yW(e,t){return e.forEach((e=>t.add(e))),t}function vW(){return vW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},vW.apply(this,arguments)}function bW(e,t){return(bW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function wW(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}function jW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function NW(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return jW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jW(e,t):void 0}}(e))||t){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function CW(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map((function(e){return"."+e})).join("")}(dW=cW||(cW={})).hiddenOnSearch="epr-hidden-on-search",dW.searchActive="epr-search-active",dW.hidden="epr-hidden",dW.visible="epr-visible",dW.active="epr-active",dW.emoji="epr-emoji",dW.category="epr-emoji-category",dW.label="epr-emoji-category-label",dW.categoryContent="epr-emoji-category-content",dW.emojiHasVariations="epr-emoji-has-variations",dW.scrollBody="epr-body",dW.emojiList="epr-emoji-list",dW.external="__EmojiPicker__",dW.emojiPicker="EmojiPickerReact",dW.open="epr-open",dW.vertical="epr-vertical",dW.horizontal="epr-horizontal",dW.variationPicker="epr-emoji-variation-picker",dW.darkTheme="epr-dark-theme",dW.autoTheme="epr-auto-theme";var SW=hW("epr",null),kW={display:"none",opacity:"0",pointerEvents:"none",visibility:"hidden",overflow:"hidden"},MW=SW.create({hidden:vW({".":cW.hidden},kW)}),_W=ci.memo((function(){return ci.createElement("style",{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:SW.getStyle()}})})),EW=SW.create({".epr-main":{":has(input:not(:placeholder-shown))":{categoryBtn:{":hover":{opacity:"1",backgroundPositionY:"var(--epr-category-navigation-button-size)"}},hiddenOnSearch:vW({".":cW.hiddenOnSearch},kW)},":has(input(:placeholder-shown))":{visibleOnSearchOnly:kW}},hiddenOnReactions:{transition:"all 0.5s ease-in-out"},".epr-reactions":{hiddenOnReactions:{height:"0px",width:"0px",opacity:"0",pointerEvents:"none",overflow:"hidden"}},".EmojiPickerReact:not(.epr-search-active)":{categoryBtn:{":hover":{opacity:"1",backgroundPositionY:"var(--epr-category-navigation-button-size)"},"&.epr-active":{opacity:"1",backgroundPositionY:"var(--epr-category-navigation-button-size)"}},visibleOnSearchOnly:vW({".":"epr-visible-on-search-only"},kW)}});function IW(e,t){var n,a;return{".epr-dark-theme":(n={},n[e]=t,n),".epr-auto-theme":(a={},a[e]={"@media (prefers-color-scheme: dark)":t},a)}}function LW(e,t){var n,a,r=null!=(n=e.customEmojis)?n:[],i=null!=(a=t.customEmojis)?a:[];return e.open===t.open&&e.emojiVersion===t.emojiVersion&&e.reactionsDefaultOpen===t.reactionsDefaultOpen&&e.searchPlaceHolder===t.searchPlaceHolder&&e.searchPlaceholder===t.searchPlaceholder&&e.defaultSkinTone===t.defaultSkinTone&&e.skinTonesDisabled===t.skinTonesDisabled&&e.autoFocusSearch===t.autoFocusSearch&&e.emojiStyle===t.emojiStyle&&e.theme===t.theme&&e.suggestedEmojisMode===t.suggestedEmojisMode&&e.lazyLoadEmojis===t.lazyLoadEmojis&&e.className===t.className&&e.height===t.height&&e.width===t.width&&e.style===t.style&&e.searchDisabled===t.searchDisabled&&e.skinTonePickerLocation===t.skinTonePickerLocation&&r.length===i.length}var AW,TW,DW,PW,OW,RW,zW,FW,BW,UW,WW,GW,VW,$W=["1f44d","2764-fe0f","1f603","1f622","1f64f","1f44e","1f621"];(TW=AW||(AW={})).RECENT="recent",TW.FREQUENT="frequent",(PW=DW||(DW={})).NATIVE="native",PW.APPLE="apple",PW.TWITTER="twitter",PW.GOOGLE="google",PW.FACEBOOK="facebook",(RW=OW||(OW={})).DARK="dark",RW.LIGHT="light",RW.AUTO="auto",(FW=zW||(zW={})).NEUTRAL="neutral",FW.LIGHT="1f3fb",FW.MEDIUM_LIGHT="1f3fc",FW.MEDIUM="1f3fd",FW.MEDIUM_DARK="1f3fe",FW.DARK="1f3ff",(UW=BW||(BW={})).SUGGESTED="suggested",UW.CUSTOM="custom",UW.SMILEYS_PEOPLE="smileys_people",UW.ANIMALS_NATURE="animals_nature",UW.FOOD_DRINK="food_drink",UW.TRAVEL_PLACES="travel_places",UW.ACTIVITIES="activities",UW.OBJECTS="objects",UW.SYMBOLS="symbols",UW.FLAGS="flags",(GW=WW||(WW={})).SEARCH="SEARCH",GW.PREVIEW="PREVIEW";var HW=[BW.SUGGESTED,BW.CUSTOM,BW.SMILEYS_PEOPLE,BW.ANIMALS_NATURE,BW.FOOD_DRINK,BW.TRAVEL_PLACES,BW.ACTIVITIES,BW.OBJECTS,BW.SYMBOLS,BW.FLAGS],YW={name:"Recently Used",category:BW.SUGGESTED},qW=((VW={})[BW.SUGGESTED]={category:BW.SUGGESTED,name:"Frequently Used"},VW[BW.CUSTOM]={category:BW.CUSTOM,name:"Custom Emojis"},VW[BW.SMILEYS_PEOPLE]={category:BW.SMILEYS_PEOPLE,name:"Smileys & People"},VW[BW.ANIMALS_NATURE]={category:BW.ANIMALS_NATURE,name:"Animals & Nature"},VW[BW.FOOD_DRINK]={category:BW.FOOD_DRINK,name:"Food & Drink"},VW[BW.TRAVEL_PLACES]={category:BW.TRAVEL_PLACES,name:"Travel & Places"},VW[BW.ACTIVITIES]={category:BW.ACTIVITIES,name:"Activities"},VW[BW.OBJECTS]={category:BW.OBJECTS,name:"Objects"},VW[BW.SYMBOLS]={category:BW.SYMBOLS,name:"Symbols"},VW[BW.FLAGS]={category:BW.FLAGS,name:"Flags"},VW);function QW(e){return HW.map((function(t){return vW({},qW[t],e&&e[t]&&e[t])}))}function ZW(e){return e.category}function JW(e){return e.name}function KW(e,t){return void 0===t&&(t={}),Object.assign(qW[e],t)}var XW,eG,tG={custom:[],smileys_people:[{n:["grinning","grinning face"],u:"1f600",a:"1.0"},{n:["smiley","smiling face with open mouth"],u:"1f603",a:"0.6"},{n:["smile","smiling face with open mouth and smiling eyes"],u:"1f604",a:"0.6"},{n:["grin","grinning face with smiling eyes"],u:"1f601",a:"0.6"},{n:["laughing","satisfied","smiling face with open mouth and tightly-closed eyes"],u:"1f606",a:"0.6"},{n:["sweat smile","smiling face with open mouth and cold sweat"],u:"1f605",a:"0.6"},{n:["rolling on the floor laughing"],u:"1f923",a:"3.0"},{n:["joy","face with tears of joy"],u:"1f602",a:"0.6"},{n:["slightly smiling face"],u:"1f642",a:"1.0"},{n:["upside-down face","upside down face"],u:"1f643",a:"1.0"},{n:["melting face"],u:"1fae0",a:"14.0"},{n:["wink","winking face"],u:"1f609",a:"0.6"},{n:["blush","smiling face with smiling eyes"],u:"1f60a",a:"0.6"},{n:["innocent","smiling face with halo"],u:"1f607",a:"1.0"},{n:["smiling face with 3 hearts","smiling face with smiling eyes and three hearts"],u:"1f970",a:"11.0"},{n:["heart eyes","smiling face with heart-shaped eyes"],u:"1f60d",a:"0.6"},{n:["star-struck","grinning face with star eyes"],u:"1f929",a:"5.0"},{n:["kissing heart","face throwing a kiss"],u:"1f618",a:"0.6"},{n:["kissing","kissing face"],u:"1f617",a:"1.0"},{n:["relaxed","white smiling face"],u:"263a-fe0f",a:"0.6"},{n:["kissing closed eyes","kissing face with closed eyes"],u:"1f61a",a:"0.6"},{n:["kissing smiling eyes","kissing face with smiling eyes"],u:"1f619",a:"1.0"},{n:["smiling face with tear"],u:"1f972",a:"13.0"},{n:["yum","face savouring delicious food"],u:"1f60b",a:"0.6"},{n:["stuck out tongue","face with stuck-out tongue"],u:"1f61b",a:"1.0"},{n:["stuck out tongue winking eye","face with stuck-out tongue and winking eye"],u:"1f61c",a:"0.6"},{n:["zany face","grinning face with one large and one small eye"],u:"1f92a",a:"5.0"},{n:["stuck out tongue closed eyes","face with stuck-out tongue and tightly-closed eyes"],u:"1f61d",a:"0.6"},{n:["money-mouth face","money mouth face"],u:"1f911",a:"1.0"},{n:["hugging face"],u:"1f917",a:"1.0"},{n:["face with hand over mouth","smiling face with smiling eyes and hand covering mouth"],u:"1f92d",a:"5.0"},{n:["face with open eyes and hand over mouth"],u:"1fae2",a:"14.0"},{n:["face with peeking eye"],u:"1fae3",a:"14.0"},{n:["shushing face","face with finger covering closed lips"],u:"1f92b",a:"5.0"},{n:["thinking face"],u:"1f914",a:"1.0"},{n:["saluting face"],u:"1fae1",a:"14.0"},{n:["zipper-mouth face","zipper mouth face"],u:"1f910",a:"1.0"},{n:["face with raised eyebrow","face with one eyebrow raised"],u:"1f928",a:"5.0"},{n:["neutral face"],u:"1f610",a:"0.7"},{n:["expressionless","expressionless face"],u:"1f611",a:"1.0"},{n:["no mouth","face without mouth"],u:"1f636",a:"1.0"},{n:["dotted line face"],u:"1fae5",a:"14.0"},{n:["face in clouds"],u:"1f636-200d-1f32b-fe0f",a:"13.1"},{n:["smirk","smirking face"],u:"1f60f",a:"0.6"},{n:["unamused","unamused face"],u:"1f612",a:"0.6"},{n:["face with rolling eyes"],u:"1f644",a:"1.0"},{n:["grimacing","grimacing face"],u:"1f62c",a:"1.0"},{n:["face exhaling"],u:"1f62e-200d-1f4a8",a:"13.1"},{n:["lying face"],u:"1f925",a:"3.0"},{n:["relieved","relieved face"],u:"1f60c",a:"0.6"},{n:["pensive","pensive face"],u:"1f614",a:"0.6"},{n:["sleepy","sleepy face"],u:"1f62a",a:"0.6"},{n:["drooling face"],u:"1f924",a:"3.0"},{n:["sleeping","sleeping face"],u:"1f634",a:"1.0"},{n:["mask","face with medical mask"],u:"1f637",a:"0.6"},{n:["face with thermometer"],u:"1f912",a:"1.0"},{n:["face with head-bandage","face with head bandage"],u:"1f915",a:"1.0"},{n:["nauseated face"],u:"1f922",a:"3.0"},{n:["face vomiting","face with open mouth vomiting"],u:"1f92e",a:"5.0"},{n:["sneezing face"],u:"1f927",a:"3.0"},{n:["hot face","overheated face"],u:"1f975",a:"11.0"},{n:["cold face","freezing face"],u:"1f976",a:"11.0"},{n:["woozy face","face with uneven eyes and wavy mouth"],u:"1f974",a:"11.0"},{n:["dizzy face"],u:"1f635",a:"0.6"},{n:["face with spiral eyes"],u:"1f635-200d-1f4ab",a:"13.1"},{n:["exploding head","shocked face with exploding head"],u:"1f92f",a:"5.0"},{n:["face with cowboy hat"],u:"1f920",a:"3.0"},{n:["partying face","face with party horn and party hat"],u:"1f973",a:"11.0"},{n:["disguised face"],u:"1f978",a:"13.0"},{n:["sunglasses","smiling face with sunglasses"],u:"1f60e",a:"1.0"},{n:["nerd face"],u:"1f913",a:"1.0"},{n:["face with monocle"],u:"1f9d0",a:"5.0"},{n:["confused","confused face"],u:"1f615",a:"1.0"},{n:["face with diagonal mouth"],u:"1fae4",a:"14.0"},{n:["worried","worried face"],u:"1f61f",a:"1.0"},{n:["slightly frowning face"],u:"1f641",a:"1.0"},{n:["frowning face","white frowning face"],u:"2639-fe0f",a:"0.7"},{n:["open mouth","face with open mouth"],u:"1f62e",a:"1.0"},{n:["hushed","hushed face"],u:"1f62f",a:"1.0"},{n:["astonished","astonished face"],u:"1f632",a:"0.6"},{n:["flushed","flushed face"],u:"1f633",a:"0.6"},{n:["pleading face","face with pleading eyes"],u:"1f97a",a:"11.0"},{n:["face holding back tears"],u:"1f979",a:"14.0"},{n:["frowning","frowning face with open mouth"],u:"1f626",a:"1.0"},{n:["anguished","anguished face"],u:"1f627",a:"1.0"},{n:["fearful","fearful face"],u:"1f628",a:"0.6"},{n:["cold sweat","face with open mouth and cold sweat"],u:"1f630",a:"0.6"},{n:["disappointed relieved","disappointed but relieved face"],u:"1f625",a:"0.6"},{n:["cry","crying face"],u:"1f622",a:"0.6"},{n:["sob","loudly crying face"],u:"1f62d",a:"0.6"},{n:["scream","face screaming in fear"],u:"1f631",a:"0.6"},{n:["confounded","confounded face"],u:"1f616",a:"0.6"},{n:["persevere","persevering face"],u:"1f623",a:"0.6"},{n:["disappointed","disappointed face"],u:"1f61e",a:"0.6"},{n:["sweat","face with cold sweat"],u:"1f613",a:"0.6"},{n:["weary","weary face"],u:"1f629",a:"0.6"},{n:["tired face"],u:"1f62b",a:"0.6"},{n:["yawning face"],u:"1f971",a:"12.0"},{n:["triumph","face with look of triumph"],u:"1f624",a:"0.6"},{n:["rage","pouting face"],u:"1f621",a:"0.6"},{n:["angry","angry face"],u:"1f620",a:"0.6"},{n:["face with symbols on mouth","serious face with symbols covering mouth"],u:"1f92c",a:"5.0"},{n:["smiling imp","smiling face with horns"],u:"1f608",a:"1.0"},{n:["imp"],u:"1f47f",a:"0.6"},{n:["skull"],u:"1f480",a:"0.6"},{n:["skull and crossbones"],u:"2620-fe0f",a:"1.0"},{n:["poop","shit","hankey","pile of poo"],u:"1f4a9",a:"0.6"},{n:["clown face"],u:"1f921",a:"3.0"},{n:["japanese ogre"],u:"1f479",a:"0.6"},{n:["japanese goblin"],u:"1f47a",a:"0.6"},{n:["ghost"],u:"1f47b",a:"0.6"},{n:["alien","extraterrestrial alien"],u:"1f47d",a:"0.6"},{n:["alien monster","space invader"],u:"1f47e",a:"0.6"},{n:["robot face"],u:"1f916",a:"1.0"},{n:["smiley cat","smiling cat face with open mouth"],u:"1f63a",a:"0.6"},{n:["smile cat","grinning cat face with smiling eyes"],u:"1f638",a:"0.6"},{n:["joy cat","cat face with tears of joy"],u:"1f639",a:"0.6"},{n:["heart eyes cat","smiling cat face with heart-shaped eyes"],u:"1f63b",a:"0.6"},{n:["smirk cat","cat face with wry smile"],u:"1f63c",a:"0.6"},{n:["kissing cat","kissing cat face with closed eyes"],u:"1f63d",a:"0.6"},{n:["scream cat","weary cat face"],u:"1f640",a:"0.6"},{n:["crying cat face"],u:"1f63f",a:"0.6"},{n:["pouting cat","pouting cat face"],u:"1f63e",a:"0.6"},{n:["see no evil","see-no-evil monkey"],u:"1f648",a:"0.6"},{n:["hear no evil","hear-no-evil monkey"],u:"1f649",a:"0.6"},{n:["speak no evil","speak-no-evil monkey"],u:"1f64a",a:"0.6"},{n:["kiss","kiss mark"],u:"1f48b",a:"0.6"},{n:["love letter"],u:"1f48c",a:"0.6"},{n:["cupid","heart with arrow"],u:"1f498",a:"0.6"},{n:["gift heart","heart with ribbon"],u:"1f49d",a:"0.6"},{n:["sparkling heart"],u:"1f496",a:"0.6"},{n:["heartpulse","growing heart"],u:"1f497",a:"0.6"},{n:["heartbeat","beating heart"],u:"1f493",a:"0.6"},{n:["revolving hearts"],u:"1f49e",a:"0.6"},{n:["two hearts"],u:"1f495",a:"0.6"},{n:["heart decoration"],u:"1f49f",a:"0.6"},{n:["heart exclamation","heavy heart exclamation mark ornament"],u:"2763-fe0f",a:"1.0"},{n:["broken heart"],u:"1f494",a:"0.6"},{n:["heart on fire"],u:"2764-fe0f-200d-1f525",a:"13.1"},{n:["mending heart"],u:"2764-fe0f-200d-1fa79",a:"13.1"},{n:["heart","heavy black heart"],u:"2764-fe0f",a:"0.6"},{n:["orange heart"],u:"1f9e1",a:"5.0"},{n:["yellow heart"],u:"1f49b",a:"0.6"},{n:["green heart"],u:"1f49a",a:"0.6"},{n:["blue heart"],u:"1f499",a:"0.6"},{n:["purple heart"],u:"1f49c",a:"0.6"},{n:["brown heart"],u:"1f90e",a:"12.0"},{n:["black heart"],u:"1f5a4",a:"3.0"},{n:["white heart"],u:"1f90d",a:"12.0"},{n:["100","hundred points symbol"],u:"1f4af",a:"0.6"},{n:["anger","anger symbol"],u:"1f4a2",a:"0.6"},{n:["boom","collision","collision symbol"],u:"1f4a5",a:"0.6"},{n:["dizzy","dizzy symbol"],u:"1f4ab",a:"0.6"},{n:["sweat drops","splashing sweat symbol"],u:"1f4a6",a:"0.6"},{n:["dash","dash symbol"],u:"1f4a8",a:"0.6"},{n:["hole"],u:"1f573-fe0f",a:"0.7"},{n:["bomb"],u:"1f4a3",a:"0.6"},{n:["speech balloon"],u:"1f4ac",a:"0.6"},{n:["eye in speech bubble","eye-in-speech-bubble"],u:"1f441-fe0f-200d-1f5e8-fe0f",a:"2.0"},{n:["left speech bubble"],u:"1f5e8-fe0f",a:"2.0"},{n:["right anger bubble"],u:"1f5ef-fe0f",a:"0.7"},{n:["thought balloon"],u:"1f4ad",a:"1.0"},{n:["zzz","sleeping symbol"],u:"1f4a4",a:"0.6"},{n:["wave","waving hand sign"],u:"1f44b",v:["1f44b-1f3fb","1f44b-1f3fc","1f44b-1f3fd","1f44b-1f3fe","1f44b-1f3ff"],a:"0.6"},{n:["raised back of hand"],u:"1f91a",v:["1f91a-1f3fb","1f91a-1f3fc","1f91a-1f3fd","1f91a-1f3fe","1f91a-1f3ff"],a:"3.0"},{n:["hand with fingers splayed","raised hand with fingers splayed"],u:"1f590-fe0f",v:["1f590-1f3fb","1f590-1f3fc","1f590-1f3fd","1f590-1f3fe","1f590-1f3ff"],a:"0.7"},{n:["hand","raised hand"],u:"270b",v:["270b-1f3fb","270b-1f3fc","270b-1f3fd","270b-1f3fe","270b-1f3ff"],a:"0.6"},{n:["spock-hand","raised hand with part between middle and ring fingers"],u:"1f596",v:["1f596-1f3fb","1f596-1f3fc","1f596-1f3fd","1f596-1f3fe","1f596-1f3ff"],a:"1.0"},{n:["rightwards hand"],u:"1faf1",v:["1faf1-1f3fb","1faf1-1f3fc","1faf1-1f3fd","1faf1-1f3fe","1faf1-1f3ff"],a:"14.0"},{n:["leftwards hand"],u:"1faf2",v:["1faf2-1f3fb","1faf2-1f3fc","1faf2-1f3fd","1faf2-1f3fe","1faf2-1f3ff"],a:"14.0"},{n:["palm down hand"],u:"1faf3",v:["1faf3-1f3fb","1faf3-1f3fc","1faf3-1f3fd","1faf3-1f3fe","1faf3-1f3ff"],a:"14.0"},{n:["palm up hand"],u:"1faf4",v:["1faf4-1f3fb","1faf4-1f3fc","1faf4-1f3fd","1faf4-1f3fe","1faf4-1f3ff"],a:"14.0"},{n:["ok hand","ok hand sign"],u:"1f44c",v:["1f44c-1f3fb","1f44c-1f3fc","1f44c-1f3fd","1f44c-1f3fe","1f44c-1f3ff"],a:"0.6"},{n:["pinched fingers"],u:"1f90c",v:["1f90c-1f3fb","1f90c-1f3fc","1f90c-1f3fd","1f90c-1f3fe","1f90c-1f3ff"],a:"13.0"},{n:["pinching hand"],u:"1f90f",v:["1f90f-1f3fb","1f90f-1f3fc","1f90f-1f3fd","1f90f-1f3fe","1f90f-1f3ff"],a:"12.0"},{n:["v","victory hand"],u:"270c-fe0f",v:["270c-1f3fb","270c-1f3fc","270c-1f3fd","270c-1f3fe","270c-1f3ff"],a:"0.6"},{n:["crossed fingers","hand with index and middle fingers crossed"],u:"1f91e",v:["1f91e-1f3fb","1f91e-1f3fc","1f91e-1f3fd","1f91e-1f3fe","1f91e-1f3ff"],a:"3.0"},{n:["hand with index finger and thumb crossed"],u:"1faf0",v:["1faf0-1f3fb","1faf0-1f3fc","1faf0-1f3fd","1faf0-1f3fe","1faf0-1f3ff"],a:"14.0"},{n:["i love you hand sign"],u:"1f91f",v:["1f91f-1f3fb","1f91f-1f3fc","1f91f-1f3fd","1f91f-1f3fe","1f91f-1f3ff"],a:"5.0"},{n:["the horns","sign of the horns"],u:"1f918",v:["1f918-1f3fb","1f918-1f3fc","1f918-1f3fd","1f918-1f3fe","1f918-1f3ff"],a:"1.0"},{n:["call me hand"],u:"1f919",v:["1f919-1f3fb","1f919-1f3fc","1f919-1f3fd","1f919-1f3fe","1f919-1f3ff"],a:"3.0"},{n:["point left","white left pointing backhand index"],u:"1f448",v:["1f448-1f3fb","1f448-1f3fc","1f448-1f3fd","1f448-1f3fe","1f448-1f3ff"],a:"0.6"},{n:["point right","white right pointing backhand index"],u:"1f449",v:["1f449-1f3fb","1f449-1f3fc","1f449-1f3fd","1f449-1f3fe","1f449-1f3ff"],a:"0.6"},{n:["point up 2","white up pointing backhand index"],u:"1f446",v:["1f446-1f3fb","1f446-1f3fc","1f446-1f3fd","1f446-1f3fe","1f446-1f3ff"],a:"0.6"},{n:["middle finger","reversed hand with middle finger extended"],u:"1f595",v:["1f595-1f3fb","1f595-1f3fc","1f595-1f3fd","1f595-1f3fe","1f595-1f3ff"],a:"1.0"},{n:["point down","white down pointing backhand index"],u:"1f447",v:["1f447-1f3fb","1f447-1f3fc","1f447-1f3fd","1f447-1f3fe","1f447-1f3ff"],a:"0.6"},{n:["point up","white up pointing index"],u:"261d-fe0f",v:["261d-1f3fb","261d-1f3fc","261d-1f3fd","261d-1f3fe","261d-1f3ff"],a:"0.6"},{n:["index pointing at the viewer"],u:"1faf5",v:["1faf5-1f3fb","1faf5-1f3fc","1faf5-1f3fd","1faf5-1f3fe","1faf5-1f3ff"],a:"14.0"},{n:["+1","thumbsup","thumbs up sign"],u:"1f44d",v:["1f44d-1f3fb","1f44d-1f3fc","1f44d-1f3fd","1f44d-1f3fe","1f44d-1f3ff"],a:"0.6"},{n:["-1","thumbsdown","thumbs down sign"],u:"1f44e",v:["1f44e-1f3fb","1f44e-1f3fc","1f44e-1f3fd","1f44e-1f3fe","1f44e-1f3ff"],a:"0.6"},{n:["fist","raised fist"],u:"270a",v:["270a-1f3fb","270a-1f3fc","270a-1f3fd","270a-1f3fe","270a-1f3ff"],a:"0.6"},{n:["punch","facepunch","fisted hand sign"],u:"1f44a",v:["1f44a-1f3fb","1f44a-1f3fc","1f44a-1f3fd","1f44a-1f3fe","1f44a-1f3ff"],a:"0.6"},{n:["left-facing fist"],u:"1f91b",v:["1f91b-1f3fb","1f91b-1f3fc","1f91b-1f3fd","1f91b-1f3fe","1f91b-1f3ff"],a:"3.0"},{n:["right-facing fist"],u:"1f91c",v:["1f91c-1f3fb","1f91c-1f3fc","1f91c-1f3fd","1f91c-1f3fe","1f91c-1f3ff"],a:"3.0"},{n:["clap","clapping hands sign"],u:"1f44f",v:["1f44f-1f3fb","1f44f-1f3fc","1f44f-1f3fd","1f44f-1f3fe","1f44f-1f3ff"],a:"0.6"},{n:["raised hands","person raising both hands in celebration"],u:"1f64c",v:["1f64c-1f3fb","1f64c-1f3fc","1f64c-1f3fd","1f64c-1f3fe","1f64c-1f3ff"],a:"0.6"},{n:["heart hands"],u:"1faf6",v:["1faf6-1f3fb","1faf6-1f3fc","1faf6-1f3fd","1faf6-1f3fe","1faf6-1f3ff"],a:"14.0"},{n:["open hands","open hands sign"],u:"1f450",v:["1f450-1f3fb","1f450-1f3fc","1f450-1f3fd","1f450-1f3fe","1f450-1f3ff"],a:"0.6"},{n:["palms up together"],u:"1f932",v:["1f932-1f3fb","1f932-1f3fc","1f932-1f3fd","1f932-1f3fe","1f932-1f3ff"],a:"5.0"},{n:["handshake"],u:"1f91d",v:["1f91d-1f3fb","1f91d-1f3fc","1f91d-1f3fd","1f91d-1f3fe","1f91d-1f3ff","1faf1-1f3fb-200d-1faf2-1f3fc","1faf1-1f3fb-200d-1faf2-1f3fd","1faf1-1f3fb-200d-1faf2-1f3fe","1faf1-1f3fb-200d-1faf2-1f3ff","1faf1-1f3fc-200d-1faf2-1f3fb","1faf1-1f3fc-200d-1faf2-1f3fd","1faf1-1f3fc-200d-1faf2-1f3fe","1faf1-1f3fc-200d-1faf2-1f3ff","1faf1-1f3fd-200d-1faf2-1f3fb","1faf1-1f3fd-200d-1faf2-1f3fc","1faf1-1f3fd-200d-1faf2-1f3fe","1faf1-1f3fd-200d-1faf2-1f3ff","1faf1-1f3fe-200d-1faf2-1f3fb","1faf1-1f3fe-200d-1faf2-1f3fc","1faf1-1f3fe-200d-1faf2-1f3fd","1faf1-1f3fe-200d-1faf2-1f3ff","1faf1-1f3ff-200d-1faf2-1f3fb","1faf1-1f3ff-200d-1faf2-1f3fc","1faf1-1f3ff-200d-1faf2-1f3fd","1faf1-1f3ff-200d-1faf2-1f3fe"],a:"3.0"},{n:["pray","person with folded hands"],u:"1f64f",v:["1f64f-1f3fb","1f64f-1f3fc","1f64f-1f3fd","1f64f-1f3fe","1f64f-1f3ff"],a:"0.6"},{n:["writing hand"],u:"270d-fe0f",v:["270d-1f3fb","270d-1f3fc","270d-1f3fd","270d-1f3fe","270d-1f3ff"],a:"0.7"},{n:["nail care","nail polish"],u:"1f485",v:["1f485-1f3fb","1f485-1f3fc","1f485-1f3fd","1f485-1f3fe","1f485-1f3ff"],a:"0.6"},{n:["selfie"],u:"1f933",v:["1f933-1f3fb","1f933-1f3fc","1f933-1f3fd","1f933-1f3fe","1f933-1f3ff"],a:"3.0"},{n:["muscle","flexed biceps"],u:"1f4aa",v:["1f4aa-1f3fb","1f4aa-1f3fc","1f4aa-1f3fd","1f4aa-1f3fe","1f4aa-1f3ff"],a:"0.6"},{n:["mechanical arm"],u:"1f9be",a:"12.0"},{n:["mechanical leg"],u:"1f9bf",a:"12.0"},{n:["leg"],u:"1f9b5",v:["1f9b5-1f3fb","1f9b5-1f3fc","1f9b5-1f3fd","1f9b5-1f3fe","1f9b5-1f3ff"],a:"11.0"},{n:["foot"],u:"1f9b6",v:["1f9b6-1f3fb","1f9b6-1f3fc","1f9b6-1f3fd","1f9b6-1f3fe","1f9b6-1f3ff"],a:"11.0"},{n:["ear"],u:"1f442",v:["1f442-1f3fb","1f442-1f3fc","1f442-1f3fd","1f442-1f3fe","1f442-1f3ff"],a:"0.6"},{n:["ear with hearing aid"],u:"1f9bb",v:["1f9bb-1f3fb","1f9bb-1f3fc","1f9bb-1f3fd","1f9bb-1f3fe","1f9bb-1f3ff"],a:"12.0"},{n:["nose"],u:"1f443",v:["1f443-1f3fb","1f443-1f3fc","1f443-1f3fd","1f443-1f3fe","1f443-1f3ff"],a:"0.6"},{n:["brain"],u:"1f9e0",a:"5.0"},{n:["anatomical heart"],u:"1fac0",a:"13.0"},{n:["lungs"],u:"1fac1",a:"13.0"},{n:["tooth"],u:"1f9b7",a:"11.0"},{n:["bone"],u:"1f9b4",a:"11.0"},{n:["eyes"],u:"1f440",a:"0.6"},{n:["eye"],u:"1f441-fe0f",a:"0.7"},{n:["tongue"],u:"1f445",a:"0.6"},{n:["lips","mouth"],u:"1f444",a:"0.6"},{n:["biting lip"],u:"1fae6",a:"14.0"},{n:["baby"],u:"1f476",v:["1f476-1f3fb","1f476-1f3fc","1f476-1f3fd","1f476-1f3fe","1f476-1f3ff"],a:"0.6"},{n:["child"],u:"1f9d2",v:["1f9d2-1f3fb","1f9d2-1f3fc","1f9d2-1f3fd","1f9d2-1f3fe","1f9d2-1f3ff"],a:"5.0"},{n:["boy"],u:"1f466",v:["1f466-1f3fb","1f466-1f3fc","1f466-1f3fd","1f466-1f3fe","1f466-1f3ff"],a:"0.6"},{n:["girl"],u:"1f467",v:["1f467-1f3fb","1f467-1f3fc","1f467-1f3fd","1f467-1f3fe","1f467-1f3ff"],a:"0.6"},{n:["adult"],u:"1f9d1",v:["1f9d1-1f3fb","1f9d1-1f3fc","1f9d1-1f3fd","1f9d1-1f3fe","1f9d1-1f3ff"],a:"5.0"},{n:["person with blond hair"],u:"1f471",v:["1f471-1f3fb","1f471-1f3fc","1f471-1f3fd","1f471-1f3fe","1f471-1f3ff"],a:"0.6"},{n:["man"],u:"1f468",v:["1f468-1f3fb","1f468-1f3fc","1f468-1f3fd","1f468-1f3fe","1f468-1f3ff"],a:"0.6"},{n:["bearded person"],u:"1f9d4",v:["1f9d4-1f3fb","1f9d4-1f3fc","1f9d4-1f3fd","1f9d4-1f3fe","1f9d4-1f3ff"],a:"5.0"},{n:["man: beard","man with beard"],u:"1f9d4-200d-2642-fe0f",v:["1f9d4-1f3fb-200d-2642-fe0f","1f9d4-1f3fc-200d-2642-fe0f","1f9d4-1f3fd-200d-2642-fe0f","1f9d4-1f3fe-200d-2642-fe0f","1f9d4-1f3ff-200d-2642-fe0f"],a:"13.1"},{n:["woman: beard","woman with beard"],u:"1f9d4-200d-2640-fe0f",v:["1f9d4-1f3fb-200d-2640-fe0f","1f9d4-1f3fc-200d-2640-fe0f","1f9d4-1f3fd-200d-2640-fe0f","1f9d4-1f3fe-200d-2640-fe0f","1f9d4-1f3ff-200d-2640-fe0f"],a:"13.1"},{n:["man: red hair","red haired man"],u:"1f468-200d-1f9b0",v:["1f468-1f3fb-200d-1f9b0","1f468-1f3fc-200d-1f9b0","1f468-1f3fd-200d-1f9b0","1f468-1f3fe-200d-1f9b0","1f468-1f3ff-200d-1f9b0"],a:"11.0"},{n:["man: curly hair","curly haired man"],u:"1f468-200d-1f9b1",v:["1f468-1f3fb-200d-1f9b1","1f468-1f3fc-200d-1f9b1","1f468-1f3fd-200d-1f9b1","1f468-1f3fe-200d-1f9b1","1f468-1f3ff-200d-1f9b1"],a:"11.0"},{n:["man: white hair","white haired man"],u:"1f468-200d-1f9b3",v:["1f468-1f3fb-200d-1f9b3","1f468-1f3fc-200d-1f9b3","1f468-1f3fd-200d-1f9b3","1f468-1f3fe-200d-1f9b3","1f468-1f3ff-200d-1f9b3"],a:"11.0"},{n:["bald man","man: bald"],u:"1f468-200d-1f9b2",v:["1f468-1f3fb-200d-1f9b2","1f468-1f3fc-200d-1f9b2","1f468-1f3fd-200d-1f9b2","1f468-1f3fe-200d-1f9b2","1f468-1f3ff-200d-1f9b2"],a:"11.0"},{n:["woman"],u:"1f469",v:["1f469-1f3fb","1f469-1f3fc","1f469-1f3fd","1f469-1f3fe","1f469-1f3ff"],a:"0.6"},{n:["woman: red hair","red haired woman"],u:"1f469-200d-1f9b0",v:["1f469-1f3fb-200d-1f9b0","1f469-1f3fc-200d-1f9b0","1f469-1f3fd-200d-1f9b0","1f469-1f3fe-200d-1f9b0","1f469-1f3ff-200d-1f9b0"],a:"11.0"},{n:["person: red hair","red haired person"],u:"1f9d1-200d-1f9b0",v:["1f9d1-1f3fb-200d-1f9b0","1f9d1-1f3fc-200d-1f9b0","1f9d1-1f3fd-200d-1f9b0","1f9d1-1f3fe-200d-1f9b0","1f9d1-1f3ff-200d-1f9b0"],a:"12.1"},{n:["woman: curly hair","curly haired woman"],u:"1f469-200d-1f9b1",v:["1f469-1f3fb-200d-1f9b1","1f469-1f3fc-200d-1f9b1","1f469-1f3fd-200d-1f9b1","1f469-1f3fe-200d-1f9b1","1f469-1f3ff-200d-1f9b1"],a:"11.0"},{n:["person: curly hair","curly haired person"],u:"1f9d1-200d-1f9b1",v:["1f9d1-1f3fb-200d-1f9b1","1f9d1-1f3fc-200d-1f9b1","1f9d1-1f3fd-200d-1f9b1","1f9d1-1f3fe-200d-1f9b1","1f9d1-1f3ff-200d-1f9b1"],a:"12.1"},{n:["woman: white hair","white haired woman"],u:"1f469-200d-1f9b3",v:["1f469-1f3fb-200d-1f9b3","1f469-1f3fc-200d-1f9b3","1f469-1f3fd-200d-1f9b3","1f469-1f3fe-200d-1f9b3","1f469-1f3ff-200d-1f9b3"],a:"11.0"},{n:["person: white hair","white haired person"],u:"1f9d1-200d-1f9b3",v:["1f9d1-1f3fb-200d-1f9b3","1f9d1-1f3fc-200d-1f9b3","1f9d1-1f3fd-200d-1f9b3","1f9d1-1f3fe-200d-1f9b3","1f9d1-1f3ff-200d-1f9b3"],a:"12.1"},{n:["bald woman","woman: bald"],u:"1f469-200d-1f9b2",v:["1f469-1f3fb-200d-1f9b2","1f469-1f3fc-200d-1f9b2","1f469-1f3fd-200d-1f9b2","1f469-1f3fe-200d-1f9b2","1f469-1f3ff-200d-1f9b2"],a:"11.0"},{n:["bald person","person: bald"],u:"1f9d1-200d-1f9b2",v:["1f9d1-1f3fb-200d-1f9b2","1f9d1-1f3fc-200d-1f9b2","1f9d1-1f3fd-200d-1f9b2","1f9d1-1f3fe-200d-1f9b2","1f9d1-1f3ff-200d-1f9b2"],a:"12.1"},{n:["woman: blond hair","blond-haired-woman"],u:"1f471-200d-2640-fe0f",v:["1f471-1f3fb-200d-2640-fe0f","1f471-1f3fc-200d-2640-fe0f","1f471-1f3fd-200d-2640-fe0f","1f471-1f3fe-200d-2640-fe0f","1f471-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["man: blond hair","blond-haired-man"],u:"1f471-200d-2642-fe0f",v:["1f471-1f3fb-200d-2642-fe0f","1f471-1f3fc-200d-2642-fe0f","1f471-1f3fd-200d-2642-fe0f","1f471-1f3fe-200d-2642-fe0f","1f471-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["older adult"],u:"1f9d3",v:["1f9d3-1f3fb","1f9d3-1f3fc","1f9d3-1f3fd","1f9d3-1f3fe","1f9d3-1f3ff"],a:"5.0"},{n:["older man"],u:"1f474",v:["1f474-1f3fb","1f474-1f3fc","1f474-1f3fd","1f474-1f3fe","1f474-1f3ff"],a:"0.6"},{n:["older woman"],u:"1f475",v:["1f475-1f3fb","1f475-1f3fc","1f475-1f3fd","1f475-1f3fe","1f475-1f3ff"],a:"0.6"},{n:["person frowning"],u:"1f64d",v:["1f64d-1f3fb","1f64d-1f3fc","1f64d-1f3fd","1f64d-1f3fe","1f64d-1f3ff"],a:"0.6"},{n:["man frowning","man-frowning"],u:"1f64d-200d-2642-fe0f",v:["1f64d-1f3fb-200d-2642-fe0f","1f64d-1f3fc-200d-2642-fe0f","1f64d-1f3fd-200d-2642-fe0f","1f64d-1f3fe-200d-2642-fe0f","1f64d-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman frowning","woman-frowning"],u:"1f64d-200d-2640-fe0f",v:["1f64d-1f3fb-200d-2640-fe0f","1f64d-1f3fc-200d-2640-fe0f","1f64d-1f3fd-200d-2640-fe0f","1f64d-1f3fe-200d-2640-fe0f","1f64d-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person with pouting face"],u:"1f64e",v:["1f64e-1f3fb","1f64e-1f3fc","1f64e-1f3fd","1f64e-1f3fe","1f64e-1f3ff"],a:"0.6"},{n:["man pouting","man-pouting"],u:"1f64e-200d-2642-fe0f",v:["1f64e-1f3fb-200d-2642-fe0f","1f64e-1f3fc-200d-2642-fe0f","1f64e-1f3fd-200d-2642-fe0f","1f64e-1f3fe-200d-2642-fe0f","1f64e-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman pouting","woman-pouting"],u:"1f64e-200d-2640-fe0f",v:["1f64e-1f3fb-200d-2640-fe0f","1f64e-1f3fc-200d-2640-fe0f","1f64e-1f3fd-200d-2640-fe0f","1f64e-1f3fe-200d-2640-fe0f","1f64e-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["no good","face with no good gesture"],u:"1f645",v:["1f645-1f3fb","1f645-1f3fc","1f645-1f3fd","1f645-1f3fe","1f645-1f3ff"],a:"0.6"},{n:["man gesturing no","man-gesturing-no"],u:"1f645-200d-2642-fe0f",v:["1f645-1f3fb-200d-2642-fe0f","1f645-1f3fc-200d-2642-fe0f","1f645-1f3fd-200d-2642-fe0f","1f645-1f3fe-200d-2642-fe0f","1f645-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman gesturing no","woman-gesturing-no"],u:"1f645-200d-2640-fe0f",v:["1f645-1f3fb-200d-2640-fe0f","1f645-1f3fc-200d-2640-fe0f","1f645-1f3fd-200d-2640-fe0f","1f645-1f3fe-200d-2640-fe0f","1f645-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["ok woman","face with ok gesture"],u:"1f646",v:["1f646-1f3fb","1f646-1f3fc","1f646-1f3fd","1f646-1f3fe","1f646-1f3ff"],a:"0.6"},{n:["man gesturing ok","man-gesturing-ok"],u:"1f646-200d-2642-fe0f",v:["1f646-1f3fb-200d-2642-fe0f","1f646-1f3fc-200d-2642-fe0f","1f646-1f3fd-200d-2642-fe0f","1f646-1f3fe-200d-2642-fe0f","1f646-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman gesturing ok","woman-gesturing-ok"],u:"1f646-200d-2640-fe0f",v:["1f646-1f3fb-200d-2640-fe0f","1f646-1f3fc-200d-2640-fe0f","1f646-1f3fd-200d-2640-fe0f","1f646-1f3fe-200d-2640-fe0f","1f646-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["information desk person"],u:"1f481",v:["1f481-1f3fb","1f481-1f3fc","1f481-1f3fd","1f481-1f3fe","1f481-1f3ff"],a:"0.6"},{n:["man tipping hand","man-tipping-hand"],u:"1f481-200d-2642-fe0f",v:["1f481-1f3fb-200d-2642-fe0f","1f481-1f3fc-200d-2642-fe0f","1f481-1f3fd-200d-2642-fe0f","1f481-1f3fe-200d-2642-fe0f","1f481-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman tipping hand","woman-tipping-hand"],u:"1f481-200d-2640-fe0f",v:["1f481-1f3fb-200d-2640-fe0f","1f481-1f3fc-200d-2640-fe0f","1f481-1f3fd-200d-2640-fe0f","1f481-1f3fe-200d-2640-fe0f","1f481-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["raising hand","happy person raising one hand"],u:"1f64b",v:["1f64b-1f3fb","1f64b-1f3fc","1f64b-1f3fd","1f64b-1f3fe","1f64b-1f3ff"],a:"0.6"},{n:["man raising hand","man-raising-hand"],u:"1f64b-200d-2642-fe0f",v:["1f64b-1f3fb-200d-2642-fe0f","1f64b-1f3fc-200d-2642-fe0f","1f64b-1f3fd-200d-2642-fe0f","1f64b-1f3fe-200d-2642-fe0f","1f64b-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman raising hand","woman-raising-hand"],u:"1f64b-200d-2640-fe0f",v:["1f64b-1f3fb-200d-2640-fe0f","1f64b-1f3fc-200d-2640-fe0f","1f64b-1f3fd-200d-2640-fe0f","1f64b-1f3fe-200d-2640-fe0f","1f64b-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["deaf person"],u:"1f9cf",v:["1f9cf-1f3fb","1f9cf-1f3fc","1f9cf-1f3fd","1f9cf-1f3fe","1f9cf-1f3ff"],a:"12.0"},{n:["deaf man"],u:"1f9cf-200d-2642-fe0f",v:["1f9cf-1f3fb-200d-2642-fe0f","1f9cf-1f3fc-200d-2642-fe0f","1f9cf-1f3fd-200d-2642-fe0f","1f9cf-1f3fe-200d-2642-fe0f","1f9cf-1f3ff-200d-2642-fe0f"],a:"12.0"},{n:["deaf woman"],u:"1f9cf-200d-2640-fe0f",v:["1f9cf-1f3fb-200d-2640-fe0f","1f9cf-1f3fc-200d-2640-fe0f","1f9cf-1f3fd-200d-2640-fe0f","1f9cf-1f3fe-200d-2640-fe0f","1f9cf-1f3ff-200d-2640-fe0f"],a:"12.0"},{n:["bow","person bowing deeply"],u:"1f647",v:["1f647-1f3fb","1f647-1f3fc","1f647-1f3fd","1f647-1f3fe","1f647-1f3ff"],a:"0.6"},{n:["man bowing","man-bowing"],u:"1f647-200d-2642-fe0f",v:["1f647-1f3fb-200d-2642-fe0f","1f647-1f3fc-200d-2642-fe0f","1f647-1f3fd-200d-2642-fe0f","1f647-1f3fe-200d-2642-fe0f","1f647-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman bowing","woman-bowing"],u:"1f647-200d-2640-fe0f",v:["1f647-1f3fb-200d-2640-fe0f","1f647-1f3fc-200d-2640-fe0f","1f647-1f3fd-200d-2640-fe0f","1f647-1f3fe-200d-2640-fe0f","1f647-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["face palm"],u:"1f926",v:["1f926-1f3fb","1f926-1f3fc","1f926-1f3fd","1f926-1f3fe","1f926-1f3ff"],a:"3.0"},{n:["man facepalming","man-facepalming"],u:"1f926-200d-2642-fe0f",v:["1f926-1f3fb-200d-2642-fe0f","1f926-1f3fc-200d-2642-fe0f","1f926-1f3fd-200d-2642-fe0f","1f926-1f3fe-200d-2642-fe0f","1f926-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman facepalming","woman-facepalming"],u:"1f926-200d-2640-fe0f",v:["1f926-1f3fb-200d-2640-fe0f","1f926-1f3fc-200d-2640-fe0f","1f926-1f3fd-200d-2640-fe0f","1f926-1f3fe-200d-2640-fe0f","1f926-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["shrug"],u:"1f937",v:["1f937-1f3fb","1f937-1f3fc","1f937-1f3fd","1f937-1f3fe","1f937-1f3ff"],a:"3.0"},{n:["man shrugging","man-shrugging"],u:"1f937-200d-2642-fe0f",v:["1f937-1f3fb-200d-2642-fe0f","1f937-1f3fc-200d-2642-fe0f","1f937-1f3fd-200d-2642-fe0f","1f937-1f3fe-200d-2642-fe0f","1f937-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman shrugging","woman-shrugging"],u:"1f937-200d-2640-fe0f",v:["1f937-1f3fb-200d-2640-fe0f","1f937-1f3fc-200d-2640-fe0f","1f937-1f3fd-200d-2640-fe0f","1f937-1f3fe-200d-2640-fe0f","1f937-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["health worker"],u:"1f9d1-200d-2695-fe0f",v:["1f9d1-1f3fb-200d-2695-fe0f","1f9d1-1f3fc-200d-2695-fe0f","1f9d1-1f3fd-200d-2695-fe0f","1f9d1-1f3fe-200d-2695-fe0f","1f9d1-1f3ff-200d-2695-fe0f"],a:"12.1"},{n:["male-doctor","man health worker"],u:"1f468-200d-2695-fe0f",v:["1f468-1f3fb-200d-2695-fe0f","1f468-1f3fc-200d-2695-fe0f","1f468-1f3fd-200d-2695-fe0f","1f468-1f3fe-200d-2695-fe0f","1f468-1f3ff-200d-2695-fe0f"],a:"4.0"},{n:["female-doctor","woman health worker"],u:"1f469-200d-2695-fe0f",v:["1f469-1f3fb-200d-2695-fe0f","1f469-1f3fc-200d-2695-fe0f","1f469-1f3fd-200d-2695-fe0f","1f469-1f3fe-200d-2695-fe0f","1f469-1f3ff-200d-2695-fe0f"],a:"4.0"},{n:["student"],u:"1f9d1-200d-1f393",v:["1f9d1-1f3fb-200d-1f393","1f9d1-1f3fc-200d-1f393","1f9d1-1f3fd-200d-1f393","1f9d1-1f3fe-200d-1f393","1f9d1-1f3ff-200d-1f393"],a:"12.1"},{n:["man student","male-student"],u:"1f468-200d-1f393",v:["1f468-1f3fb-200d-1f393","1f468-1f3fc-200d-1f393","1f468-1f3fd-200d-1f393","1f468-1f3fe-200d-1f393","1f468-1f3ff-200d-1f393"],a:"4.0"},{n:["woman student","female-student"],u:"1f469-200d-1f393",v:["1f469-1f3fb-200d-1f393","1f469-1f3fc-200d-1f393","1f469-1f3fd-200d-1f393","1f469-1f3fe-200d-1f393","1f469-1f3ff-200d-1f393"],a:"4.0"},{n:["teacher"],u:"1f9d1-200d-1f3eb",v:["1f9d1-1f3fb-200d-1f3eb","1f9d1-1f3fc-200d-1f3eb","1f9d1-1f3fd-200d-1f3eb","1f9d1-1f3fe-200d-1f3eb","1f9d1-1f3ff-200d-1f3eb"],a:"12.1"},{n:["man teacher","male-teacher"],u:"1f468-200d-1f3eb",v:["1f468-1f3fb-200d-1f3eb","1f468-1f3fc-200d-1f3eb","1f468-1f3fd-200d-1f3eb","1f468-1f3fe-200d-1f3eb","1f468-1f3ff-200d-1f3eb"],a:"4.0"},{n:["woman teacher","female-teacher"],u:"1f469-200d-1f3eb",v:["1f469-1f3fb-200d-1f3eb","1f469-1f3fc-200d-1f3eb","1f469-1f3fd-200d-1f3eb","1f469-1f3fe-200d-1f3eb","1f469-1f3ff-200d-1f3eb"],a:"4.0"},{n:["judge"],u:"1f9d1-200d-2696-fe0f",v:["1f9d1-1f3fb-200d-2696-fe0f","1f9d1-1f3fc-200d-2696-fe0f","1f9d1-1f3fd-200d-2696-fe0f","1f9d1-1f3fe-200d-2696-fe0f","1f9d1-1f3ff-200d-2696-fe0f"],a:"12.1"},{n:["man judge","male-judge"],u:"1f468-200d-2696-fe0f",v:["1f468-1f3fb-200d-2696-fe0f","1f468-1f3fc-200d-2696-fe0f","1f468-1f3fd-200d-2696-fe0f","1f468-1f3fe-200d-2696-fe0f","1f468-1f3ff-200d-2696-fe0f"],a:"4.0"},{n:["woman judge","female-judge"],u:"1f469-200d-2696-fe0f",v:["1f469-1f3fb-200d-2696-fe0f","1f469-1f3fc-200d-2696-fe0f","1f469-1f3fd-200d-2696-fe0f","1f469-1f3fe-200d-2696-fe0f","1f469-1f3ff-200d-2696-fe0f"],a:"4.0"},{n:["farmer"],u:"1f9d1-200d-1f33e",v:["1f9d1-1f3fb-200d-1f33e","1f9d1-1f3fc-200d-1f33e","1f9d1-1f3fd-200d-1f33e","1f9d1-1f3fe-200d-1f33e","1f9d1-1f3ff-200d-1f33e"],a:"12.1"},{n:["man farmer","male-farmer"],u:"1f468-200d-1f33e",v:["1f468-1f3fb-200d-1f33e","1f468-1f3fc-200d-1f33e","1f468-1f3fd-200d-1f33e","1f468-1f3fe-200d-1f33e","1f468-1f3ff-200d-1f33e"],a:"4.0"},{n:["woman farmer","female-farmer"],u:"1f469-200d-1f33e",v:["1f469-1f3fb-200d-1f33e","1f469-1f3fc-200d-1f33e","1f469-1f3fd-200d-1f33e","1f469-1f3fe-200d-1f33e","1f469-1f3ff-200d-1f33e"],a:"4.0"},{n:["cook"],u:"1f9d1-200d-1f373",v:["1f9d1-1f3fb-200d-1f373","1f9d1-1f3fc-200d-1f373","1f9d1-1f3fd-200d-1f373","1f9d1-1f3fe-200d-1f373","1f9d1-1f3ff-200d-1f373"],a:"12.1"},{n:["man cook","male-cook"],u:"1f468-200d-1f373",v:["1f468-1f3fb-200d-1f373","1f468-1f3fc-200d-1f373","1f468-1f3fd-200d-1f373","1f468-1f3fe-200d-1f373","1f468-1f3ff-200d-1f373"],a:"4.0"},{n:["woman cook","female-cook"],u:"1f469-200d-1f373",v:["1f469-1f3fb-200d-1f373","1f469-1f3fc-200d-1f373","1f469-1f3fd-200d-1f373","1f469-1f3fe-200d-1f373","1f469-1f3ff-200d-1f373"],a:"4.0"},{n:["mechanic"],u:"1f9d1-200d-1f527",v:["1f9d1-1f3fb-200d-1f527","1f9d1-1f3fc-200d-1f527","1f9d1-1f3fd-200d-1f527","1f9d1-1f3fe-200d-1f527","1f9d1-1f3ff-200d-1f527"],a:"12.1"},{n:["man mechanic","male-mechanic"],u:"1f468-200d-1f527",v:["1f468-1f3fb-200d-1f527","1f468-1f3fc-200d-1f527","1f468-1f3fd-200d-1f527","1f468-1f3fe-200d-1f527","1f468-1f3ff-200d-1f527"],a:"4.0"},{n:["woman mechanic","female-mechanic"],u:"1f469-200d-1f527",v:["1f469-1f3fb-200d-1f527","1f469-1f3fc-200d-1f527","1f469-1f3fd-200d-1f527","1f469-1f3fe-200d-1f527","1f469-1f3ff-200d-1f527"],a:"4.0"},{n:["factory worker"],u:"1f9d1-200d-1f3ed",v:["1f9d1-1f3fb-200d-1f3ed","1f9d1-1f3fc-200d-1f3ed","1f9d1-1f3fd-200d-1f3ed","1f9d1-1f3fe-200d-1f3ed","1f9d1-1f3ff-200d-1f3ed"],a:"12.1"},{n:["man factory worker","male-factory-worker"],u:"1f468-200d-1f3ed",v:["1f468-1f3fb-200d-1f3ed","1f468-1f3fc-200d-1f3ed","1f468-1f3fd-200d-1f3ed","1f468-1f3fe-200d-1f3ed","1f468-1f3ff-200d-1f3ed"],a:"4.0"},{n:["woman factory worker","female-factory-worker"],u:"1f469-200d-1f3ed",v:["1f469-1f3fb-200d-1f3ed","1f469-1f3fc-200d-1f3ed","1f469-1f3fd-200d-1f3ed","1f469-1f3fe-200d-1f3ed","1f469-1f3ff-200d-1f3ed"],a:"4.0"},{n:["office worker"],u:"1f9d1-200d-1f4bc",v:["1f9d1-1f3fb-200d-1f4bc","1f9d1-1f3fc-200d-1f4bc","1f9d1-1f3fd-200d-1f4bc","1f9d1-1f3fe-200d-1f4bc","1f9d1-1f3ff-200d-1f4bc"],a:"12.1"},{n:["man office worker","male-office-worker"],u:"1f468-200d-1f4bc",v:["1f468-1f3fb-200d-1f4bc","1f468-1f3fc-200d-1f4bc","1f468-1f3fd-200d-1f4bc","1f468-1f3fe-200d-1f4bc","1f468-1f3ff-200d-1f4bc"],a:"4.0"},{n:["woman office worker","female-office-worker"],u:"1f469-200d-1f4bc",v:["1f469-1f3fb-200d-1f4bc","1f469-1f3fc-200d-1f4bc","1f469-1f3fd-200d-1f4bc","1f469-1f3fe-200d-1f4bc","1f469-1f3ff-200d-1f4bc"],a:"4.0"},{n:["scientist"],u:"1f9d1-200d-1f52c",v:["1f9d1-1f3fb-200d-1f52c","1f9d1-1f3fc-200d-1f52c","1f9d1-1f3fd-200d-1f52c","1f9d1-1f3fe-200d-1f52c","1f9d1-1f3ff-200d-1f52c"],a:"12.1"},{n:["man scientist","male-scientist"],u:"1f468-200d-1f52c",v:["1f468-1f3fb-200d-1f52c","1f468-1f3fc-200d-1f52c","1f468-1f3fd-200d-1f52c","1f468-1f3fe-200d-1f52c","1f468-1f3ff-200d-1f52c"],a:"4.0"},{n:["woman scientist","female-scientist"],u:"1f469-200d-1f52c",v:["1f469-1f3fb-200d-1f52c","1f469-1f3fc-200d-1f52c","1f469-1f3fd-200d-1f52c","1f469-1f3fe-200d-1f52c","1f469-1f3ff-200d-1f52c"],a:"4.0"},{n:["technologist"],u:"1f9d1-200d-1f4bb",v:["1f9d1-1f3fb-200d-1f4bb","1f9d1-1f3fc-200d-1f4bb","1f9d1-1f3fd-200d-1f4bb","1f9d1-1f3fe-200d-1f4bb","1f9d1-1f3ff-200d-1f4bb"],a:"12.1"},{n:["man technologist","male-technologist"],u:"1f468-200d-1f4bb",v:["1f468-1f3fb-200d-1f4bb","1f468-1f3fc-200d-1f4bb","1f468-1f3fd-200d-1f4bb","1f468-1f3fe-200d-1f4bb","1f468-1f3ff-200d-1f4bb"],a:"4.0"},{n:["woman technologist","female-technologist"],u:"1f469-200d-1f4bb",v:["1f469-1f3fb-200d-1f4bb","1f469-1f3fc-200d-1f4bb","1f469-1f3fd-200d-1f4bb","1f469-1f3fe-200d-1f4bb","1f469-1f3ff-200d-1f4bb"],a:"4.0"},{n:["singer"],u:"1f9d1-200d-1f3a4",v:["1f9d1-1f3fb-200d-1f3a4","1f9d1-1f3fc-200d-1f3a4","1f9d1-1f3fd-200d-1f3a4","1f9d1-1f3fe-200d-1f3a4","1f9d1-1f3ff-200d-1f3a4"],a:"12.1"},{n:["man singer","male-singer"],u:"1f468-200d-1f3a4",v:["1f468-1f3fb-200d-1f3a4","1f468-1f3fc-200d-1f3a4","1f468-1f3fd-200d-1f3a4","1f468-1f3fe-200d-1f3a4","1f468-1f3ff-200d-1f3a4"],a:"4.0"},{n:["woman singer","female-singer"],u:"1f469-200d-1f3a4",v:["1f469-1f3fb-200d-1f3a4","1f469-1f3fc-200d-1f3a4","1f469-1f3fd-200d-1f3a4","1f469-1f3fe-200d-1f3a4","1f469-1f3ff-200d-1f3a4"],a:"4.0"},{n:["artist"],u:"1f9d1-200d-1f3a8",v:["1f9d1-1f3fb-200d-1f3a8","1f9d1-1f3fc-200d-1f3a8","1f9d1-1f3fd-200d-1f3a8","1f9d1-1f3fe-200d-1f3a8","1f9d1-1f3ff-200d-1f3a8"],a:"12.1"},{n:["man artist","male-artist"],u:"1f468-200d-1f3a8",v:["1f468-1f3fb-200d-1f3a8","1f468-1f3fc-200d-1f3a8","1f468-1f3fd-200d-1f3a8","1f468-1f3fe-200d-1f3a8","1f468-1f3ff-200d-1f3a8"],a:"4.0"},{n:["woman artist","female-artist"],u:"1f469-200d-1f3a8",v:["1f469-1f3fb-200d-1f3a8","1f469-1f3fc-200d-1f3a8","1f469-1f3fd-200d-1f3a8","1f469-1f3fe-200d-1f3a8","1f469-1f3ff-200d-1f3a8"],a:"4.0"},{n:["pilot"],u:"1f9d1-200d-2708-fe0f",v:["1f9d1-1f3fb-200d-2708-fe0f","1f9d1-1f3fc-200d-2708-fe0f","1f9d1-1f3fd-200d-2708-fe0f","1f9d1-1f3fe-200d-2708-fe0f","1f9d1-1f3ff-200d-2708-fe0f"],a:"12.1"},{n:["man pilot","male-pilot"],u:"1f468-200d-2708-fe0f",v:["1f468-1f3fb-200d-2708-fe0f","1f468-1f3fc-200d-2708-fe0f","1f468-1f3fd-200d-2708-fe0f","1f468-1f3fe-200d-2708-fe0f","1f468-1f3ff-200d-2708-fe0f"],a:"4.0"},{n:["woman pilot","female-pilot"],u:"1f469-200d-2708-fe0f",v:["1f469-1f3fb-200d-2708-fe0f","1f469-1f3fc-200d-2708-fe0f","1f469-1f3fd-200d-2708-fe0f","1f469-1f3fe-200d-2708-fe0f","1f469-1f3ff-200d-2708-fe0f"],a:"4.0"},{n:["astronaut"],u:"1f9d1-200d-1f680",v:["1f9d1-1f3fb-200d-1f680","1f9d1-1f3fc-200d-1f680","1f9d1-1f3fd-200d-1f680","1f9d1-1f3fe-200d-1f680","1f9d1-1f3ff-200d-1f680"],a:"12.1"},{n:["man astronaut","male-astronaut"],u:"1f468-200d-1f680",v:["1f468-1f3fb-200d-1f680","1f468-1f3fc-200d-1f680","1f468-1f3fd-200d-1f680","1f468-1f3fe-200d-1f680","1f468-1f3ff-200d-1f680"],a:"4.0"},{n:["woman astronaut","female-astronaut"],u:"1f469-200d-1f680",v:["1f469-1f3fb-200d-1f680","1f469-1f3fc-200d-1f680","1f469-1f3fd-200d-1f680","1f469-1f3fe-200d-1f680","1f469-1f3ff-200d-1f680"],a:"4.0"},{n:["firefighter"],u:"1f9d1-200d-1f692",v:["1f9d1-1f3fb-200d-1f692","1f9d1-1f3fc-200d-1f692","1f9d1-1f3fd-200d-1f692","1f9d1-1f3fe-200d-1f692","1f9d1-1f3ff-200d-1f692"],a:"12.1"},{n:["man firefighter","male-firefighter"],u:"1f468-200d-1f692",v:["1f468-1f3fb-200d-1f692","1f468-1f3fc-200d-1f692","1f468-1f3fd-200d-1f692","1f468-1f3fe-200d-1f692","1f468-1f3ff-200d-1f692"],a:"4.0"},{n:["woman firefighter","female-firefighter"],u:"1f469-200d-1f692",v:["1f469-1f3fb-200d-1f692","1f469-1f3fc-200d-1f692","1f469-1f3fd-200d-1f692","1f469-1f3fe-200d-1f692","1f469-1f3ff-200d-1f692"],a:"4.0"},{n:["cop","police officer"],u:"1f46e",v:["1f46e-1f3fb","1f46e-1f3fc","1f46e-1f3fd","1f46e-1f3fe","1f46e-1f3ff"],a:"0.6"},{n:["man police officer","male-police-officer"],u:"1f46e-200d-2642-fe0f",v:["1f46e-1f3fb-200d-2642-fe0f","1f46e-1f3fc-200d-2642-fe0f","1f46e-1f3fd-200d-2642-fe0f","1f46e-1f3fe-200d-2642-fe0f","1f46e-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman police officer","female-police-officer"],u:"1f46e-200d-2640-fe0f",v:["1f46e-1f3fb-200d-2640-fe0f","1f46e-1f3fc-200d-2640-fe0f","1f46e-1f3fd-200d-2640-fe0f","1f46e-1f3fe-200d-2640-fe0f","1f46e-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["detective","sleuth or spy"],u:"1f575-fe0f",v:["1f575-1f3fb","1f575-1f3fc","1f575-1f3fd","1f575-1f3fe","1f575-1f3ff"],a:"0.7"},{n:["man detective","male-detective"],u:"1f575-fe0f-200d-2642-fe0f",v:["1f575-1f3fb-200d-2642-fe0f","1f575-1f3fc-200d-2642-fe0f","1f575-1f3fd-200d-2642-fe0f","1f575-1f3fe-200d-2642-fe0f","1f575-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman detective","female-detective"],u:"1f575-fe0f-200d-2640-fe0f",v:["1f575-1f3fb-200d-2640-fe0f","1f575-1f3fc-200d-2640-fe0f","1f575-1f3fd-200d-2640-fe0f","1f575-1f3fe-200d-2640-fe0f","1f575-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["guardsman"],u:"1f482",v:["1f482-1f3fb","1f482-1f3fc","1f482-1f3fd","1f482-1f3fe","1f482-1f3ff"],a:"0.6"},{n:["man guard","male-guard"],u:"1f482-200d-2642-fe0f",v:["1f482-1f3fb-200d-2642-fe0f","1f482-1f3fc-200d-2642-fe0f","1f482-1f3fd-200d-2642-fe0f","1f482-1f3fe-200d-2642-fe0f","1f482-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman guard","female-guard"],u:"1f482-200d-2640-fe0f",v:["1f482-1f3fb-200d-2640-fe0f","1f482-1f3fc-200d-2640-fe0f","1f482-1f3fd-200d-2640-fe0f","1f482-1f3fe-200d-2640-fe0f","1f482-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["ninja"],u:"1f977",v:["1f977-1f3fb","1f977-1f3fc","1f977-1f3fd","1f977-1f3fe","1f977-1f3ff"],a:"13.0"},{n:["construction worker"],u:"1f477",v:["1f477-1f3fb","1f477-1f3fc","1f477-1f3fd","1f477-1f3fe","1f477-1f3ff"],a:"0.6"},{n:["man construction worker","male-construction-worker"],u:"1f477-200d-2642-fe0f",v:["1f477-1f3fb-200d-2642-fe0f","1f477-1f3fc-200d-2642-fe0f","1f477-1f3fd-200d-2642-fe0f","1f477-1f3fe-200d-2642-fe0f","1f477-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman construction worker","female-construction-worker"],u:"1f477-200d-2640-fe0f",v:["1f477-1f3fb-200d-2640-fe0f","1f477-1f3fc-200d-2640-fe0f","1f477-1f3fd-200d-2640-fe0f","1f477-1f3fe-200d-2640-fe0f","1f477-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person with crown"],u:"1fac5",v:["1fac5-1f3fb","1fac5-1f3fc","1fac5-1f3fd","1fac5-1f3fe","1fac5-1f3ff"],a:"14.0"},{n:["prince"],u:"1f934",v:["1f934-1f3fb","1f934-1f3fc","1f934-1f3fd","1f934-1f3fe","1f934-1f3ff"],a:"3.0"},{n:["princess"],u:"1f478",v:["1f478-1f3fb","1f478-1f3fc","1f478-1f3fd","1f478-1f3fe","1f478-1f3ff"],a:"0.6"},{n:["man with turban"],u:"1f473",v:["1f473-1f3fb","1f473-1f3fc","1f473-1f3fd","1f473-1f3fe","1f473-1f3ff"],a:"0.6"},{n:["man wearing turban","man-wearing-turban"],u:"1f473-200d-2642-fe0f",v:["1f473-1f3fb-200d-2642-fe0f","1f473-1f3fc-200d-2642-fe0f","1f473-1f3fd-200d-2642-fe0f","1f473-1f3fe-200d-2642-fe0f","1f473-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman wearing turban","woman-wearing-turban"],u:"1f473-200d-2640-fe0f",v:["1f473-1f3fb-200d-2640-fe0f","1f473-1f3fc-200d-2640-fe0f","1f473-1f3fd-200d-2640-fe0f","1f473-1f3fe-200d-2640-fe0f","1f473-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["man with gua pi mao"],u:"1f472",v:["1f472-1f3fb","1f472-1f3fc","1f472-1f3fd","1f472-1f3fe","1f472-1f3ff"],a:"0.6"},{n:["person with headscarf"],u:"1f9d5",v:["1f9d5-1f3fb","1f9d5-1f3fc","1f9d5-1f3fd","1f9d5-1f3fe","1f9d5-1f3ff"],a:"5.0"},{n:["man in tuxedo","person in tuxedo"],u:"1f935",v:["1f935-1f3fb","1f935-1f3fc","1f935-1f3fd","1f935-1f3fe","1f935-1f3ff"],a:"3.0"},{n:["man in tuxedo"],u:"1f935-200d-2642-fe0f",v:["1f935-1f3fb-200d-2642-fe0f","1f935-1f3fc-200d-2642-fe0f","1f935-1f3fd-200d-2642-fe0f","1f935-1f3fe-200d-2642-fe0f","1f935-1f3ff-200d-2642-fe0f"],a:"13.0"},{n:["woman in tuxedo"],u:"1f935-200d-2640-fe0f",v:["1f935-1f3fb-200d-2640-fe0f","1f935-1f3fc-200d-2640-fe0f","1f935-1f3fd-200d-2640-fe0f","1f935-1f3fe-200d-2640-fe0f","1f935-1f3ff-200d-2640-fe0f"],a:"13.0"},{n:["bride with veil"],u:"1f470",v:["1f470-1f3fb","1f470-1f3fc","1f470-1f3fd","1f470-1f3fe","1f470-1f3ff"],a:"0.6"},{n:["man with veil"],u:"1f470-200d-2642-fe0f",v:["1f470-1f3fb-200d-2642-fe0f","1f470-1f3fc-200d-2642-fe0f","1f470-1f3fd-200d-2642-fe0f","1f470-1f3fe-200d-2642-fe0f","1f470-1f3ff-200d-2642-fe0f"],a:"13.0"},{n:["woman with veil"],u:"1f470-200d-2640-fe0f",v:["1f470-1f3fb-200d-2640-fe0f","1f470-1f3fc-200d-2640-fe0f","1f470-1f3fd-200d-2640-fe0f","1f470-1f3fe-200d-2640-fe0f","1f470-1f3ff-200d-2640-fe0f"],a:"13.0"},{n:["pregnant woman"],u:"1f930",v:["1f930-1f3fb","1f930-1f3fc","1f930-1f3fd","1f930-1f3fe","1f930-1f3ff"],a:"3.0"},{n:["pregnant man"],u:"1fac3",v:["1fac3-1f3fb","1fac3-1f3fc","1fac3-1f3fd","1fac3-1f3fe","1fac3-1f3ff"],a:"14.0"},{n:["pregnant person"],u:"1fac4",v:["1fac4-1f3fb","1fac4-1f3fc","1fac4-1f3fd","1fac4-1f3fe","1fac4-1f3ff"],a:"14.0"},{n:["breast-feeding"],u:"1f931",v:["1f931-1f3fb","1f931-1f3fc","1f931-1f3fd","1f931-1f3fe","1f931-1f3ff"],a:"5.0"},{n:["woman feeding baby"],u:"1f469-200d-1f37c",v:["1f469-1f3fb-200d-1f37c","1f469-1f3fc-200d-1f37c","1f469-1f3fd-200d-1f37c","1f469-1f3fe-200d-1f37c","1f469-1f3ff-200d-1f37c"],a:"13.0"},{n:["man feeding baby"],u:"1f468-200d-1f37c",v:["1f468-1f3fb-200d-1f37c","1f468-1f3fc-200d-1f37c","1f468-1f3fd-200d-1f37c","1f468-1f3fe-200d-1f37c","1f468-1f3ff-200d-1f37c"],a:"13.0"},{n:["person feeding baby"],u:"1f9d1-200d-1f37c",v:["1f9d1-1f3fb-200d-1f37c","1f9d1-1f3fc-200d-1f37c","1f9d1-1f3fd-200d-1f37c","1f9d1-1f3fe-200d-1f37c","1f9d1-1f3ff-200d-1f37c"],a:"13.0"},{n:["angel","baby angel"],u:"1f47c",v:["1f47c-1f3fb","1f47c-1f3fc","1f47c-1f3fd","1f47c-1f3fe","1f47c-1f3ff"],a:"0.6"},{n:["santa","father christmas"],u:"1f385",v:["1f385-1f3fb","1f385-1f3fc","1f385-1f3fd","1f385-1f3fe","1f385-1f3ff"],a:"0.6"},{n:["mrs claus","mother christmas"],u:"1f936",v:["1f936-1f3fb","1f936-1f3fc","1f936-1f3fd","1f936-1f3fe","1f936-1f3ff"],a:"3.0"},{n:["mx claus"],u:"1f9d1-200d-1f384",v:["1f9d1-1f3fb-200d-1f384","1f9d1-1f3fc-200d-1f384","1f9d1-1f3fd-200d-1f384","1f9d1-1f3fe-200d-1f384","1f9d1-1f3ff-200d-1f384"],a:"13.0"},{n:["superhero"],u:"1f9b8",v:["1f9b8-1f3fb","1f9b8-1f3fc","1f9b8-1f3fd","1f9b8-1f3fe","1f9b8-1f3ff"],a:"11.0"},{n:["man superhero","male superhero"],u:"1f9b8-200d-2642-fe0f",v:["1f9b8-1f3fb-200d-2642-fe0f","1f9b8-1f3fc-200d-2642-fe0f","1f9b8-1f3fd-200d-2642-fe0f","1f9b8-1f3fe-200d-2642-fe0f","1f9b8-1f3ff-200d-2642-fe0f"],a:"11.0"},{n:["woman superhero","female superhero"],u:"1f9b8-200d-2640-fe0f",v:["1f9b8-1f3fb-200d-2640-fe0f","1f9b8-1f3fc-200d-2640-fe0f","1f9b8-1f3fd-200d-2640-fe0f","1f9b8-1f3fe-200d-2640-fe0f","1f9b8-1f3ff-200d-2640-fe0f"],a:"11.0"},{n:["supervillain"],u:"1f9b9",v:["1f9b9-1f3fb","1f9b9-1f3fc","1f9b9-1f3fd","1f9b9-1f3fe","1f9b9-1f3ff"],a:"11.0"},{n:["man supervillain","male supervillain"],u:"1f9b9-200d-2642-fe0f",v:["1f9b9-1f3fb-200d-2642-fe0f","1f9b9-1f3fc-200d-2642-fe0f","1f9b9-1f3fd-200d-2642-fe0f","1f9b9-1f3fe-200d-2642-fe0f","1f9b9-1f3ff-200d-2642-fe0f"],a:"11.0"},{n:["woman supervillain","female supervillain"],u:"1f9b9-200d-2640-fe0f",v:["1f9b9-1f3fb-200d-2640-fe0f","1f9b9-1f3fc-200d-2640-fe0f","1f9b9-1f3fd-200d-2640-fe0f","1f9b9-1f3fe-200d-2640-fe0f","1f9b9-1f3ff-200d-2640-fe0f"],a:"11.0"},{n:["mage"],u:"1f9d9",v:["1f9d9-1f3fb","1f9d9-1f3fc","1f9d9-1f3fd","1f9d9-1f3fe","1f9d9-1f3ff"],a:"5.0"},{n:["man mage","male mage"],u:"1f9d9-200d-2642-fe0f",v:["1f9d9-1f3fb-200d-2642-fe0f","1f9d9-1f3fc-200d-2642-fe0f","1f9d9-1f3fd-200d-2642-fe0f","1f9d9-1f3fe-200d-2642-fe0f","1f9d9-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman mage","female mage"],u:"1f9d9-200d-2640-fe0f",v:["1f9d9-1f3fb-200d-2640-fe0f","1f9d9-1f3fc-200d-2640-fe0f","1f9d9-1f3fd-200d-2640-fe0f","1f9d9-1f3fe-200d-2640-fe0f","1f9d9-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["fairy"],u:"1f9da",v:["1f9da-1f3fb","1f9da-1f3fc","1f9da-1f3fd","1f9da-1f3fe","1f9da-1f3ff"],a:"5.0"},{n:["man fairy","male fairy"],u:"1f9da-200d-2642-fe0f",v:["1f9da-1f3fb-200d-2642-fe0f","1f9da-1f3fc-200d-2642-fe0f","1f9da-1f3fd-200d-2642-fe0f","1f9da-1f3fe-200d-2642-fe0f","1f9da-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman fairy","female fairy"],u:"1f9da-200d-2640-fe0f",v:["1f9da-1f3fb-200d-2640-fe0f","1f9da-1f3fc-200d-2640-fe0f","1f9da-1f3fd-200d-2640-fe0f","1f9da-1f3fe-200d-2640-fe0f","1f9da-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["vampire"],u:"1f9db",v:["1f9db-1f3fb","1f9db-1f3fc","1f9db-1f3fd","1f9db-1f3fe","1f9db-1f3ff"],a:"5.0"},{n:["man vampire","male vampire"],u:"1f9db-200d-2642-fe0f",v:["1f9db-1f3fb-200d-2642-fe0f","1f9db-1f3fc-200d-2642-fe0f","1f9db-1f3fd-200d-2642-fe0f","1f9db-1f3fe-200d-2642-fe0f","1f9db-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman vampire","female vampire"],u:"1f9db-200d-2640-fe0f",v:["1f9db-1f3fb-200d-2640-fe0f","1f9db-1f3fc-200d-2640-fe0f","1f9db-1f3fd-200d-2640-fe0f","1f9db-1f3fe-200d-2640-fe0f","1f9db-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["merperson"],u:"1f9dc",v:["1f9dc-1f3fb","1f9dc-1f3fc","1f9dc-1f3fd","1f9dc-1f3fe","1f9dc-1f3ff"],a:"5.0"},{n:["merman"],u:"1f9dc-200d-2642-fe0f",v:["1f9dc-1f3fb-200d-2642-fe0f","1f9dc-1f3fc-200d-2642-fe0f","1f9dc-1f3fd-200d-2642-fe0f","1f9dc-1f3fe-200d-2642-fe0f","1f9dc-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["mermaid"],u:"1f9dc-200d-2640-fe0f",v:["1f9dc-1f3fb-200d-2640-fe0f","1f9dc-1f3fc-200d-2640-fe0f","1f9dc-1f3fd-200d-2640-fe0f","1f9dc-1f3fe-200d-2640-fe0f","1f9dc-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["elf"],u:"1f9dd",v:["1f9dd-1f3fb","1f9dd-1f3fc","1f9dd-1f3fd","1f9dd-1f3fe","1f9dd-1f3ff"],a:"5.0"},{n:["man elf","male elf"],u:"1f9dd-200d-2642-fe0f",v:["1f9dd-1f3fb-200d-2642-fe0f","1f9dd-1f3fc-200d-2642-fe0f","1f9dd-1f3fd-200d-2642-fe0f","1f9dd-1f3fe-200d-2642-fe0f","1f9dd-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman elf","female elf"],u:"1f9dd-200d-2640-fe0f",v:["1f9dd-1f3fb-200d-2640-fe0f","1f9dd-1f3fc-200d-2640-fe0f","1f9dd-1f3fd-200d-2640-fe0f","1f9dd-1f3fe-200d-2640-fe0f","1f9dd-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["genie"],u:"1f9de",a:"5.0"},{n:["man genie","male genie"],u:"1f9de-200d-2642-fe0f",a:"5.0"},{n:["woman genie","female genie"],u:"1f9de-200d-2640-fe0f",a:"5.0"},{n:["zombie"],u:"1f9df",a:"5.0"},{n:["man zombie","male zombie"],u:"1f9df-200d-2642-fe0f",a:"5.0"},{n:["woman zombie","female zombie"],u:"1f9df-200d-2640-fe0f",a:"5.0"},{n:["troll"],u:"1f9cc",a:"14.0"},{n:["massage","face massage"],u:"1f486",v:["1f486-1f3fb","1f486-1f3fc","1f486-1f3fd","1f486-1f3fe","1f486-1f3ff"],a:"0.6"},{n:["man getting massage","man-getting-massage"],u:"1f486-200d-2642-fe0f",v:["1f486-1f3fb-200d-2642-fe0f","1f486-1f3fc-200d-2642-fe0f","1f486-1f3fd-200d-2642-fe0f","1f486-1f3fe-200d-2642-fe0f","1f486-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman getting massage","woman-getting-massage"],u:"1f486-200d-2640-fe0f",v:["1f486-1f3fb-200d-2640-fe0f","1f486-1f3fc-200d-2640-fe0f","1f486-1f3fd-200d-2640-fe0f","1f486-1f3fe-200d-2640-fe0f","1f486-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["haircut"],u:"1f487",v:["1f487-1f3fb","1f487-1f3fc","1f487-1f3fd","1f487-1f3fe","1f487-1f3ff"],a:"0.6"},{n:["man getting haircut","man-getting-haircut"],u:"1f487-200d-2642-fe0f",v:["1f487-1f3fb-200d-2642-fe0f","1f487-1f3fc-200d-2642-fe0f","1f487-1f3fd-200d-2642-fe0f","1f487-1f3fe-200d-2642-fe0f","1f487-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman getting haircut","woman-getting-haircut"],u:"1f487-200d-2640-fe0f",v:["1f487-1f3fb-200d-2640-fe0f","1f487-1f3fc-200d-2640-fe0f","1f487-1f3fd-200d-2640-fe0f","1f487-1f3fe-200d-2640-fe0f","1f487-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["walking","pedestrian"],u:"1f6b6",v:["1f6b6-1f3fb","1f6b6-1f3fc","1f6b6-1f3fd","1f6b6-1f3fe","1f6b6-1f3ff"],a:"0.6"},{n:["man walking","man-walking"],u:"1f6b6-200d-2642-fe0f",v:["1f6b6-1f3fb-200d-2642-fe0f","1f6b6-1f3fc-200d-2642-fe0f","1f6b6-1f3fd-200d-2642-fe0f","1f6b6-1f3fe-200d-2642-fe0f","1f6b6-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman walking","woman-walking"],u:"1f6b6-200d-2640-fe0f",v:["1f6b6-1f3fb-200d-2640-fe0f","1f6b6-1f3fc-200d-2640-fe0f","1f6b6-1f3fd-200d-2640-fe0f","1f6b6-1f3fe-200d-2640-fe0f","1f6b6-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["standing person"],u:"1f9cd",v:["1f9cd-1f3fb","1f9cd-1f3fc","1f9cd-1f3fd","1f9cd-1f3fe","1f9cd-1f3ff"],a:"12.0"},{n:["man standing"],u:"1f9cd-200d-2642-fe0f",v:["1f9cd-1f3fb-200d-2642-fe0f","1f9cd-1f3fc-200d-2642-fe0f","1f9cd-1f3fd-200d-2642-fe0f","1f9cd-1f3fe-200d-2642-fe0f","1f9cd-1f3ff-200d-2642-fe0f"],a:"12.0"},{n:["woman standing"],u:"1f9cd-200d-2640-fe0f",v:["1f9cd-1f3fb-200d-2640-fe0f","1f9cd-1f3fc-200d-2640-fe0f","1f9cd-1f3fd-200d-2640-fe0f","1f9cd-1f3fe-200d-2640-fe0f","1f9cd-1f3ff-200d-2640-fe0f"],a:"12.0"},{n:["kneeling person"],u:"1f9ce",v:["1f9ce-1f3fb","1f9ce-1f3fc","1f9ce-1f3fd","1f9ce-1f3fe","1f9ce-1f3ff"],a:"12.0"},{n:["man kneeling"],u:"1f9ce-200d-2642-fe0f",v:["1f9ce-1f3fb-200d-2642-fe0f","1f9ce-1f3fc-200d-2642-fe0f","1f9ce-1f3fd-200d-2642-fe0f","1f9ce-1f3fe-200d-2642-fe0f","1f9ce-1f3ff-200d-2642-fe0f"],a:"12.0"},{n:["woman kneeling"],u:"1f9ce-200d-2640-fe0f",v:["1f9ce-1f3fb-200d-2640-fe0f","1f9ce-1f3fc-200d-2640-fe0f","1f9ce-1f3fd-200d-2640-fe0f","1f9ce-1f3fe-200d-2640-fe0f","1f9ce-1f3ff-200d-2640-fe0f"],a:"12.0"},{n:["person with white cane","person with probing cane"],u:"1f9d1-200d-1f9af",v:["1f9d1-1f3fb-200d-1f9af","1f9d1-1f3fc-200d-1f9af","1f9d1-1f3fd-200d-1f9af","1f9d1-1f3fe-200d-1f9af","1f9d1-1f3ff-200d-1f9af"],a:"12.1"},{n:["man with white cane","man with probing cane"],u:"1f468-200d-1f9af",v:["1f468-1f3fb-200d-1f9af","1f468-1f3fc-200d-1f9af","1f468-1f3fd-200d-1f9af","1f468-1f3fe-200d-1f9af","1f468-1f3ff-200d-1f9af"],a:"12.0"},{n:["woman with white cane","woman with probing cane"],u:"1f469-200d-1f9af",v:["1f469-1f3fb-200d-1f9af","1f469-1f3fc-200d-1f9af","1f469-1f3fd-200d-1f9af","1f469-1f3fe-200d-1f9af","1f469-1f3ff-200d-1f9af"],a:"12.0"},{n:["person in motorized wheelchair"],u:"1f9d1-200d-1f9bc",v:["1f9d1-1f3fb-200d-1f9bc","1f9d1-1f3fc-200d-1f9bc","1f9d1-1f3fd-200d-1f9bc","1f9d1-1f3fe-200d-1f9bc","1f9d1-1f3ff-200d-1f9bc"],a:"12.1"},{n:["man in motorized wheelchair"],u:"1f468-200d-1f9bc",v:["1f468-1f3fb-200d-1f9bc","1f468-1f3fc-200d-1f9bc","1f468-1f3fd-200d-1f9bc","1f468-1f3fe-200d-1f9bc","1f468-1f3ff-200d-1f9bc"],a:"12.0"},{n:["woman in motorized wheelchair"],u:"1f469-200d-1f9bc",v:["1f469-1f3fb-200d-1f9bc","1f469-1f3fc-200d-1f9bc","1f469-1f3fd-200d-1f9bc","1f469-1f3fe-200d-1f9bc","1f469-1f3ff-200d-1f9bc"],a:"12.0"},{n:["person in manual wheelchair"],u:"1f9d1-200d-1f9bd",v:["1f9d1-1f3fb-200d-1f9bd","1f9d1-1f3fc-200d-1f9bd","1f9d1-1f3fd-200d-1f9bd","1f9d1-1f3fe-200d-1f9bd","1f9d1-1f3ff-200d-1f9bd"],a:"12.1"},{n:["man in manual wheelchair"],u:"1f468-200d-1f9bd",v:["1f468-1f3fb-200d-1f9bd","1f468-1f3fc-200d-1f9bd","1f468-1f3fd-200d-1f9bd","1f468-1f3fe-200d-1f9bd","1f468-1f3ff-200d-1f9bd"],a:"12.0"},{n:["woman in manual wheelchair"],u:"1f469-200d-1f9bd",v:["1f469-1f3fb-200d-1f9bd","1f469-1f3fc-200d-1f9bd","1f469-1f3fd-200d-1f9bd","1f469-1f3fe-200d-1f9bd","1f469-1f3ff-200d-1f9bd"],a:"12.0"},{n:["runner","running"],u:"1f3c3",v:["1f3c3-1f3fb","1f3c3-1f3fc","1f3c3-1f3fd","1f3c3-1f3fe","1f3c3-1f3ff"],a:"0.6"},{n:["man running","man-running"],u:"1f3c3-200d-2642-fe0f",v:["1f3c3-1f3fb-200d-2642-fe0f","1f3c3-1f3fc-200d-2642-fe0f","1f3c3-1f3fd-200d-2642-fe0f","1f3c3-1f3fe-200d-2642-fe0f","1f3c3-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman running","woman-running"],u:"1f3c3-200d-2640-fe0f",v:["1f3c3-1f3fb-200d-2640-fe0f","1f3c3-1f3fc-200d-2640-fe0f","1f3c3-1f3fd-200d-2640-fe0f","1f3c3-1f3fe-200d-2640-fe0f","1f3c3-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["dancer"],u:"1f483",v:["1f483-1f3fb","1f483-1f3fc","1f483-1f3fd","1f483-1f3fe","1f483-1f3ff"],a:"0.6"},{n:["man dancing"],u:"1f57a",v:["1f57a-1f3fb","1f57a-1f3fc","1f57a-1f3fd","1f57a-1f3fe","1f57a-1f3ff"],a:"3.0"},{n:["person in suit levitating","man in business suit levitating"],u:"1f574-fe0f",v:["1f574-1f3fb","1f574-1f3fc","1f574-1f3fd","1f574-1f3fe","1f574-1f3ff"],a:"0.7"},{n:["dancers","woman with bunny ears"],u:"1f46f",a:"0.6"},{n:["men with bunny ears","men-with-bunny-ears-partying","man-with-bunny-ears-partying"],u:"1f46f-200d-2642-fe0f",a:"4.0"},{n:["women with bunny ears","women-with-bunny-ears-partying","woman-with-bunny-ears-partying"],u:"1f46f-200d-2640-fe0f",a:"4.0"},{n:["person in steamy room"],u:"1f9d6",v:["1f9d6-1f3fb","1f9d6-1f3fc","1f9d6-1f3fd","1f9d6-1f3fe","1f9d6-1f3ff"],a:"5.0"},{n:["man in steamy room"],u:"1f9d6-200d-2642-fe0f",v:["1f9d6-1f3fb-200d-2642-fe0f","1f9d6-1f3fc-200d-2642-fe0f","1f9d6-1f3fd-200d-2642-fe0f","1f9d6-1f3fe-200d-2642-fe0f","1f9d6-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman in steamy room"],u:"1f9d6-200d-2640-fe0f",v:["1f9d6-1f3fb-200d-2640-fe0f","1f9d6-1f3fc-200d-2640-fe0f","1f9d6-1f3fd-200d-2640-fe0f","1f9d6-1f3fe-200d-2640-fe0f","1f9d6-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["person climbing"],u:"1f9d7",v:["1f9d7-1f3fb","1f9d7-1f3fc","1f9d7-1f3fd","1f9d7-1f3fe","1f9d7-1f3ff"],a:"5.0"},{n:["man climbing"],u:"1f9d7-200d-2642-fe0f",v:["1f9d7-1f3fb-200d-2642-fe0f","1f9d7-1f3fc-200d-2642-fe0f","1f9d7-1f3fd-200d-2642-fe0f","1f9d7-1f3fe-200d-2642-fe0f","1f9d7-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman climbing"],u:"1f9d7-200d-2640-fe0f",v:["1f9d7-1f3fb-200d-2640-fe0f","1f9d7-1f3fc-200d-2640-fe0f","1f9d7-1f3fd-200d-2640-fe0f","1f9d7-1f3fe-200d-2640-fe0f","1f9d7-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["fencer"],u:"1f93a",a:"3.0"},{n:["horse racing"],u:"1f3c7",v:["1f3c7-1f3fb","1f3c7-1f3fc","1f3c7-1f3fd","1f3c7-1f3fe","1f3c7-1f3ff"],a:"1.0"},{n:["skier"],u:"26f7-fe0f",a:"0.7"},{n:["snowboarder"],u:"1f3c2",v:["1f3c2-1f3fb","1f3c2-1f3fc","1f3c2-1f3fd","1f3c2-1f3fe","1f3c2-1f3ff"],a:"0.6"},{n:["golfer","person golfing"],u:"1f3cc-fe0f",v:["1f3cc-1f3fb","1f3cc-1f3fc","1f3cc-1f3fd","1f3cc-1f3fe","1f3cc-1f3ff"],a:"0.7"},{n:["man golfing","man-golfing"],u:"1f3cc-fe0f-200d-2642-fe0f",v:["1f3cc-1f3fb-200d-2642-fe0f","1f3cc-1f3fc-200d-2642-fe0f","1f3cc-1f3fd-200d-2642-fe0f","1f3cc-1f3fe-200d-2642-fe0f","1f3cc-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman golfing","woman-golfing"],u:"1f3cc-fe0f-200d-2640-fe0f",v:["1f3cc-1f3fb-200d-2640-fe0f","1f3cc-1f3fc-200d-2640-fe0f","1f3cc-1f3fd-200d-2640-fe0f","1f3cc-1f3fe-200d-2640-fe0f","1f3cc-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["surfer"],u:"1f3c4",v:["1f3c4-1f3fb","1f3c4-1f3fc","1f3c4-1f3fd","1f3c4-1f3fe","1f3c4-1f3ff"],a:"0.6"},{n:["man surfing","man-surfing"],u:"1f3c4-200d-2642-fe0f",v:["1f3c4-1f3fb-200d-2642-fe0f","1f3c4-1f3fc-200d-2642-fe0f","1f3c4-1f3fd-200d-2642-fe0f","1f3c4-1f3fe-200d-2642-fe0f","1f3c4-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman surfing","woman-surfing"],u:"1f3c4-200d-2640-fe0f",v:["1f3c4-1f3fb-200d-2640-fe0f","1f3c4-1f3fc-200d-2640-fe0f","1f3c4-1f3fd-200d-2640-fe0f","1f3c4-1f3fe-200d-2640-fe0f","1f3c4-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["rowboat"],u:"1f6a3",v:["1f6a3-1f3fb","1f6a3-1f3fc","1f6a3-1f3fd","1f6a3-1f3fe","1f6a3-1f3ff"],a:"1.0"},{n:["man rowing boat","man-rowing-boat"],u:"1f6a3-200d-2642-fe0f",v:["1f6a3-1f3fb-200d-2642-fe0f","1f6a3-1f3fc-200d-2642-fe0f","1f6a3-1f3fd-200d-2642-fe0f","1f6a3-1f3fe-200d-2642-fe0f","1f6a3-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman rowing boat","woman-rowing-boat"],u:"1f6a3-200d-2640-fe0f",v:["1f6a3-1f3fb-200d-2640-fe0f","1f6a3-1f3fc-200d-2640-fe0f","1f6a3-1f3fd-200d-2640-fe0f","1f6a3-1f3fe-200d-2640-fe0f","1f6a3-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["swimmer"],u:"1f3ca",v:["1f3ca-1f3fb","1f3ca-1f3fc","1f3ca-1f3fd","1f3ca-1f3fe","1f3ca-1f3ff"],a:"0.6"},{n:["man swimming","man-swimming"],u:"1f3ca-200d-2642-fe0f",v:["1f3ca-1f3fb-200d-2642-fe0f","1f3ca-1f3fc-200d-2642-fe0f","1f3ca-1f3fd-200d-2642-fe0f","1f3ca-1f3fe-200d-2642-fe0f","1f3ca-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman swimming","woman-swimming"],u:"1f3ca-200d-2640-fe0f",v:["1f3ca-1f3fb-200d-2640-fe0f","1f3ca-1f3fc-200d-2640-fe0f","1f3ca-1f3fd-200d-2640-fe0f","1f3ca-1f3fe-200d-2640-fe0f","1f3ca-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person with ball","person bouncing ball"],u:"26f9-fe0f",v:["26f9-1f3fb","26f9-1f3fc","26f9-1f3fd","26f9-1f3fe","26f9-1f3ff"],a:"0.7"},{n:["man bouncing ball","man-bouncing-ball"],u:"26f9-fe0f-200d-2642-fe0f",v:["26f9-1f3fb-200d-2642-fe0f","26f9-1f3fc-200d-2642-fe0f","26f9-1f3fd-200d-2642-fe0f","26f9-1f3fe-200d-2642-fe0f","26f9-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman bouncing ball","woman-bouncing-ball"],u:"26f9-fe0f-200d-2640-fe0f",v:["26f9-1f3fb-200d-2640-fe0f","26f9-1f3fc-200d-2640-fe0f","26f9-1f3fd-200d-2640-fe0f","26f9-1f3fe-200d-2640-fe0f","26f9-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["weight lifter","person lifting weights"],u:"1f3cb-fe0f",v:["1f3cb-1f3fb","1f3cb-1f3fc","1f3cb-1f3fd","1f3cb-1f3fe","1f3cb-1f3ff"],a:"0.7"},{n:["man lifting weights","man-lifting-weights"],u:"1f3cb-fe0f-200d-2642-fe0f",v:["1f3cb-1f3fb-200d-2642-fe0f","1f3cb-1f3fc-200d-2642-fe0f","1f3cb-1f3fd-200d-2642-fe0f","1f3cb-1f3fe-200d-2642-fe0f","1f3cb-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman lifting weights","woman-lifting-weights"],u:"1f3cb-fe0f-200d-2640-fe0f",v:["1f3cb-1f3fb-200d-2640-fe0f","1f3cb-1f3fc-200d-2640-fe0f","1f3cb-1f3fd-200d-2640-fe0f","1f3cb-1f3fe-200d-2640-fe0f","1f3cb-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["bicyclist"],u:"1f6b4",v:["1f6b4-1f3fb","1f6b4-1f3fc","1f6b4-1f3fd","1f6b4-1f3fe","1f6b4-1f3ff"],a:"1.0"},{n:["man biking","man-biking"],u:"1f6b4-200d-2642-fe0f",v:["1f6b4-1f3fb-200d-2642-fe0f","1f6b4-1f3fc-200d-2642-fe0f","1f6b4-1f3fd-200d-2642-fe0f","1f6b4-1f3fe-200d-2642-fe0f","1f6b4-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman biking","woman-biking"],u:"1f6b4-200d-2640-fe0f",v:["1f6b4-1f3fb-200d-2640-fe0f","1f6b4-1f3fc-200d-2640-fe0f","1f6b4-1f3fd-200d-2640-fe0f","1f6b4-1f3fe-200d-2640-fe0f","1f6b4-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["mountain bicyclist"],u:"1f6b5",v:["1f6b5-1f3fb","1f6b5-1f3fc","1f6b5-1f3fd","1f6b5-1f3fe","1f6b5-1f3ff"],a:"1.0"},{n:["man mountain biking","man-mountain-biking"],u:"1f6b5-200d-2642-fe0f",v:["1f6b5-1f3fb-200d-2642-fe0f","1f6b5-1f3fc-200d-2642-fe0f","1f6b5-1f3fd-200d-2642-fe0f","1f6b5-1f3fe-200d-2642-fe0f","1f6b5-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman mountain biking","woman-mountain-biking"],u:"1f6b5-200d-2640-fe0f",v:["1f6b5-1f3fb-200d-2640-fe0f","1f6b5-1f3fc-200d-2640-fe0f","1f6b5-1f3fd-200d-2640-fe0f","1f6b5-1f3fe-200d-2640-fe0f","1f6b5-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person doing cartwheel"],u:"1f938",v:["1f938-1f3fb","1f938-1f3fc","1f938-1f3fd","1f938-1f3fe","1f938-1f3ff"],a:"3.0"},{n:["man cartwheeling","man-cartwheeling"],u:"1f938-200d-2642-fe0f",v:["1f938-1f3fb-200d-2642-fe0f","1f938-1f3fc-200d-2642-fe0f","1f938-1f3fd-200d-2642-fe0f","1f938-1f3fe-200d-2642-fe0f","1f938-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman cartwheeling","woman-cartwheeling"],u:"1f938-200d-2640-fe0f",v:["1f938-1f3fb-200d-2640-fe0f","1f938-1f3fc-200d-2640-fe0f","1f938-1f3fd-200d-2640-fe0f","1f938-1f3fe-200d-2640-fe0f","1f938-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["wrestlers"],u:"1f93c",a:"3.0"},{n:["men wrestling","man-wrestling"],u:"1f93c-200d-2642-fe0f",a:"4.0"},{n:["women wrestling","woman-wrestling"],u:"1f93c-200d-2640-fe0f",a:"4.0"},{n:["water polo"],u:"1f93d",v:["1f93d-1f3fb","1f93d-1f3fc","1f93d-1f3fd","1f93d-1f3fe","1f93d-1f3ff"],a:"3.0"},{n:["man playing water polo","man-playing-water-polo"],u:"1f93d-200d-2642-fe0f",v:["1f93d-1f3fb-200d-2642-fe0f","1f93d-1f3fc-200d-2642-fe0f","1f93d-1f3fd-200d-2642-fe0f","1f93d-1f3fe-200d-2642-fe0f","1f93d-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman playing water polo","woman-playing-water-polo"],u:"1f93d-200d-2640-fe0f",v:["1f93d-1f3fb-200d-2640-fe0f","1f93d-1f3fc-200d-2640-fe0f","1f93d-1f3fd-200d-2640-fe0f","1f93d-1f3fe-200d-2640-fe0f","1f93d-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["handball"],u:"1f93e",v:["1f93e-1f3fb","1f93e-1f3fc","1f93e-1f3fd","1f93e-1f3fe","1f93e-1f3ff"],a:"3.0"},{n:["man playing handball","man-playing-handball"],u:"1f93e-200d-2642-fe0f",v:["1f93e-1f3fb-200d-2642-fe0f","1f93e-1f3fc-200d-2642-fe0f","1f93e-1f3fd-200d-2642-fe0f","1f93e-1f3fe-200d-2642-fe0f","1f93e-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman playing handball","woman-playing-handball"],u:"1f93e-200d-2640-fe0f",v:["1f93e-1f3fb-200d-2640-fe0f","1f93e-1f3fc-200d-2640-fe0f","1f93e-1f3fd-200d-2640-fe0f","1f93e-1f3fe-200d-2640-fe0f","1f93e-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["juggling"],u:"1f939",v:["1f939-1f3fb","1f939-1f3fc","1f939-1f3fd","1f939-1f3fe","1f939-1f3ff"],a:"3.0"},{n:["man juggling","man-juggling"],u:"1f939-200d-2642-fe0f",v:["1f939-1f3fb-200d-2642-fe0f","1f939-1f3fc-200d-2642-fe0f","1f939-1f3fd-200d-2642-fe0f","1f939-1f3fe-200d-2642-fe0f","1f939-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman juggling","woman-juggling"],u:"1f939-200d-2640-fe0f",v:["1f939-1f3fb-200d-2640-fe0f","1f939-1f3fc-200d-2640-fe0f","1f939-1f3fd-200d-2640-fe0f","1f939-1f3fe-200d-2640-fe0f","1f939-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person in lotus position"],u:"1f9d8",v:["1f9d8-1f3fb","1f9d8-1f3fc","1f9d8-1f3fd","1f9d8-1f3fe","1f9d8-1f3ff"],a:"5.0"},{n:["man in lotus position"],u:"1f9d8-200d-2642-fe0f",v:["1f9d8-1f3fb-200d-2642-fe0f","1f9d8-1f3fc-200d-2642-fe0f","1f9d8-1f3fd-200d-2642-fe0f","1f9d8-1f3fe-200d-2642-fe0f","1f9d8-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman in lotus position"],u:"1f9d8-200d-2640-fe0f",v:["1f9d8-1f3fb-200d-2640-fe0f","1f9d8-1f3fc-200d-2640-fe0f","1f9d8-1f3fd-200d-2640-fe0f","1f9d8-1f3fe-200d-2640-fe0f","1f9d8-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["bath"],u:"1f6c0",v:["1f6c0-1f3fb","1f6c0-1f3fc","1f6c0-1f3fd","1f6c0-1f3fe","1f6c0-1f3ff"],a:"0.6"},{n:["sleeping accommodation"],u:"1f6cc",v:["1f6cc-1f3fb","1f6cc-1f3fc","1f6cc-1f3fd","1f6cc-1f3fe","1f6cc-1f3ff"],a:"1.0"},{n:["people holding hands"],u:"1f9d1-200d-1f91d-200d-1f9d1",v:["1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3ff"],a:"12.0"},{n:["women holding hands","two women holding hands"],u:"1f46d",v:["1f46d-1f3fb","1f46d-1f3fc","1f46d-1f3fd","1f46d-1f3fe","1f46d-1f3ff","1f469-1f3fb-200d-1f91d-200d-1f469-1f3fc","1f469-1f3fb-200d-1f91d-200d-1f469-1f3fd","1f469-1f3fb-200d-1f91d-200d-1f469-1f3fe","1f469-1f3fb-200d-1f91d-200d-1f469-1f3ff","1f469-1f3fc-200d-1f91d-200d-1f469-1f3fb","1f469-1f3fc-200d-1f91d-200d-1f469-1f3fd","1f469-1f3fc-200d-1f91d-200d-1f469-1f3fe","1f469-1f3fc-200d-1f91d-200d-1f469-1f3ff","1f469-1f3fd-200d-1f91d-200d-1f469-1f3fb","1f469-1f3fd-200d-1f91d-200d-1f469-1f3fc","1f469-1f3fd-200d-1f91d-200d-1f469-1f3fe","1f469-1f3fd-200d-1f91d-200d-1f469-1f3ff","1f469-1f3fe-200d-1f91d-200d-1f469-1f3fb","1f469-1f3fe-200d-1f91d-200d-1f469-1f3fc","1f469-1f3fe-200d-1f91d-200d-1f469-1f3fd","1f469-1f3fe-200d-1f91d-200d-1f469-1f3ff","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fb","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fc","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fd","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fe"],a:"1.0"},{n:["couple","man and woman holding hands","woman and man holding hands"],u:"1f46b",v:["1f46b-1f3fb","1f46b-1f3fc","1f46b-1f3fd","1f46b-1f3fe","1f46b-1f3ff","1f469-1f3fb-200d-1f91d-200d-1f468-1f3fc","1f469-1f3fb-200d-1f91d-200d-1f468-1f3fd","1f469-1f3fb-200d-1f91d-200d-1f468-1f3fe","1f469-1f3fb-200d-1f91d-200d-1f468-1f3ff","1f469-1f3fc-200d-1f91d-200d-1f468-1f3fb","1f469-1f3fc-200d-1f91d-200d-1f468-1f3fd","1f469-1f3fc-200d-1f91d-200d-1f468-1f3fe","1f469-1f3fc-200d-1f91d-200d-1f468-1f3ff","1f469-1f3fd-200d-1f91d-200d-1f468-1f3fb","1f469-1f3fd-200d-1f91d-200d-1f468-1f3fc","1f469-1f3fd-200d-1f91d-200d-1f468-1f3fe","1f469-1f3fd-200d-1f91d-200d-1f468-1f3ff","1f469-1f3fe-200d-1f91d-200d-1f468-1f3fb","1f469-1f3fe-200d-1f91d-200d-1f468-1f3fc","1f469-1f3fe-200d-1f91d-200d-1f468-1f3fd","1f469-1f3fe-200d-1f91d-200d-1f468-1f3ff","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fb","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fc","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fd","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fe"],a:"0.6"},{n:["men holding hands","two men holding hands"],u:"1f46c",v:["1f46c-1f3fb","1f46c-1f3fc","1f46c-1f3fd","1f46c-1f3fe","1f46c-1f3ff","1f468-1f3fb-200d-1f91d-200d-1f468-1f3fc","1f468-1f3fb-200d-1f91d-200d-1f468-1f3fd","1f468-1f3fb-200d-1f91d-200d-1f468-1f3fe","1f468-1f3fb-200d-1f91d-200d-1f468-1f3ff","1f468-1f3fc-200d-1f91d-200d-1f468-1f3fb","1f468-1f3fc-200d-1f91d-200d-1f468-1f3fd","1f468-1f3fc-200d-1f91d-200d-1f468-1f3fe","1f468-1f3fc-200d-1f91d-200d-1f468-1f3ff","1f468-1f3fd-200d-1f91d-200d-1f468-1f3fb","1f468-1f3fd-200d-1f91d-200d-1f468-1f3fc","1f468-1f3fd-200d-1f91d-200d-1f468-1f3fe","1f468-1f3fd-200d-1f91d-200d-1f468-1f3ff","1f468-1f3fe-200d-1f91d-200d-1f468-1f3fb","1f468-1f3fe-200d-1f91d-200d-1f468-1f3fc","1f468-1f3fe-200d-1f91d-200d-1f468-1f3fd","1f468-1f3fe-200d-1f91d-200d-1f468-1f3ff","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fb","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fc","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fd","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fe"],a:"1.0"},{n:["kiss","couplekiss"],u:"1f48f",v:["1f48f-1f3fb","1f48f-1f3fc","1f48f-1f3fd","1f48f-1f3fe","1f48f-1f3ff","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe"],a:"0.6"},{n:["woman-kiss-man","kiss: woman, man"],u:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f468",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff"],a:"2.0"},{n:["man-kiss-man","kiss: man, man"],u:"1f468-200d-2764-fe0f-200d-1f48b-200d-1f468",v:["1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff"],a:"2.0"},{n:["woman-kiss-woman","kiss: woman, woman"],u:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f469",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff"],a:"2.0"},{n:["couple with heart"],u:"1f491",v:["1f491-1f3fb","1f491-1f3fc","1f491-1f3fd","1f491-1f3fe","1f491-1f3ff","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3fe","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3fe","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3fe","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fe"],a:"0.6"},{n:["woman-heart-man","couple with heart: woman, man"],u:"1f469-200d-2764-fe0f-200d-1f468",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3ff"],a:"2.0"},{n:["man-heart-man","couple with heart: man, man"],u:"1f468-200d-2764-fe0f-200d-1f468",v:["1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3ff"],a:"2.0"},{n:["woman-heart-woman","couple with heart: woman, woman"],u:"1f469-200d-2764-fe0f-200d-1f469",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3ff"],a:"2.0"},{n:["family"],u:"1f46a",a:"0.6"},{n:["man-woman-boy","family: man, woman, boy"],u:"1f468-200d-1f469-200d-1f466",a:"2.0"},{n:["man-woman-girl","family: man, woman, girl"],u:"1f468-200d-1f469-200d-1f467",a:"2.0"},{n:["man-woman-girl-boy","family: man, woman, girl, boy"],u:"1f468-200d-1f469-200d-1f467-200d-1f466",a:"2.0"},{n:["man-woman-boy-boy","family: man, woman, boy, boy"],u:"1f468-200d-1f469-200d-1f466-200d-1f466",a:"2.0"},{n:["man-woman-girl-girl","family: man, woman, girl, girl"],u:"1f468-200d-1f469-200d-1f467-200d-1f467",a:"2.0"},{n:["man-man-boy","family: man, man, boy"],u:"1f468-200d-1f468-200d-1f466",a:"2.0"},{n:["man-man-girl","family: man, man, girl"],u:"1f468-200d-1f468-200d-1f467",a:"2.0"},{n:["man-man-girl-boy","family: man, man, girl, boy"],u:"1f468-200d-1f468-200d-1f467-200d-1f466",a:"2.0"},{n:["man-man-boy-boy","family: man, man, boy, boy"],u:"1f468-200d-1f468-200d-1f466-200d-1f466",a:"2.0"},{n:["man-man-girl-girl","family: man, man, girl, girl"],u:"1f468-200d-1f468-200d-1f467-200d-1f467",a:"2.0"},{n:["woman-woman-boy","family: woman, woman, boy"],u:"1f469-200d-1f469-200d-1f466",a:"2.0"},{n:["woman-woman-girl","family: woman, woman, girl"],u:"1f469-200d-1f469-200d-1f467",a:"2.0"},{n:["woman-woman-girl-boy","family: woman, woman, girl, boy"],u:"1f469-200d-1f469-200d-1f467-200d-1f466",a:"2.0"},{n:["woman-woman-boy-boy","family: woman, woman, boy, boy"],u:"1f469-200d-1f469-200d-1f466-200d-1f466",a:"2.0"},{n:["woman-woman-girl-girl","family: woman, woman, girl, girl"],u:"1f469-200d-1f469-200d-1f467-200d-1f467",a:"2.0"},{n:["man-boy","family: man, boy"],u:"1f468-200d-1f466",a:"4.0"},{n:["man-boy-boy","family: man, boy, boy"],u:"1f468-200d-1f466-200d-1f466",a:"4.0"},{n:["man-girl","family: man, girl"],u:"1f468-200d-1f467",a:"4.0"},{n:["man-girl-boy","family: man, girl, boy"],u:"1f468-200d-1f467-200d-1f466",a:"4.0"},{n:["man-girl-girl","family: man, girl, girl"],u:"1f468-200d-1f467-200d-1f467",a:"4.0"},{n:["woman-boy","family: woman, boy"],u:"1f469-200d-1f466",a:"4.0"},{n:["woman-boy-boy","family: woman, boy, boy"],u:"1f469-200d-1f466-200d-1f466",a:"4.0"},{n:["woman-girl","family: woman, girl"],u:"1f469-200d-1f467",a:"4.0"},{n:["woman-girl-boy","family: woman, girl, boy"],u:"1f469-200d-1f467-200d-1f466",a:"4.0"},{n:["woman-girl-girl","family: woman, girl, girl"],u:"1f469-200d-1f467-200d-1f467",a:"4.0"},{n:["speaking head","speaking head in silhouette"],u:"1f5e3-fe0f",a:"0.7"},{n:["bust in silhouette"],u:"1f464",a:"0.6"},{n:["busts in silhouette"],u:"1f465",a:"1.0"},{n:["people hugging"],u:"1fac2",a:"13.0"},{n:["footprints"],u:"1f463",a:"0.6"}],animals_nature:[{n:["monkey face"],u:"1f435",a:"0.6"},{n:["monkey"],u:"1f412",a:"0.6"},{n:["gorilla"],u:"1f98d",a:"3.0"},{n:["orangutan"],u:"1f9a7",a:"12.0"},{n:["dog","dog face"],u:"1f436",a:"0.6"},{n:["dog","dog2"],u:"1f415",a:"0.7"},{n:["guide dog"],u:"1f9ae",a:"12.0"},{n:["service dog"],u:"1f415-200d-1f9ba",a:"12.0"},{n:["poodle"],u:"1f429",a:"0.6"},{n:["wolf","wolf face"],u:"1f43a",a:"0.6"},{n:["fox face"],u:"1f98a",a:"3.0"},{n:["raccoon"],u:"1f99d",a:"11.0"},{n:["cat","cat face"],u:"1f431",a:"0.6"},{n:["cat","cat2"],u:"1f408",a:"0.7"},{n:["black cat"],u:"1f408-200d-2b1b",a:"13.0"},{n:["lion face"],u:"1f981",a:"1.0"},{n:["tiger","tiger face"],u:"1f42f",a:"0.6"},{n:["tiger","tiger2"],u:"1f405",a:"1.0"},{n:["leopard"],u:"1f406",a:"1.0"},{n:["horse","horse face"],u:"1f434",a:"0.6"},{n:["horse","racehorse"],u:"1f40e",a:"0.6"},{n:["unicorn face"],u:"1f984",a:"1.0"},{n:["zebra face"],u:"1f993",a:"5.0"},{n:["deer"],u:"1f98c",a:"3.0"},{n:["bison"],u:"1f9ac",a:"13.0"},{n:["cow","cow face"],u:"1f42e",a:"0.6"},{n:["ox"],u:"1f402",a:"1.0"},{n:["water buffalo"],u:"1f403",a:"1.0"},{n:["cow","cow2"],u:"1f404",a:"1.0"},{n:["pig","pig face"],u:"1f437",a:"0.6"},{n:["pig","pig2"],u:"1f416",a:"1.0"},{n:["boar"],u:"1f417",a:"0.6"},{n:["pig nose"],u:"1f43d",a:"0.6"},{n:["ram"],u:"1f40f",a:"1.0"},{n:["sheep"],u:"1f411",a:"0.6"},{n:["goat"],u:"1f410",a:"1.0"},{n:["dromedary camel"],u:"1f42a",a:"1.0"},{n:["camel","bactrian camel"],u:"1f42b",a:"0.6"},{n:["llama"],u:"1f999",a:"11.0"},{n:["giraffe face"],u:"1f992",a:"5.0"},{n:["elephant"],u:"1f418",a:"0.6"},{n:["mammoth"],u:"1f9a3",a:"13.0"},{n:["rhinoceros"],u:"1f98f",a:"3.0"},{n:["hippopotamus"],u:"1f99b",a:"11.0"},{n:["mouse","mouse face"],u:"1f42d",a:"0.6"},{n:["mouse","mouse2"],u:"1f401",a:"1.0"},{n:["rat"],u:"1f400",a:"1.0"},{n:["hamster","hamster face"],u:"1f439",a:"0.6"},{n:["rabbit","rabbit face"],u:"1f430",a:"0.6"},{n:["rabbit","rabbit2"],u:"1f407",a:"1.0"},{n:["chipmunk"],u:"1f43f-fe0f",a:"0.7"},{n:["beaver"],u:"1f9ab",a:"13.0"},{n:["hedgehog"],u:"1f994",a:"5.0"},{n:["bat"],u:"1f987",a:"3.0"},{n:["bear","bear face"],u:"1f43b",a:"0.6"},{n:["polar bear"],u:"1f43b-200d-2744-fe0f",a:"13.0"},{n:["koala"],u:"1f428",a:"0.6"},{n:["panda face"],u:"1f43c",a:"0.6"},{n:["sloth"],u:"1f9a5",a:"12.0"},{n:["otter"],u:"1f9a6",a:"12.0"},{n:["skunk"],u:"1f9a8",a:"12.0"},{n:["kangaroo"],u:"1f998",a:"11.0"},{n:["badger"],u:"1f9a1",a:"11.0"},{n:["feet","paw prints"],u:"1f43e",a:"0.6"},{n:["turkey"],u:"1f983",a:"1.0"},{n:["chicken"],u:"1f414",a:"0.6"},{n:["rooster"],u:"1f413",a:"1.0"},{n:["hatching chick"],u:"1f423",a:"0.6"},{n:["baby chick"],u:"1f424",a:"0.6"},{n:["hatched chick","front-facing baby chick"],u:"1f425",a:"0.6"},{n:["bird"],u:"1f426",a:"0.6"},{n:["penguin"],u:"1f427",a:"0.6"},{n:["dove","dove of peace"],u:"1f54a-fe0f",a:"0.7"},{n:["eagle"],u:"1f985",a:"3.0"},{n:["duck"],u:"1f986",a:"3.0"},{n:["swan"],u:"1f9a2",a:"11.0"},{n:["owl"],u:"1f989",a:"3.0"},{n:["dodo"],u:"1f9a4",a:"13.0"},{n:["feather"],u:"1fab6",a:"13.0"},{n:["flamingo"],u:"1f9a9",a:"12.0"},{n:["peacock"],u:"1f99a",a:"11.0"},{n:["parrot"],u:"1f99c",a:"11.0"},{n:["frog","frog face"],u:"1f438",a:"0.6"},{n:["crocodile"],u:"1f40a",a:"1.0"},{n:["turtle"],u:"1f422",a:"0.6"},{n:["lizard"],u:"1f98e",a:"3.0"},{n:["snake"],u:"1f40d",a:"0.6"},{n:["dragon face"],u:"1f432",a:"0.6"},{n:["dragon"],u:"1f409",a:"1.0"},{n:["sauropod"],u:"1f995",a:"5.0"},{n:["t-rex"],u:"1f996",a:"5.0"},{n:["whale","spouting whale"],u:"1f433",a:"0.6"},{n:["whale","whale2"],u:"1f40b",a:"1.0"},{n:["dolphin","flipper"],u:"1f42c",a:"0.6"},{n:["seal"],u:"1f9ad",a:"13.0"},{n:["fish"],u:"1f41f",a:"0.6"},{n:["tropical fish"],u:"1f420",a:"0.6"},{n:["blowfish"],u:"1f421",a:"0.6"},{n:["shark"],u:"1f988",a:"3.0"},{n:["octopus"],u:"1f419",a:"0.6"},{n:["shell","spiral shell"],u:"1f41a",a:"0.6"},{n:["coral"],u:"1fab8",a:"14.0"},{n:["snail"],u:"1f40c",a:"0.6"},{n:["butterfly"],u:"1f98b",a:"3.0"},{n:["bug"],u:"1f41b",a:"0.6"},{n:["ant"],u:"1f41c",a:"0.6"},{n:["bee","honeybee"],u:"1f41d",a:"0.6"},{n:["beetle"],u:"1fab2",a:"13.0"},{n:["ladybug","lady beetle"],u:"1f41e",a:"0.6"},{n:["cricket"],u:"1f997",a:"5.0"},{n:["cockroach"],u:"1fab3",a:"13.0"},{n:["spider"],u:"1f577-fe0f",a:"0.7"},{n:["spider web"],u:"1f578-fe0f",a:"0.7"},{n:["scorpion"],u:"1f982",a:"1.0"},{n:["mosquito"],u:"1f99f",a:"11.0"},{n:["fly"],u:"1fab0",a:"13.0"},{n:["worm"],u:"1fab1",a:"13.0"},{n:["microbe"],u:"1f9a0",a:"11.0"},{n:["bouquet"],u:"1f490",a:"0.6"},{n:["cherry blossom"],u:"1f338",a:"0.6"},{n:["white flower"],u:"1f4ae",a:"0.6"},{n:["lotus"],u:"1fab7",a:"14.0"},{n:["rosette"],u:"1f3f5-fe0f",a:"0.7"},{n:["rose"],u:"1f339",a:"0.6"},{n:["wilted flower"],u:"1f940",a:"3.0"},{n:["hibiscus"],u:"1f33a",a:"0.6"},{n:["sunflower"],u:"1f33b",a:"0.6"},{n:["blossom"],u:"1f33c",a:"0.6"},{n:["tulip"],u:"1f337",a:"0.6"},{n:["seedling"],u:"1f331",a:"0.6"},{n:["potted plant"],u:"1fab4",a:"13.0"},{n:["evergreen tree"],u:"1f332",a:"1.0"},{n:["deciduous tree"],u:"1f333",a:"1.0"},{n:["palm tree"],u:"1f334",a:"0.6"},{n:["cactus"],u:"1f335",a:"0.6"},{n:["ear of rice"],u:"1f33e",a:"0.6"},{n:["herb"],u:"1f33f",a:"0.6"},{n:["shamrock"],u:"2618-fe0f",a:"1.0"},{n:["four leaf clover"],u:"1f340",a:"0.6"},{n:["maple leaf"],u:"1f341",a:"0.6"},{n:["fallen leaf"],u:"1f342",a:"0.6"},{n:["leaves","leaf fluttering in wind"],u:"1f343",a:"0.6"},{n:["empty nest"],u:"1fab9",a:"14.0"},{n:["nest with eggs"],u:"1faba",a:"14.0"}],food_drink:[{n:["grapes"],u:"1f347",a:"0.6"},{n:["melon"],u:"1f348",a:"0.6"},{n:["watermelon"],u:"1f349",a:"0.6"},{n:["tangerine"],u:"1f34a",a:"0.6"},{n:["lemon"],u:"1f34b",a:"1.0"},{n:["banana"],u:"1f34c",a:"0.6"},{n:["pineapple"],u:"1f34d",a:"0.6"},{n:["mango"],u:"1f96d",a:"11.0"},{n:["apple","red apple"],u:"1f34e",a:"0.6"},{n:["green apple"],u:"1f34f",a:"0.6"},{n:["pear"],u:"1f350",a:"1.0"},{n:["peach"],u:"1f351",a:"0.6"},{n:["cherries"],u:"1f352",a:"0.6"},{n:["strawberry"],u:"1f353",a:"0.6"},{n:["blueberries"],u:"1fad0",a:"13.0"},{n:["kiwifruit"],u:"1f95d",a:"3.0"},{n:["tomato"],u:"1f345",a:"0.6"},{n:["olive"],u:"1fad2",a:"13.0"},{n:["coconut"],u:"1f965",a:"5.0"},{n:["avocado"],u:"1f951",a:"3.0"},{n:["eggplant","aubergine"],u:"1f346",a:"0.6"},{n:["potato"],u:"1f954",a:"3.0"},{n:["carrot"],u:"1f955",a:"3.0"},{n:["corn","ear of maize"],u:"1f33d",a:"0.6"},{n:["hot pepper"],u:"1f336-fe0f",a:"0.7"},{n:["bell pepper"],u:"1fad1",a:"13.0"},{n:["cucumber"],u:"1f952",a:"3.0"},{n:["leafy green"],u:"1f96c",a:"11.0"},{n:["broccoli"],u:"1f966",a:"5.0"},{n:["garlic"],u:"1f9c4",a:"12.0"},{n:["onion"],u:"1f9c5",a:"12.0"},{n:["mushroom"],u:"1f344",a:"0.6"},{n:["peanuts"],u:"1f95c",a:"3.0"},{n:["beans"],u:"1fad8",a:"14.0"},{n:["chestnut"],u:"1f330",a:"0.6"},{n:["bread"],u:"1f35e",a:"0.6"},{n:["croissant"],u:"1f950",a:"3.0"},{n:["baguette bread"],u:"1f956",a:"3.0"},{n:["flatbread"],u:"1fad3",a:"13.0"},{n:["pretzel"],u:"1f968",a:"5.0"},{n:["bagel"],u:"1f96f",a:"11.0"},{n:["pancakes"],u:"1f95e",a:"3.0"},{n:["waffle"],u:"1f9c7",a:"12.0"},{n:["cheese wedge"],u:"1f9c0",a:"1.0"},{n:["meat on bone"],u:"1f356",a:"0.6"},{n:["poultry leg"],u:"1f357",a:"0.6"},{n:["cut of meat"],u:"1f969",a:"5.0"},{n:["bacon"],u:"1f953",a:"3.0"},{n:["hamburger"],u:"1f354",a:"0.6"},{n:["fries","french fries"],u:"1f35f",a:"0.6"},{n:["pizza","slice of pizza"],u:"1f355",a:"0.6"},{n:["hotdog","hot dog"],u:"1f32d",a:"1.0"},{n:["sandwich"],u:"1f96a",a:"5.0"},{n:["taco"],u:"1f32e",a:"1.0"},{n:["burrito"],u:"1f32f",a:"1.0"},{n:["tamale"],u:"1fad4",a:"13.0"},{n:["stuffed flatbread"],u:"1f959",a:"3.0"},{n:["falafel"],u:"1f9c6",a:"12.0"},{n:["egg"],u:"1f95a",a:"3.0"},{n:["cooking","fried egg"],u:"1f373",a:"0.6"},{n:["shallow pan of food"],u:"1f958",a:"3.0"},{n:["stew","pot of food"],u:"1f372",a:"0.6"},{n:["fondue"],u:"1fad5",a:"13.0"},{n:["bowl with spoon"],u:"1f963",a:"5.0"},{n:["green salad"],u:"1f957",a:"3.0"},{n:["popcorn"],u:"1f37f",a:"1.0"},{n:["butter"],u:"1f9c8",a:"12.0"},{n:["salt","salt shaker"],u:"1f9c2",a:"11.0"},{n:["canned food"],u:"1f96b",a:"5.0"},{n:["bento","bento box"],u:"1f371",a:"0.6"},{n:["rice cracker"],u:"1f358",a:"0.6"},{n:["rice ball"],u:"1f359",a:"0.6"},{n:["rice","cooked rice"],u:"1f35a",a:"0.6"},{n:["curry","curry and rice"],u:"1f35b",a:"0.6"},{n:["ramen","steaming bowl"],u:"1f35c",a:"0.6"},{n:["spaghetti"],u:"1f35d",a:"0.6"},{n:["sweet potato","roasted sweet potato"],u:"1f360",a:"0.6"},{n:["oden"],u:"1f362",a:"0.6"},{n:["sushi"],u:"1f363",a:"0.6"},{n:["fried shrimp"],u:"1f364",a:"0.6"},{n:["fish cake","fish cake with swirl design"],u:"1f365",a:"0.6"},{n:["moon cake"],u:"1f96e",a:"11.0"},{n:["dango"],u:"1f361",a:"0.6"},{n:["dumpling"],u:"1f95f",a:"5.0"},{n:["fortune cookie"],u:"1f960",a:"5.0"},{n:["takeout box"],u:"1f961",a:"5.0"},{n:["crab"],u:"1f980",a:"1.0"},{n:["lobster"],u:"1f99e",a:"11.0"},{n:["shrimp"],u:"1f990",a:"3.0"},{n:["squid"],u:"1f991",a:"3.0"},{n:["oyster"],u:"1f9aa",a:"12.0"},{n:["icecream","soft ice cream"],u:"1f366",a:"0.6"},{n:["shaved ice"],u:"1f367",a:"0.6"},{n:["ice cream"],u:"1f368",a:"0.6"},{n:["doughnut"],u:"1f369",a:"0.6"},{n:["cookie"],u:"1f36a",a:"0.6"},{n:["birthday","birthday cake"],u:"1f382",a:"0.6"},{n:["cake","shortcake"],u:"1f370",a:"0.6"},{n:["cupcake"],u:"1f9c1",a:"11.0"},{n:["pie"],u:"1f967",a:"5.0"},{n:["chocolate bar"],u:"1f36b",a:"0.6"},{n:["candy"],u:"1f36c",a:"0.6"},{n:["lollipop"],u:"1f36d",a:"0.6"},{n:["custard"],u:"1f36e",a:"0.6"},{n:["honey pot"],u:"1f36f",a:"0.6"},{n:["baby bottle"],u:"1f37c",a:"1.0"},{n:["glass of milk"],u:"1f95b",a:"3.0"},{n:["coffee","hot beverage"],u:"2615",a:"0.6"},{n:["teapot"],u:"1fad6",a:"13.0"},{n:["tea","teacup without handle"],u:"1f375",a:"0.6"},{n:["sake","sake bottle and cup"],u:"1f376",a:"0.6"},{n:["champagne","bottle with popping cork"],u:"1f37e",a:"1.0"},{n:["wine glass"],u:"1f377",a:"0.6"},{n:["cocktail","cocktail glass"],u:"1f378",a:"0.6"},{n:["tropical drink"],u:"1f379",a:"0.6"},{n:["beer","beer mug"],u:"1f37a",a:"0.6"},{n:["beers","clinking beer mugs"],u:"1f37b",a:"0.6"},{n:["clinking glasses"],u:"1f942",a:"3.0"},{n:["tumbler glass"],u:"1f943",a:"3.0"},{n:["pouring liquid"],u:"1fad7",a:"14.0"},{n:["cup with straw"],u:"1f964",a:"5.0"},{n:["bubble tea"],u:"1f9cb",a:"13.0"},{n:["beverage box"],u:"1f9c3",a:"12.0"},{n:["mate drink"],u:"1f9c9",a:"12.0"},{n:["ice cube"],u:"1f9ca",a:"12.0"},{n:["chopsticks"],u:"1f962",a:"5.0"},{n:["knife fork plate","fork and knife with plate"],u:"1f37d-fe0f",a:"0.7"},{n:["fork and knife"],u:"1f374",a:"0.6"},{n:["spoon"],u:"1f944",a:"3.0"},{n:["hocho","knife"],u:"1f52a",a:"0.6"},{n:["jar"],u:"1fad9",a:"14.0"},{n:["amphora"],u:"1f3fa",a:"1.0"}],travel_places:[{n:["earth africa","earth globe europe-africa"],u:"1f30d",a:"0.7"},{n:["earth americas","earth globe americas"],u:"1f30e",a:"0.7"},{n:["earth asia","earth globe asia-australia"],u:"1f30f",a:"0.6"},{n:["globe with meridians"],u:"1f310",a:"1.0"},{n:["world map"],u:"1f5fa-fe0f",a:"0.7"},{n:["japan","silhouette of japan"],u:"1f5fe",a:"0.6"},{n:["compass"],u:"1f9ed",a:"11.0"},{n:["snow-capped mountain","snow capped mountain"],u:"1f3d4-fe0f",a:"0.7"},{n:["mountain"],u:"26f0-fe0f",a:"0.7"},{n:["volcano"],u:"1f30b",a:"0.6"},{n:["mount fuji"],u:"1f5fb",a:"0.6"},{n:["camping"],u:"1f3d5-fe0f",a:"0.7"},{n:["beach with umbrella"],u:"1f3d6-fe0f",a:"0.7"},{n:["desert"],u:"1f3dc-fe0f",a:"0.7"},{n:["desert island"],u:"1f3dd-fe0f",a:"0.7"},{n:["national park"],u:"1f3de-fe0f",a:"0.7"},{n:["stadium"],u:"1f3df-fe0f",a:"0.7"},{n:["classical building"],u:"1f3db-fe0f",a:"0.7"},{n:["building construction"],u:"1f3d7-fe0f",a:"0.7"},{n:["brick","bricks"],u:"1f9f1",a:"11.0"},{n:["rock"],u:"1faa8",a:"13.0"},{n:["wood"],u:"1fab5",a:"13.0"},{n:["hut"],u:"1f6d6",a:"13.0"},{n:["houses","house buildings"],u:"1f3d8-fe0f",a:"0.7"},{n:["derelict house","derelict house building"],u:"1f3da-fe0f",a:"0.7"},{n:["house","house building"],u:"1f3e0",a:"0.6"},{n:["house with garden"],u:"1f3e1",a:"0.6"},{n:["office","office building"],u:"1f3e2",a:"0.6"},{n:["post office","japanese post office"],u:"1f3e3",a:"0.6"},{n:["european post office"],u:"1f3e4",a:"1.0"},{n:["hospital"],u:"1f3e5",a:"0.6"},{n:["bank"],u:"1f3e6",a:"0.6"},{n:["hotel"],u:"1f3e8",a:"0.6"},{n:["love hotel"],u:"1f3e9",a:"0.6"},{n:["convenience store"],u:"1f3ea",a:"0.6"},{n:["school"],u:"1f3eb",a:"0.6"},{n:["department store"],u:"1f3ec",a:"0.6"},{n:["factory"],u:"1f3ed",a:"0.6"},{n:["japanese castle"],u:"1f3ef",a:"0.6"},{n:["european castle"],u:"1f3f0",a:"0.6"},{n:["wedding"],u:"1f492",a:"0.6"},{n:["tokyo tower"],u:"1f5fc",a:"0.6"},{n:["statue of liberty"],u:"1f5fd",a:"0.6"},{n:["church"],u:"26ea",a:"0.6"},{n:["mosque"],u:"1f54c",a:"1.0"},{n:["hindu temple"],u:"1f6d5",a:"12.0"},{n:["synagogue"],u:"1f54d",a:"1.0"},{n:["shinto shrine"],u:"26e9-fe0f",a:"0.7"},{n:["kaaba"],u:"1f54b",a:"1.0"},{n:["fountain"],u:"26f2",a:"0.6"},{n:["tent"],u:"26fa",a:"0.6"},{n:["foggy"],u:"1f301",a:"0.6"},{n:["night with stars"],u:"1f303",a:"0.6"},{n:["cityscape"],u:"1f3d9-fe0f",a:"0.7"},{n:["sunrise over mountains"],u:"1f304",a:"0.6"},{n:["sunrise"],u:"1f305",a:"0.6"},{n:["city sunset","cityscape at dusk"],u:"1f306",a:"0.6"},{n:["city sunrise","sunset over buildings"],u:"1f307",a:"0.6"},{n:["bridge at night"],u:"1f309",a:"0.6"},{n:["hotsprings","hot springs"],u:"2668-fe0f",a:"0.6"},{n:["carousel horse"],u:"1f3a0",a:"0.6"},{n:["playground slide"],u:"1f6dd",a:"14.0"},{n:["ferris wheel"],u:"1f3a1",a:"0.6"},{n:["roller coaster"],u:"1f3a2",a:"0.6"},{n:["barber","barber pole"],u:"1f488",a:"0.6"},{n:["circus tent"],u:"1f3aa",a:"0.6"},{n:["steam locomotive"],u:"1f682",a:"1.0"},{n:["railway car"],u:"1f683",a:"0.6"},{n:["high-speed train","bullettrain side"],u:"1f684",a:"0.6"},{n:["bullettrain front","high-speed train with bullet nose"],u:"1f685",a:"0.6"},{n:["train","train2"],u:"1f686",a:"1.0"},{n:["metro"],u:"1f687",a:"0.6"},{n:["light rail"],u:"1f688",a:"1.0"},{n:["station"],u:"1f689",a:"0.6"},{n:["tram"],u:"1f68a",a:"1.0"},{n:["monorail"],u:"1f69d",a:"1.0"},{n:["mountain railway"],u:"1f69e",a:"1.0"},{n:["train","tram car"],u:"1f68b",a:"1.0"},{n:["bus"],u:"1f68c",a:"0.6"},{n:["oncoming bus"],u:"1f68d",a:"0.7"},{n:["trolleybus"],u:"1f68e",a:"1.0"},{n:["minibus"],u:"1f690",a:"1.0"},{n:["ambulance"],u:"1f691",a:"0.6"},{n:["fire engine"],u:"1f692",a:"0.6"},{n:["police car"],u:"1f693",a:"0.6"},{n:["oncoming police car"],u:"1f694",a:"0.7"},{n:["taxi"],u:"1f695",a:"0.6"},{n:["oncoming taxi"],u:"1f696",a:"1.0"},{n:["car","red car","automobile"],u:"1f697",a:"0.6"},{n:["oncoming automobile"],u:"1f698",a:"0.7"},{n:["blue car","recreational vehicle"],u:"1f699",a:"0.6"},{n:["pickup truck"],u:"1f6fb",a:"13.0"},{n:["truck","delivery truck"],u:"1f69a",a:"0.6"},{n:["articulated lorry"],u:"1f69b",a:"1.0"},{n:["tractor"],u:"1f69c",a:"1.0"},{n:["racing car"],u:"1f3ce-fe0f",a:"0.7"},{n:["motorcycle","racing motorcycle"],u:"1f3cd-fe0f",a:"0.7"},{n:["motor scooter"],u:"1f6f5",a:"3.0"},{n:["manual wheelchair"],u:"1f9bd",a:"12.0"},{n:["motorized wheelchair"],u:"1f9bc",a:"12.0"},{n:["auto rickshaw"],u:"1f6fa",a:"12.0"},{n:["bike","bicycle"],u:"1f6b2",a:"0.6"},{n:["scooter"],u:"1f6f4",a:"3.0"},{n:["skateboard"],u:"1f6f9",a:"11.0"},{n:["roller skate"],u:"1f6fc",a:"13.0"},{n:["busstop","bus stop"],u:"1f68f",a:"0.6"},{n:["motorway"],u:"1f6e3-fe0f",a:"0.7"},{n:["railway track"],u:"1f6e4-fe0f",a:"0.7"},{n:["oil drum"],u:"1f6e2-fe0f",a:"0.7"},{n:["fuelpump","fuel pump"],u:"26fd",a:"0.6"},{n:["wheel"],u:"1f6de",a:"14.0"},{n:["rotating light","police cars revolving light"],u:"1f6a8",a:"0.6"},{n:["traffic light","horizontal traffic light"],u:"1f6a5",a:"0.6"},{n:["vertical traffic light"],u:"1f6a6",a:"1.0"},{n:["octagonal sign"],u:"1f6d1",a:"3.0"},{n:["construction","construction sign"],u:"1f6a7",a:"0.6"},{n:["anchor"],u:"2693",a:"0.6"},{n:["ring buoy"],u:"1f6df",a:"14.0"},{n:["boat","sailboat"],u:"26f5",a:"0.6"},{n:["canoe"],u:"1f6f6",a:"3.0"},{n:["speedboat"],u:"1f6a4",a:"0.6"},{n:["passenger ship"],u:"1f6f3-fe0f",a:"0.7"},{n:["ferry"],u:"26f4-fe0f",a:"0.7"},{n:["motor boat"],u:"1f6e5-fe0f",a:"0.7"},{n:["ship"],u:"1f6a2",a:"0.6"},{n:["airplane"],u:"2708-fe0f",a:"0.6"},{n:["small airplane"],u:"1f6e9-fe0f",a:"0.7"},{n:["airplane departure"],u:"1f6eb",a:"1.0"},{n:["airplane arriving"],u:"1f6ec",a:"1.0"},{n:["parachute"],u:"1fa82",a:"12.0"},{n:["seat"],u:"1f4ba",a:"0.6"},{n:["helicopter"],u:"1f681",a:"1.0"},{n:["suspension railway"],u:"1f69f",a:"1.0"},{n:["mountain cableway"],u:"1f6a0",a:"1.0"},{n:["aerial tramway"],u:"1f6a1",a:"1.0"},{n:["satellite"],u:"1f6f0-fe0f",a:"0.7"},{n:["rocket"],u:"1f680",a:"0.6"},{n:["flying saucer"],u:"1f6f8",a:"5.0"},{n:["bellhop bell"],u:"1f6ce-fe0f",a:"0.7"},{n:["luggage"],u:"1f9f3",a:"11.0"},{n:["hourglass"],u:"231b",a:"0.6"},{n:["hourglass flowing sand","hourglass with flowing sand"],u:"23f3",a:"0.6"},{n:["watch"],u:"231a",a:"0.6"},{n:["alarm clock"],u:"23f0",a:"0.6"},{n:["stopwatch"],u:"23f1-fe0f",a:"1.0"},{n:["timer clock"],u:"23f2-fe0f",a:"1.0"},{n:["mantelpiece clock"],u:"1f570-fe0f",a:"0.7"},{n:["clock12","clock face twelve oclock"],u:"1f55b",a:"0.6"},{n:["clock1230","clock face twelve-thirty"],u:"1f567",a:"0.7"},{n:["clock1","clock face one oclock"],u:"1f550",a:"0.6"},{n:["clock130","clock face one-thirty"],u:"1f55c",a:"0.7"},{n:["clock2","clock face two oclock"],u:"1f551",a:"0.6"},{n:["clock230","clock face two-thirty"],u:"1f55d",a:"0.7"},{n:["clock3","clock face three oclock"],u:"1f552",a:"0.6"},{n:["clock330","clock face three-thirty"],u:"1f55e",a:"0.7"},{n:["clock4","clock face four oclock"],u:"1f553",a:"0.6"},{n:["clock430","clock face four-thirty"],u:"1f55f",a:"0.7"},{n:["clock5","clock face five oclock"],u:"1f554",a:"0.6"},{n:["clock530","clock face five-thirty"],u:"1f560",a:"0.7"},{n:["clock6","clock face six oclock"],u:"1f555",a:"0.6"},{n:["clock630","clock face six-thirty"],u:"1f561",a:"0.7"},{n:["clock7","clock face seven oclock"],u:"1f556",a:"0.6"},{n:["clock730","clock face seven-thirty"],u:"1f562",a:"0.7"},{n:["clock8","clock face eight oclock"],u:"1f557",a:"0.6"},{n:["clock830","clock face eight-thirty"],u:"1f563",a:"0.7"},{n:["clock9","clock face nine oclock"],u:"1f558",a:"0.6"},{n:["clock930","clock face nine-thirty"],u:"1f564",a:"0.7"},{n:["clock10","clock face ten oclock"],u:"1f559",a:"0.6"},{n:["clock1030","clock face ten-thirty"],u:"1f565",a:"0.7"},{n:["clock11","clock face eleven oclock"],u:"1f55a",a:"0.6"},{n:["clock1130","clock face eleven-thirty"],u:"1f566",a:"0.7"},{n:["new moon","new moon symbol"],u:"1f311",a:"0.6"},{n:["waxing crescent moon","waxing crescent moon symbol"],u:"1f312",a:"1.0"},{n:["first quarter moon","first quarter moon symbol"],u:"1f313",a:"0.6"},{n:["moon","waxing gibbous moon","waxing gibbous moon symbol"],u:"1f314",a:"0.6"},{n:["full moon","full moon symbol"],u:"1f315",a:"0.6"},{n:["waning gibbous moon","waning gibbous moon symbol"],u:"1f316",a:"1.0"},{n:["last quarter moon","last quarter moon symbol"],u:"1f317",a:"1.0"},{n:["waning crescent moon","waning crescent moon symbol"],u:"1f318",a:"1.0"},{n:["crescent moon"],u:"1f319",a:"0.6"},{n:["new moon with face"],u:"1f31a",a:"1.0"},{n:["first quarter moon with face"],u:"1f31b",a:"0.6"},{n:["last quarter moon with face"],u:"1f31c",a:"0.7"},{n:["thermometer"],u:"1f321-fe0f",a:"0.7"},{n:["sunny","black sun with rays"],u:"2600-fe0f",a:"0.6"},{n:["full moon with face"],u:"1f31d",a:"1.0"},{n:["sun with face"],u:"1f31e",a:"1.0"},{n:["ringed planet"],u:"1fa90",a:"12.0"},{n:["star","white medium star"],u:"2b50",a:"0.6"},{n:["star2","glowing star"],u:"1f31f",a:"0.6"},{n:["stars","shooting star"],u:"1f320",a:"0.6"},{n:["milky way"],u:"1f30c",a:"0.6"},{n:["cloud"],u:"2601-fe0f",a:"0.6"},{n:["partly sunny","sun behind cloud"],u:"26c5",a:"0.6"},{n:["thunder cloud and rain","cloud with lightning and rain"],u:"26c8-fe0f",a:"0.7"},{n:["mostly sunny","sun small cloud","sun behind small cloud"],u:"1f324-fe0f",a:"0.7"},{n:["barely sunny","sun behind cloud","sun behind large cloud"],u:"1f325-fe0f",a:"0.7"},{n:["partly sunny rain","sun behind rain cloud"],u:"1f326-fe0f",a:"0.7"},{n:["rain cloud","cloud with rain"],u:"1f327-fe0f",a:"0.7"},{n:["snow cloud","cloud with snow"],u:"1f328-fe0f",a:"0.7"},{n:["lightning","lightning cloud","cloud with lightning"],u:"1f329-fe0f",a:"0.7"},{n:["tornado","tornado cloud"],u:"1f32a-fe0f",a:"0.7"},{n:["fog"],u:"1f32b-fe0f",a:"0.7"},{n:["wind face","wind blowing face"],u:"1f32c-fe0f",a:"0.7"},{n:["cyclone"],u:"1f300",a:"0.6"},{n:["rainbow"],u:"1f308",a:"0.6"},{n:["closed umbrella"],u:"1f302",a:"0.6"},{n:["umbrella"],u:"2602-fe0f",a:"0.7"},{n:["umbrella with rain drops"],u:"2614",a:"0.6"},{n:["umbrella on ground"],u:"26f1-fe0f",a:"0.7"},{n:["zap","high voltage sign"],u:"26a1",a:"0.6"},{n:["snowflake"],u:"2744-fe0f",a:"0.6"},{n:["snowman"],u:"2603-fe0f",a:"0.7"},{n:["snowman without snow"],u:"26c4",a:"0.6"},{n:["comet"],u:"2604-fe0f",a:"1.0"},{n:["fire"],u:"1f525",a:"0.6"},{n:["droplet"],u:"1f4a7",a:"0.6"},{n:["ocean","water wave"],u:"1f30a",a:"0.6"}],activities:[{n:["jack-o-lantern","jack o lantern"],u:"1f383",a:"0.6"},{n:["christmas tree"],u:"1f384",a:"0.6"},{n:["fireworks"],u:"1f386",a:"0.6"},{n:["sparkler","firework sparkler"],u:"1f387",a:"0.6"},{n:["firecracker"],u:"1f9e8",a:"11.0"},{n:["sparkles"],u:"2728",a:"0.6"},{n:["balloon"],u:"1f388",a:"0.6"},{n:["tada","party popper"],u:"1f389",a:"0.6"},{n:["confetti ball"],u:"1f38a",a:"0.6"},{n:["tanabata tree"],u:"1f38b",a:"0.6"},{n:["bamboo","pine decoration"],u:"1f38d",a:"0.6"},{n:["dolls","japanese dolls"],u:"1f38e",a:"0.6"},{n:["flags","carp streamer"],u:"1f38f",a:"0.6"},{n:["wind chime"],u:"1f390",a:"0.6"},{n:["rice scene","moon viewing ceremony"],u:"1f391",a:"0.6"},{n:["red envelope","red gift envelope"],u:"1f9e7",a:"11.0"},{n:["ribbon"],u:"1f380",a:"0.6"},{n:["gift","wrapped present"],u:"1f381",a:"0.6"},{n:["reminder ribbon"],u:"1f397-fe0f",a:"0.7"},{n:["admission tickets"],u:"1f39f-fe0f",a:"0.7"},{n:["ticket"],u:"1f3ab",a:"0.6"},{n:["medal","military medal"],u:"1f396-fe0f",a:"0.7"},{n:["trophy"],u:"1f3c6",a:"0.6"},{n:["sports medal"],u:"1f3c5",a:"1.0"},{n:["first place medal"],u:"1f947",a:"3.0"},{n:["second place medal"],u:"1f948",a:"3.0"},{n:["third place medal"],u:"1f949",a:"3.0"},{n:["soccer","soccer ball"],u:"26bd",a:"0.6"},{n:["baseball"],u:"26be",a:"0.6"},{n:["softball"],u:"1f94e",a:"11.0"},{n:["basketball","basketball and hoop"],u:"1f3c0",a:"0.6"},{n:["volleyball"],u:"1f3d0",a:"1.0"},{n:["football","american football"],u:"1f3c8",a:"0.6"},{n:["rugby football"],u:"1f3c9",a:"1.0"},{n:["tennis","tennis racquet and ball"],u:"1f3be",a:"0.6"},{n:["flying disc"],u:"1f94f",a:"11.0"},{n:["bowling"],u:"1f3b3",a:"0.6"},{n:["cricket bat and ball"],u:"1f3cf",a:"1.0"},{n:["field hockey stick and ball"],u:"1f3d1",a:"1.0"},{n:["ice hockey stick and puck"],u:"1f3d2",a:"1.0"},{n:["lacrosse","lacrosse stick and ball"],u:"1f94d",a:"11.0"},{n:["table tennis paddle and ball"],u:"1f3d3",a:"1.0"},{n:["badminton racquet and shuttlecock"],u:"1f3f8",a:"1.0"},{n:["boxing glove"],u:"1f94a",a:"3.0"},{n:["martial arts uniform"],u:"1f94b",a:"3.0"},{n:["goal net"],u:"1f945",a:"3.0"},{n:["golf","flag in hole"],u:"26f3",a:"0.6"},{n:["ice skate"],u:"26f8-fe0f",a:"0.7"},{n:["fishing pole and fish"],u:"1f3a3",a:"0.6"},{n:["diving mask"],u:"1f93f",a:"12.0"},{n:["running shirt with sash"],u:"1f3bd",a:"0.6"},{n:["ski","ski and ski boot"],u:"1f3bf",a:"0.6"},{n:["sled"],u:"1f6f7",a:"5.0"},{n:["curling stone"],u:"1f94c",a:"5.0"},{n:["dart","direct hit"],u:"1f3af",a:"0.6"},{n:["yo-yo"],u:"1fa80",a:"12.0"},{n:["kite"],u:"1fa81",a:"12.0"},{n:["8ball","billiards"],u:"1f3b1",a:"0.6"},{n:["crystal ball"],u:"1f52e",a:"0.6"},{n:["magic wand"],u:"1fa84",a:"13.0"},{n:["nazar amulet"],u:"1f9ff",a:"11.0"},{n:["hamsa"],u:"1faac",a:"14.0"},{n:["video game"],u:"1f3ae",a:"0.6"},{n:["joystick"],u:"1f579-fe0f",a:"0.7"},{n:["slot machine"],u:"1f3b0",a:"0.6"},{n:["game die"],u:"1f3b2",a:"0.6"},{n:["jigsaw","jigsaw puzzle piece"],u:"1f9e9",a:"11.0"},{n:["teddy bear"],u:"1f9f8",a:"11.0"},{n:["pinata"],u:"1fa85",a:"13.0"},{n:["mirror ball"],u:"1faa9",a:"14.0"},{n:["nesting dolls"],u:"1fa86",a:"13.0"},{n:["spades","black spade suit"],u:"2660-fe0f",a:"0.6"},{n:["hearts","black heart suit"],u:"2665-fe0f",a:"0.6"},{n:["diamonds","black diamond suit"],u:"2666-fe0f",a:"0.6"},{n:["clubs","black club suit"],u:"2663-fe0f",a:"0.6"},{n:["chess pawn"],u:"265f-fe0f",a:"11.0"},{n:["black joker","playing card black joker"],u:"1f0cf",a:"0.6"},{n:["mahjong","mahjong tile red dragon"],u:"1f004",a:"0.6"},{n:["flower playing cards"],u:"1f3b4",a:"0.6"},{n:["performing arts"],u:"1f3ad",a:"0.6"},{n:["framed picture","frame with picture"],u:"1f5bc-fe0f",a:"0.7"},{n:["art","artist palette"],u:"1f3a8",a:"0.6"},{n:["thread","spool of thread"],u:"1f9f5",a:"11.0"},{n:["sewing needle"],u:"1faa1",a:"13.0"},{n:["yarn","ball of yarn"],u:"1f9f6",a:"11.0"},{n:["knot"],u:"1faa2",a:"13.0"}],objects:[{n:["eyeglasses"],u:"1f453",a:"0.6"},{n:["sunglasses","dark sunglasses"],u:"1f576-fe0f",a:"0.7"},{n:["goggles"],u:"1f97d",a:"11.0"},{n:["lab coat"],u:"1f97c",a:"11.0"},{n:["safety vest"],u:"1f9ba",a:"12.0"},{n:["necktie"],u:"1f454",a:"0.6"},{n:["shirt","tshirt","t-shirt"],u:"1f455",a:"0.6"},{n:["jeans"],u:"1f456",a:"0.6"},{n:["scarf"],u:"1f9e3",a:"5.0"},{n:["gloves"],u:"1f9e4",a:"5.0"},{n:["coat"],u:"1f9e5",a:"5.0"},{n:["socks"],u:"1f9e6",a:"5.0"},{n:["dress"],u:"1f457",a:"0.6"},{n:["kimono"],u:"1f458",a:"0.6"},{n:["sari"],u:"1f97b",a:"12.0"},{n:["one-piece swimsuit"],u:"1fa71",a:"12.0"},{n:["briefs"],u:"1fa72",a:"12.0"},{n:["shorts"],u:"1fa73",a:"12.0"},{n:["bikini"],u:"1f459",a:"0.6"},{n:["womans clothes"],u:"1f45a",a:"0.6"},{n:["purse"],u:"1f45b",a:"0.6"},{n:["handbag"],u:"1f45c",a:"0.6"},{n:["pouch"],u:"1f45d",a:"0.6"},{n:["shopping bags"],u:"1f6cd-fe0f",a:"0.7"},{n:["school satchel"],u:"1f392",a:"0.6"},{n:["thong sandal"],u:"1fa74",a:"13.0"},{n:["shoe","mans shoe"],u:"1f45e",a:"0.6"},{n:["athletic shoe"],u:"1f45f",a:"0.6"},{n:["hiking boot"],u:"1f97e",a:"11.0"},{n:["flat shoe","womans flat shoe"],u:"1f97f",a:"11.0"},{n:["high heel","high-heeled shoe"],u:"1f460",a:"0.6"},{n:["sandal","womans sandal"],u:"1f461",a:"0.6"},{n:["ballet shoes"],u:"1fa70",a:"12.0"},{n:["boot","womans boots"],u:"1f462",a:"0.6"},{n:["crown"],u:"1f451",a:"0.6"},{n:["womans hat"],u:"1f452",a:"0.6"},{n:["tophat","top hat"],u:"1f3a9",a:"0.6"},{n:["mortar board","graduation cap"],u:"1f393",a:"0.6"},{n:["billed cap"],u:"1f9e2",a:"5.0"},{n:["military helmet"],u:"1fa96",a:"13.0"},{n:["rescue worker’s helmet","helmet with white cross"],u:"26d1-fe0f",a:"0.7"},{n:["prayer beads"],u:"1f4ff",a:"1.0"},{n:["lipstick"],u:"1f484",a:"0.6"},{n:["ring"],u:"1f48d",a:"0.6"},{n:["gem","gem stone"],u:"1f48e",a:"0.6"},{n:["mute","speaker with cancellation stroke"],u:"1f507",a:"1.0"},{n:["speaker"],u:"1f508",a:"0.7"},{n:["sound","speaker with one sound wave"],u:"1f509",a:"1.0"},{n:["loud sound","speaker with three sound waves"],u:"1f50a",a:"0.6"},{n:["loudspeaker","public address loudspeaker"],u:"1f4e2",a:"0.6"},{n:["mega","cheering megaphone"],u:"1f4e3",a:"0.6"},{n:["postal horn"],u:"1f4ef",a:"1.0"},{n:["bell"],u:"1f514",a:"0.6"},{n:["no bell","bell with cancellation stroke"],u:"1f515",a:"1.0"},{n:["musical score"],u:"1f3bc",a:"0.6"},{n:["musical note"],u:"1f3b5",a:"0.6"},{n:["notes","multiple musical notes"],u:"1f3b6",a:"0.6"},{n:["studio microphone"],u:"1f399-fe0f",a:"0.7"},{n:["level slider"],u:"1f39a-fe0f",a:"0.7"},{n:["control knobs"],u:"1f39b-fe0f",a:"0.7"},{n:["microphone"],u:"1f3a4",a:"0.6"},{n:["headphone","headphones"],u:"1f3a7",a:"0.6"},{n:["radio"],u:"1f4fb",a:"0.6"},{n:["saxophone"],u:"1f3b7",a:"0.6"},{n:["accordion"],u:"1fa97",a:"13.0"},{n:["guitar"],u:"1f3b8",a:"0.6"},{n:["musical keyboard"],u:"1f3b9",a:"0.6"},{n:["trumpet"],u:"1f3ba",a:"0.6"},{n:["violin"],u:"1f3bb",a:"0.6"},{n:["banjo"],u:"1fa95",a:"12.0"},{n:["drum with drumsticks"],u:"1f941",a:"3.0"},{n:["long drum"],u:"1fa98",a:"13.0"},{n:["iphone","mobile phone"],u:"1f4f1",a:"0.6"},{n:["calling","mobile phone with rightwards arrow at left"],u:"1f4f2",a:"0.6"},{n:["phone","telephone","black telephone"],u:"260e-fe0f",a:"0.6"},{n:["telephone receiver"],u:"1f4de",a:"0.6"},{n:["pager"],u:"1f4df",a:"0.6"},{n:["fax","fax machine"],u:"1f4e0",a:"0.6"},{n:["battery"],u:"1f50b",a:"0.6"},{n:["low battery"],u:"1faab",a:"14.0"},{n:["electric plug"],u:"1f50c",a:"0.6"},{n:["computer","personal computer"],u:"1f4bb",a:"0.6"},{n:["desktop computer"],u:"1f5a5-fe0f",a:"0.7"},{n:["printer"],u:"1f5a8-fe0f",a:"0.7"},{n:["keyboard"],u:"2328-fe0f",a:"1.0"},{n:["computer mouse","three button mouse"],u:"1f5b1-fe0f",a:"0.7"},{n:["trackball"],u:"1f5b2-fe0f",a:"0.7"},{n:["minidisc"],u:"1f4bd",a:"0.6"},{n:["floppy disk"],u:"1f4be",a:"0.6"},{n:["cd","optical disc"],u:"1f4bf",a:"0.6"},{n:["dvd"],u:"1f4c0",a:"0.6"},{n:["abacus"],u:"1f9ee",a:"11.0"},{n:["movie camera"],u:"1f3a5",a:"0.6"},{n:["film frames"],u:"1f39e-fe0f",a:"0.7"},{n:["film projector"],u:"1f4fd-fe0f",a:"0.7"},{n:["clapper","clapper board"],u:"1f3ac",a:"0.6"},{n:["tv","television"],u:"1f4fa",a:"0.6"},{n:["camera"],u:"1f4f7",a:"0.6"},{n:["camera with flash"],u:"1f4f8",a:"1.0"},{n:["video camera"],u:"1f4f9",a:"0.6"},{n:["vhs","videocassette"],u:"1f4fc",a:"0.6"},{n:["mag","left-pointing magnifying glass"],u:"1f50d",a:"0.6"},{n:["mag right","right-pointing magnifying glass"],u:"1f50e",a:"0.6"},{n:["candle"],u:"1f56f-fe0f",a:"0.7"},{n:["bulb","electric light bulb"],u:"1f4a1",a:"0.6"},{n:["flashlight","electric torch"],u:"1f526",a:"0.6"},{n:["lantern","izakaya lantern"],u:"1f3ee",a:"0.6"},{n:["diya lamp"],u:"1fa94",a:"12.0"},{n:["notebook with decorative cover"],u:"1f4d4",a:"0.6"},{n:["closed book"],u:"1f4d5",a:"0.6"},{n:["book","open book"],u:"1f4d6",a:"0.6"},{n:["green book"],u:"1f4d7",a:"0.6"},{n:["blue book"],u:"1f4d8",a:"0.6"},{n:["orange book"],u:"1f4d9",a:"0.6"},{n:["books"],u:"1f4da",a:"0.6"},{n:["notebook"],u:"1f4d3",a:"0.6"},{n:["ledger"],u:"1f4d2",a:"0.6"},{n:["page with curl"],u:"1f4c3",a:"0.6"},{n:["scroll"],u:"1f4dc",a:"0.6"},{n:["page facing up"],u:"1f4c4",a:"0.6"},{n:["newspaper"],u:"1f4f0",a:"0.6"},{n:["rolled-up newspaper","rolled up newspaper"],u:"1f5de-fe0f",a:"0.7"},{n:["bookmark tabs"],u:"1f4d1",a:"0.6"},{n:["bookmark"],u:"1f516",a:"0.6"},{n:["label"],u:"1f3f7-fe0f",a:"0.7"},{n:["moneybag","money bag"],u:"1f4b0",a:"0.6"},{n:["coin"],u:"1fa99",a:"13.0"},{n:["yen","banknote with yen sign"],u:"1f4b4",a:"0.6"},{n:["dollar","banknote with dollar sign"],u:"1f4b5",a:"0.6"},{n:["euro","banknote with euro sign"],u:"1f4b6",a:"1.0"},{n:["pound","banknote with pound sign"],u:"1f4b7",a:"1.0"},{n:["money with wings"],u:"1f4b8",a:"0.6"},{n:["credit card"],u:"1f4b3",a:"0.6"},{n:["receipt"],u:"1f9fe",a:"11.0"},{n:["chart","chart with upwards trend and yen sign"],u:"1f4b9",a:"0.6"},{n:["email","envelope"],u:"2709-fe0f",a:"0.6"},{n:["e-mail","e-mail symbol"],u:"1f4e7",a:"0.6"},{n:["incoming envelope"],u:"1f4e8",a:"0.6"},{n:["envelope with arrow","envelope with downwards arrow above"],u:"1f4e9",a:"0.6"},{n:["outbox tray"],u:"1f4e4",a:"0.6"},{n:["inbox tray"],u:"1f4e5",a:"0.6"},{n:["package"],u:"1f4e6",a:"0.6"},{n:["mailbox","closed mailbox with raised flag"],u:"1f4eb",a:"0.6"},{n:["mailbox closed","closed mailbox with lowered flag"],u:"1f4ea",a:"0.6"},{n:["mailbox with mail","open mailbox with raised flag"],u:"1f4ec",a:"0.7"},{n:["mailbox with no mail","open mailbox with lowered flag"],u:"1f4ed",a:"0.7"},{n:["postbox"],u:"1f4ee",a:"0.6"},{n:["ballot box with ballot"],u:"1f5f3-fe0f",a:"0.7"},{n:["pencil","pencil2"],u:"270f-fe0f",a:"0.6"},{n:["black nib"],u:"2712-fe0f",a:"0.6"},{n:["fountain pen","lower left fountain pen"],u:"1f58b-fe0f",a:"0.7"},{n:["pen","lower left ballpoint pen"],u:"1f58a-fe0f",a:"0.7"},{n:["paintbrush","lower left paintbrush"],u:"1f58c-fe0f",a:"0.7"},{n:["crayon","lower left crayon"],u:"1f58d-fe0f",a:"0.7"},{n:["memo","pencil"],u:"1f4dd",a:"0.6"},{n:["briefcase"],u:"1f4bc",a:"0.6"},{n:["file folder"],u:"1f4c1",a:"0.6"},{n:["open file folder"],u:"1f4c2",a:"0.6"},{n:["card index dividers"],u:"1f5c2-fe0f",a:"0.7"},{n:["date","calendar"],u:"1f4c5",a:"0.6"},{n:["calendar","tear-off calendar"],u:"1f4c6",a:"0.6"},{n:["spiral notepad","spiral note pad"],u:"1f5d2-fe0f",a:"0.7"},{n:["spiral calendar","spiral calendar pad"],u:"1f5d3-fe0f",a:"0.7"},{n:["card index"],u:"1f4c7",a:"0.6"},{n:["chart with upwards trend"],u:"1f4c8",a:"0.6"},{n:["chart with downwards trend"],u:"1f4c9",a:"0.6"},{n:["bar chart"],u:"1f4ca",a:"0.6"},{n:["clipboard"],u:"1f4cb",a:"0.6"},{n:["pushpin"],u:"1f4cc",a:"0.6"},{n:["round pushpin"],u:"1f4cd",a:"0.6"},{n:["paperclip"],u:"1f4ce",a:"0.6"},{n:["linked paperclips"],u:"1f587-fe0f",a:"0.7"},{n:["straight ruler"],u:"1f4cf",a:"0.6"},{n:["triangular ruler"],u:"1f4d0",a:"0.6"},{n:["scissors","black scissors"],u:"2702-fe0f",a:"0.6"},{n:["card file box"],u:"1f5c3-fe0f",a:"0.7"},{n:["file cabinet"],u:"1f5c4-fe0f",a:"0.7"},{n:["wastebasket"],u:"1f5d1-fe0f",a:"0.7"},{n:["lock"],u:"1f512",a:"0.6"},{n:["unlock","open lock"],u:"1f513",a:"0.6"},{n:["lock with ink pen"],u:"1f50f",a:"0.6"},{n:["closed lock with key"],u:"1f510",a:"0.6"},{n:["key"],u:"1f511",a:"0.6"},{n:["old key"],u:"1f5dd-fe0f",a:"0.7"},{n:["hammer"],u:"1f528",a:"0.6"},{n:["axe"],u:"1fa93",a:"12.0"},{n:["pick"],u:"26cf-fe0f",a:"0.7"},{n:["hammer and pick"],u:"2692-fe0f",a:"1.0"},{n:["hammer and wrench"],u:"1f6e0-fe0f",a:"0.7"},{n:["dagger","dagger knife"],u:"1f5e1-fe0f",a:"0.7"},{n:["crossed swords"],u:"2694-fe0f",a:"1.0"},{n:["gun","pistol"],u:"1f52b",a:"0.6"},{n:["boomerang"],u:"1fa83",a:"13.0"},{n:["bow and arrow"],u:"1f3f9",a:"1.0"},{n:["shield"],u:"1f6e1-fe0f",a:"0.7"},{n:["carpentry saw"],u:"1fa9a",a:"13.0"},{n:["wrench"],u:"1f527",a:"0.6"},{n:["screwdriver"],u:"1fa9b",a:"13.0"},{n:["nut and bolt"],u:"1f529",a:"0.6"},{n:["gear"],u:"2699-fe0f",a:"1.0"},{n:["clamp","compression"],u:"1f5dc-fe0f",a:"0.7"},{n:["scales","balance scale"],u:"2696-fe0f",a:"1.0"},{n:["probing cane"],u:"1f9af",a:"12.0"},{n:["link","link symbol"],u:"1f517",a:"0.6"},{n:["chains"],u:"26d3-fe0f",a:"0.7"},{n:["hook"],u:"1fa9d",a:"13.0"},{n:["toolbox"],u:"1f9f0",a:"11.0"},{n:["magnet"],u:"1f9f2",a:"11.0"},{n:["ladder"],u:"1fa9c",a:"13.0"},{n:["alembic"],u:"2697-fe0f",a:"1.0"},{n:["test tube"],u:"1f9ea",a:"11.0"},{n:["petri dish"],u:"1f9eb",a:"11.0"},{n:["dna","dna double helix"],u:"1f9ec",a:"11.0"},{n:["microscope"],u:"1f52c",a:"1.0"},{n:["telescope"],u:"1f52d",a:"1.0"},{n:["satellite antenna"],u:"1f4e1",a:"0.6"},{n:["syringe"],u:"1f489",a:"0.6"},{n:["drop of blood"],u:"1fa78",a:"12.0"},{n:["pill"],u:"1f48a",a:"0.6"},{n:["adhesive bandage"],u:"1fa79",a:"12.0"},{n:["crutch"],u:"1fa7c",a:"14.0"},{n:["stethoscope"],u:"1fa7a",a:"12.0"},{n:["x-ray"],u:"1fa7b",a:"14.0"},{n:["door"],u:"1f6aa",a:"0.6"},{n:["elevator"],u:"1f6d7",a:"13.0"},{n:["mirror"],u:"1fa9e",a:"13.0"},{n:["window"],u:"1fa9f",a:"13.0"},{n:["bed"],u:"1f6cf-fe0f",a:"0.7"},{n:["couch and lamp"],u:"1f6cb-fe0f",a:"0.7"},{n:["chair"],u:"1fa91",a:"12.0"},{n:["toilet"],u:"1f6bd",a:"0.6"},{n:["plunger"],u:"1faa0",a:"13.0"},{n:["shower"],u:"1f6bf",a:"1.0"},{n:["bathtub"],u:"1f6c1",a:"1.0"},{n:["mouse trap"],u:"1faa4",a:"13.0"},{n:["razor"],u:"1fa92",a:"12.0"},{n:["lotion bottle"],u:"1f9f4",a:"11.0"},{n:["safety pin"],u:"1f9f7",a:"11.0"},{n:["broom"],u:"1f9f9",a:"11.0"},{n:["basket"],u:"1f9fa",a:"11.0"},{n:["roll of paper"],u:"1f9fb",a:"11.0"},{n:["bucket"],u:"1faa3",a:"13.0"},{n:["soap","bar of soap"],u:"1f9fc",a:"11.0"},{n:["bubbles"],u:"1fae7",a:"14.0"},{n:["toothbrush"],u:"1faa5",a:"13.0"},{n:["sponge"],u:"1f9fd",a:"11.0"},{n:["fire extinguisher"],u:"1f9ef",a:"11.0"},{n:["shopping trolley"],u:"1f6d2",a:"3.0"},{n:["smoking","smoking symbol"],u:"1f6ac",a:"0.6"},{n:["coffin"],u:"26b0-fe0f",a:"1.0"},{n:["headstone"],u:"1faa6",a:"13.0"},{n:["funeral urn"],u:"26b1-fe0f",a:"1.0"},{n:["moyai"],u:"1f5ff",a:"0.6"},{n:["placard"],u:"1faa7",a:"13.0"},{n:["identification card"],u:"1faaa",a:"14.0"}],symbols:[{n:["atm","automated teller machine"],u:"1f3e7",a:"0.6"},{n:["put litter in its place","put litter in its place symbol"],u:"1f6ae",a:"1.0"},{n:["potable water","potable water symbol"],u:"1f6b0",a:"1.0"},{n:["wheelchair","wheelchair symbol"],u:"267f",a:"0.6"},{n:["mens","mens symbol"],u:"1f6b9",a:"0.6"},{n:["womens","womens symbol"],u:"1f6ba",a:"0.6"},{n:["restroom"],u:"1f6bb",a:"0.6"},{n:["baby symbol"],u:"1f6bc",a:"0.6"},{n:["wc","water closet"],u:"1f6be",a:"0.6"},{n:["passport control"],u:"1f6c2",a:"1.0"},{n:["customs"],u:"1f6c3",a:"1.0"},{n:["baggage claim"],u:"1f6c4",a:"1.0"},{n:["left luggage"],u:"1f6c5",a:"1.0"},{n:["warning","warning sign"],u:"26a0-fe0f",a:"0.6"},{n:["children crossing"],u:"1f6b8",a:"1.0"},{n:["no entry"],u:"26d4",a:"0.6"},{n:["no entry sign"],u:"1f6ab",a:"0.6"},{n:["no bicycles"],u:"1f6b3",a:"1.0"},{n:["no smoking","no smoking symbol"],u:"1f6ad",a:"0.6"},{n:["do not litter","do not litter symbol"],u:"1f6af",a:"1.0"},{n:["non-potable water","non-potable water symbol"],u:"1f6b1",a:"1.0"},{n:["no pedestrians"],u:"1f6b7",a:"1.0"},{n:["no mobile phones"],u:"1f4f5",a:"1.0"},{n:["underage","no one under eighteen symbol"],u:"1f51e",a:"0.6"},{n:["radioactive","radioactive sign"],u:"2622-fe0f",a:"1.0"},{n:["biohazard","biohazard sign"],u:"2623-fe0f",a:"1.0"},{n:["arrow up","upwards black arrow"],u:"2b06-fe0f",a:"0.6"},{n:["north east arrow","arrow upper right"],u:"2197-fe0f",a:"0.6"},{n:["arrow right","black rightwards arrow"],u:"27a1-fe0f",a:"0.6"},{n:["south east arrow","arrow lower right"],u:"2198-fe0f",a:"0.6"},{n:["arrow down","downwards black arrow"],u:"2b07-fe0f",a:"0.6"},{n:["south west arrow","arrow lower left"],u:"2199-fe0f",a:"0.6"},{n:["arrow left","leftwards black arrow"],u:"2b05-fe0f",a:"0.6"},{n:["north west arrow","arrow upper left"],u:"2196-fe0f",a:"0.6"},{n:["up down arrow","arrow up down"],u:"2195-fe0f",a:"0.6"},{n:["left right arrow"],u:"2194-fe0f",a:"0.6"},{n:["leftwards arrow with hook"],u:"21a9-fe0f",a:"0.6"},{n:["arrow right hook","rightwards arrow with hook"],u:"21aa-fe0f",a:"0.6"},{n:["arrow heading up","arrow pointing rightwards then curving upwards"],u:"2934-fe0f",a:"0.6"},{n:["arrow heading down","arrow pointing rightwards then curving downwards"],u:"2935-fe0f",a:"0.6"},{n:["arrows clockwise","clockwise downwards and upwards open circle arrows"],u:"1f503",a:"0.6"},{n:["arrows counterclockwise","anticlockwise downwards and upwards open circle arrows"],u:"1f504",a:"1.0"},{n:["back","back with leftwards arrow above"],u:"1f519",a:"0.6"},{n:["end","end with leftwards arrow above"],u:"1f51a",a:"0.6"},{n:["on","on with exclamation mark with left right arrow above"],u:"1f51b",a:"0.6"},{n:["soon","soon with rightwards arrow above"],u:"1f51c",a:"0.6"},{n:["top","top with upwards arrow above"],u:"1f51d",a:"0.6"},{n:["place of worship"],u:"1f6d0",a:"1.0"},{n:["atom symbol"],u:"269b-fe0f",a:"1.0"},{n:["om","om symbol"],u:"1f549-fe0f",a:"0.7"},{n:["star of david"],u:"2721-fe0f",a:"0.7"},{n:["wheel of dharma"],u:"2638-fe0f",a:"0.7"},{n:["yin yang"],u:"262f-fe0f",a:"0.7"},{n:["latin cross"],u:"271d-fe0f",a:"0.7"},{n:["orthodox cross"],u:"2626-fe0f",a:"1.0"},{n:["star and crescent"],u:"262a-fe0f",a:"0.7"},{n:["peace symbol"],u:"262e-fe0f",a:"1.0"},{n:["menorah with nine branches"],u:"1f54e",a:"1.0"},{n:["six pointed star","six pointed star with middle dot"],u:"1f52f",a:"0.6"},{n:["aries"],u:"2648",a:"0.6"},{n:["taurus"],u:"2649",a:"0.6"},{n:["gemini"],u:"264a",a:"0.6"},{n:["cancer"],u:"264b",a:"0.6"},{n:["leo"],u:"264c",a:"0.6"},{n:["virgo"],u:"264d",a:"0.6"},{n:["libra"],u:"264e",a:"0.6"},{n:["scorpius"],u:"264f",a:"0.6"},{n:["sagittarius"],u:"2650",a:"0.6"},{n:["capricorn"],u:"2651",a:"0.6"},{n:["aquarius"],u:"2652",a:"0.6"},{n:["pisces"],u:"2653",a:"0.6"},{n:["ophiuchus"],u:"26ce",a:"0.6"},{n:["twisted rightwards arrows"],u:"1f500",a:"1.0"},{n:["repeat","clockwise rightwards and leftwards open circle arrows"],u:"1f501",a:"1.0"},{n:["repeat one","clockwise rightwards and leftwards open circle arrows with circled one overlay"],u:"1f502",a:"1.0"},{n:["arrow forward","black right-pointing triangle"],u:"25b6-fe0f",a:"0.6"},{n:["fast forward","black right-pointing double triangle"],u:"23e9",a:"0.6"},{n:["next track button","black right pointing double triangle with vertical bar"],u:"23ed-fe0f",a:"0.7"},{n:["play or pause button","black right pointing triangle with double vertical bar"],u:"23ef-fe0f",a:"1.0"},{n:["arrow backward","black left-pointing triangle"],u:"25c0-fe0f",a:"0.6"},{n:["rewind","black left-pointing double triangle"],u:"23ea",a:"0.6"},{n:["last track button","black left pointing double triangle with vertical bar"],u:"23ee-fe0f",a:"0.7"},{n:["arrow up small","up-pointing small red triangle"],u:"1f53c",a:"0.6"},{n:["arrow double up","black up-pointing double triangle"],u:"23eb",a:"0.6"},{n:["arrow down small","down-pointing small red triangle"],u:"1f53d",a:"0.6"},{n:["arrow double down","black down-pointing double triangle"],u:"23ec",a:"0.6"},{n:["pause button","double vertical bar"],u:"23f8-fe0f",a:"0.7"},{n:["stop button","black square for stop"],u:"23f9-fe0f",a:"0.7"},{n:["record button","black circle for record"],u:"23fa-fe0f",a:"0.7"},{n:["eject","eject button"],u:"23cf-fe0f",a:"1.0"},{n:["cinema"],u:"1f3a6",a:"0.6"},{n:["low brightness","low brightness symbol"],u:"1f505",a:"1.0"},{n:["high brightness","high brightness symbol"],u:"1f506",a:"1.0"},{n:["signal strength","antenna with bars"],u:"1f4f6",a:"0.6"},{n:["vibration mode"],u:"1f4f3",a:"0.6"},{n:["mobile phone off"],u:"1f4f4",a:"0.6"},{n:["female sign"],u:"2640-fe0f",a:"4.0"},{n:["male sign"],u:"2642-fe0f",a:"4.0"},{n:["transgender symbol"],u:"26a7-fe0f",a:"13.0"},{n:["heavy multiplication x"],u:"2716-fe0f",a:"0.6"},{n:["heavy plus sign"],u:"2795",a:"0.6"},{n:["heavy minus sign"],u:"2796",a:"0.6"},{n:["heavy division sign"],u:"2797",a:"0.6"},{n:["heavy equals sign"],u:"1f7f0",a:"14.0"},{n:["infinity"],u:"267e-fe0f",a:"11.0"},{n:["bangbang","double exclamation mark"],u:"203c-fe0f",a:"0.6"},{n:["interrobang","exclamation question mark"],u:"2049-fe0f",a:"0.6"},{n:["question","black question mark ornament"],u:"2753",a:"0.6"},{n:["grey question","white question mark ornament"],u:"2754",a:"0.6"},{n:["grey exclamation","white exclamation mark ornament"],u:"2755",a:"0.6"},{n:["exclamation","heavy exclamation mark","heavy exclamation mark symbol"],u:"2757",a:"0.6"},{n:["wavy dash"],u:"3030-fe0f",a:"0.6"},{n:["currency exchange"],u:"1f4b1",a:"0.6"},{n:["heavy dollar sign"],u:"1f4b2",a:"0.6"},{n:["medical symbol","staff of aesculapius"],u:"2695-fe0f",a:"4.0"},{n:["recycle","black universal recycling symbol"],u:"267b-fe0f",a:"0.6"},{n:["fleur-de-lis","fleur de lis"],u:"269c-fe0f",a:"1.0"},{n:["trident","trident emblem"],u:"1f531",a:"0.6"},{n:["name badge"],u:"1f4db",a:"0.6"},{n:["beginner","japanese symbol for beginner"],u:"1f530",a:"0.6"},{n:["o","heavy large circle"],u:"2b55",a:"0.6"},{n:["white check mark","white heavy check mark"],u:"2705",a:"0.6"},{n:["ballot box with check"],u:"2611-fe0f",a:"0.6"},{n:["heavy check mark"],u:"2714-fe0f",a:"0.6"},{n:["x","cross mark"],u:"274c",a:"0.6"},{n:["negative squared cross mark"],u:"274e",a:"0.6"},{n:["curly loop"],u:"27b0",a:"0.6"},{n:["loop","double curly loop"],u:"27bf",a:"1.0"},{n:["part alternation mark"],u:"303d-fe0f",a:"0.6"},{n:["eight spoked asterisk"],u:"2733-fe0f",a:"0.6"},{n:["eight pointed black star"],u:"2734-fe0f",a:"0.6"},{n:["sparkle"],u:"2747-fe0f",a:"0.6"},{n:["copyright","copyright sign"],u:"00a9-fe0f",a:"0.6"},{n:["registered","registered sign"],u:"00ae-fe0f",a:"0.6"},{n:["tm","trade mark sign"],u:"2122-fe0f",a:"0.6"},{n:["hash","hash key"],u:"0023-fe0f-20e3",a:"0.6"},{n:["keycap: *","keycap star"],u:"002a-fe0f-20e3",a:"2.0"},{n:["zero","keycap 0"],u:"0030-fe0f-20e3",a:"0.6"},{n:["one","keycap 1"],u:"0031-fe0f-20e3",a:"0.6"},{n:["two","keycap 2"],u:"0032-fe0f-20e3",a:"0.6"},{n:["three","keycap 3"],u:"0033-fe0f-20e3",a:"0.6"},{n:["four","keycap 4"],u:"0034-fe0f-20e3",a:"0.6"},{n:["five","keycap 5"],u:"0035-fe0f-20e3",a:"0.6"},{n:["six","keycap 6"],u:"0036-fe0f-20e3",a:"0.6"},{n:["seven","keycap 7"],u:"0037-fe0f-20e3",a:"0.6"},{n:["eight","keycap 8"],u:"0038-fe0f-20e3",a:"0.6"},{n:["nine","keycap 9"],u:"0039-fe0f-20e3",a:"0.6"},{n:["keycap ten"],u:"1f51f",a:"0.6"},{n:["capital abcd","input symbol for latin capital letters"],u:"1f520",a:"0.6"},{n:["abcd","input symbol for latin small letters"],u:"1f521",a:"0.6"},{n:["1234","input symbol for numbers"],u:"1f522",a:"0.6"},{n:["symbols","input symbol for symbols"],u:"1f523",a:"0.6"},{n:["abc","input symbol for latin letters"],u:"1f524",a:"0.6"},{n:["a","negative squared latin capital letter a"],u:"1f170-fe0f",a:"0.6"},{n:["ab","negative squared ab"],u:"1f18e",a:"0.6"},{n:["b","negative squared latin capital letter b"],u:"1f171-fe0f",a:"0.6"},{n:["cl","squared cl"],u:"1f191",a:"0.6"},{n:["cool","squared cool"],u:"1f192",a:"0.6"},{n:["free","squared free"],u:"1f193",a:"0.6"},{n:["information source"],u:"2139-fe0f",a:"0.6"},{n:["id","squared id"],u:"1f194",a:"0.6"},{n:["m","circled latin capital letter m"],u:"24c2-fe0f",a:"0.6"},{n:["new","squared new"],u:"1f195",a:"0.6"},{n:["ng","squared ng"],u:"1f196",a:"0.6"},{n:["o2","negative squared latin capital letter o"],u:"1f17e-fe0f",a:"0.6"},{n:["ok","squared ok"],u:"1f197",a:"0.6"},{n:["parking","negative squared latin capital letter p"],u:"1f17f-fe0f",a:"0.6"},{n:["sos","squared sos"],u:"1f198",a:"0.6"},{n:["up","squared up with exclamation mark"],u:"1f199",a:"0.6"},{n:["vs","squared vs"],u:"1f19a",a:"0.6"},{n:["koko","squared katakana koko"],u:"1f201",a:"0.6"},{n:["sa","squared katakana sa"],u:"1f202-fe0f",a:"0.6"},{n:["u6708","squared cjk unified ideograph-6708"],u:"1f237-fe0f",a:"0.6"},{n:["u6709","squared cjk unified ideograph-6709"],u:"1f236",a:"0.6"},{n:["u6307","squared cjk unified ideograph-6307"],u:"1f22f",a:"0.6"},{n:["ideograph advantage","circled ideograph advantage"],u:"1f250",a:"0.6"},{n:["u5272","squared cjk unified ideograph-5272"],u:"1f239",a:"0.6"},{n:["u7121","squared cjk unified ideograph-7121"],u:"1f21a",a:"0.6"},{n:["u7981","squared cjk unified ideograph-7981"],u:"1f232",a:"0.6"},{n:["accept","circled ideograph accept"],u:"1f251",a:"0.6"},{n:["u7533","squared cjk unified ideograph-7533"],u:"1f238",a:"0.6"},{n:["u5408","squared cjk unified ideograph-5408"],u:"1f234",a:"0.6"},{n:["u7a7a","squared cjk unified ideograph-7a7a"],u:"1f233",a:"0.6"},{n:["congratulations","circled ideograph congratulation"],u:"3297-fe0f",a:"0.6"},{n:["secret","circled ideograph secret"],u:"3299-fe0f",a:"0.6"},{n:["u55b6","squared cjk unified ideograph-55b6"],u:"1f23a",a:"0.6"},{n:["u6e80","squared cjk unified ideograph-6e80"],u:"1f235",a:"0.6"},{n:["red circle","large red circle"],u:"1f534",a:"0.6"},{n:["large orange circle"],u:"1f7e0",a:"12.0"},{n:["large yellow circle"],u:"1f7e1",a:"12.0"},{n:["large green circle"],u:"1f7e2",a:"12.0"},{n:["large blue circle"],u:"1f535",a:"0.6"},{n:["large purple circle"],u:"1f7e3",a:"12.0"},{n:["large brown circle"],u:"1f7e4",a:"12.0"},{n:["black circle","medium black circle"],u:"26ab",a:"0.6"},{n:["white circle","medium white circle"],u:"26aa",a:"0.6"},{n:["large red square"],u:"1f7e5",a:"12.0"},{n:["large orange square"],u:"1f7e7",a:"12.0"},{n:["large yellow square"],u:"1f7e8",a:"12.0"},{n:["large green square"],u:"1f7e9",a:"12.0"},{n:["large blue square"],u:"1f7e6",a:"12.0"},{n:["large purple square"],u:"1f7ea",a:"12.0"},{n:["large brown square"],u:"1f7eb",a:"12.0"},{n:["black large square"],u:"2b1b",a:"0.6"},{n:["white large square"],u:"2b1c",a:"0.6"},{n:["black medium square"],u:"25fc-fe0f",a:"0.6"},{n:["white medium square"],u:"25fb-fe0f",a:"0.6"},{n:["black medium small square"],u:"25fe",a:"0.6"},{n:["white medium small square"],u:"25fd",a:"0.6"},{n:["black small square"],u:"25aa-fe0f",a:"0.6"},{n:["white small square"],u:"25ab-fe0f",a:"0.6"},{n:["large orange diamond"],u:"1f536",a:"0.6"},{n:["large blue diamond"],u:"1f537",a:"0.6"},{n:["small orange diamond"],u:"1f538",a:"0.6"},{n:["small blue diamond"],u:"1f539",a:"0.6"},{n:["small red triangle","up-pointing red triangle"],u:"1f53a",a:"0.6"},{n:["small red triangle down","down-pointing red triangle"],u:"1f53b",a:"0.6"},{n:["diamond shape with a dot inside"],u:"1f4a0",a:"0.6"},{n:["radio button"],u:"1f518",a:"0.6"},{n:["white square button"],u:"1f533",a:"0.6"},{n:["black square button"],u:"1f532",a:"0.6"}],flags:[{n:["chequered flag","checkered flag"],u:"1f3c1",a:"0.6"},{n:["triangular flag on post"],u:"1f6a9",a:"0.6"},{n:["crossed flags"],u:"1f38c",a:"0.6"},{n:["waving black flag"],u:"1f3f4",a:"1.0"},{n:["white flag","waving white flag"],u:"1f3f3-fe0f",a:"0.7"},{n:["rainbow flag","rainbow-flag"],u:"1f3f3-fe0f-200d-1f308",a:"4.0"},{n:["transgender flag"],u:"1f3f3-fe0f-200d-26a7-fe0f",a:"13.0"},{n:["pirate flag"],u:"1f3f4-200d-2620-fe0f",a:"11.0"},{n:["flag-ac","ascension island flag"],u:"1f1e6-1f1e8",a:"2.0"},{n:["flag-ad","andorra flag"],u:"1f1e6-1f1e9",a:"2.0"},{n:["flag-ae","united arab emirates flag"],u:"1f1e6-1f1ea",a:"2.0"},{n:["flag-af","afghanistan flag"],u:"1f1e6-1f1eb",a:"2.0"},{n:["flag-ag","antigua & barbuda flag"],u:"1f1e6-1f1ec",a:"2.0"},{n:["flag-ai","anguilla flag"],u:"1f1e6-1f1ee",a:"2.0"},{n:["flag-al","albania flag"],u:"1f1e6-1f1f1",a:"2.0"},{n:["flag-am","armenia flag"],u:"1f1e6-1f1f2",a:"2.0"},{n:["flag-ao","angola flag"],u:"1f1e6-1f1f4",a:"2.0"},{n:["flag-aq","antarctica flag"],u:"1f1e6-1f1f6",a:"2.0"},{n:["flag-ar","argentina flag"],u:"1f1e6-1f1f7",a:"2.0"},{n:["flag-as","american samoa flag"],u:"1f1e6-1f1f8",a:"2.0"},{n:["flag-at","austria flag"],u:"1f1e6-1f1f9",a:"2.0"},{n:["flag-au","australia flag"],u:"1f1e6-1f1fa",a:"2.0"},{n:["flag-aw","aruba flag"],u:"1f1e6-1f1fc",a:"2.0"},{n:["flag-ax","åland islands flag"],u:"1f1e6-1f1fd",a:"2.0"},{n:["flag-az","azerbaijan flag"],u:"1f1e6-1f1ff",a:"2.0"},{n:["flag-ba","bosnia & herzegovina flag"],u:"1f1e7-1f1e6",a:"2.0"},{n:["flag-bb","barbados flag"],u:"1f1e7-1f1e7",a:"2.0"},{n:["flag-bd","bangladesh flag"],u:"1f1e7-1f1e9",a:"2.0"},{n:["flag-be","belgium flag"],u:"1f1e7-1f1ea",a:"2.0"},{n:["flag-bf","burkina faso flag"],u:"1f1e7-1f1eb",a:"2.0"},{n:["flag-bg","bulgaria flag"],u:"1f1e7-1f1ec",a:"2.0"},{n:["flag-bh","bahrain flag"],u:"1f1e7-1f1ed",a:"2.0"},{n:["flag-bi","burundi flag"],u:"1f1e7-1f1ee",a:"2.0"},{n:["flag-bj","benin flag"],u:"1f1e7-1f1ef",a:"2.0"},{n:["flag-bl","st. barthélemy flag"],u:"1f1e7-1f1f1",a:"2.0"},{n:["flag-bm","bermuda flag"],u:"1f1e7-1f1f2",a:"2.0"},{n:["flag-bn","brunei flag"],u:"1f1e7-1f1f3",a:"2.0"},{n:["flag-bo","bolivia flag"],u:"1f1e7-1f1f4",a:"2.0"},{n:["flag-bq","caribbean netherlands flag"],u:"1f1e7-1f1f6",a:"2.0"},{n:["flag-br","brazil flag"],u:"1f1e7-1f1f7",a:"2.0"},{n:["flag-bs","bahamas flag"],u:"1f1e7-1f1f8",a:"2.0"},{n:["flag-bt","bhutan flag"],u:"1f1e7-1f1f9",a:"2.0"},{n:["flag-bv","bouvet island flag"],u:"1f1e7-1f1fb",a:"2.0"},{n:["flag-bw","botswana flag"],u:"1f1e7-1f1fc",a:"2.0"},{n:["flag-by","belarus flag"],u:"1f1e7-1f1fe",a:"2.0"},{n:["flag-bz","belize flag"],u:"1f1e7-1f1ff",a:"2.0"},{n:["flag-ca","canada flag"],u:"1f1e8-1f1e6",a:"2.0"},{n:["flag-cc","cocos (keeling) islands flag"],u:"1f1e8-1f1e8",a:"2.0"},{n:["flag-cd","congo - kinshasa flag"],u:"1f1e8-1f1e9",a:"2.0"},{n:["flag-cf","central african republic flag"],u:"1f1e8-1f1eb",a:"2.0"},{n:["flag-cg","congo - brazzaville flag"],u:"1f1e8-1f1ec",a:"2.0"},{n:["flag-ch","switzerland flag"],u:"1f1e8-1f1ed",a:"2.0"},{n:["flag-ci","côte d’ivoire flag"],u:"1f1e8-1f1ee",a:"2.0"},{n:["flag-ck","cook islands flag"],u:"1f1e8-1f1f0",a:"2.0"},{n:["flag-cl","chile flag"],u:"1f1e8-1f1f1",a:"2.0"},{n:["flag-cm","cameroon flag"],u:"1f1e8-1f1f2",a:"2.0"},{n:["cn","flag-cn","china flag"],u:"1f1e8-1f1f3",a:"0.6"},{n:["flag-co","colombia flag"],u:"1f1e8-1f1f4",a:"2.0"},{n:["flag-cp","clipperton island flag"],u:"1f1e8-1f1f5",a:"2.0"},{n:["flag-cr","costa rica flag"],u:"1f1e8-1f1f7",a:"2.0"},{n:["flag-cu","cuba flag"],u:"1f1e8-1f1fa",a:"2.0"},{n:["flag-cv","cape verde flag"],u:"1f1e8-1f1fb",a:"2.0"},{n:["flag-cw","curaçao flag"],u:"1f1e8-1f1fc",a:"2.0"},{n:["flag-cx","christmas island flag"],u:"1f1e8-1f1fd",a:"2.0"},{n:["flag-cy","cyprus flag"],u:"1f1e8-1f1fe",a:"2.0"},{n:["flag-cz","czechia flag"],u:"1f1e8-1f1ff",a:"2.0"},{n:["de","flag-de","germany flag"],u:"1f1e9-1f1ea",a:"0.6"},{n:["flag-dg","diego garcia flag"],u:"1f1e9-1f1ec",a:"2.0"},{n:["flag-dj","djibouti flag"],u:"1f1e9-1f1ef",a:"2.0"},{n:["flag-dk","denmark flag"],u:"1f1e9-1f1f0",a:"2.0"},{n:["flag-dm","dominica flag"],u:"1f1e9-1f1f2",a:"2.0"},{n:["flag-do","dominican republic flag"],u:"1f1e9-1f1f4",a:"2.0"},{n:["flag-dz","algeria flag"],u:"1f1e9-1f1ff",a:"2.0"},{n:["flag-ea","ceuta & melilla flag"],u:"1f1ea-1f1e6",a:"2.0"},{n:["flag-ec","ecuador flag"],u:"1f1ea-1f1e8",a:"2.0"},{n:["flag-ee","estonia flag"],u:"1f1ea-1f1ea",a:"2.0"},{n:["flag-eg","egypt flag"],u:"1f1ea-1f1ec",a:"2.0"},{n:["flag-eh","western sahara flag"],u:"1f1ea-1f1ed",a:"2.0"},{n:["flag-er","eritrea flag"],u:"1f1ea-1f1f7",a:"2.0"},{n:["es","flag-es","spain flag"],u:"1f1ea-1f1f8",a:"0.6"},{n:["flag-et","ethiopia flag"],u:"1f1ea-1f1f9",a:"2.0"},{n:["flag-eu","european union flag"],u:"1f1ea-1f1fa",a:"2.0"},{n:["flag-fi","finland flag"],u:"1f1eb-1f1ee",a:"2.0"},{n:["flag-fj","fiji flag"],u:"1f1eb-1f1ef",a:"2.0"},{n:["flag-fk","falkland islands flag"],u:"1f1eb-1f1f0",a:"2.0"},{n:["flag-fm","micronesia flag"],u:"1f1eb-1f1f2",a:"2.0"},{n:["flag-fo","faroe islands flag"],u:"1f1eb-1f1f4",a:"2.0"},{n:["fr","flag-fr","france flag"],u:"1f1eb-1f1f7",a:"0.6"},{n:["flag-ga","gabon flag"],u:"1f1ec-1f1e6",a:"2.0"},{n:["gb","uk","flag-gb","united kingdom flag"],u:"1f1ec-1f1e7",a:"0.6"},{n:["flag-gd","grenada flag"],u:"1f1ec-1f1e9",a:"2.0"},{n:["flag-ge","georgia flag"],u:"1f1ec-1f1ea",a:"2.0"},{n:["flag-gf","french guiana flag"],u:"1f1ec-1f1eb",a:"2.0"},{n:["flag-gg","guernsey flag"],u:"1f1ec-1f1ec",a:"2.0"},{n:["flag-gh","ghana flag"],u:"1f1ec-1f1ed",a:"2.0"},{n:["flag-gi","gibraltar flag"],u:"1f1ec-1f1ee",a:"2.0"},{n:["flag-gl","greenland flag"],u:"1f1ec-1f1f1",a:"2.0"},{n:["flag-gm","gambia flag"],u:"1f1ec-1f1f2",a:"2.0"},{n:["flag-gn","guinea flag"],u:"1f1ec-1f1f3",a:"2.0"},{n:["flag-gp","guadeloupe flag"],u:"1f1ec-1f1f5",a:"2.0"},{n:["flag-gq","equatorial guinea flag"],u:"1f1ec-1f1f6",a:"2.0"},{n:["flag-gr","greece flag"],u:"1f1ec-1f1f7",a:"2.0"},{n:["flag-gs","south georgia & south sandwich islands flag"],u:"1f1ec-1f1f8",a:"2.0"},{n:["flag-gt","guatemala flag"],u:"1f1ec-1f1f9",a:"2.0"},{n:["flag-gu","guam flag"],u:"1f1ec-1f1fa",a:"2.0"},{n:["flag-gw","guinea-bissau flag"],u:"1f1ec-1f1fc",a:"2.0"},{n:["flag-gy","guyana flag"],u:"1f1ec-1f1fe",a:"2.0"},{n:["flag-hk","hong kong sar china flag"],u:"1f1ed-1f1f0",a:"2.0"},{n:["flag-hm","heard & mcdonald islands flag"],u:"1f1ed-1f1f2",a:"2.0"},{n:["flag-hn","honduras flag"],u:"1f1ed-1f1f3",a:"2.0"},{n:["flag-hr","croatia flag"],u:"1f1ed-1f1f7",a:"2.0"},{n:["flag-ht","haiti flag"],u:"1f1ed-1f1f9",a:"2.0"},{n:["flag-hu","hungary flag"],u:"1f1ed-1f1fa",a:"2.0"},{n:["flag-ic","canary islands flag"],u:"1f1ee-1f1e8",a:"2.0"},{n:["flag-id","indonesia flag"],u:"1f1ee-1f1e9",a:"2.0"},{n:["flag-ie","ireland flag"],u:"1f1ee-1f1ea",a:"2.0"},{n:["flag-il","israel flag"],u:"1f1ee-1f1f1",a:"2.0"},{n:["flag-im","isle of man flag"],u:"1f1ee-1f1f2",a:"2.0"},{n:["flag-in","india flag"],u:"1f1ee-1f1f3",a:"2.0"},{n:["flag-io","british indian ocean territory flag"],u:"1f1ee-1f1f4",a:"2.0"},{n:["flag-iq","iraq flag"],u:"1f1ee-1f1f6",a:"2.0"},{n:["flag-ir","iran flag"],u:"1f1ee-1f1f7",a:"2.0"},{n:["flag-is","iceland flag"],u:"1f1ee-1f1f8",a:"2.0"},{n:["it","flag-it","italy flag"],u:"1f1ee-1f1f9",a:"0.6"},{n:["flag-je","jersey flag"],u:"1f1ef-1f1ea",a:"2.0"},{n:["flag-jm","jamaica flag"],u:"1f1ef-1f1f2",a:"2.0"},{n:["flag-jo","jordan flag"],u:"1f1ef-1f1f4",a:"2.0"},{n:["jp","flag-jp","japan flag"],u:"1f1ef-1f1f5",a:"0.6"},{n:["flag-ke","kenya flag"],u:"1f1f0-1f1ea",a:"2.0"},{n:["flag-kg","kyrgyzstan flag"],u:"1f1f0-1f1ec",a:"2.0"},{n:["flag-kh","cambodia flag"],u:"1f1f0-1f1ed",a:"2.0"},{n:["flag-ki","kiribati flag"],u:"1f1f0-1f1ee",a:"2.0"},{n:["flag-km","comoros flag"],u:"1f1f0-1f1f2",a:"2.0"},{n:["flag-kn","st. kitts & nevis flag"],u:"1f1f0-1f1f3",a:"2.0"},{n:["flag-kp","north korea flag"],u:"1f1f0-1f1f5",a:"2.0"},{n:["kr","flag-kr","south korea flag"],u:"1f1f0-1f1f7",a:"0.6"},{n:["flag-kw","kuwait flag"],u:"1f1f0-1f1fc",a:"2.0"},{n:["flag-ky","cayman islands flag"],u:"1f1f0-1f1fe",a:"2.0"},{n:["flag-kz","kazakhstan flag"],u:"1f1f0-1f1ff",a:"2.0"},{n:["flag-la","laos flag"],u:"1f1f1-1f1e6",a:"2.0"},{n:["flag-lb","lebanon flag"],u:"1f1f1-1f1e7",a:"2.0"},{n:["flag-lc","st. lucia flag"],u:"1f1f1-1f1e8",a:"2.0"},{n:["flag-li","liechtenstein flag"],u:"1f1f1-1f1ee",a:"2.0"},{n:["flag-lk","sri lanka flag"],u:"1f1f1-1f1f0",a:"2.0"},{n:["flag-lr","liberia flag"],u:"1f1f1-1f1f7",a:"2.0"},{n:["flag-ls","lesotho flag"],u:"1f1f1-1f1f8",a:"2.0"},{n:["flag-lt","lithuania flag"],u:"1f1f1-1f1f9",a:"2.0"},{n:["flag-lu","luxembourg flag"],u:"1f1f1-1f1fa",a:"2.0"},{n:["flag-lv","latvia flag"],u:"1f1f1-1f1fb",a:"2.0"},{n:["flag-ly","libya flag"],u:"1f1f1-1f1fe",a:"2.0"},{n:["flag-ma","morocco flag"],u:"1f1f2-1f1e6",a:"2.0"},{n:["flag-mc","monaco flag"],u:"1f1f2-1f1e8",a:"2.0"},{n:["flag-md","moldova flag"],u:"1f1f2-1f1e9",a:"2.0"},{n:["flag-me","montenegro flag"],u:"1f1f2-1f1ea",a:"2.0"},{n:["flag-mf","st. martin flag"],u:"1f1f2-1f1eb",a:"2.0"},{n:["flag-mg","madagascar flag"],u:"1f1f2-1f1ec",a:"2.0"},{n:["flag-mh","marshall islands flag"],u:"1f1f2-1f1ed",a:"2.0"},{n:["flag-mk","north macedonia flag"],u:"1f1f2-1f1f0",a:"2.0"},{n:["flag-ml","mali flag"],u:"1f1f2-1f1f1",a:"2.0"},{n:["flag-mm","myanmar (burma) flag"],u:"1f1f2-1f1f2",a:"2.0"},{n:["flag-mn","mongolia flag"],u:"1f1f2-1f1f3",a:"2.0"},{n:["flag-mo","macao sar china flag"],u:"1f1f2-1f1f4",a:"2.0"},{n:["flag-mp","northern mariana islands flag"],u:"1f1f2-1f1f5",a:"2.0"},{n:["flag-mq","martinique flag"],u:"1f1f2-1f1f6",a:"2.0"},{n:["flag-mr","mauritania flag"],u:"1f1f2-1f1f7",a:"2.0"},{n:["flag-ms","montserrat flag"],u:"1f1f2-1f1f8",a:"2.0"},{n:["flag-mt","malta flag"],u:"1f1f2-1f1f9",a:"2.0"},{n:["flag-mu","mauritius flag"],u:"1f1f2-1f1fa",a:"2.0"},{n:["flag-mv","maldives flag"],u:"1f1f2-1f1fb",a:"2.0"},{n:["flag-mw","malawi flag"],u:"1f1f2-1f1fc",a:"2.0"},{n:["flag-mx","mexico flag"],u:"1f1f2-1f1fd",a:"2.0"},{n:["flag-my","malaysia flag"],u:"1f1f2-1f1fe",a:"2.0"},{n:["flag-mz","mozambique flag"],u:"1f1f2-1f1ff",a:"2.0"},{n:["flag-na","namibia flag"],u:"1f1f3-1f1e6",a:"2.0"},{n:["flag-nc","new caledonia flag"],u:"1f1f3-1f1e8",a:"2.0"},{n:["flag-ne","niger flag"],u:"1f1f3-1f1ea",a:"2.0"},{n:["flag-nf","norfolk island flag"],u:"1f1f3-1f1eb",a:"2.0"},{n:["flag-ng","nigeria flag"],u:"1f1f3-1f1ec",a:"2.0"},{n:["flag-ni","nicaragua flag"],u:"1f1f3-1f1ee",a:"2.0"},{n:["flag-nl","netherlands flag"],u:"1f1f3-1f1f1",a:"2.0"},{n:["flag-no","norway flag"],u:"1f1f3-1f1f4",a:"2.0"},{n:["flag-np","nepal flag"],u:"1f1f3-1f1f5",a:"2.0"},{n:["flag-nr","nauru flag"],u:"1f1f3-1f1f7",a:"2.0"},{n:["flag-nu","niue flag"],u:"1f1f3-1f1fa",a:"2.0"},{n:["flag-nz","new zealand flag"],u:"1f1f3-1f1ff",a:"2.0"},{n:["flag-om","oman flag"],u:"1f1f4-1f1f2",a:"2.0"},{n:["flag-pa","panama flag"],u:"1f1f5-1f1e6",a:"2.0"},{n:["flag-pe","peru flag"],u:"1f1f5-1f1ea",a:"2.0"},{n:["flag-pf","french polynesia flag"],u:"1f1f5-1f1eb",a:"2.0"},{n:["flag-pg","papua new guinea flag"],u:"1f1f5-1f1ec",a:"2.0"},{n:["flag-ph","philippines flag"],u:"1f1f5-1f1ed",a:"2.0"},{n:["flag-pk","pakistan flag"],u:"1f1f5-1f1f0",a:"2.0"},{n:["flag-pl","poland flag"],u:"1f1f5-1f1f1",a:"2.0"},{n:["flag-pm","st. pierre & miquelon flag"],u:"1f1f5-1f1f2",a:"2.0"},{n:["flag-pn","pitcairn islands flag"],u:"1f1f5-1f1f3",a:"2.0"},{n:["flag-pr","puerto rico flag"],u:"1f1f5-1f1f7",a:"2.0"},{n:["flag-ps","palestinian territories flag"],u:"1f1f5-1f1f8",a:"2.0"},{n:["flag-pt","portugal flag"],u:"1f1f5-1f1f9",a:"2.0"},{n:["flag-pw","palau flag"],u:"1f1f5-1f1fc",a:"2.0"},{n:["flag-py","paraguay flag"],u:"1f1f5-1f1fe",a:"2.0"},{n:["flag-qa","qatar flag"],u:"1f1f6-1f1e6",a:"2.0"},{n:["flag-re","réunion flag"],u:"1f1f7-1f1ea",a:"2.0"},{n:["flag-ro","romania flag"],u:"1f1f7-1f1f4",a:"2.0"},{n:["flag-rs","serbia flag"],u:"1f1f7-1f1f8",a:"2.0"},{n:["ru","flag-ru","russia flag"],u:"1f1f7-1f1fa",a:"0.6"},{n:["flag-rw","rwanda flag"],u:"1f1f7-1f1fc",a:"2.0"},{n:["flag-sa","saudi arabia flag"],u:"1f1f8-1f1e6",a:"2.0"},{n:["flag-sb","solomon islands flag"],u:"1f1f8-1f1e7",a:"2.0"},{n:["flag-sc","seychelles flag"],u:"1f1f8-1f1e8",a:"2.0"},{n:["flag-sd","sudan flag"],u:"1f1f8-1f1e9",a:"2.0"},{n:["flag-se","sweden flag"],u:"1f1f8-1f1ea",a:"2.0"},{n:["flag-sg","singapore flag"],u:"1f1f8-1f1ec",a:"2.0"},{n:["flag-sh","st. helena flag"],u:"1f1f8-1f1ed",a:"2.0"},{n:["flag-si","slovenia flag"],u:"1f1f8-1f1ee",a:"2.0"},{n:["flag-sj","svalbard & jan mayen flag"],u:"1f1f8-1f1ef",a:"2.0"},{n:["flag-sk","slovakia flag"],u:"1f1f8-1f1f0",a:"2.0"},{n:["flag-sl","sierra leone flag"],u:"1f1f8-1f1f1",a:"2.0"},{n:["flag-sm","san marino flag"],u:"1f1f8-1f1f2",a:"2.0"},{n:["flag-sn","senegal flag"],u:"1f1f8-1f1f3",a:"2.0"},{n:["flag-so","somalia flag"],u:"1f1f8-1f1f4",a:"2.0"},{n:["flag-sr","suriname flag"],u:"1f1f8-1f1f7",a:"2.0"},{n:["flag-ss","south sudan flag"],u:"1f1f8-1f1f8",a:"2.0"},{n:["flag-st","são tomé & príncipe flag"],u:"1f1f8-1f1f9",a:"2.0"},{n:["flag-sv","el salvador flag"],u:"1f1f8-1f1fb",a:"2.0"},{n:["flag-sx","sint maarten flag"],u:"1f1f8-1f1fd",a:"2.0"},{n:["flag-sy","syria flag"],u:"1f1f8-1f1fe",a:"2.0"},{n:["flag-sz","eswatini flag"],u:"1f1f8-1f1ff",a:"2.0"},{n:["flag-ta","tristan da cunha flag"],u:"1f1f9-1f1e6",a:"2.0"},{n:["flag-tc","turks & caicos islands flag"],u:"1f1f9-1f1e8",a:"2.0"},{n:["flag-td","chad flag"],u:"1f1f9-1f1e9",a:"2.0"},{n:["flag-tf","french southern territories flag"],u:"1f1f9-1f1eb",a:"2.0"},{n:["flag-tg","togo flag"],u:"1f1f9-1f1ec",a:"2.0"},{n:["flag-th","thailand flag"],u:"1f1f9-1f1ed",a:"2.0"},{n:["flag-tj","tajikistan flag"],u:"1f1f9-1f1ef",a:"2.0"},{n:["flag-tk","tokelau flag"],u:"1f1f9-1f1f0",a:"2.0"},{n:["flag-tl","timor-leste flag"],u:"1f1f9-1f1f1",a:"2.0"},{n:["flag-tm","turkmenistan flag"],u:"1f1f9-1f1f2",a:"2.0"},{n:["flag-tn","tunisia flag"],u:"1f1f9-1f1f3",a:"2.0"},{n:["flag-to","tonga flag"],u:"1f1f9-1f1f4",a:"2.0"},{n:["flag-tr","turkey flag"],u:"1f1f9-1f1f7",a:"2.0"},{n:["flag-tt","trinidad & tobago flag"],u:"1f1f9-1f1f9",a:"2.0"},{n:["flag-tv","tuvalu flag"],u:"1f1f9-1f1fb",a:"2.0"},{n:["flag-tw","taiwan flag"],u:"1f1f9-1f1fc",a:"2.0"},{n:["flag-tz","tanzania flag"],u:"1f1f9-1f1ff",a:"2.0"},{n:["flag-ua","ukraine flag"],u:"1f1fa-1f1e6",a:"2.0"},{n:["flag-ug","uganda flag"],u:"1f1fa-1f1ec",a:"2.0"},{n:["flag-um","u.s. outlying islands flag"],u:"1f1fa-1f1f2",a:"2.0"},{n:["flag-un","united nations flag"],u:"1f1fa-1f1f3",a:"4.0"},{n:["us","flag-us","united states flag"],u:"1f1fa-1f1f8",a:"0.6"},{n:["flag-uy","uruguay flag"],u:"1f1fa-1f1fe",a:"2.0"},{n:["flag-uz","uzbekistan flag"],u:"1f1fa-1f1ff",a:"2.0"},{n:["flag-va","vatican city flag"],u:"1f1fb-1f1e6",a:"2.0"},{n:["flag-vc","st. vincent & grenadines flag"],u:"1f1fb-1f1e8",a:"2.0"},{n:["flag-ve","venezuela flag"],u:"1f1fb-1f1ea",a:"2.0"},{n:["flag-vg","british virgin islands flag"],u:"1f1fb-1f1ec",a:"2.0"},{n:["flag-vi","u.s. virgin islands flag"],u:"1f1fb-1f1ee",a:"2.0"},{n:["flag-vn","vietnam flag"],u:"1f1fb-1f1f3",a:"2.0"},{n:["flag-vu","vanuatu flag"],u:"1f1fb-1f1fa",a:"2.0"},{n:["flag-wf","wallis & futuna flag"],u:"1f1fc-1f1eb",a:"2.0"},{n:["flag-ws","samoa flag"],u:"1f1fc-1f1f8",a:"2.0"},{n:["flag-xk","kosovo flag"],u:"1f1fd-1f1f0",a:"2.0"},{n:["flag-ye","yemen flag"],u:"1f1fe-1f1ea",a:"2.0"},{n:["flag-yt","mayotte flag"],u:"1f1fe-1f1f9",a:"2.0"},{n:["flag-za","south africa flag"],u:"1f1ff-1f1e6",a:"2.0"},{n:["flag-zm","zambia flag"],u:"1f1ff-1f1f2",a:"2.0"},{n:["flag-zw","zimbabwe flag"],u:"1f1ff-1f1fc",a:"2.0"},{n:["england flag","flag-england"],u:"1f3f4-e0067-e0062-e0065-e006e-e0067-e007f",a:"5.0"},{n:["scotland flag","flag-scotland"],u:"1f3f4-e0067-e0062-e0073-e0063-e0074-e007f",a:"5.0"},{n:["wales flag","flag-wales"],u:"1f3f4-e0067-e0062-e0077-e006c-e0073-e007f",a:"5.0"}]},nG=[zW.NEUTRAL,zW.LIGHT,zW.MEDIUM_LIGHT,zW.MEDIUM,zW.MEDIUM_DARK,zW.DARK],aG=Object.entries(zW).reduce((function(e,t){var n=t[0];return e[t[1]]=n,e}),{}),rG=nG.reduce((function(e,t){var n;return Object.assign(e,((n={})[t]=t,n))}),{});(eG=XW||(XW={})).name="n",eG.unified="u",eG.variations="v",eG.added_in="a",eG.imgUrl="imgUrl";var iG={};function sG(e){oG(e).flat().join("").toLowerCase().replace(/[^a-zA-Z\d]/g,"").split("").forEach((function(t){var n;iG[t]=null!=(n=iG[t])?n:{},iG[t][dG(e)]=e}))}function oG(e){var t;return null!=(t=e[XW.name])?t:[]}function lG(e){return e?oG(e)[0]:""}function cG(e){var t=e.split("-"),n=t.splice(1,1)[0];return rG[n]?t.join("-"):e}function dG(e,t){var n,a=e[XW.unified];return t&&mG(e)&&null!=(n=function(e,t){return t?fG(e).find((function(e){return e.includes(t)})):dG(e)}(e,t))?n:a}function uG(e,t){return""+function(e){switch(e){case DW.TWITTER:return"https://cdn.jsdelivr.net/npm/emoji-datasource-twitter/img/twitter/64/";case DW.GOOGLE:return"https://cdn.jsdelivr.net/npm/emoji-datasource-google/img/google/64/";case DW.FACEBOOK:return"https://cdn.jsdelivr.net/npm/emoji-datasource-facebook/img/facebook/64/";case DW.APPLE:default:return"https://cdn.jsdelivr.net/npm/emoji-datasource-apple/img/apple/64/"}}(t)+e+".png"}function fG(e){var t;return null!=(t=e[XW.variations])?t:[]}function mG(e){return fG(e).length>0}function pG(e){if(e){if(xG[e])return xG[e];var t=cG(e);return xG[t]}}setTimeout((function(){hG.reduce((function(e,t){return sG(t),e}),iG)}));var hG=Object.values(tG).flat();function gG(e){tG[BW.CUSTOM].length=0,e.forEach((function(e){var t=function(e){var t;return(t={})[XW.name]=e.names.map((function(e){return e.toLowerCase()})),t[XW.unified]=e.id.toLowerCase(),t[XW.added_in]="0",t[XW.imgUrl]=e.imgUrl,t}(e);tG[BW.CUSTOM].push(t),xG[t[XW.unified]]||(hG.push(t),xG[t[XW.unified]]=t,sG(t))}))}var xG={};setTimeout((function(){hG.reduce((function(e,t){return e[dG(t)]=t,mG(t)&&fG(t).forEach((function(n){e[n]=t})),e}),xG)}));var yG=["2640-fe0f","2642-fe0f","2695-fe0f"],vG="Search",bG=" found. Use up and down arrow keys to navigate.",wG="1 result"+bG,jG="%n results"+bG;function NG(e){var t,n;void 0===e&&(e={});var a=CG(),r=Object.assign(a.previewConfig,null!=(t=e.previewConfig)?t:{}),i=Object.assign(a,e),s=function(e,t){var n;void 0===e&&(e=[]),void 0===t&&(t={});var a={};t.suggestionMode===AW.RECENT&&(a[BW.SUGGESTED]=YW);var r=QW(a);return null!=(n=e)&&n.length?e.map((function(e){return"string"==typeof e?KW(e,a[e]):vW({},KW(e.category,a[e.category]),e)})):r}(e.categories,{suggestionMode:i.suggestedEmojisMode});i.hiddenEmojis.forEach((function(e){i.unicodeToHide.add(e)})),gG(null!=(n=i.customEmojis)?n:[]);var o=i.searchDisabled?WW.PREVIEW:i.skinTonePickerLocation;return vW({},i,{categories:s,previewConfig:r,skinTonePickerLocation:o})}function CG(){return{autoFocusSearch:!0,categories:QW(),className:"",customEmojis:[],defaultSkinTone:zW.NEUTRAL,emojiStyle:DW.APPLE,emojiVersion:null,getEmojiUrl:uG,height:450,lazyLoadEmojis:!1,previewConfig:vW({},SG),searchDisabled:!1,searchPlaceHolder:vG,searchPlaceholder:vG,skinTonePickerLocation:WW.SEARCH,skinTonesDisabled:!1,style:{},suggestedEmojisMode:AW.FREQUENT,theme:OW.LIGHT,unicodeToHide:new Set(yG),width:350,reactionsDefaultOpen:!1,reactions:$W,open:!0,allowExpandReactions:!0,hiddenEmojis:[]}}var SG={defaultEmoji:"1f60a",defaultCaption:"What's your mood?",showPreview:!0},kG=["children"],MG=ci.createContext(CG());function _G(e){var t=e.children,n=function(e){var t,n=ci.useState((function(){return NG(e)})),a=n[0],r=n[1];return ci.useEffect((function(){LW(a,e)||r(NG(e))}),[null==(t=e.customEmojis)?void 0:t.length,e.open,e.emojiVersion,e.reactionsDefaultOpen,e.searchPlaceHolder,e.searchPlaceholder,e.defaultSkinTone,e.skinTonesDisabled,e.autoFocusSearch,e.emojiStyle,e.theme,e.suggestedEmojisMode,e.lazyLoadEmojis,e.className,e.height,e.width,e.searchDisabled,e.skinTonePickerLocation,e.allowExpandReactions]),a}(wW(e,kG));return ci.createElement(MG.Provider,{value:n},t)}function EG(){return ci.useContext(MG)}var IG,LG,AG=di.createContext({});function TG(){return di.useContext(AG)}function DG(){}function PG(){return EG().allowExpandReactions}function OG(){return EG().skinTonesDisabled}function RG(){return EG().emojiStyle}function zG(){return EG().categories}function FG(){return EG().previewConfig}function BG(){return EG().searchDisabled}function UG(){return EG().skinTonePickerLocation}function WG(){return EG().getEmojiUrl}function GG(e){return"number"==typeof e?e+"px":e}function VG(e,t){void 0===t&&(t=0);var n=ci.useState(e),a=n[0],r=n[1],i=ci.useRef(null);return[a,function(e){return new Promise((function(n){var a;i.current&&clearTimeout(i.current),i.current=null==(a=window)?void 0:a.setTimeout((function(){r(e),n(e)}),t)}))}]}function $G(){var e=EG().unicodeToHide;return function(t){return e.has(t)}}function HG(){var e=ci.useRef({}),t=EG().emojiVersion;return ci.useMemo((function(){var n=parseFloat(""+t);return!t||Number.isNaN(n)?e.current:hG.reduce((function(e,t){return function(e,t){return function(e){return parseFloat(e[XW.added_in])}(e)>t}(t,n)&&(e[dG(t)]=!0),e}),e.current)}),[t])}function YG(e){var t,n=e.children,a=HG(),r=EG().defaultSkinTone,i=EG().reactionsDefaultOpen,s=ci.useRef(iG),o=ci.useRef(!1),l=ci.useRef(!1),c=ci.useRef(a),d=VG(Date.now(),200),u=VG("",100),f=ci.useState(!1),m=ci.useState(r),p=ci.useState(null),h=ci.useState(new Set),g=ci.useState(null),x=ci.useState(i),y=ci.useState(!1),v=y[0],b=y[1];return t=b,ci.useEffect((function(){t(!0)}),[t]),ci.createElement(qG.Provider,{value:{activeCategoryState:p,activeSkinTone:m,disallowClickRef:o,disallowMouseRef:l,disallowedEmojisRef:c,emojiVariationPickerState:g,emojisThatFailedToLoadState:h,filterRef:s,isPastInitialLoad:v,searchTerm:u,skinToneFanOpenState:f,suggestedUpdateState:d,reactionsModeState:x}},n)}(LG=IG||(IG={})).REACTIONS="reactions",LG.PICKER="picker";var qG=ci.createContext({activeCategoryState:[null,function(){}],activeSkinTone:[zW.NEUTRAL,function(){}],disallowClickRef:{current:!1},disallowMouseRef:{current:!1},disallowedEmojisRef:{current:{}},emojiVariationPickerState:[null,function(){}],emojisThatFailedToLoadState:[new Set,function(){}],filterRef:{current:{}},isPastInitialLoad:!0,searchTerm:["",function(){return new Promise((function(){}))}],skinToneFanOpenState:[!1,function(){}],suggestedUpdateState:[Date.now(),function(){}],reactionsModeState:[!1,function(){}]});function QG(){return ci.useContext(qG).filterRef}function ZG(){return ci.useContext(qG).disallowMouseRef}function JG(){return ci.useContext(qG).reactionsModeState}function KG(){return ci.useContext(qG).searchTerm}function XG(){return ci.useContext(qG).activeSkinTone}function eV(){return ci.useContext(qG).emojisThatFailedToLoadState}function tV(){return ci.useContext(qG).emojiVariationPickerState}function nV(){return ci.useContext(qG).skinToneFanOpenState}function aV(){var e=ci.useContext(qG).suggestedUpdateState,t=e[0],n=e[1];return[t,function(){n(Date.now())}]}function rV(){return!!KG()[0]}function iV(e){e&&requestAnimationFrame((function(){e.focus()}))}function sV(e){e&&iV(e.previousElementSibling)}function oV(e){e&&iV(e.nextElementSibling)}function lV(e){e&&iV(e.firstElementChild)}function cV(){return document.activeElement}function dV(e){var t=e.children,n=ci.useRef(null),a=ci.useRef(null),r=ci.useRef(null),i=ci.useRef(null),s=ci.useRef(null),o=ci.useRef(null),l=ci.useRef(null),c=ci.useRef(null);return ci.createElement(mV.Provider,{value:{AnchoredEmojiRef:a,BodyRef:r,CategoryNavigationRef:o,PickerMainRef:n,SearchInputRef:i,SkinTonePickerRef:s,VariationPickerRef:l,ReactionsRef:c}},t)}var uV,fV,mV=ci.createContext({AnchoredEmojiRef:ci.createRef(),BodyRef:ci.createRef(),CategoryNavigationRef:ci.createRef(),PickerMainRef:ci.createRef(),SearchInputRef:ci.createRef(),SkinTonePickerRef:ci.createRef(),VariationPickerRef:ci.createRef(),ReactionsRef:ci.createRef()});function pV(){return ci.useContext(mV)}function hV(){return pV().PickerMainRef}function gV(){return pV().AnchoredEmojiRef}function xV(){var e=gV();return function(t){null===t&&null!==e.current&&iV(e.current),e.current=t}}function yV(){return pV().BodyRef}function vV(){return pV().SearchInputRef}function bV(){return pV().SkinTonePickerRef}function wV(){return pV().CategoryNavigationRef}function jV(e,t){void 0===t&&(t=0);var n=h$(e);n&&requestAnimationFrame((function(){n.scrollTop=t}))}function NV(e){if(e&&function(e){if(!e)return!1;return g$(e)<p$(A$(e))}(e)&&!e.closest(CW(cW.variationPicker))){var t=x$(e),n=g$(e);!function(e,t){var n=h$(e);n&&requestAnimationFrame((function(){n.scrollTop=n.scrollTop+t}))}(t,-(p$(A$(e))-n))}}function CV(e){var t=E$(e);iV(t),NV(t)}function SV(e){if(e){var t=M$(e);if(!t)return CV(L$(e));iV(t),NV(t)}}function kV(e){if(e){var t=_$(e);if(t)iV(t),NV(t);else iV(k$(I$(e)))}}function MV(e,t){if(e){var n=function(e){if(!e)return null;var t=T$(e),n=A$(t),a=a$(t,e),r=r$(t,e),i=n$(t,e);if(0===r){var s=I$(n);return s?s$(S$(s),-1,i,a):null}return o=S$(t),l=r,c=i,d=a,u=i$(o,l-1,c),u[d]||u[u.length-1]||null;var o,l,c,d,u}(e);if(!n)return t();iV(n),NV(n)}}function _V(e){if(e){var t=function(e){if(!e)return null;var t=T$(e),n=A$(t),a=a$(t,e),r=r$(t,e),i=n$(t,e);if(!function(e,t){if(!e||!t)return!1;var n=t.getBoundingClientRect().height,a=t.getBoundingClientRect().top,r=e.getBoundingClientRect().top,i=e.getBoundingClientRect().height;return Math.round(a-r+n)<i}(t,e)){var s=L$(n);return s?s$(S$(s),0,i,a):null}return o=S$(t),l=r,c=i,d=a,u=function(e,t,n){var a=t+1;return a*n>e.length?[]:i$(e,a,n)}(o,l,c),u[d]||u[u.length-1]||null;var o,l,c,d,u}(e);return iV(t)}}function EV(){var e=tV(),t=e[0],n=e[1],a=nV(),r=a[0],i=a[1];return ci.useCallback((function(){t&&n(null),r&&i(!1)}),[t,r,n,i])}function IV(){var e=tV()[0],t=nV()[0];return function(){return!!e||t}}function LV(){var e=ZG();return function(){e.current=!1}}function AV(){var e=ZG();return function(){return e.current}}function TV(){var e=vV();return ci.useCallback((function(){iV(e.current)}),[e])}function DV(){var e=wV();return ci.useCallback((function(){e.current&&lV(e.current)}),[e])}function PV(){var e=RV(),t=vV(),n=TV();return function(){t.current&&(t.current.value=""),e(""),n()}}function OV(){var e=vV(),t=QG(),n=function(){var e=QG();return function t(n){if("function"==typeof n)return t(n(e.current));e.current=n}}(),a=RV(),r=KG()[0],i=function(e,t){var n;if(null==e||!e[t])return"";var a=(null==(n=Object.entries(null==e?void 0:e[t]))?void 0:n.length)||0;return function(e){return e>0?e>1?jG.replace("%n",e.toString()):wG:"No results found"}(a)}(t.current,r);return{onChange:function(e){var r=t.current,i=e.toLowerCase();if(null!=r&&r[i]||i.length<=1)return a(i);var s=function(e,t){if(!t)return null;if(t[e])return t[e];var n=Object.keys(t).sort((function(e,t){return t.length-e.length})).find((function(t){return e.includes(t)}));if(n)return t[n];return null}(i,r);if(!s)return a(i);n((function(e){var t;return Object.assign(e,((t={})[i]=function(e,t){var n={};for(var a in e){var r=e[a];zV(r,t)&&(n[a]=r)}return n}(s,i),t))})),a(i)},searchTerm:r,SearchInputRef:e,statusSearchResults:i}}function RV(){var e=KG()[1],t=hV();return function(n){requestAnimationFrame((function(){e(n?null==n?void 0:n.toLowerCase():n).then((function(){jV(t.current,0)}))}))}}function zV(e,t){return oG(e).some((function(e){return e.includes(t)}))}function FV(e){return e&&"string"==typeof e?e.trim().toLowerCase():""}function BV(){var e=xV(),t=tV()[1];return function(n){var a=u$(n)[0];a&&(e(n),t(a))}}function UV(){return UG()===WW.SEARCH}function WV(){return UG()===WW.PREVIEW}function GV(){var e,t,n,a,r,i,s,o,l,c,d;e=hV(),t=PV(),d=yV(),n=ci.useCallback((function(e){requestAnimationFrame((function(){d.current&&(d.current.scrollTop=e)}))}),[d]),a=vV(),r=TV(),i=IV(),c=ZG(),s=function(){c.current=!0},o=EV(),l=ci.useMemo((function(){return function(e){var a=e.key;if(s(),a===uV.Escape){if(e.preventDefault(),i())return void o();t(),n(0),r()}}}),[n,t,o,r,i,s]),ci.useEffect((function(){var t=e.current;if(t)return t.addEventListener("keydown",l),function(){t.removeEventListener("keydown",l)}}),[e,a,n,l]),function(){var e=(l=bV(),ci.useCallback((function(){l.current&&lV(l.current)}),[l])),t=hV(),n=yV(),a=vV(),r=nV()[1],i=VV(),s=UV(),o=ci.useMemo((function(){return function(t){var a,o;switch(t.key){case uV.ArrowRight:if(!s)return;t.preventDefault(),r(!0),e();break;case uV.ArrowDown:t.preventDefault(),i();break;case uV.Enter:t.preventDefault(),a=n.current,iV(o=E$(a)),null==o||o.click()}}}),[e,i,r,n,s]);var l;ci.useEffect((function(){var e=a.current;if(e)return e.addEventListener("keydown",o),function(){e.removeEventListener("keydown",o)}}),[t,a,o])}(),function(){var e=bV(),t=TV(),n=vV(),a=VV(),r=nV(),i=r[0],s=r[1],o=WV(),l=UV(),c=YV(),d=ci.useMemo((function(){return function(e){var n=e.key;if(l)switch(n){case uV.ArrowLeft:if(e.preventDefault(),!i)return t();$V(t);break;case uV.ArrowRight:if(e.preventDefault(),!i)return t();HV();break;case uV.ArrowDown:e.preventDefault(),i&&s(!1),a();break;default:c(e)}if(o)switch(n){case uV.ArrowUp:if(e.preventDefault(),!i)return t();$V(t);break;case uV.ArrowDown:if(e.preventDefault(),!i)return t();HV();break;default:c(e)}}}),[i,t,s,a,c,o,l]);ci.useEffect((function(){var t=e.current;if(t)return t.addEventListener("keydown",d),function(){t.removeEventListener("keydown",d)}}),[e,n,i,d])}(),function(){var e=TV(),t=wV(),n=yV(),a=YV(),r=ci.useMemo((function(){return function(t){switch(t.key){case uV.ArrowUp:t.preventDefault(),e();break;case uV.ArrowRight:t.preventDefault(),oV(cV());break;case uV.ArrowLeft:t.preventDefault(),sV(cV());break;case uV.ArrowDown:t.preventDefault(),CV(n.current);break;default:a(t)}}}),[n,e,a]);ci.useEffect((function(){var e=t.current;if(e)return e.addEventListener("keydown",r),function(){e.removeEventListener("keydown",r)}}),[t,n,r])}(),function(){var e=yV(),t=function(){var e=TV(),t=DV(),n=rV();return ci.useCallback((function(){return n?e():t()}),[e,n,t])}(),n=BV(),a=IV(),r=EV(),i=YV(),s=ci.useMemo((function(){return function(e){var s=e.key,o=d$(cV());switch(s){case uV.ArrowRight:e.preventDefault(),SV(o);break;case uV.ArrowLeft:e.preventDefault(),kV(o);break;case uV.ArrowDown:if(e.preventDefault(),a()){r();break}_V(o);break;case uV.ArrowUp:if(e.preventDefault(),a()){r();break}MV(o,t);break;case uV.Space:e.preventDefault(),n(e.target);break;default:i(e)}}}),[t,i,n,a,r]);ci.useEffect((function(){var t=e.current;if(t)return t.addEventListener("keydown",s),function(){t.removeEventListener("keydown",s)}}),[e,s])}()}function VV(){var e=DV(),t=rV(),n=yV();return ci.useCallback((function(){return t?CV(n.current):e()}),[n,e,t])}function $V(e){var t=cV();t&&(t.nextElementSibling||e(),oV(t))}function HV(){var e=cV();e&&sV(e)}function YV(){var e,t,n=(e=vV(),t=RV(),function(n){e.current?(e.current.value=""+e.current.value+n,t(FV(e.current.value))):t(FV(n))}),a=TV(),r=BG(),i=EV();return function(e){var t=e.key;(function(e){var t=e.metaKey,n=e.ctrlKey,a=e.altKey;return t||n||a})(e)||r||t.match(/(^[a-zA-Z0-9]$){1}/)&&(e.preventDefault(),i(),a(),n(t))}}function qV(e,t,n){if(t&&n!==DW.NATIVE){var a=dG(t);QV.has(a)||(fG(t).forEach((function(t){var a,r=e(t,n);a=r,(new Image).src=a})),QV.add(a))}}(fV=uV||(uV={})).ArrowDown="ArrowDown",fV.ArrowUp="ArrowUp",fV.ArrowLeft="ArrowLeft",fV.ArrowRight="ArrowRight",fV.Escape="Escape",fV.Enter="Enter",fV.Space=" ";var QV=new Set;var ZV=["width","height"],JV=40;function KV(e){var t=e.children;return ci.createElement(YG,null,ci.createElement(XV,null,t))}function XV(e){var t,n,a,r,i=e.children,s=JG()[0],o=EG().theme,l=rV(),c=hV(),d=EG().className,u=function(){var e=EG(),t=e.height,n=e.width,a=e.style;return vW({height:GG(t),width:GG(n)},a)}();GV(),n=yV(),a=RG(),r=WG(),ci.useEffect((function(){if(a!==DW.NATIVE){var e=n.current;return null==e||e.addEventListener("focusin",t),function(){null==e||e.removeEventListener("focusin",t)}}function t(e){var t=d$(e.target);if(t){var n=u$(t)[0];n&&mG(n)&&qV(r,n,a)}}}),[n,a,r]);var f=u||{},m=f.width,p=f.height,h=wW(f,ZV);return ci.createElement("aside",{className:pW(t$.main,t$.baseVariables,o===OW.DARK&&t$.darkTheme,o===OW.AUTO&&t$.autoThemeDark,(t={},t[cW.searchActive]=l,t),s&&t$.reactionsMenu,d),ref:c,style:vW({},h,!s&&{height:p,width:m})},i)}var e$={"--epr-emoji-variation-picker-bg-color":"var(--epr-dark-emoji-variation-picker-bg-color)","--epr-hover-bg-color-reduced-opacity":"var(--epr-dark-hover-bg-color-reduced-opacity)","--epr-highlight-color":"var(--epr-dark-highlight-color)","--epr-text-color":"var(--epr-dark-text-color)","--epr-hover-bg-color":"var(--epr-dark-hover-bg-color)","--epr-focus-bg-color":"var(--epr-dark-focus-bg-color)","--epr-search-input-bg-color":"var(--epr-dark-search-input-bg-color)","--epr-category-label-bg-color":"var(--epr-dark-category-label-bg-color)","--epr-picker-border-color":"var(--epr-dark-picker-border-color)","--epr-bg-color":"var(--epr-dark-bg-color)","--epr-reactions-bg-color":"var(--epr-dark-reactions-bg-color)","--epr-search-input-bg-color-active":"var(--epr-dark-search-input-bg-color-active)","--epr-emoji-variation-indicator-color":"var(--epr-dark-emoji-variation-indicator-color)","--epr-category-icon-active-color":"var(--epr-dark-category-icon-active-color)","--epr-skin-tone-picker-menu-color":"var(--epr-dark-skin-tone-picker-menu-color)","--epr-skin-tone-outer-border-color":"var(--epr-dark-skin-tone-outer-border-color)","--epr-skin-tone-inner-border-color":"var(--epr-dark-skin-tone-inner-border-color)"},t$=SW.create({main:{".":["epr-main",cW.emojiPicker],position:"relative",display:"flex",flexDirection:"column",borderWidth:"1px",borderStyle:"solid",borderRadius:"var(--epr-picker-border-radius)",borderColor:"var(--epr-picker-border-color)",backgroundColor:"var(--epr-bg-color)",overflow:"hidden",transition:"all 0.3s ease-in-out, background-color 0.1s ease-in-out","*":{boxSizing:"border-box",fontFamily:"sans-serif"}},baseVariables:{"--":{"--epr-highlight-color":"#007aeb","--epr-hover-bg-color":"#e5f0fa","--epr-hover-bg-color-reduced-opacity":"#e5f0fa80","--epr-focus-bg-color":"#e0f0ff","--epr-text-color":"#858585","--epr-search-input-bg-color":"#f6f6f6","--epr-picker-border-color":"#e7e7e7","--epr-bg-color":"#fff","--epr-reactions-bg-color":"#ffffff90","--epr-category-icon-active-color":"#6aa8de","--epr-skin-tone-picker-menu-color":"#ffffff95","--epr-skin-tone-outer-border-color":"#555555","--epr-skin-tone-inner-border-color":"var(--epr-bg-color)","--epr-horizontal-padding":"10px","--epr-picker-border-radius":"8px","--epr-search-border-color":"var(--epr-highlight-color)","--epr-header-padding":"15px var(--epr-horizontal-padding)","--epr-active-skin-tone-indicator-border-color":"var(--epr-highlight-color)","--epr-active-skin-hover-color":"var(--epr-hover-bg-color)","--epr-search-input-bg-color-active":"var(--epr-search-input-bg-color)","--epr-search-input-padding":"0 30px","--epr-search-input-border-radius":"8px","--epr-search-input-height":"40px","--epr-search-input-text-color":"var(--epr-text-color)","--epr-search-input-placeholder-color":"var(--epr-text-color)","--epr-search-bar-inner-padding":"var(--epr-horizontal-padding)","--epr-category-navigation-button-size":"30px","--epr-emoji-variation-picker-height":"45px","--epr-emoji-variation-picker-bg-color":"var(--epr-bg-color)","--epr-preview-height":"70px","--epr-preview-text-size":"14px","--epr-preview-text-padding":"0 var(--epr-horizontal-padding)","--epr-preview-border-color":"var(--epr-picker-border-color)","--epr-preview-text-color":"var(--epr-text-color)","--epr-category-padding":"0 var(--epr-horizontal-padding)","--epr-category-label-bg-color":"#ffffffe6","--epr-category-label-text-color":"var(--epr-text-color)","--epr-category-label-padding":"0 var(--epr-horizontal-padding)","--epr-category-label-height":JV+"px","--epr-emoji-size":"30px","--epr-emoji-padding":"5px","--epr-emoji-fullsize":"calc(var(--epr-emoji-size) + var(--epr-emoji-padding) * 2)","--epr-emoji-hover-color":"var(--epr-hover-bg-color)","--epr-emoji-variation-indicator-color":"var(--epr-picker-border-color)","--epr-emoji-variation-indicator-color-hover":"var(--epr-text-color)","--epr-header-overlay-z-index":"3","--epr-emoji-variations-indictator-z-index":"1","--epr-category-label-z-index":"2","--epr-skin-variation-picker-z-index":"5","--epr-preview-z-index":"6","--epr-dark":"#000","--epr-dark-emoji-variation-picker-bg-color":"var(--epr-dark)","--epr-dark-highlight-color":"#c0c0c0","--epr-dark-text-color":"var(--epr-highlight-color)","--epr-dark-hover-bg-color":"#363636f6","--epr-dark-hover-bg-color-reduced-opacity":"#36363680","--epr-dark-focus-bg-color":"#474747","--epr-dark-search-input-bg-color":"#333333","--epr-dark-category-label-bg-color":"#222222e6","--epr-dark-picker-border-color":"#151617","--epr-dark-bg-color":"#222222","--epr-dark-reactions-bg-color":"#22222290","--epr-dark-search-input-bg-color-active":"var(--epr-dark)","--epr-dark-emoji-variation-indicator-color":"#444","--epr-dark-category-icon-active-color":"#3271b7","--epr-dark-skin-tone-picker-menu-color":"#22222295","--epr-dark-skin-tone-outer-border-color":"var(--epr-dark-picker-border-color)","--epr-dark-skin-tone-inner-border-color":"#FFFFFF"}},autoThemeDark:{".":cW.autoTheme,"@media (prefers-color-scheme: dark)":{"--":e$}},darkTheme:{".":cW.darkTheme,"--":e$},reactionsMenu:{".":"epr-reactions",height:"50px",display:"inline-flex",backgroundColor:"var(--epr-reactions-bg-color)",backdropFilter:"blur(8px)","--":{"--epr-picker-border-radius":"50px"}}});function n$(e,t){if(!e||!t)return 0;var n=e.getBoundingClientRect().width,a=t.getBoundingClientRect().width;return Math.floor(n/a)}function a$(e,t){if(!e||!t)return 0;var n=t.getBoundingClientRect().width,a=t.getBoundingClientRect().left,r=e.getBoundingClientRect().left;return Math.floor((a-r)/n)}function r$(e,t){if(!e||!t)return 0;var n=t.getBoundingClientRect().height,a=t.getBoundingClientRect().top,r=e.getBoundingClientRect().top;return Math.round((a-r)/n)}function i$(e,t,n){if(-1===t){var a=Math.floor((e.length-1)/n)*n,r=e.length-1;return e.slice(a,r+1)}return e.slice(t*n,(t+1)*n)}function s$(e,t,n,a){var r=i$(e,t,n);return r[a]||r[r.length-1]||null}function o$(e,t,n){if(!e||!t.length)return null;var a=e.getBoundingClientRect().top,r=e.getBoundingClientRect().bottom,i=a+function(e){for(var t=Array.from(e.querySelectorAll(CW(cW.label))),n=0,a=t;n<a.length;n++){var r=a[n].getBoundingClientRect().height;if(r>0)return r}return JV}(e);return t.find((function(e){var t=e.getBoundingClientRect().top,s=e.getBoundingClientRect().bottom,o=e.clientHeight*n,l=t+o,c=s-o;return!(l<i)&&(l>=a&&l<=r||c>=a&&c<=r)}))||null}var l$="button"+CW(cW.emoji),c$=[l$,CW(cW.visible),":not("+CW(cW.hidden)+")"].join("");function d$(e){var t;return null!=(t=null==e?void 0:e.closest(l$))?t:null}function u$(e){var t=w$(e),n=b$(e);if(!t)return[];var a=pG(null!=n?n:t);return a?[a,n]:[]}function f$(e){var t;return null!=(t=null==e?void 0:e.clientHeight)?t:0}function m$(e){if(!e)return 0;var t=d$(e),n=A$(t),a=p$(n);return y$(t)+y$(n)+a}function p$(e){var t,n;if(!e)return 0;var a=e.querySelector(CW(cW.categoryContent));return(null!=(t=null==e?void 0:e.clientHeight)?t:0)-(null!=(n=null==a?void 0:a.clientHeight)?n:0)}function h$(e){return e?e.matches(CW(cW.scrollBody))?e:e.querySelector(CW(cW.scrollBody)):null}function g$(e){var t,n;return e?m$(e)-(null!=(t=null==(n=x$(e))?void 0:n.scrollTop)?t:0):0}function x$(e){var t;return e&&null!=(t=e.closest(CW(cW.scrollBody)))?t:null}function y$(e){var t;return null!=(t=null==e?void 0:e.offsetTop)?t:0}function v$(e){var t;return null!=(t=null==e?void 0:e.offsetLeft)?t:0}function b$(e){var t,n,a,r;return null!=(n=d$(e),a="unified",t=null!=(r=function(e){var t;return null!=(t=null==e?void 0:e.dataset)?t:{}}(n)[a])?r:null)?t:null}function w$(e){var t=b$(e);return t?cG(t):null}function j$(e){return e?{unified:b$(e),originalUnified:w$(e)}:{unified:null,originalUnified:null}}function N$(e){return e.classList.contains(cW.visible)}function C$(e){return!e||e.classList.contains(cW.hidden)}function S$(e){return e?Array.from(e.querySelectorAll(c$)):[]}function k$(e){if(!e)return null;var t=S$(e).slice(-1)[0];return t?N$(t)?t:_$(t):null}function M$(e){var t=e.nextElementSibling;return t?N$(t)?t:M$(t):E$(L$(e))}function _$(e){var t=e.previousElementSibling;return t?N$(t)?t:_$(t):k$(I$(e))}function E$(e){return e?o$(e,S$(e),.1):null}function I$(e){var t=A$(e);if(!t)return null;var n=t.previousElementSibling;return n?C$(n)?I$(n):n:null}function L$(e){var t=A$(e);if(!t)return null;var n=t.nextElementSibling;return n?C$(n)?L$(n):n:null}function A$(e){return e?e.closest(CW(cW.category)):null}function T$(e){return e?e.closest(CW(cW.categoryContent)):null}function D$(e){return e.split("-").map((function(e){return String.fromCodePoint(parseInt(e,16))})).join("")}var P$="epr_suggested";function O$(e){try{var t,n,a;if(null==(t=window)||!t.localStorage)return[];var r=JSON.parse(null!=(n=null==(a=window)?void 0:a.localStorage.getItem(P$))?n:"[]");return e===AW.FREQUENT?r.sort((function(e,t){return t.count-e.count})):r}catch(i){return[]}}function R$(e){return void 0!==e.imgUrl}function z$(e,t){var n=ci.useRef(),a=BV(),r=ci.useContext(qG).disallowClickRef,i=tV()[1],s=EV(),o=XG()[0],l=function(e){var t,n=TG().current;return(null!=(t=e===IG.REACTIONS?n.onReactionClick:n.onEmojiClick)?t:n.onEmojiClick)||function(){}}(t),c=aV()[1],d=WG(),u=RG(),f=ci.useCallback((function(e){if(!r.current){s();var t=F$(e),n=t[0],a=t[1];if(n&&a){var i=function(e){var t=e.split("-")[1];return nG.includes(t)?t:null}(a)||o;c(),function(e,t){var n,a=O$(),r=dG(e,t),i=dG(e),s=a.find((function(e){return e.unified===r}));n=s?[s].concat(a.filter((function(e){return e!==s}))):[s={unified:r,original:i,count:0}].concat(a),s.count++,n.length=Math.min(n.length,14);try{var o;null==(o=window)||o.localStorage.setItem(P$,JSON.stringify(n))}catch(l){}}(n,i),l(function(e,t,n,a){var r=oG(e);if(R$(e)){var i=dG(e);return{activeSkinTone:t,emoji:i,getImageUrl:function(){return e.imgUrl},imageUrl:e.imgUrl,isCustom:!0,names:r,unified:i,unifiedWithoutSkinTone:i}}var s=dG(e,t);return{activeSkinTone:t,emoji:D$(s),getImageUrl:function(e){return void 0===e&&(e=null!=n?n:DW.APPLE),a(s,e)},imageUrl:a(s,null!=n?n:DW.APPLE),isCustom:!1,names:r,unified:s,unifiedWithoutSkinTone:dG(e)}}(n,i,u,d),e)}}}),[o,s,r,l,c,d,u]),m=ci.useCallback((function(e){var t;n.current&&clearTimeout(n.current);var o=F$(e)[0];o&&mG(o)&&(n.current=null==(t=window)?void 0:t.setTimeout((function(){r.current=!0,n.current=void 0,s(),a(e.target),i(o)}),500))}),[r,s,a,i]),p=ci.useCallback((function(){n.current?(clearTimeout(n.current),n.current=void 0):r.current&&requestAnimationFrame((function(){r.current=!1}))}),[r]);ci.useEffect((function(){if(e.current){var t=e.current;return t.addEventListener("click",f,{passive:!0}),t.addEventListener("mousedown",m,{passive:!0}),t.addEventListener("mouseup",p,{passive:!0}),function(){null==t||t.removeEventListener("click",f),null==t||t.removeEventListener("mousedown",m),null==t||t.removeEventListener("mouseup",p)}}}),[e,f,m,p])}function F$(e){var t,n,a=null==e?void 0:e.target;return t=a,Boolean((null==t?void 0:t.matches(l$))||(null==t||null==(n=t.parentElement)?void 0:n.matches(l$)))?u$(a):[]}function B$(e){return ci.createElement("button",Object.assign({type:"button"},e,{className:pW(U$.button,e.className)}),e.children)}var U$=SW.create({button:{".":"epr-btn",cursor:"pointer",border:"0",background:"none",outline:"none"}});function W$(e){var t,n=e.emojiNames,a=e.unified,r=e.hidden,i=e.hiddenOnSearch,s=e.showVariations,o=void 0===s||s,l=e.hasVariations,c=e.children,d=e.className,u=e.noBackground,f=void 0!==u&&u;return ci.createElement(B$,{className:pW(V$.emoji,r&&MW.hidden,i&&EW.hiddenOnSearch,(t={},t[cW.visible]=!r&&!i,t),!(!l||!o)&&V$.hasVariations,f&&V$.noBackground,d),"data-unified":a,"aria-label":G$(n),"data-full-name":n},c)}function G$(e){var t;return e[0].match("flag-")&&null!=(t=e[1])?t:e[0]}var V$=SW.create({emoji:{".":cW.emoji,position:"relative",width:"var(--epr-emoji-fullsize)",height:"var(--epr-emoji-fullsize)",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center",maxWidth:"var(--epr-emoji-fullsize)",maxHeight:"var(--epr-emoji-fullsize)",borderRadius:"8px",overflow:"hidden",transition:"background-color 0.2s",":hover":{backgroundColor:"var(--epr-emoji-hover-color)"},":focus":{backgroundColor:"var(--epr-focus-bg-color)"}},noBackground:{background:"none",":hover":{backgroundColor:"transparent",background:"none"},":focus":{backgroundColor:"transparent",background:"none"}},hasVariations:{".":cW.emojiHasVariations,":after":{content:"",display:"block",width:"0",height:"0",right:"0px",bottom:"1px",position:"absolute",borderLeft:"4px solid transparent",borderRight:"4px solid transparent",transform:"rotate(135deg)",borderBottom:"4px solid var(--epr-emoji-variation-indicator-color)",zIndex:"var(--epr-emoji-variations-indictator-z-index)"},":hover:after":{borderBottom:"4px solid var(--epr-emoji-variation-indicator-color-hover)"}}}),$$=SW.create({external:{".":cW.external,fontSize:"0"},common:{alignSelf:"center",justifySelf:"center",display:"block"}});function H$(e){var t=e.emojiName,n=e.style,a=e.lazyLoad,r=void 0!==a&&a,i=e.imgUrl,s=e.onError,o=e.className;return ci.createElement("img",{src:i,alt:t,className:pW(Y$.emojiImag,$$.external,$$.common,o),loading:r?"lazy":"eager",onError:s,style:n})}var Y$=SW.create({emojiImag:{".":"epr-emoji-img",maxWidth:"var(--epr-emoji-fullsize)",maxHeight:"var(--epr-emoji-fullsize)",minWidth:"var(--epr-emoji-fullsize)",minHeight:"var(--epr-emoji-fullsize)",padding:"var(--epr-emoji-padding)"}});function q$(e){var t=e.unified,n=e.style,a=e.className;return ci.createElement("span",{className:pW(Q$.nativeEmoji,$$.common,$$.external,a),"data-unified":t,style:n},D$(t))}var Q$=SW.create({nativeEmoji:{".":"epr-emoji-native",fontFamily:'"Segoe UI Emoji", "Segoe UI Symbol", "Segoe UI", "Apple Color Emoji", "Twemoji Mozilla", "Noto Color Emoji", "EmojiOne Color", "Android Emoji"!important',position:"relative",lineHeight:"100%",fontSize:"var(--epr-emoji-size)",textAlign:"center",alignSelf:"center",justifySelf:"center",letterSpacing:"0",padding:"var(--epr-emoji-padding)"}});function Z$(e){var t=e.emoji,n=e.unified,a=e.emojiStyle,r=e.size,i=e.lazyLoad,s=e.getEmojiUrl,o=void 0===s?uG:s,l=e.className,c=eV()[1],d={};r&&(d.width=d.height=d.fontSize=r+"px");var u=t||pG(n);return u?R$(u)?ci.createElement(H$,{style:d,emojiName:n,emojiStyle:DW.NATIVE,lazyLoad:i,imgUrl:u.imgUrl,onError:f,className:l}):ci.createElement(ci.Fragment,null,a===DW.NATIVE?ci.createElement(q$,{unified:n,style:d,className:l}):ci.createElement(H$,{style:d,emojiName:lG(u),emojiStyle:a,lazyLoad:i,imgUrl:o(n,a),onError:f,className:l})):null;function f(){c((function(e){return new Set(e).add(n)}))}}function J$(e){var t=e.emoji,n=e.unified,a=e.hidden,r=e.hiddenOnSearch,i=e.emojiStyle,s=e.showVariations,o=void 0===s||s,l=e.size,c=e.lazyLoad,d=e.getEmojiUrl,u=e.className,f=e.noBackground,m=void 0!==f&&f,p=mG(t);return ci.createElement(W$,{hasVariations:p,showVariations:o,hidden:a,hiddenOnSearch:r,emojiNames:oG(t),unified:n,noBackground:m},ci.createElement(Z$,{unified:n,emoji:t,size:l,emojiStyle:i,lazyLoad:c,getEmojiUrl:d,className:u}))}function K$(){var e=JG()[1];return ci.createElement(B$,{"aria-label":"Show all Emojis",title:"Show all Emojis",tabIndex:0,className:pW(X$.plusSign),onClick:function(){return e(!1)}})}var X$=SW.create(vW({plusSign:{fontSize:"20px",padding:"17px",color:"var(--epr-text-color)",borderRadius:"50%",textAlign:"center",lineHeight:"100%",width:"20px",height:"20px",display:"flex",justifyContent:"center",alignItems:"center",transition:"background-color 0.2s ease-in-out",":after":{content:"",minWidth:"20px",minHeight:"20px",backgroundImage:"url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI4LjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjgwcHgiIHZpZXdCb3g9IjAgMCAyMCA4MCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgODAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBmaWxsPSIjODY4Njg2IiBkPSJNNS43LDEwLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40QzYsMTAuOSw2LjEsMTEsNi4zLDExaDMuNHYzLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40CgljMC4xLDAuMSwwLjIsMC4yLDAuNCwwLjJjMC4zLDAsMC41LTAuMiwwLjUtMC41di0zLjRoMy40YzAuMywwLDAuNS0wLjIsMC41LTAuNXMtMC4yLTAuNS0wLjUtMC41aC0zLjRWNi43YzAtMC4zLTAuMi0wLjUtMC41LTAuNQoJQzkuOCw2LDkuNiw2LjIsOS42LDYuNXYzLjRINi4yQzUuOSw5LjksNS43LDEwLjEsNS43LDEwLjRMNS43LDEwLjR6Ii8+CjxwYXRoIGZpbGw9IiMzMzcxQjciIGQ9Ik01LjcsMzAuNGMwLDAuMSwwLjEsMC4zLDAuMiwwLjRTNi4xLDMxLDYuMywzMWgzLjR2My40YzAsMC4xLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMiwwLjIsMC40LDAuMgoJYzAuMywwLDAuNS0wLjIsMC41LTAuNXYtMy40aDMuNGMwLjMsMCwwLjUtMC4yLDAuNS0wLjVzLTAuMi0wLjUtMC41LTAuNWgtMy40di0zLjRjMC0wLjMtMC4yLTAuNS0wLjUtMC41cy0wLjUsMC4yLTAuNSwwLjV2My40SDYuMgoJQzUuOSwyOS45LDUuNywzMC4xLDUuNywzMC40TDUuNywzMC40eiIvPgo8cGF0aCBmaWxsPSIjQzBDMEJGIiBkPSJNNS43LDUwLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40QzYsNTAuOSw2LjEsNTEsNi4zLDUxaDMuNHYzLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40CgljMC4xLDAuMSwwLjIsMC4yLDAuNCwwLjJjMC4zLDAsMC41LTAuMiwwLjUtMC41di0zLjRoMy40YzAuMywwLDAuNS0wLjIsMC41LTAuNXMtMC4yLTAuNS0wLjUtMC41aC0zLjR2LTMuNGMwLTAuMy0wLjItMC41LTAuNS0wLjUKCXMtMC41LDAuMi0wLjUsMC41djMuNEg2LjJDNS45LDQ5LjksNS43LDUwLjEsNS43LDUwLjRMNS43LDUwLjR6Ii8+CjxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik01LjcsNzAuNGMwLDAuMSwwLjEsMC4zLDAuMiwwLjRTNi4xLDcxLDYuMyw3MWgzLjR2My40YzAsMC4xLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMiwwLjIsMC40LDAuMgoJYzAuMywwLDAuNS0wLjIsMC41LTAuNXYtMy40aDMuNGMwLjMsMCwwLjUtMC4yLDAuNS0wLjVzLTAuMi0wLjUtMC41LTAuNWgtMy40di0zLjRjMC0wLjMtMC4yLTAuNS0wLjUtMC41cy0wLjUsMC4yLTAuNSwwLjV2My40SDYuNAoJQzUuOSw2OS45LDUuNyw3MC4xLDUuNyw3MC40TDUuNyw3MC40eiIvPgo8L3N2Zz4=)",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundSize:"20px",backgroundPositionY:"0"},":hover":{color:"var(--epr-highlight-color)",backgroundColor:"var(--epr-hover-bg-color-reduced-opacity)",":after":{backgroundPositionY:"-20px"}},":focus":{color:"var(--epr-highlight-color)",backgroundColor:"var(--epr-hover-bg-color-reduced-opacity)",":after":{backgroundPositionY:"-40px"}}}},IW("plusSign",{":after":{backgroundPositionY:"-40px"},":hover:after":{backgroundPositionY:"-60px"}})));function eH(){var e=JG()[0],t=pV().ReactionsRef,n=EG().reactions;z$(t,IG.REACTIONS);var a=RG(),r=PG(),i=WG();return e?ci.createElement("ul",{className:pW(tH.list,!e&&MW.hidden),ref:t},n.map((function(e){return ci.createElement("li",{key:e},ci.createElement(J$,{emoji:pG(e),emojiStyle:a,unified:e,showVariations:!1,className:pW(tH.emojiButton),noBackground:!0,getEmojiUrl:i}))})),r?ci.createElement("li",null,ci.createElement(K$,null)):null):null}var tH=SW.create({list:{listStyle:"none",margin:"0",padding:"0 5px",display:"flex",justifyContent:"space-between",alignItems:"center",height:"100%"},emojiButton:{":hover":{transform:"scale(1.2)"},":focus":{transform:"scale(1.2)"},":active":{transform:"scale(1.1)"},transition:"transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.5)"}});function nH(){var e,t,n=eV()[0],a=(e=QG().current,t=KG()[0],function(n){return function(e,t,n){var a;return!(!t||!n||null!=(a=t[n])&&a[e])}(n,e,t)});return function(e){var t=dG(e),r=n.has(t),i=a(t);return{failedToLoad:r,filteredOut:i,hidden:r||i}}}function aH(e){var t=e.categoryConfig,n=e.children,a=e.hidden,r=e.hiddenOnSearch,i=ZW(t),s=JW(t);return ci.createElement("li",{className:pW(rH.category,a&&MW.hidden,r&&EW.hiddenOnSearch),"data-name":i,"aria-label":s},ci.createElement("h2",{className:pW(rH.label)},s),ci.createElement("div",{className:pW(rH.categoryContent)},n))}var rH=SW.create({category:{".":cW.category,":not(:has(.epr-visible))":{display:"none"}},categoryContent:{".":cW.categoryContent,display:"grid",gridGap:"0",gridTemplateColumns:"repeat(auto-fill, var(--epr-emoji-fullsize))",justifyContent:"space-between",margin:"var(--epr-category-padding)",position:"relative"},label:{".":cW.label,alignItems:"center",backdropFilter:"blur(3px)",backgroundColor:"var(--epr-category-label-bg-color)",color:"var(--epr-category-label-text-color)",display:"flex",fontSize:"16px",fontWeight:"bold",height:"var(--epr-category-label-height)",margin:"0",padding:"var(--epr-category-label-padding)",position:"sticky",textTransform:"capitalize",top:"0",width:"100%",zIndex:"var(--epr-category-label-z-index)"}}),iH=!1;function sH(e){var t=e.categoryConfig,n=aV()[0],a=function(){var e=ci.useState(iH),t=e[0],n=e[1];return ci.useEffect((function(){n(!0),iH=!0}),[]),t||iH}(),r=EG().suggestedEmojisMode,i=WG(),s=ci.useMemo((function(){var e;return null!=(e=O$(r))?e:[]}),[n,r]),o=RG();return a?ci.createElement(aH,{categoryConfig:t,hiddenOnSearch:!0,hidden:0===s.length},s.map((function(e){var t=pG(e.original);return t?ci.createElement(J$,{showVariations:!1,unified:e.unified,emojiStyle:o,emoji:t,key:e.unified,getEmojiUrl:i}):null}))):null}function oH(){var e=zG(),t=ci.useRef(0);return ci.createElement("ul",{className:pW(uH.emojiList)},e.map((function(e){var n=ZW(e);return n===BW.SUGGESTED?ci.createElement(sH,{key:n,categoryConfig:e}):ci.createElement(ci.Suspense,{key:n},ci.createElement(lH,{category:n,categoryConfig:e,renderdCategoriesCountRef:t}))})))}function lH(e){var t,n,a=e.category,r=e.categoryConfig,i=e.renderdCategoriesCountRef,s=nH(),o=EG().lazyLoadEmojis,l=RG(),c=ci.useContext(qG).isPastInitialLoad,d=XG()[0],u=(t=HG(),n=$G(),function(e){var a=cG(dG(e));return Boolean(t[a]||n(a))}),f=WG(),m=!OG(),p=!c&&i.current>0?[]:function(e){var t;return null!=(t=null==tG?void 0:tG[e])?t:[]}(a);p.length>0&&i.current++;var h=0,g=p.map((function(e){var t=dG(e,d),n=s(e),a=n.failedToLoad,r=n.filteredOut,i=n.hidden,c=u(e);return(i||c)&&h++,c?null:ci.createElement(J$,{showVariations:m,key:t,emoji:e,unified:t,hidden:a,hiddenOnSearch:r,emojiStyle:l,lazyLoad:o,getEmojiUrl:f})}));return ci.createElement(aH,{categoryConfig:r,hidden:h===g.length},g)}var cH,dH,uH=SW.create({emojiList:{".":cW.emojiList,listStyle:"none",margin:"0",padding:"0"}});function fH(){var e,t,n=gV(),a=pV().VariationPickerRef,r=tV()[0],i=RG(),s=function(e){var t=gV(),n=yV(),a=cH.Up;return{getMenuDirection:r,getTop:i};function r(){return a}function i(){a=cH.Up;var r=0;if(!e.current)return 0;var i=f$(e.current);if(t.current){var s,o=n.current,l=d$(t.current),c=f$(l);r=m$(l),(null!=(s=null==o?void 0:o.scrollTop)?s:0)>r-i&&(a=cH.Down,r+=c+i)}return r-i}}(a),o=s.getTop,l=s.getMenuDirection,c=xV(),d=function(e){var t=gV();return function(){var n={};if(!e.current)return n;if(t.current){var a=d$(t.current),r=function(e){var t=d$(e),n=A$(t);return v$(t)+v$(n)}(a);if(!a)return n;n.left=r+(null==a?void 0:a.clientWidth)/2}return n}}(a),u=WG(),f=d$(n.current),m=Boolean(r&&f&&mG(r)&&f.classList.contains(cW.emojiHasVariations));return ci.useEffect((function(){m&&CV(a.current)}),[a,m,n]),!m&&n.current?c(null):(e=o(),t=d()),ci.createElement("div",{ref:a,className:pW(mH.variationPicker,l()===cH.Down&&mH.pointingUp,m&&mH.visible),style:{top:e}},m&&r?[dG(r)].concat(fG(r)).slice(0,6).map((function(e){return ci.createElement(J$,{key:e,emoji:r,unified:e,emojiStyle:i,showVariations:!1,getEmojiUrl:u})})):null,ci.createElement("div",{className:pW(mH.pointer),style:t}))}(dH=cH||(cH={}))[dH.Up=0]="Up",dH[dH.Down=1]="Down";var mH=SW.create(vW({variationPicker:{".":cW.variationPicker,position:"absolute",right:"15px",left:"15px",padding:"5px",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.2)",borderRadius:"3px",display:"flex",alignItems:"center",justifyContent:"space-around",opacity:"0",visibility:"hidden",pointerEvents:"none",top:"-100%",border:"1px solid var(--epr-picker-border-color)",height:"var(--epr-emoji-variation-picker-height)",zIndex:"var(--epr-skin-variation-picker-z-index)",background:"var(--epr-emoji-variation-picker-bg-color)",transform:"scale(0.9)",transition:"transform 0.1s ease-out, opacity 0.2s ease-out"},visible:{opacity:"1",visibility:"visible",pointerEvents:"all",transform:"scale(1)"},pointingUp:{".":"pointing-up",transformOrigin:"center 0%",transform:"scale(0.9)"},".pointing-up":{pointer:{top:"0",transform:"rotate(180deg) translateY(100%) translateX(18px)"}},pointer:{".":"epr-emoji-pointer",content:"",position:"absolute",width:"25px",height:"15px",backgroundRepeat:"no-repeat",backgroundPosition:"0 0",backgroundSize:"50px 15px",top:"100%",transform:"translateX(-18px)",backgroundImage:"url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSI1MHB4IgoJIGhlaWdodD0iMTVweCIgdmlld0JveD0iMCAwIDUwIDE1IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MCAxNSIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJMYXllcl8xIj4KPC9nPgo8ZyBpZD0iTGF5ZXJfMiI+Cgk8cGF0aCBmaWxsPSIjRkZGRkZGIiBzdHJva2U9IiNFOEU3RTciIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEuODYtMC40M2w5LjgzLDExLjUzYzAuNTksMC42OSwxLjU2LDAuNjksMi4xNCwwbDkuODMtMTEuNTMiLz4KCTxwYXRoIGZpbGw9IiMwMTAyMDIiIHN0cm9rZT0iIzE1MTYxNyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMjYuODYtMC40M2w5LjgzLDExLjUzYzAuNTksMC42OSwxLjU2LDAuNjksMi4xNCwwbDkuODMtMTEuNTMiLz4KPC9nPgo8L3N2Zz4=)"}},IW("pointer",{backgroundPosition:"-25px 0"})));function pH(){var e=yV();return function(e){var t=EV();ci.useEffect((function(){var n=e.current;if(n)return n.addEventListener("scroll",a,{passive:!0}),function(){null==n||n.removeEventListener("scroll",a)};function a(){t()}}),[e,t])}(e),z$(e,IG.PICKER),function(){var e=yV(),t=LV(),n=AV();ci.useEffect((function(){var a=e.current;function r(){n()&&t()}return null==a||a.addEventListener("mousemove",r,{passive:!0}),function(){null==a||a.removeEventListener("mousemove",r)}}),[e,t,n])}(),ci.createElement("div",{className:pW(yH.body,EW.hiddenOnReactions),ref:e},ci.createElement(fH,null),ci.createElement(oH,null))}var hH,gH,xH,yH=SW.create({body:{".":cW.scrollBody,flex:"1",overflowY:"scroll",overflowX:"hidden",position:"relative"}});function vH(e,t){var n=yV(),a=AV(),r=LV();ci.useEffect((function(){if(e){var r=n.current;return null==r||r.addEventListener("keydown",o,{passive:!0}),null==r||r.addEventListener("mouseover",l,!0),null==r||r.addEventListener("focus",i,!0),null==r||r.addEventListener("mouseout",s,{passive:!0}),null==r||r.addEventListener("blur",s,!0),function(){null==r||r.removeEventListener("mouseover",l),null==r||r.removeEventListener("mouseout",s),null==r||r.removeEventListener("focus",i,!0),null==r||r.removeEventListener("blur",s,!0),null==r||r.removeEventListener("keydown",o)}}function i(e){var n=d$(e.target);if(!n)return s();var a=j$(n),r=a.unified,i=a.originalUnified;if(!r||!i)return s();t({unified:r,originalUnified:i})}function s(e){if(e&&!d$(e.relatedTarget))return t(null);t(null)}function o(e){"Escape"===e.key&&t(null)}function l(e){if(!a()){var n=d$(e.target);if(n){var i=function(e,t){if(!e||!t)return 0;var n=e.getBoundingClientRect(),a=t.getBoundingClientRect();return a.height-(n.y-a.y)}(n,r);if(i<n.getBoundingClientRect().height)return function(e,t){var n,a=j$(e),r=a.unified,i=a.originalUnified;if(!r||!i)return;null==(n=document.activeElement)||null==n.blur||n.blur(),t({unified:r,originalUnified:i})}(n,t);iV(n)}}}}),[n,e,t,a,r])}function bH(e){var t=e.children,n=e.className,a=e.style,r=void 0===a?{}:a,i=e.direction,s=void 0===i?gH.ROW:i;return ci.createElement("div",{style:vW({},r),className:pW(wH.flex,n,wH[s])},t)}(xH=gH||(gH={})).ROW="FlexRow",xH.COLUMN="FlexColumn";var wH=SW.create(((hH={flex:{display:"flex"}})[gH.ROW]={flexDirection:"row"},hH[gH.COLUMN]={flexDirection:"column"},hH));function jH(e){var t=e.className,n=e.style,a=void 0===n?{}:n;return ci.createElement("div",{style:vW({flex:1},a),className:pW(t)})}function NH(e){var t=e.children,n=e.className,a=e.style;return ci.createElement("div",{style:vW({},a,{position:"absolute"}),className:n},t)}function CH(e){var t=e.children,n=e.className,a=e.style;return ci.createElement("div",{style:vW({},a,{position:"relative"}),className:n},t)}function SH(e){var t=e.isOpen,n=e.onClick,a=e.isActive,r=e.skinToneVariation,i=e.style;return ci.createElement(B$,{style:i,onClick:n,className:pW("epr-tone-"+r,_H.tone,!t&&_H.closedTone,a&&_H.active),"aria-pressed":a,"aria-label":"Skin tone "+aG[r]})}var kH,MH,_H=SW.create({closedTone:{opacity:"0",zIndex:"0"},active:{".":"epr-active",zIndex:"1",opacity:"1"},tone:{".":"epr-tone",width:"var(--epr-skin-tone-size)",display:"block",cursor:"pointer",borderRadius:"4px",height:"var(--epr-skin-tone-size)",position:"absolute",right:"0",transition:"transform 0.3s ease-in-out, opacity 0.35s ease-in-out",zIndex:"0",border:"1px solid var(--epr-skin-tone-outer-border-color)",boxShadow:"inset 0px 0px 0 1px var(--epr-skin-tone-inner-border-color)",":hover":{boxShadow:"0 0 0 3px var(--epr-active-skin-hover-color), inset 0px 0px 0 1px var(--epr-skin-tone-inner-border-color)"},":focus":{boxShadow:"0 0 0 3px var(--epr-focus-bg-color)"},"&.epr-tone-neutral":{backgroundColor:"#ffd225"},"&.epr-tone-1f3fb":{backgroundColor:"#ffdfbd"},"&.epr-tone-1f3fc":{backgroundColor:"#e9c197"},"&.epr-tone-1f3fd":{backgroundColor:"#c88e62"},"&.epr-tone-1f3fe":{backgroundColor:"#a86637"},"&.epr-tone-1f3ff":{backgroundColor:"#60463a"}}});function EH(){return ci.createElement(CH,{style:{height:28}},ci.createElement(NH,{style:{bottom:0,right:0}},ci.createElement(IH,{direction:kH.VERTICAL})))}function IH(e){var t=e.direction,n=void 0===t?kH.HORIZONTAL:t,a=bV(),r=OG(),i=nV(),s=i[0],o=i[1],l=XG(),c=l[0],d=l[1],u=TG().current.onSkinToneChange||function(){},f=EV(),m=TV();if(r)return null;var p=28*nG.length+"px",h=s?p:"28px",g=n===kH.VERTICAL;return ci.createElement(CH,{className:pW(LH.skinTones,g&&LH.vertical,s&&LH.open,g&&s&&LH.verticalShadow),style:g?{flexBasis:h,height:h}:{flexBasis:h}},ci.createElement("div",{className:pW(LH.select),ref:a},nG.map((function(e,t){var n=e===c;return ci.createElement(SH,{key:e,skinToneVariation:e,isOpen:s,style:{transform:pW(g?"translateY(-"+t*(s?28:0)+"px)":"translateX(-"+t*(s?28:0)+"px)",s&&n&&"scale(1.3)")},isActive:n,onClick:function(){s?(d(e),u(e),m()):o(!0),f()}})}))))}(MH=kH||(kH={})).VERTICAL="epr-vertical",MH.HORIZONTAL="epr-horizontal";var LH=SW.create({skinTones:{".":"epr-skin-tones","--":{"--epr-skin-tone-size":"15px"},display:"flex",alignItems:"center",justifyContent:"flex-end",transition:"all 0.3s ease-in-out",padding:"10px 0"},vertical:{padding:"9px",alignItems:"flex-end",flexDirection:"column",borderRadius:"6px",border:"1px solid var(--epr-bg-color)"},verticalShadow:{boxShadow:"0px 0 7px var(--epr-picker-border-color)"},open:{backdropFilter:"blur(5px)",background:"var(--epr-skin-tone-picker-menu-color)",".epr-active":{border:"1px solid var(--epr-active-skin-tone-indicator-border-color)"}},select:{".":"epr-skin-tone-select",position:"relative",width:"var(--epr-skin-tone-size)",height:"var(--epr-skin-tone-size)"}});function AH(){var e=FG(),t=WV();return e.showPreview?ci.createElement(bH,{className:pW(DH.preview,EW.hiddenOnReactions)},ci.createElement(TH,null),ci.createElement(jH,null),t?ci.createElement(EH,null):null):null}function TH(){var e,t=FG(),n=ci.useState(null),a=n[0],r=n[1],i=RG(),s=tV()[0],o=WG();vH(t.showPreview,r);var l=pG(null!=(e=null==a?void 0:a.unified)?e:null==a?void 0:a.originalUnified),c=null!=l&&null!=a;return ci.createElement((function(){var e=null!=s?s:pG(t.defaultEmoji);if(!e)return null;var n=s?lG(s):t.defaultCaption;return ci.createElement(ci.Fragment,null,ci.createElement("div",null,c?ci.createElement(Z$,{unified:null==a?void 0:a.unified,emoji:l,emojiStyle:i,size:45,getEmojiUrl:o,className:pW(DH.emoji)}):e?ci.createElement(Z$,{unified:dG(e),emoji:e,emojiStyle:i,size:45,getEmojiUrl:o,className:pW(DH.emoji)}):null),ci.createElement("div",{className:pW(DH.label)},c?lG(l):n))}),null)}var DH=SW.create({preview:{alignItems:"center",borderTop:"1px solid var(--epr-preview-border-color)",height:"var(--epr-preview-height)",padding:"0 var(--epr-horizontal-padding)",position:"relative",zIndex:"var(--epr-preview-z-index)"},label:{color:"var(--epr-preview-text-color)",fontSize:"var(--epr-preview-text-size)",padding:"var(--epr-preview-text-padding)",textTransform:"capitalize"},emoji:{padding:"0"}});function PH(){var e=EG().customEmojis;return!!e&&0===e.length}function OH(e){var t,n=e.isActiveCategory,a=e.category,r=e.allowNavigation,i=e.categoryConfig,s=e.onClick;return ci.createElement(B$,{tabIndex:r?0:-1,className:pW(BH.catBtn,EW.categoryBtn,"epr-icn-"+a,(t={},t[cW.active]=n,t)),onClick:s,"aria-label":JW(i),"aria-selected":n,role:"tab","aria-controls":"epr-category-nav-id"})}var RH={backgroundPositionY:"calc(var(--epr-category-navigation-button-size) * 3)"},zH={backgroundPositionY:"calc(var(--epr-category-navigation-button-size) * 2)"},FH={":not(.epr-search-active)":{catBtn:{":hover":RH,"&.epr-active":RH}}},BH=SW.create(vW({catBtn:{".":"epr-cat-btn",display:"inline-block",transition:"opacity 0.2s ease-in-out",position:"relative",height:"var(--epr-category-navigation-button-size)",width:"var(--epr-category-navigation-button-size)",backgroundSize:"calc(var(--epr-category-navigation-button-size) * 10)",outline:"none",backgroundPosition:"0 0",backgroundImage:"url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMDBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgMjAwIDgwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyMDAgODAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8ZyBpZD0iTGF5ZXJfMTEiPgoJPGc+CgkJPHBhdGggZmlsbD0iIzMzNzFCNyIgc3Ryb2tlPSIjMzM3MUI3IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTIuOCwyOS41YzAuNiwwLDEuMS0wLjUsMS4xLTEuMQoJCQljMC0wLjYtMC41LTEuMi0xLjEtMS4yYy0wLjYsMC0xLjIsMC41LTEuMiwxLjJDMTEuNiwyOSwxMi4yLDI5LjUsMTIuOCwyOS41eiBNMTIuOCwyOGMwLjIsMCwwLjQsMC4yLDAuNCwwLjQKCQkJYzAsMC4yLTAuMiwwLjQtMC40LDAuNGMtMC4yLDAtMC40LTAuMi0wLjQtMC40QzEyLjQsMjguMSwxMi42LDI4LDEyLjgsMjh6Ii8+CgkJPHBhdGggZmlsbD0iIzMzNzFCNyIgc3Ryb2tlPSIjMzM3MUI3IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTAsMjNjLTMuOCwwLTcsMy4xLTcsN2MwLDMuOCwzLjEsNyw3LDcKCQkJczctMy4xLDctN0MxNywyNi4yLDEzLjgsMjMsMTAsMjN6IE0xMCwzNi4yYy0zLjQsMC02LjItMi44LTYuMi02LjJjMC0zLjQsMi44LTYuMiw2LjItNi4yczYuMiwyLjgsNi4yLDYuMgoJCQlDMTYuMiwzMy40LDEzLjQsMzYuMiwxMCwzNi4yeiIvPgoJCTxwYXRoIGZpbGw9IiMzMzcxQjciIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE0LjYsMzEuMmMtMC4xLTAuMS0wLjItMC4yLTAuMy0wLjJINS43CgkJCWMtMC4xLDAtMC4yLDAuMS0wLjMsMC4yYy0wLjEsMC4xLTAuMSwwLjIsMCwwLjRjMC43LDIsMi41LDMuMyw0LjYsMy4zczMuOS0xLjMsNC42LTMuM0MxNC43LDMxLjUsMTQuNywzMS4zLDE0LjYsMzEuMnogTTEwLDM0LjEKCQkJYy0xLjYsMC0zLTAuOS0zLjctMi4yaDcuM0MxMywzMy4yLDExLjYsMzQuMSwxMCwzNC4xeiIvPgoJCTxwYXRoIGZpbGw9IiMzMzcxQjciIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTcuMiwyOS41YzAuNiwwLDEuMi0wLjUsMS4yLTEuMQoJCQljMC0wLjYtMC41LTEuMi0xLjItMS4yYy0wLjYsMC0xLjEsMC41LTEuMSwxLjJDNi4xLDI5LDYuNiwyOS41LDcuMiwyOS41eiBNNy4yLDI4YzAuMiwwLDAuNCwwLjIsMC40LDAuNGMwLDAuMi0wLjIsMC40LTAuNCwwLjQKCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRDNi44LDI4LjEsNywyOCw3LjIsMjh6Ii8+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNNjQuMSwzMy40bDIuMywwYzAuMiwwLDAuNCwwLjIsMC40LDAuNHYyLjFjMCwwLjItMC4yLDAuNC0wLjQsMC40aC0yLjMKCQkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40di0yLjFDNjMuNywzMy42LDYzLjgsMzMuNCw2NC4xLDMzLjR6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTczLjUsMzMuNWgyLjRjMC4yLDAsMC40LDAuMiwwLjQsMC40djJjMCwwLjItMC4yLDAuNC0wLjQsMC40aC0yLjQKCQkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40bDAtMkM3My4xLDMzLjYsNzMuMywzMy41LDczLjUsMzMuNXoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNNjMuNywyOC40aDEyLjZ2NUg2My43VjI4LjR6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTY1LjUsMjMuNmg4LjljMSwwLDEuOSwwLjgsMS45LDEuOXYzLjFINjMuN3YtMy4xQzYzLjcsMjQuNSw2NC41LDIzLjYsNjUuNSwyMy42eiIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjMzM3MUI3IiBjeD0iNjYuMiIgY3k9IjMwLjkiIHJ4PSIwLjkiIHJ5PSIxIi8+CgkJCTxlbGxpcHNlIGZpbGw9IiMzMzcxQjciIGN4PSI3My44IiBjeT0iMzAuOSIgcng9IjAuOSIgcnk9IjEiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNOTYuNCwzMGMwLDMuNi0yLjksNi41LTYuNCw2LjVzLTYuNC0yLjktNi40LTYuNXMyLjktNi41LDYuNC02LjVTOTYuNCwyNi40LDk2LjQsMzB6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTk2LjMsMjguNmMwLDAsMCwwLjEsMCwwLjFjLTAuOSwwLjEtMi45LDAuMS00LjYtMS4xYy0xLjEtMC44LTItMS43LTIuNi0yLjUKCQkJCWMtMC4zLTAuNC0wLjYtMC44LTAuNy0xYy0wLjEtMC4xLTAuMS0wLjEtMC4xLTAuMmMwLjUtMC4xLDEuMi0wLjIsMi0wLjFjMS4yLDAsMi41LDAuMywzLjUsMS4xYzEsMC44LDEuNywxLjgsMi4xLDIuOAoJCQkJQzk2LjEsMjcuOSw5Ni4yLDI4LjMsOTYuMywyOC42eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik04NCwzMi4yYzAsMCwwLTAuMSwwLTAuMWMwLjktMC4yLDIuOS0wLjQsNC43LDAuNmMxLjEsMC43LDEuOSwxLjUsMi40LDIuMwoJCQkJYzAuNCwwLjUsMC42LDEsMC43LDEuM2MtMC40LDAuMS0xLDAuMi0xLjcsMC4zYy0xLDAtMi4xLTAuMS0zLjItMC44cy0xLjktMS42LTIuNC0yLjVDODQuMiwzMi44LDg0LjEsMzIuNSw4NCwzMi4yeiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTExNi4zLDI2LjhsLTEuNCwybC0wLjgtMC44bC0wLjYtMC42bDAsMC45bC0wLjEsOC4yaC02LjgKCQkJCWwtMC4xLTguMmwwLTAuOWwtMC42LDAuNmwtMC44LDAuOGwtMS40LTJsMi42LTIuOWMwLjEtMC4xLDAuMi0wLjEsMC4zLTAuMWgxLjNsMC40LDAuN2MwLjcsMS4zLDIuNiwxLjMsMy4zLTAuMWwwLjMtMC42aDEuMgoJCQkJYzAuMSwwLDAuMiwwLDAuMywwLjFsMC4zLTAuM2wtMC4zLDAuM0wxMTYuMywyNi44eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMTAuMSwyNy43aDJ2MC45YzAsMC40LTAuNCwwLjctMSwwLjdjLTAuNiwwLTEtMC4zLTEtMC43TDExMC4xLDI3LjdMMTEwLjEsMjcuN3oiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNMTI2LjgsMzQuM2MwLDEuMi0xLDIuMi0yLjIsMi4ycy0yLjItMS0yLjItMi4yczEtMi4yLDIuMi0yLjJTMTI2LjgsMzMuMSwxMjYuOCwzNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMzcuNiwzNC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJjLTEuMiwwLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMgoJCQkJQzEzNi42LDMyLjEsMTM3LjYsMzMuMSwxMzcuNiwzNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMjYuOCwyNC40djkuOSIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMzcuNywyNC40djkuOSIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMjYuOCwyMy41aDEwLjh2Mi43aC0xMC44QzEyNi44LDI2LjIsMTI2LjgsMjMuNSwxMjYuOCwyMy41eiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSIjMzM3MUI3IiBkPSJNMTcwLjgsMjMuMUwxNzAuOCwyMy4xYy0wLjMsMC0wLjUsMC0wLjgsMGMtMi4xLDAtNCwxLTUuMywyLjVsLTAuMSwwbC0wLjEtMC4xbC0xLTEuMmwtMC4zLDMuNGwzLjQsMC4zCgkJCQlsLTEuMS0xLjNsLTAuMS0wLjFsMC4xLTAuMWMxLjEtMS41LDMtMi4zLDUtMi4xbDAsMGMzLjIsMC4zLDUuNSwzLjEsNS4yLDYuM2MtMC4zLDMtMy4xLDUuMy02LjEsNS4xYy0zLjEtMC4yLTUuNC0yLjktNS4zLTYKCQkJCWwtMS4zLTAuMWMtMC4yLDMuOCwyLjYsNy4xLDYuMyw3LjRjMy45LDAuMyw3LjMtMi42LDcuNi02LjVDMTc3LjIsMjYuOCwxNzQuNCwyMy41LDE3MC44LDIzLjF6Ii8+CgkJCTxwYXRoIGZpbGw9IiMzMzcxQjciIGQ9Ik0xNzAuMywyNy40YzAtMC4zLTAuMy0wLjYtMC42LTAuNnMtMC42LDAuMy0wLjYsMC42djMuMmMwLDAuMiwwLjEsMC4zLDAuMiwwLjRjMC4xLDAuMSwwLjMsMC4yLDAuNCwwLjIKCQkJCWgyLjRjMC40LDAsMC42LTAuMywwLjYtMC42YzAtMC40LTAuMy0wLjYtMC42LTAuNmgtMS42aC0wLjJ2LTAuMkwxNzAuMywyNy40TDE3MC4zLDI3LjR6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTE4Ni4yLDIzLjRoNy43YzEuNSwwLDIuNywxLjIsMi43LDIuN3Y3LjdjMCwxLjUtMS4yLDIuNy0yLjcsMi43aC03LjcKCQkJCWMtMS41LDAtMi43LTEuMi0yLjctMi43di03LjdDMTgzLjQsMjQuNiwxODQuNywyMy40LDE4Ni4yLDIzLjR6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiMzMzcxQjciIGN4PSIxODYiIGN5PSIyOC45IiByeD0iMC43IiByeT0iMC43Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiMzMzcxQjciIGN4PSIxOTQiIGN5PSIyNi43IiByeD0iMC43IiByeT0iMC43Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTg2LDMzLjNsMC40LTAuM2MwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMSwwLjQKCQkJCWMwLjUsMC4yLDEsMC4yLDEuNS0wLjFsMC44LTAuNWMwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMS44LDAuOCIvPgoJCTwvZz4KCTwvZz4KCTxwYXRoIGZpbGw9IiMzMzcxQjciIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLXdpZHRoPSIwLjI1IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xNTYsMjQuM2MtMC4yLTAuMS0wLjQtMC4xLTAuNSwwCgkJYzAsMC0wLjIsMC4xLTAuOSwwLjJjLTAuNywwLTIuNC0wLjEtMy44LTAuNmMtMC44LTAuMy0xLjctMC41LTIuNS0wLjVjLTAuMiwwLTAuNCwwLTAuNSwwYy0xLjMsMC0yLjUsMC4zLTMuNiwxCgkJYy0wLjIsMC4xLTAuMiwwLjItMC4yLDAuNHYxMS42YzAsMC4zLDAuMSwwLjUsMC4zLDAuNWMwLjYsMCwwLjUtMC40LDAuNS0wLjZ2LTUuN2MwLjctMC4zLDMuMi0xLjEsNS44LTAuMQoJCWMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjgsMCwxLjMtMC4zLDEuMy0wLjNjMC4yLTAuMSwwLjMtMC4yLDAuMy0wLjR2LTUuN0MxNTYuMiwyNC42LDE1Ni4xLDI0LjQsMTU2LDI0LjN6IE0xNTUuNiwzMC4yCgkJYy0wLjEsMC0wLjcsMC4xLTEsMC4xYy0wLjcsMC0yLjQtMC4xLTMuOC0wLjZjLTIuNS0xLTUtMC41LTYuMi0wLjF2LTQuOWMwLjktMC41LDIuMi0wLjcsMy4yLTAuN2MwLjEsMCwwLjMsMCwwLjQsMAoJCWMwLjcsMCwxLjUsMC4yLDIuMiwwLjRjMS42LDAuNiwzLjUsMC43LDQuMywwLjdjMC4yLDAsMC44LDAsMS0wLjFWMzAuMnoiLz4KCTxnPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTQ4LjEsMjMuNWgzLjdjMi41LDAsNC41LDIsNC41LDQuNWMwLDAuNS0wLjQsMC45LTAuOSwwLjlINDQuNWMtMC41LDAtMC45LTAuNC0wLjktMC45CgkJCUM0My42LDI1LjUsNDUuNiwyMy41LDQ4LjEsMjMuNXoiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTQzLjUsMjguOGMtMC4yLDAuMS0wLjUsMS4yLDAsMS41YzEuNCwxLDguNSwwLjgsMTEuMywwLjYKCQkJYzAuOC0wLjEsMS42LTAuNCwxLjctMS4yYzAtMC4zLTAuMS0wLjYtMC42LTAuOSIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwzMC42TDQzLjMsMzFjLTAuMiwwLjUsMC4yLDEsMC43LDAuOWMwLjMtMC4xLDAuNSwwLDAuNywwLjMKCQkJbDAuMSwwLjJjMC4zLDAuNSwxLDAuNiwxLjUsMC4ybDAsMGMwLjMtMC4yLDAuNy0wLjMsMS0wLjJsMC44LDAuM2MwLjQsMC4yLDAuOCwwLjEsMS4yLDBsMC41LTAuMmMwLjQtMC4yLDAuOS0wLjIsMS4zLDBsMC41LDAuMgoJCQljMC40LDAuMiwwLjgsMC4yLDEuMiwwbDAuMi0wLjFjMC4zLTAuMiwwLjgtMC4yLDEuMSwwLjFsMC4yLDAuMmMwLjMsMC4zLDAuOCwwLjIsMS0wLjJsMC4xLTAuMmMwLjEtMC4yLDAtMC4zLDAuMi0wLjMKCQkJYzAuNSwwLDEuMi0wLjMsMS4xLTAuN2wtMC40LTEuMSIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwzMi4yYy0wLjEsMC4yLTAuMywwLjgsMCwxLjFjMC4zLDAuNCwzLDEuMSw2LjQsMS4xCgkJCWMyLjIsMCw0LjYtMC4zLDYtMC42YzAuNS0wLjEsMC45LTAuNSwwLjgtMC45YzAtMC4yLTAuMi0wLjUtMC40LTAuNyIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwzMy4zYzAsMC41LDAuNiwyLjMsMS4zLDIuN2MxLjgsMC44LDUuNywwLjcsOC4xLDAuNQoJCQljMS4zLTAuMSwyLjUtMC43LDMuMi0xLjhjMC4zLTAuNSwwLjUtMSwwLjUtMS40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjUxLjYiIGN5PSIyNi41IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjUzIiBjeT0iMjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjMzM3MUI3IiBjeD0iNTMiIGN5PSIyNy4yIiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjU0LjMiIGN5PSIyNi41IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjUwLjkiIGN5PSIyNSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJPC9nPgoJPGc+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNMjQuMiwzMXYtNy42YzAuMSwwLjEsMC44LDAuOSwyLjgsMy4xYzIuNS0xLjYsNS42LTAuNyw2LjksMGwyLjQtMy4xdjcuMQoJCQljMCwxLjItMC4xLDIuNS0wLjksMy40Yy0xLDEuMi0yLjcsMi41LTUuMywyLjVjLTIuOSwwLTQuNS0xLjUtNS4zLTIuOUMyNC4yLDMyLjksMjQuMiwzMiwyNC4yLDMxeiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMjEuMiwzMGw1LjQsMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDM0LjFsNS40LTEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzguOCwzMGwtNS40LDEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzguOCwzNC4xbC01LjQtMS4yIi8+CgkJPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiMzMzcxQjciIGQ9Ik0yOS41LDMyLjRMMjksMzEuN2MtMC4yLTAuMywwLTAuNiwwLjMtMC42aDEuNAoJCQljMC4zLDAsMC41LDAuNCwwLjMsMC42bC0wLjcsMWwwLDBjLTAuNywxLjItMi42LDEuMS0zLjEtMC4zbC0wLjEtMC4yYy0wLjEtMC4yLDAtMC40LDAuMi0wLjVzMC40LDAsMC41LDAuMmwwLjEsMC4yCgkJCUMyOC4zLDMyLjgsMjkuMSwzMi45LDI5LjUsMzIuNHoiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTMyLjQsMzIuMWwtMC4xLDAuMmMtMC40LDEtMS44LDEuMS0yLjMsMC4yIi8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjI3LjYiIGN5PSIyOS43IiByeD0iMC43IiByeT0iMC43Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjMyLjQiIGN5PSIyOS43IiByeD0iMC43IiByeT0iMC43Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBmaWxsPSIjQzBDMEJGIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS13aWR0aD0iMC4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xMi44LDQ5LjVjMC42LDAsMS4xLTAuNSwxLjEtMS4xCgkJCWMwLTAuNi0wLjUtMS4yLTEuMS0xLjJjLTAuNiwwLTEuMiwwLjUtMS4yLDEuMkMxMS42LDQ5LDEyLjIsNDkuNSwxMi44LDQ5LjV6IE0xMi44LDQ4YzAuMiwwLDAuNCwwLjIsMC40LDAuNAoJCQljMCwwLjItMC4yLDAuNC0wLjQsMC40Yy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRDMTIuNCw0OC4xLDEyLjYsNDgsMTIuOCw0OHoiLz4KCQk8cGF0aCBmaWxsPSIjQzBDMEJGIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS13aWR0aD0iMC4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xNC42LDUxLjJjLTAuMS0wLjEtMC4yLTAuMi0wLjMtMC4ySDUuNwoJCQljLTAuMSwwLTAuMiwwLjEtMC4zLDAuMmMtMC4xLDAuMS0wLjEsMC4yLDAsMC40YzAuNywyLDIuNSwzLjMsNC42LDMuM3MzLjktMS4zLDQuNi0zLjNDMTQuNyw1MS41LDE0LjcsNTEuMywxNC42LDUxLjJ6IE0xMCw1NC4xCgkJCWMtMS42LDAtMy0wLjktMy43LTIuMmg3LjNDMTMsNTMuMiwxMS42LDU0LjEsMTAsNTQuMXoiLz4KCQk8cGF0aCBmaWxsPSIjQzBDMEJGIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS13aWR0aD0iMC4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik03LjIsNDkuNWMwLjYsMCwxLjItMC41LDEuMi0xLjEKCQkJYzAtMC42LTAuNS0xLjItMS4yLTEuMmMtMC42LDAtMS4xLDAuNS0xLjEsMS4yQzYuMSw0OSw2LjYsNDkuNSw3LjIsNDkuNXogTTcuMiw0OGMwLjIsMCwwLjQsMC4yLDAuNCwwLjRjMCwwLjItMC4yLDAuNC0wLjQsMC40CgkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40QzYuOCw0OC4xLDcsNDgsNy4yLDQ4eiIvPgoJCTxwYXRoIGZpbGw9IiNDMEMwQkYiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEwLDQzYy0zLjgsMC03LDMuMS03LDdjMCwzLjgsMy4xLDcsNyw3CgkJCXM3LTMuMSw3LTdDMTcsNDYuMiwxMy44LDQzLDEwLDQzeiBNMTAsNTYuMmMtMy40LDAtNi4yLTIuOC02LjItNi4yYzAtMy40LDIuOC02LjIsNi4yLTYuMnM2LjIsMi44LDYuMiw2LjIKCQkJQzE2LjIsNTMuNCwxMy40LDU2LjIsMTAsNTYuMnoiLz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik02NC4xLDUzLjRsMi4zLDBjMC4yLDAsMC40LDAuMiwwLjQsMC40djIuMWMwLDAuMi0wLjIsMC40LTAuNCwwLjRoLTIuMwoJCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjR2LTIuMUM2My43LDUzLjYsNjMuOCw1My40LDY0LjEsNTMuNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNNzMuNSw1My41aDIuNGMwLjIsMCwwLjQsMC4yLDAuNCwwLjR2MmMwLDAuMi0wLjIsMC40LTAuNCwwLjRoLTIuNAoJCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRsMC0yQzczLjEsNTMuNiw3My4zLDUzLjUsNzMuNSw1My41eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik02My43LDQ4LjRoMTIuNnY1SDYzLjdWNDguNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNNjUuNSw0My42aDguOWMxLDAsMS45LDAuOCwxLjksMS45djMuMUg2My43di0zLjFDNjMuNyw0NC41LDY0LjUsNDMuNiw2NS41LDQzLjZ6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiNDMEMwQkYiIGN4PSI2Ni4yIiBjeT0iNTAuOSIgcng9IjAuOSIgcnk9IjEiLz4KCQkJPGVsbGlwc2UgZmlsbD0iI0MwQzBCRiIgY3g9IjczLjgiIGN5PSI1MC45IiByeD0iMC45IiByeT0iMSIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik05Ni40LDUwYzAsMy42LTIuOSw2LjUtNi40LDYuNXMtNi40LTIuOS02LjQtNi41czIuOS02LjUsNi40LTYuNVM5Ni40LDQ2LjQsOTYuNCw1MHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNOTYuMyw0OC42YzAsMCwwLDAuMSwwLDAuMWMtMC45LDAuMS0yLjksMC4xLTQuNi0xLjJjLTEuMS0wLjgtMi0xLjctMi42LTIuNQoJCQkJYy0wLjMtMC40LTAuNi0wLjgtMC43LTFjLTAuMS0wLjEtMC4xLTAuMi0wLjEtMC4yYzAuNS0wLjEsMS4yLTAuMiwyLTAuMmMxLjIsMCwyLjUsMC4zLDMuNSwxLjFjMSwwLjgsMS43LDEuOCwyLjEsMi44CgkJCQlDOTYuMSw0Ny45LDk2LjIsNDguMyw5Ni4zLDQ4LjZ6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTg0LDUyLjJjMCwwLDAtMC4xLDAtMC4xYzAuOS0wLjIsMi45LTAuNCw0LjcsMC42YzEuMSwwLjcsMS45LDEuNSwyLjQsMi4zCgkJCQljMC40LDAuNSwwLjYsMSwwLjcsMS4zYy0wLjQsMC4xLTEsMC4yLTEuNywwLjNjLTEsMC0yLjEtMC4xLTMuMi0wLjhzLTEuOS0xLjYtMi40LTIuNUM4NC4yLDUyLjgsODQuMSw1Mi41LDg0LDUyLjJ6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTE2LjMsNDYuOGwtMS40LDJsLTAuOC0wLjhsLTAuNi0wLjdsMCwwLjlsLTAuMSw4LjJoLTYuOAoJCQkJbC0wLjEtOC4ybDAtMC45bC0wLjYsMC43bC0wLjgsMC44bC0xLjQtMmwyLjYtMi45YzAuMS0wLjEsMC4yLTAuMSwwLjMtMC4xaDEuM2wwLjQsMC43YzAuNywxLjMsMi42LDEuMywzLjMtMC4xbDAuMy0wLjZoMS4yCgkJCQljMC4xLDAsMC4yLDAsMC4zLDAuMWwwLjMtMC4zbC0wLjMsMC4zTDExNi4zLDQ2Ljh6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTExMC4xLDQ3LjdoMnYwLjljMCwwLjQtMC40LDAuNy0xLDAuN2MtMC42LDAtMS0wLjMtMS0wLjdMMTEwLjEsNDcuN0wxMTAuMSw0Ny43eiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik0xMjYuOCw1NC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJzLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMlMxMjYuOCw1My4xLDEyNi44LDU0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEzNy42LDU0LjNjMCwxLjItMSwyLjItMi4yLDIuMmMtMS4yLDAtMi4yLTEtMi4yLTIuMnMxLTIuMiwyLjItMi4yCgkJCQlDMTM2LjYsNTIuMSwxMzcuNiw1My4xLDEzNy42LDU0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEyNi44LDQ0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEzNy43LDQ0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEyNi44LDQzLjVoMTAuOHYyLjdoLTEwLjhDMTI2LjgsNDYuMiwxMjYuOCw0My41LDEyNi44LDQzLjV6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9IiNDMEMwQkYiIGQ9Ik0xNzAuOCw0My4xTDE3MC44LDQzLjFjLTAuMywwLTAuNSwwLTAuOCwwYy0yLjEsMC00LDEtNS4zLDIuNWwtMC4xLDBsLTAuMS0wLjFsLTEtMS4ybC0wLjMsMy40bDMuNCwwLjMKCQkJCWwtMS4xLTEuM2wtMC4xLTAuMWwwLjEtMC4xYzEuMS0xLjUsMy0yLjMsNS0yLjFsMCwwYzMuMiwwLjMsNS41LDMuMSw1LjIsNi4zYy0wLjMsMy0zLjEsNS4zLTYuMSw1LjFjLTMuMS0wLjItNS40LTIuOS01LjMtNgoJCQkJbC0xLjMtMC4xYy0wLjIsMy44LDIuNiw3LjEsNi4zLDcuNGMzLjksMC4zLDcuMy0yLjYsNy42LTYuNUMxNzcuMiw0Ni44LDE3NC40LDQzLjUsMTcwLjgsNDMuMXoiLz4KCQkJPHBhdGggZmlsbD0iI0MwQzBCRiIgZD0iTTE3MC4zLDQ3LjRjMC0wLjMtMC4zLTAuNi0wLjYtMC42cy0wLjYsMC4zLTAuNiwwLjZ2My4yYzAsMC4yLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMywwLjIsMC40LDAuMgoJCQkJaDIuNGMwLjQsMCwwLjYtMC4zLDAuNi0wLjZjMC0wLjMtMC4zLTAuNi0wLjYtMC42aC0xLjZoLTAuMnYtMC4yTDE3MC4zLDQ3LjRMMTcwLjMsNDcuNHoiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNMTg2LjIsNDMuNGg3LjdjMS41LDAsMi43LDEuMiwyLjcsMi43djcuN2MwLDEuNS0xLjIsMi43LTIuNywyLjdoLTcuNwoJCQkJYy0xLjUsMC0yLjctMS4yLTIuNy0yLjd2LTcuN0MxODMuNCw0NC43LDE4NC43LDQzLjQsMTg2LjIsNDMuNHoiLz4KCQkJPGVsbGlwc2UgZmlsbD0iI0MwQzBCRiIgY3g9IjE4NiIgY3k9IjQ4LjkiIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPGVsbGlwc2UgZmlsbD0iI0MwQzBCRiIgY3g9IjE5NCIgY3k9IjQ2LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0xODYsNTMuM2wwLjQtMC4zYzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLDAuNAoJCQkJYzAuNSwwLjIsMSwwLjIsMS41LTAuMWwwLjgtMC41YzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLjgsMC44Ii8+CgkJPC9nPgoJPC9nPgoJPHBhdGggZmlsbD0iI0MwQzBCRiIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2Utd2lkdGg9IjAuMjUiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE1Niw0NC4zYy0wLjItMC4xLTAuNC0wLjEtMC41LDAKCQljMCwwLTAuMiwwLjEtMC45LDAuMmMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0wLjgtMC4zLTEuNy0wLjUtMi41LTAuNWMtMC4yLDAtMC40LDAtMC41LDBjLTEuMywwLTIuNSwwLjMtMy42LDEKCQljLTAuMiwwLjEtMC4yLDAuMi0wLjIsMC40djExLjZjMCwwLjMsMC4xLDAuNSwwLjMsMC41YzAuNiwwLDAuNS0wLjQsMC41LTAuNnYtNS43YzAuNy0wLjMsMy4yLTEuMSw1LjgtMC4xCgkJYzEuNiwwLjYsMy41LDAuNyw0LjMsMC43YzAuOCwwLDEuMy0wLjMsMS4zLTAuM2MwLjItMC4xLDAuMy0wLjIsMC4zLTAuNHYtNS43QzE1Ni4yLDQ0LjYsMTU2LjEsNDQuNCwxNTYsNDQuM3ogTTE1NS42LDUwLjIKCQljLTAuMSwwLTAuNywwLjEtMSwwLjFjLTAuNywwLTIuNC0wLjEtMy44LTAuNmMtMi41LTEtNS0wLjUtNi4yLTAuMXYtNC45YzAuOS0wLjUsMi4yLTAuNywzLjItMC43YzAuMSwwLDAuMywwLDAuNCwwCgkJYzAuNywwLDEuNSwwLjIsMi4yLDAuNGMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjIsMCwwLjgsMCwxLTAuMVY1MC4yeiIvPgoJPGc+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNNDguMSw0My41aDMuN2MyLjUsMCw0LjUsMiw0LjUsNC41YzAsMC41LTAuNCwwLjktMC45LDAuOUg0NC41Yy0wLjUsMC0wLjktMC40LTAuOS0wLjkKCQkJQzQzLjYsNDUuNSw0NS42LDQzLjUsNDguMSw0My41eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSw0OC44Yy0wLjIsMC4xLTAuNSwxLjIsMCwxLjVjMS40LDEsOC41LDAuOCwxMS4zLDAuNgoJCQljMC44LTAuMSwxLjYtMC40LDEuNy0xLjJjMC0wLjMtMC4xLTAuNi0wLjYtMC45Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDUwLjZMNDMuMyw1MWMtMC4yLDAuNSwwLjIsMSwwLjcsMC45YzAuMy0wLjEsMC41LDAsMC43LDAuMwoJCQlsMC4xLDAuMmMwLjMsMC41LDEsMC42LDEuNSwwLjJsMCwwYzAuMy0wLjIsMC43LTAuMywxLTAuMmwwLjgsMC4zYzAuNCwwLjIsMC44LDAuMSwxLjIsMGwwLjUtMC4yYzAuNC0wLjIsMC45LTAuMiwxLjMsMGwwLjUsMC4yCgkJCWMwLjQsMC4yLDAuOCwwLjIsMS4yLDBsMC4yLTAuMWMwLjMtMC4yLDAuOC0wLjIsMS4xLDAuMWwwLjIsMC4yYzAuMywwLjMsMC44LDAuMiwxLTAuMmwwLjEtMC4yYzAuMS0wLjIsMC0wLjMsMC4yLTAuMwoJCQljMC41LDAsMS4yLTAuMywxLjEtMC43bC0wLjQtMS4xIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDUyLjJjLTAuMSwwLjItMC4zLDAuOCwwLDEuMWMwLjMsMC40LDMsMS4xLDYuNCwxLjEKCQkJYzIuMiwwLDQuNi0wLjMsNi0wLjZjMC41LTAuMSwwLjktMC41LDAuOC0wLjljMC0wLjItMC4yLTAuNS0wLjQtMC43Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDUzLjNjMCwwLjUsMC42LDIuMywxLjMsMi43YzEuOCwwLjgsNS43LDAuNyw4LjEsMC41CgkJCWMxLjMtMC4xLDIuNS0wLjcsMy4yLTEuOGMwLjMtMC41LDAuNS0xLDAuNS0xLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTEuNiIgY3k9IjQ2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTMiIGN5PSI0NSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJCTxlbGxpcHNlIGZpbGw9IiNDMEMwQkYiIGN4PSI1MyIgY3k9IjQ3LjIiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTQuMyIgY3k9IjQ2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTAuOSIgY3k9IjQ1IiByeD0iMC4zIiByeT0iMC40Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik0yNC4yLDUxdi03LjZjMC4xLDAuMSwwLjgsMC45LDIuOCwzLjFjMi41LTEuNyw1LjYtMC43LDYuOSwwbDIuNC0zLjF2Ny4xCgkJCWMwLDEuMi0wLjEsMi41LTAuOSwzLjRjLTEsMS4yLTIuNywyLjUtNS4zLDIuNWMtMi45LDAtNC41LTEuNS01LjMtMi45QzI0LjIsNTIuOSwyNC4yLDUyLDI0LjIsNTF6Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDUwbDUuNCwxLjIiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTIxLjIsNTQuMWw1LjQtMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDUwbC01LjQsMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDU0LjFsLTUuNC0xLjIiLz4KCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0MwQzBCRiIgZD0iTTI5LjUsNTIuNEwyOSw1MS43Yy0wLjItMC4zLDAtMC42LDAuMy0wLjZoMS40CgkJCWMwLjMsMCwwLjUsMC40LDAuMywwLjZsLTAuNywxbDAsMGMtMC43LDEuMi0yLjYsMS4xLTMuMS0wLjNsLTAuMS0wLjJjLTAuMS0wLjIsMC0wLjQsMC4yLTAuNXMwLjQsMCwwLjUsMC4ybDAuMSwwLjIKCQkJQzI4LjMsNTIuOCwyOS4xLDUyLjksMjkuNSw1Mi40eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzIuNCw1Mi4xbC0wLjEsMC4yYy0wLjQsMS0xLjgsMS4xLTIuMywwLjIiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iMjcuNiIgY3k9IjQ5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iMzIuNCIgY3k9IjQ5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGZpbGw9IiM2QUE5REQiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE0LjYsNzEuMmMtMC4xLTAuMS0wLjItMC4yLTAuMy0wLjJINS43CgkJCWMtMC4xLDAtMC4yLDAuMS0wLjMsMC4yYy0wLjEsMC4xLTAuMSwwLjIsMCwwLjRjMC43LDIsMi41LDMuMyw0LjYsMy4zczMuOS0xLjMsNC42LTMuM0MxNC43LDcxLjUsMTQuNyw3MS4zLDE0LjYsNzEuMnogTTEwLDc0LjEKCQkJYy0xLjYsMC0zLTAuOS0zLjctMi4yaDcuM0MxMyw3My4yLDExLjYsNzQuMSwxMCw3NC4xeiIvPgoJCTxwYXRoIGZpbGw9IiM2QUE5REQiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEyLjgsNjkuNWMwLjYsMCwxLjEtMC41LDEuMS0xLjEKCQkJYzAtMC42LTAuNS0xLjItMS4xLTEuMmMtMC42LDAtMS4yLDAuNS0xLjIsMS4yQzExLjYsNjksMTIuMiw2OS41LDEyLjgsNjkuNXogTTEyLjgsNjhjMC4yLDAsMC40LDAuMiwwLjQsMC40CgkJCWMwLDAuMi0wLjIsMC40LTAuNCwwLjRjLTAuMiwwLTAuNC0wLjItMC40LTAuNEMxMi40LDY4LjEsMTIuNiw2OCwxMi44LDY4eiIvPgoJCTxwYXRoIGZpbGw9IiM2QUE5REQiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTcuMiw2OS41YzAuNiwwLDEuMi0wLjUsMS4yLTEuMQoJCQljMC0wLjYtMC41LTEuMi0xLjItMS4yYy0wLjYsMC0xLjEsMC41LTEuMSwxLjJDNi4xLDY5LDYuNiw2OS41LDcuMiw2OS41eiBNNy4yLDY4YzAuMiwwLDAuNCwwLjIsMC40LDAuNGMwLDAuMi0wLjIsMC40LTAuNCwwLjQKCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRDNi44LDY4LjEsNyw2OCw3LjIsNjh6Ii8+CgkJPHBhdGggZmlsbD0iIzZBQTlERCIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTAsNjNjLTMuOCwwLTcsMy4xLTcsN2MwLDMuOCwzLjEsNyw3LDcKCQkJczctMy4xLDctN0MxNyw2Ni4yLDEzLjgsNjMsMTAsNjN6IE0xMCw3Ni4yYy0zLjQsMC02LjItMi44LTYuMi02LjJjMC0zLjQsMi44LTYuMiw2LjItNi4yczYuMiwyLjgsNi4yLDYuMgoJCQlDMTYuMiw3My40LDEzLjQsNzYuMiwxMCw3Ni4yeiIvPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTY0LjEsNzMuNGwyLjMsMGMwLjIsMCwwLjQsMC4yLDAuNCwwLjR2Mi4xYzAsMC4yLTAuMiwwLjQtMC40LDAuNGgtMi4zCgkJCQljLTAuMiwwLTAuNC0wLjItMC40LTAuNHYtMi4xQzYzLjcsNzMuNiw2My44LDczLjQsNjQuMSw3My40eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik03My41LDczLjVoMi40YzAuMiwwLDAuNCwwLjIsMC40LDAuNHYyLjFjMCwwLjItMC4yLDAuNC0wLjQsMC40aC0yLjQKCQkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40bDAtMi4xQzczLjEsNzMuNiw3My4zLDczLjUsNzMuNSw3My41eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik02My43LDY4LjRoMTIuNnY1SDYzLjdWNjguNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNNjUuNSw2My42aDguOWMxLDAsMS45LDAuOCwxLjksMS45djMuMUg2My43di0zLjFDNjMuNyw2NC41LDY0LjUsNjMuNiw2NS41LDYzLjZ6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM2QUE5REQiIGN4PSI2Ni4yIiBjeT0iNzAuOSIgcng9IjAuOSIgcnk9IjAuOSIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNzMuOCIgY3k9IjcwLjkiIHJ4PSIwLjkiIHJ5PSIwLjkiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNOTYuNCw3MGMwLDMuNi0yLjksNi41LTYuNCw2LjVzLTYuNC0yLjktNi40LTYuNXMyLjktNi41LDYuNC02LjVTOTYuNCw2Ni40LDk2LjQsNzB6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTk2LjMsNjguNmMwLDAsMCwwLjEsMCwwLjFjLTAuOSwwLjEtMi45LDAuMS00LjYtMS4yYy0xLjEtMC44LTItMS43LTIuNi0yLjUKCQkJCWMtMC4zLTAuNC0wLjYtMC44LTAuNy0xLjFjLTAuMS0wLjEtMC4xLTAuMi0wLjEtMC4yYzAuNS0wLjEsMS4yLTAuMiwyLTAuMmMxLjIsMCwyLjUsMC4zLDMuNSwxLjFjMSwwLjgsMS43LDEuOCwyLjEsMi44CgkJCQlDOTYuMSw2Ny45LDk2LjIsNjguMyw5Ni4zLDY4LjZ6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTg0LDcyLjJjMCwwLDAtMC4xLDAtMC4xYzAuOS0wLjIsMi45LTAuNCw0LjcsMC42YzEuMSwwLjcsMS45LDEuNSwyLjQsMi4zCgkJCQljMC40LDAuNSwwLjYsMSwwLjcsMS4zYy0wLjQsMC4xLTEsMC4yLTEuNywwLjNjLTEsMC0yLjEtMC4xLTMuMi0wLjhzLTEuOS0xLjYtMi40LTIuNUM4NC4yLDcyLjgsODQuMSw3Mi40LDg0LDcyLjJ6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTE2LjMsNjYuOGwtMS40LDJsLTAuOC0wLjhsLTAuNi0wLjdsMCwwLjlsLTAuMSw4LjJoLTYuOAoJCQkJbC0wLjEtOC4ybDAtMC45bC0wLjYsMC43bC0wLjgsMC44bC0xLjQtMmwyLjYtMi45YzAuMS0wLjEsMC4yLTAuMSwwLjMtMC4xaDEuM2wwLjQsMC43YzAuNywxLjMsMi42LDEuMywzLjMtMC4xbDAuMy0wLjZoMS4yCgkJCQljMC4xLDAsMC4yLDAsMC4zLDAuMWwwLjMtMC4zbC0wLjMsMC4zTDExNi4zLDY2Ljh6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTExMC4xLDY3LjdoMnYwLjljMCwwLjQtMC40LDAuNy0xLDAuN2MtMC42LDAtMS0wLjMtMS0wLjdMMTEwLjEsNjcuN0wxMTAuMSw2Ny43eiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik0xMjYuOCw3NC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJzLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMlMxMjYuOCw3My4xLDEyNi44LDc0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEzNy42LDc0LjNjMCwxLjItMSwyLjItMi4yLDIuMmMtMS4yLDAtMi4yLTEtMi4yLTIuMnMxLTIuMiwyLjItMi4yCgkJCQlDMTM2LjYsNzIuMSwxMzcuNiw3My4xLDEzNy42LDc0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEyNi44LDY0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEzNy43LDY0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEyNi44LDYzLjVoMTAuOHYyLjdoLTEwLjhDMTI2LjgsNjYuMiwxMjYuOCw2My41LDEyNi44LDYzLjV6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik0xNzAuOCw2My4xTDE3MC44LDYzLjFjLTAuMywwLTAuNSwwLTAuOCwwYy0yLjEsMC00LDEtNS4zLDIuNWwtMC4xLDBsLTAuMS0wLjFsLTEtMS4ybC0wLjMsMy40bDMuNCwwLjMKCQkJCWwtMS4xLTEuM2wtMC4xLTAuMWwwLjEtMC4xYzEuMS0xLjQsMy0yLjMsNS0yLjFsMCwwYzMuMiwwLjMsNS41LDMuMSw1LjIsNi4zYy0wLjMsMy0zLjEsNS4zLTYuMSw1LjFjLTMuMS0wLjItNS40LTIuOS01LjMtNgoJCQkJbC0xLjMtMC4xYy0wLjIsMy44LDIuNiw3LjEsNi4zLDcuNGMzLjksMC4zLDcuMy0yLjYsNy42LTYuNUMxNzcuMiw2Ni44LDE3NC40LDYzLjUsMTcwLjgsNjMuMXoiLz4KCQkJPHBhdGggZmlsbD0iIzZBQTlERCIgZD0iTTE3MC4zLDY3LjRjMC0wLjMtMC4zLTAuNi0wLjYtMC42cy0wLjYsMC4zLTAuNiwwLjZ2My4yYzAsMC4yLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMywwLjIsMC40LDAuMgoJCQkJaDIuNGMwLjQsMCwwLjYtMC4zLDAuNi0wLjZTMTcyLjQsNzAsMTcyLDcwaC0xLjZoLTAuMnYtMC4yTDE3MC4zLDY3LjRMMTcwLjMsNjcuNHoiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNMTg2LjIsNjMuNGg3LjdjMS41LDAsMi43LDEuMiwyLjcsMi43djcuN2MwLDEuNS0xLjIsMi43LTIuNywyLjdoLTcuNwoJCQkJYy0xLjUsMC0yLjctMS4yLTIuNy0yLjd2LTcuN0MxODMuNCw2NC43LDE4NC43LDYzLjQsMTg2LjIsNjMuNHoiLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzZBQTlERCIgY3g9IjE4NiIgY3k9IjY4LjkiIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzZBQTlERCIgY3g9IjE5NCIgY3k9IjY2LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0xODYsNzMuM2wwLjQtMC4zYzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLDAuNAoJCQkJYzAuNSwwLjIsMSwwLjIsMS41LTAuMWwwLjgtMC41YzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLjgsMC44Ii8+CgkJPC9nPgoJPC9nPgoJPHBhdGggZmlsbD0iIzZBQTlERCIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2Utd2lkdGg9IjAuMjUiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE1Niw2NC4zYy0wLjItMC4xLTAuNC0wLjEtMC41LDAKCQljMCwwLTAuMiwwLjEtMC45LDAuMmMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0wLjgtMC4zLTEuNy0wLjUtMi41LTAuNWMtMC4yLDAtMC40LDAtMC41LDBjLTEuMywwLTIuNSwwLjMtMy42LDEKCQljLTAuMiwwLjEtMC4yLDAuMi0wLjIsMC40djExLjZjMCwwLjMsMC4xLDAuNSwwLjMsMC41YzAuNiwwLDAuNS0wLjQsMC41LTAuNnYtNS43YzAuNy0wLjMsMy4yLTEuMSw1LjgtMC4xCgkJYzEuNiwwLjYsMy41LDAuNyw0LjMsMC43YzAuOCwwLDEuMy0wLjMsMS4zLTAuM2MwLjItMC4xLDAuMy0wLjIsMC4zLTAuNHYtNS43QzE1Ni4yLDY0LjYsMTU2LjEsNjQuNCwxNTYsNjQuM3ogTTE1NS42LDcwLjIKCQljLTAuMSwwLTAuNywwLjEtMSwwLjFjLTAuNywwLTIuNC0wLjEtMy44LTAuNmMtMi41LTEtNS0wLjUtNi4yLTAuMXYtNC45YzAuOS0wLjUsMi4yLTAuNywzLjItMC43YzAuMSwwLDAuMywwLDAuNCwwCgkJYzAuNywwLDEuNSwwLjIsMi4yLDAuNGMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjIsMCwwLjgsMCwxLTAuMVY3MC4yeiIvPgoJPGc+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNNDguMSw2My41aDMuN2MyLjUsMCw0LjUsMiw0LjUsNC41YzAsMC41LTAuNCwwLjktMC45LDAuOUg0NC41Yy0wLjUsMC0wLjktMC40LTAuOS0wLjkKCQkJQzQzLjYsNjUuNSw0NS42LDYzLjUsNDguMSw2My41eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSw2OC44Yy0wLjIsMC4xLTAuNSwxLjIsMCwxLjVjMS40LDAuOSw4LjUsMC44LDExLjMsMC42CgkJCWMwLjgtMC4xLDEuNi0wLjQsMS43LTEuMmMwLTAuMy0wLjEtMC42LTAuNi0wLjkiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTQzLjUsNzAuNkw0My4zLDcxYy0wLjIsMC41LDAuMiwxLDAuNywwLjljMC4zLTAuMSwwLjUsMC4xLDAuNywwLjMKCQkJbDAuMSwwLjJjMC4zLDAuNSwxLDAuNiwxLjUsMC4ybDAsMGMwLjMtMC4yLDAuNy0wLjMsMS0wLjJsMC44LDAuM2MwLjQsMC4yLDAuOCwwLjEsMS4yLDBsMC41LTAuMmMwLjQtMC4yLDAuOS0wLjIsMS4zLDBsMC41LDAuMgoJCQljMC40LDAuMiwwLjgsMC4yLDEuMi0wLjFsMC4yLTAuMWMwLjMtMC4yLDAuOC0wLjIsMS4xLDAuMWwwLjIsMC4yYzAuMywwLjMsMC44LDAuMiwxLTAuMmwwLjEtMC4yYzAuMS0wLjIsMC0wLjMsMC4yLTAuMwoJCQljMC41LDAsMS4yLTAuMywxLjEtMC43bC0wLjQtMS4xIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDcyLjJjLTAuMSwwLjItMC4zLDAuOCwwLDEuMWMwLjMsMC40LDMsMS4xLDYuNCwxLjEKCQkJYzIuMiwwLDQuNi0wLjMsNi0wLjZjMC41LTAuMSwwLjktMC40LDAuOC0wLjljMC0wLjItMC4yLTAuNS0wLjQtMC43Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDczLjNjMCwwLjUsMC42LDIuMywxLjMsMi43YzEuOCwwLjgsNS43LDAuNyw4LjEsMC41CgkJCWMxLjMtMC4xLDIuNS0wLjcsMy4yLTEuOGMwLjMtMC41LDAuNS0xLDAuNS0xLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTEuNiIgY3k9IjY2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTMiIGN5PSI2NSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJCTxlbGxpcHNlIGZpbGw9IiM2QUE5REQiIGN4PSI1MyIgY3k9IjY3LjIiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTQuMyIgY3k9IjY2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTAuOSIgY3k9IjY1IiByeD0iMC4zIiByeT0iMC40Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik0yNC4yLDcxdi03LjZjMC4xLDAuMSwwLjgsMC45LDIuOCwzLjFjMi41LTEuNyw1LjYtMC43LDYuOSwwbDIuNC0zLjF2Ny4xCgkJCWMwLDEuMi0wLjEsMi41LTAuOSwzLjRjLTEsMS4yLTIuNywyLjUtNS4zLDIuNWMtMi45LDAtNC41LTEuNS01LjMtMi45QzI0LjIsNzIuOSwyNC4yLDcyLDI0LjIsNzF6Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDcwLjFsNS40LDEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMjEuMiw3NC4xbDUuNC0xLjIiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTM4LjgsNzAuMWwtNS40LDEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzguOCw3NC4xbC01LjQtMS4yIi8+CgkJPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiM2QUE5REQiIGQ9Ik0yOS41LDcyLjRMMjksNzEuN2MtMC4yLTAuMywwLTAuNiwwLjMtMC42aDEuNAoJCQljMC4zLDAsMC41LDAuNCwwLjMsMC42bC0wLjcsMWwwLDBjLTAuNywxLjItMi42LDEuMS0zLjEtMC4zbC0wLjEtMC4yYy0wLjEtMC4yLDAtMC40LDAuMi0wLjVjMC4yLTAuMSwwLjQsMCwwLjUsMC4ybDAuMSwwLjIKCQkJQzI4LjMsNzIuOCwyOS4xLDcyLjksMjkuNSw3Mi40eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzIuNCw3Mi4xbC0wLjEsMC4yYy0wLjQsMS0xLjgsMS4xLTIuMywwLjIiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iMjcuNiIgY3k9IjY5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iMzIuNCIgY3k9IjY5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCTwvZz4KPC9nPgo8Zz4KCTxwYXRoIGZpbGw9IiM4Njg2ODYiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEyLjgsOS41YzAuNiwwLDEuMS0wLjUsMS4xLTEuMgoJCWMwLTAuNi0wLjUtMS4xLTEuMS0xLjFjLTAuNiwwLTEuMiwwLjUtMS4yLDEuMVMxMi4yLDkuNSwxMi44LDkuNXogTTEyLjgsNy45YzAuMiwwLDAuNCwwLjIsMC40LDAuNGMwLDAuMi0wLjIsMC40LTAuNCwwLjQKCQljLTAuMiwwLTAuNC0wLjItMC40LTAuNEMxMi40LDguMSwxMi42LDcuOSwxMi44LDcuOXoiLz4KCTxwYXRoIGZpbGw9IiM4Njg2ODYiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTcuMiw5LjVjMC42LDAsMS4yLTAuNSwxLjItMS4yCgkJYzAtMC42LTAuNS0xLjEtMS4yLTEuMWMtMC42LDAtMS4xLDAuNS0xLjEsMS4xUzYuNiw5LjUsNy4yLDkuNXogTTcuMiw3LjljMC4yLDAsMC40LDAuMiwwLjQsMC40YzAsMC4yLTAuMiwwLjQtMC40LDAuNAoJCUM3LDguNyw2LjgsOC41LDYuOCw4LjNDNi44LDguMSw3LDcuOSw3LjIsNy45eiIvPgoJPHBhdGggZmlsbD0iIzg2ODY4NiIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTQuNiwxMS4yYy0wLjEtMC4xLTAuMi0wLjItMC4zLTAuMkg1LjcKCQljLTAuMSwwLTAuMiwwLjEtMC4zLDAuMmMtMC4xLDAuMS0wLjEsMC4yLDAsMC40YzAuNywyLDIuNSwzLjMsNC42LDMuM3MzLjktMS4zLDQuNi0zLjNDMTQuNywxMS40LDE0LjcsMTEuMywxNC42LDExLjJ6IE0xMCwxNC4xCgkJYy0xLjYsMC0zLTAuOS0zLjctMi4yaDcuM0MxMywxMy4yLDExLjYsMTQuMSwxMCwxNC4xeiIvPgoJPHBhdGggZmlsbD0iIzg2ODY4NiIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTAsM2MtMy44LDAtNywzLjEtNyw3czMuMSw3LDcsN3M3LTMuMSw3LTcKCQlTMTMuOCwzLDEwLDN6IE0xMCwxNi4yYy0zLjQsMC02LjItMi44LTYuMi02LjJTNi42LDMuOCwxMCwzLjhzNi4yLDIuOCw2LjIsNi4yUzEzLjQsMTYuMiwxMCwxNi4yeiIvPgo8L2c+CjxnIGlkPSJDYXJfMDAwMDAwMTg5MzUzOTUwODU0MTM0MTM3NTAwMDAwMDA4MjUyNzM4Nzc4NDI3NzU3MTVfIj4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik02NC4xLDEzLjRsMi4zLDBjMC4yLDAsMC40LDAuMiwwLjQsMC40djIuMWMwLDAuMi0wLjIsMC40LTAuNCwwLjRoLTIuMwoJCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjR2LTIuMUM2My43LDEzLjYsNjMuOCwxMy40LDY0LjEsMTMuNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNNzMuNSwxMy40aDIuNGMwLjIsMCwwLjQsMC4yLDAuNCwwLjR2Mi4xYzAsMC4yLTAuMiwwLjQtMC40LDAuNGgtMi40CgkJCQljLTAuMiwwLTAuNC0wLjItMC40LTAuNGwwLTIuMUM3My4xLDEzLjYsNzMuMywxMy40LDczLjUsMTMuNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNNjMuNyw4LjRoMTIuNnY1SDYzLjdWOC40eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik02NS41LDMuNmg4LjljMSwwLDEuOSwwLjgsMS45LDEuOXYzLjFINjMuN1Y1LjVDNjMuNyw0LjQsNjQuNSwzLjYsNjUuNSwzLjZ6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSI2Ni4yIiBjeT0iMTAuOSIgcng9IjAuOSIgcnk9IjAuOSIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iNzMuOCIgY3k9IjEwLjkiIHJ4PSIwLjkiIHJ5PSIwLjkiLz4KCQk8L2c+Cgk8L2c+CjwvZz4KPGcgaWQ9IkFjdGl2aXRpZXMiPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTk2LjQsMTBjMCwzLjYtMi45LDYuNS02LjQsNi41cy02LjQtMi45LTYuNC02LjVzMi45LTYuNSw2LjQtNi41Uzk2LjQsNi40LDk2LjQsMTB6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTk2LjMsOC42YzAsMCwwLDAuMSwwLDAuMWMtMC45LDAuMS0yLjksMC4xLTQuNi0xLjJjLTEuMS0wLjgtMi0xLjctMi42LTIuNQoJCQkJYy0wLjMtMC40LTAuNi0wLjgtMC43LTEuMWMtMC4xLTAuMS0wLjEtMC4yLTAuMS0wLjJjMC41LTAuMSwxLjItMC4yLDItMC4yYzEuMiwwLDIuNSwwLjMsMy41LDEuMWMxLDAuOCwxLjcsMS44LDIuMSwyLjgKCQkJCUM5Ni4xLDcuOSw5Ni4yLDguMyw5Ni4zLDguNnoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNODQsMTIuMWMwLDAsMC0wLjEsMC0wLjFjMC45LTAuMiwyLjktMC40LDQuNywwLjZjMS4xLDAuNiwxLjksMS41LDIuNCwyLjMKCQkJCWMwLjQsMC41LDAuNiwxLDAuNywxLjNjLTAuNCwwLjEtMSwwLjItMS43LDAuM2MtMSwwLTIuMS0wLjEtMy4yLTAuOGMtMS4xLTAuNi0xLjktMS42LTIuNC0yLjVDODQuMiwxMi44LDg0LjEsMTIuNCw4NCwxMi4xeiIvPgoJCTwvZz4KCTwvZz4KPC9nPgo8ZyBpZD0iT2JqZWN0c18wMDAwMDA2NDMxMjM3MTczOTEzMDMxNTI1MDAwMDAxMDIyNTg4OTAzMjIyODYzMjk3NV8iPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTE2LjMsNi44bC0xLjQsMkwxMTQuMSw4bC0wLjYtMC43bDAsMC45bC0wLjEsOC4yaC02LjhsLTAuMS04LjIKCQkJCWwwLTAuOUwxMDUuOSw4bC0wLjgsMC44bC0xLjQtMmwyLjYtMi45YzAuMS0wLjEsMC4yLTAuMSwwLjMtMC4xaDEuM2wwLjQsMC43YzAuNywxLjMsMi42LDEuMywzLjMtMC4xbDAuMy0wLjZoMS4yCgkJCQljMC4xLDAsMC4yLDAsMC4zLDAuMWwwLjMtMC4zbC0wLjMsMC4zTDExNi4zLDYuOHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNMTEwLjEsNy43aDJ2MC45YzAsMC40LTAuNCwwLjctMSwwLjdjLTAuNiwwLTEtMC4zLTEtMC43TDExMC4xLDcuN0wxMTAuMSw3Ljd6Ii8+CgkJPC9nPgoJPC9nPgo8L2c+CjxnIGlkPSJTeW1ib2xzXzAwMDAwMDk2NzQ2OTA3ODY5OTI5OTIxMTgwMDAwMDA2NDg0ODEyODMwMjgyNTgyNDE2XyI+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNMTI2LjgsMTQuM2MwLDEuMi0xLDIuMi0yLjIsMi4ycy0yLjItMS0yLjItMi4yczEtMi4yLDIuMi0yLjJTMTI2LjgsMTMuMSwxMjYuOCwxNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik0xMzcuNiwxNC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJjLTEuMiwwLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMgoJCQkJQzEzNi42LDEyLjEsMTM3LjYsMTMuMSwxMzcuNiwxNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik0xMjYuOCw0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTEzNy43LDQuNHY5LjkiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNMTI2LjgsMy41aDEwLjh2Mi43aC0xMC44QzEyNi44LDYuMiwxMjYuOCwzLjUsMTI2LjgsMy41eiIvPgoJCTwvZz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmVjZW50cyI+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0iIzg2ODY4NiIgZD0iTTE3MC44LDMuMUwxNzAuOCwzLjFjLTAuMywwLTAuNSwwLTAuOCwwYy0yLjEsMC00LDEtNS4zLDIuNWwtMC4xLDBsLTAuMS0wLjFsLTEtMS4ybC0wLjMsMy40bDMuNCwwLjMKCQkJCWwtMS4xLTEuM2wtMC4xLTAuMWwwLjEtMC4xYzEuMS0xLjQsMy0yLjMsNS0yLjFsMCwwYzMuMiwwLjMsNS41LDMuMSw1LjIsNi4zYy0wLjMsMy0zLjEsNS4zLTYuMSw1LjFjLTMuMS0wLjItNS40LTIuOS01LjMtNgoJCQkJTDE2Myw5LjVjLTAuMiwzLjgsMi42LDcuMSw2LjMsNy40YzMuOSwwLjQsNy4zLTIuNiw3LjYtNi41QzE3Ny4yLDYuOCwxNzQuNCwzLjUsMTcwLjgsMy4xeiIvPgoJCQk8cGF0aCBmaWxsPSIjODY4Njg2IiBkPSJNMTcwLjMsNy40YzAtMC4zLTAuMy0wLjYtMC42LTAuNlMxNjksNy4xLDE2OSw3LjR2My4yYzAsMC4yLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMywwLjIsMC40LDAuMgoJCQkJaDIuNGMwLjQsMCwwLjYtMC4zLDAuNi0wLjZzLTAuMy0wLjYtMC42LTAuNmgtMS42aC0wLjJWOS44TDE3MC4zLDcuNEwxNzAuMyw3LjR6Ii8+CgkJPC9nPgoJPC9nPgo8L2c+CjxnIGlkPSJDdXN0b21fMDAwMDAxODEwODcyMjk0MzQzMDIzMzY3ODAwMDAwMDUxNTIyNzc5NDU5NDA2NzQ0ODhfIj4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik0xODYuMiwzLjRoNy43YzEuNSwwLDIuNywxLjIsMi43LDIuN3Y3LjdjMCwxLjUtMS4yLDIuNy0yLjcsMi43aC03LjcKCQkJCWMtMS41LDAtMi43LTEuMi0yLjctMi43VjYuMUMxODMuNCw0LjYsMTg0LjcsMy40LDE4Ni4yLDMuNHoiLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzg2ODY4NiIgY3g9IjE4NiIgY3k9IjguOSIgcng9IjAuNyIgcnk9IjAuNyIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iMTk0IiBjeT0iNi43IiByeD0iMC43IiByeT0iMC43Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTg2LDEzLjNsMC40LTAuM2MwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMSwwLjQKCQkJCWMwLjUsMC4yLDEsMC4yLDEuNS0wLjFsMC44LTAuNWMwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMS44LDAuOCIvPgoJCTwvZz4KCTwvZz4KPC9nPgo8cGF0aCBmaWxsPSIjODY4Njg2IiBzdHJva2U9IiM4Njg2ODYiIHN0cm9rZS13aWR0aD0iMC4yNSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTU2LDQuM2MtMC4yLTAuMS0wLjQtMC4xLTAuNSwwCgljMCwwLTAuMiwwLjEtMC45LDAuMWMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0wLjgtMC4zLTEuNy0wLjUtMi41LTAuNWMtMC4yLDAtMC40LDAtMC41LDBjLTEuMywwLTIuNSwwLjMtMy42LDEKCWMtMC4yLDAuMS0wLjIsMC4yLTAuMiwwLjR2MTEuNmMwLDAuMywwLjEsMC41LDAuMywwLjVjMC42LDAsMC41LTAuNCwwLjUtMC42di01LjdjMC43LTAuMywzLjItMS4xLDUuOC0wLjFjMS42LDAuNiwzLjUsMC43LDQuMywwLjcKCWMwLjgsMCwxLjMtMC4zLDEuMy0wLjNjMC4yLTAuMSwwLjMtMC4yLDAuMy0wLjRWNC43QzE1Ni4yLDQuNSwxNTYuMSw0LjQsMTU2LDQuM3ogTTE1NS42LDEwLjJjLTAuMSwwLTAuNywwLjEtMSwwLjEKCWMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0yLjUtMS01LTAuNS02LjItMC4xVjQuN2MwLjktMC41LDIuMi0wLjcsMy4yLTAuN2MwLjEsMCwwLjMsMCwwLjQsMGMwLjcsMCwxLjUsMC4yLDIuMiwwLjQKCWMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjIsMCwwLjgsMCwxLTAuMVYxMC4yeiIvPgo8ZyBpZD0iRm9vZCI+Cgk8ZyBpZD0iTGF5ZXJfMTIiPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik00OC4xLDMuNWgzLjdjMi41LDAsNC41LDIsNC41LDQuNWMwLDAuNS0wLjQsMC45LTAuOSwwLjlINDQuNWMtMC41LDAtMC45LTAuNC0wLjktMC45CgkJCQlDNDMuNiw1LjUsNDUuNiwzLjUsNDguMSwzLjV6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSw4LjdjLTAuMiwwLjEtMC41LDEuMiwwLDEuNWMxLjQsMC45LDguNSwwLjgsMTEuMywwLjYKCQkJCWMwLjgtMC4xLDEuNi0wLjQsMS43LTEuMmMwLTAuMy0wLjEtMC42LTAuNi0wLjkiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDEwLjZMNDMuMywxMWMtMC4yLDAuNSwwLjIsMSwwLjcsMC45CgkJCQljMC4zLTAuMSwwLjUsMC4xLDAuNywwLjNsMC4xLDAuMmMwLjMsMC41LDEsMC42LDEuNSwwLjJsMCwwYzAuMy0wLjIsMC43LTAuMywxLTAuMmwwLjgsMC4zYzAuNCwwLjEsMC44LDAuMSwxLjIsMGwwLjUtMC4yCgkJCQljMC40LTAuMiwwLjktMC4yLDEuMywwbDAuNSwwLjJjMC40LDAuMiwwLjgsMC4xLDEuMi0wLjFsMC4yLTAuMWMwLjMtMC4yLDAuOC0wLjEsMS4xLDAuMWwwLjIsMC4yYzAuMywwLjMsMC44LDAuMiwxLTAuMmwwLjEtMC4yCgkJCQljMC4xLTAuMiwwLTAuMywwLjItMC40YzAuNSwwLDEuMi0wLjMsMS4xLTAuN2wtMC40LTEuMSIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTQzLjUsMTIuMWMtMC4xLDAuMi0wLjMsMC44LDAsMS4xYzAuMywwLjQsMywxLjEsNi40LDEuMQoJCQkJYzIuMiwwLDQuNi0wLjMsNi0wLjZjMC41LTAuMSwwLjktMC40LDAuOC0wLjljMC0wLjItMC4yLTAuNS0wLjQtMC43Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwxMy4zYzAsMC41LDAuNiwyLjQsMS4zLDIuNmMxLjgsMC44LDUuNywwLjcsOC4xLDAuNQoJCQkJYzEuMy0wLjEsMi41LTAuNywzLjItMS44YzAuMy0wLjUsMC41LTEsMC41LTEuNCIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iNTEuNiIgY3k9IjYuNSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iNTMiIGN5PSI0LjkiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzg2ODY4NiIgY3g9IjUzIiBjeT0iNy4yIiByeD0iMC4zIiByeT0iMC40Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSI1NC4zIiBjeT0iNi41IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSI1MC45IiBjeT0iNC45IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPC9nPgoJPC9nPgo8L2c+CjxnIGlkPSJBbmltYWxzIj4KCTxnPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTI0LjIsMTFWMy41YzAuMSwwLjEsMC44LDAuOSwyLjgsMy4xYzIuNS0xLjcsNS42LTAuNyw2LjksMGwyLjQtMy4xdjcuMQoJCQljMCwxLjItMC4xLDIuNS0wLjksMy40Yy0xLDEuMi0yLjcsMi41LTUuMywyLjVjLTIuOSwwLTQuNS0xLjUtNS4zLTIuOUMyNC4yLDEyLjksMjQuMiwxMS45LDI0LjIsMTF6Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDEwbDUuNCwxLjIiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTIxLjIsMTQuMWw1LjQtMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDEwbC01LjQsMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDE0LjFsLTUuNC0xLjIiLz4KCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iIzg2ODY4NiIgZD0iTTI5LjUsMTIuNEwyOSwxMS43Yy0wLjItMC4zLDAtMC42LDAuMy0wLjZoMS40CgkJCWMwLjMsMCwwLjUsMC40LDAuMywwLjZsLTAuNywxbDAsMGMtMC43LDEuMi0yLjYsMS4xLTMuMS0wLjNsLTAuMS0wLjJjLTAuMS0wLjIsMC0wLjQsMC4yLTAuNXMwLjQsMCwwLjUsMC4ybDAuMSwwLjIKCQkJQzI4LjMsMTIuNywyOS4xLDEyLjksMjkuNSwxMi40eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzIuNCwxMi4xbC0wLjEsMC4yYy0wLjQsMS0xLjgsMS4xLTIuMywwLjIiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iMjcuNiIgY3k9IjkuNyIgcng9IjAuNyIgcnk9IjAuNyIvPgoJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSIzMi40IiBjeT0iOS43IiByeD0iMC43IiByeT0iMC43Ii8+Cgk8L2c+CjwvZz4KPC9zdmc+)",":focus:before":{content:"",position:"absolute",top:"-2px",left:"-2px",right:"-2px",bottom:"-2px",border:"2px solid var(--epr-category-icon-active-color)",borderRadius:"50%"},"&.epr-icn-suggested":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -8)"},"&.epr-icn-custom":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -9)"},"&.epr-icn-activities":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -4)"},"&.epr-icn-animals_nature":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -1)"},"&.epr-icn-flags":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -7)"},"&.epr-icn-food_drink":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -2)"},"&.epr-icn-objects":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -5)"},"&.epr-icn-smileys_people":{backgroundPositionX:"0px"},"&.epr-icn-symbols":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -6)"},"&.epr-icn-travel_places":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -3)"}}},IW("catBtn",zH),{".epr-dark-theme":vW({},FH),".epr-auto-theme":vW({},FH)}));function UH(){var e,t,n=ci.useState(null),a=n[0],r=n[1],i=(e=yV(),t=hV(),function(n){var a;if(e.current){var r=null==(a=e.current)?void 0:a.querySelector('[data-name="'+n+'"]');if(r){var i=r.offsetTop||0;jV(t.current,i)}}});!function(e){var t=yV();ci.useEffect((function(){var n=new Map,a=t.current,r=new IntersectionObserver((function(t){if(a){for(var r,i=NW(t);!(r=i()).done;){var s=r.value,o=(c=void 0,null!=(c=null==(l=s.target)?void 0:l.getAttribute("data-name"))?c:null);n.set(o,s.intersectionRatio)}var l,c,d=Array.from(n),u=d[d.length-1];if(1==u[1])return e(u[0]);for(var f=0,m=d;f<m.length;f++){var p=m[f],h=p[0];if(p[1]){e(h);break}}}}),{threshold:[0,1]});null==a||a.querySelectorAll(CW(cW.category)).forEach((function(e){r.observe(e)}))}),[t,e])}(r);var s=rV(),o=zG(),l=wV(),c=PH();return ci.createElement("div",{className:pW(WH.nav),role:"tablist","aria-label":"Category navigation",id:"epr-category-nav-id",ref:l},o.map((function(e){var t=ZW(e),n=t===a;if(function(e){return e.category===BW.CUSTOM}(e)&&c)return null;var o=!s&&!n;return ci.createElement(OH,{key:t,category:t,isActiveCategory:n,allowNavigation:o,categoryConfig:e,onClick:function(){r(t),i(t)}})})))}var WH=SW.create({nav:{".":"epr-category-nav",display:"flex",flexDirection:"row",justifyContent:"space-around",padding:"var(--epr-header-padding)"},".epr-search-active":{nav:{opacity:"0.3",cursor:"default",pointerEvents:"none"}},".epr-main:has(input:not(:placeholder-shown))":{nav:{opacity:"0.3",cursor:"default",pointerEvents:"none"}}}),GH="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjgwcHgiIHZpZXdCb3g9IjAgMCAyMCA4MCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgODAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBmaWxsPSIjODY4Njg2IiBkPSJNNi45OCwxMy41OWMwLjEsMC4xLDAuMjQsMC4xNSwwLjM3LDAuMTVzMC4yNy0wLjA1LDAuMzctMC4xNWwyLjQyLTIuNDJsMi40MywyLjQzCgljMC4xLDAuMSwwLjI0LDAuMTUsMC4zNywwLjE1YzAuMTQsMCwwLjI3LTAuMDUsMC4zNy0wLjE1YzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1bC0yLjQzLTIuNDNMMTMuMzIsOAoJYzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1Yy0wLjIxLTAuMjEtMC41NC0wLjIxLTAuNzUsMGwtMi40MiwyLjQyTDcuNzQsNy4yN2MtMC4yMS0wLjIxLTAuNTQtMC4yMS0wLjc1LDAKCWMtMC4yMSwwLjIxLTAuMjEsMC41NCwwLDAuNzVsMi40MSwyLjQxbC0yLjQyLDIuNDJDNi43NywxMy4wNSw2Ljc3LDEzLjM5LDYuOTgsMTMuNTlMNi45OCwxMy41OXoiLz4KPHBhdGggZmlsbD0iIzg2ODY4NiIgZD0iTTEwLjE1LDE4LjQzYzQuNDEsMCw4LTMuNTksOC04YzAtNC40MS0zLjU5LTgtOC04Yy00LjQxLDAtOCwzLjU5LTgsOEMyLjE1LDE0Ljg0LDUuNzQsMTguNDMsMTAuMTUsMTguNDN6CgkgTTEwLjE1LDMuNDljMy44MywwLDYuOTQsMy4xMSw2Ljk0LDYuOTRjMCwzLjgzLTMuMTEsNi45NC02Ljk0LDYuOTRjLTMuODMsMC02Ljk0LTMuMTEtNi45NC02Ljk0QzMuMjEsNi42LDYuMzMsMy40OSwxMC4xNSwzLjQ5CglMMTAuMTUsMy40OXoiLz4KPHBhdGggZmlsbD0iIzMzNzFCNyIgZD0iTTYuOTgsMzMuNTljMC4xLDAuMSwwLjI0LDAuMTUsMC4zNywwLjE1czAuMjctMC4wNSwwLjM3LTAuMTVsMi40Mi0yLjQybDIuNDMsMi40MwoJYzAuMSwwLjEsMC4yNCwwLjE1LDAuMzcsMC4xNWMwLjE0LDAsMC4yNy0wLjA1LDAuMzctMC4xNWMwLjIxLTAuMjEsMC4yMS0wLjU0LDAtMC43NWwtMi40My0yLjQzTDEzLjMyLDI4CgljMC4yMS0wLjIxLDAuMjEtMC41NCwwLTAuNzVjLTAuMjEtMC4yMS0wLjU0LTAuMjEtMC43NSwwbC0yLjQyLDIuNDJsLTIuNDEtMi40MWMtMC4yMS0wLjIxLTAuNTQtMC4yMS0wLjc1LDAKCWMtMC4yMSwwLjIxLTAuMjEsMC41NCwwLDAuNzVsMi40MSwyLjQxbC0yLjQyLDIuNDJDNi43NywzMy4wNSw2Ljc3LDMzLjM5LDYuOTgsMzMuNTlMNi45OCwzMy41OXoiLz4KPHBhdGggZmlsbD0iIzMzNzFCNyIgZD0iTTEwLjE1LDM4LjQzYzQuNDEsMCw4LTMuNTksOC04YzAtNC40MS0zLjU5LTgtOC04Yy00LjQxLDAtOCwzLjU5LTgsOEMyLjE1LDM0Ljg0LDUuNzQsMzguNDMsMTAuMTUsMzguNDN6CgkgTTEwLjE1LDIzLjQ5YzMuODMsMCw2Ljk0LDMuMTEsNi45NCw2Ljk0YzAsMy44My0zLjExLDYuOTQtNi45NCw2Ljk0Yy0zLjgzLDAtNi45NC0zLjExLTYuOTQtNi45NAoJQzMuMjEsMjYuNiw2LjMzLDIzLjQ5LDEwLjE1LDIzLjQ5TDEwLjE1LDIzLjQ5eiIvPgo8cGF0aCBmaWxsPSIjQzBDMEJGIiBkPSJNNi45OCw1My41OWMwLjEsMC4xLDAuMjQsMC4xNSwwLjM3LDAuMTVzMC4yNy0wLjA1LDAuMzctMC4xNWwyLjQyLTIuNDJsMi40MywyLjQzCgljMC4xLDAuMSwwLjI0LDAuMTUsMC4zNywwLjE1YzAuMTQsMCwwLjI3LTAuMDUsMC4zNy0wLjE1YzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1bC0yLjQzLTIuNDNMMTMuMzIsNDgKCWMwLjIxLTAuMjEsMC4yMS0wLjU0LDAtMC43NWMtMC4yMS0wLjIxLTAuNTQtMC4yMS0wLjc1LDBsLTIuNDIsMi40MmwtMi40MS0yLjQxYy0wLjIxLTAuMjEtMC41NC0wLjIxLTAuNzUsMAoJYy0wLjIxLDAuMjEtMC4yMSwwLjU0LDAsMC43NWwyLjQxLDIuNDFsLTIuNDIsMi40MkM2Ljc3LDUzLjA1LDYuNzcsNTMuMzksNi45OCw1My41OUw2Ljk4LDUzLjU5eiIvPgo8cGF0aCBmaWxsPSIjQzBDMEJGIiBkPSJNMTAuMTUsNTguNDNjNC40MSwwLDgtMy41OSw4LThjMC00LjQxLTMuNTktOC04LThjLTQuNDEsMC04LDMuNTktOCw4QzIuMTUsNTQuODQsNS43NCw1OC40MywxMC4xNSw1OC40M3oKCSBNMTAuMTUsNDMuNDljMy44MywwLDYuOTQsMy4xMSw2Ljk0LDYuOTRjMCwzLjgzLTMuMTEsNi45NC02Ljk0LDYuOTRjLTMuODMsMC02Ljk0LTMuMTEtNi45NC02Ljk0CglDMy4yMSw0Ni42LDYuMzMsNDMuNDksMTAuMTUsNDMuNDlMMTAuMTUsNDMuNDl6Ii8+CjxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik02Ljk4LDczLjU5YzAuMSwwLjEsMC4yNCwwLjE1LDAuMzcsMC4xNXMwLjI3LTAuMDUsMC4zNy0wLjE1bDIuNDItMi40MmwyLjQzLDIuNDMKCWMwLjEsMC4xLDAuMjQsMC4xNSwwLjM3LDAuMTVjMC4xNCwwLDAuMjctMC4wNSwwLjM3LTAuMTVjMC4yMS0wLjIxLDAuMjEtMC41NCwwLTAuNzVsLTIuNDMtMi40M0wxMy4zMiw2OAoJYzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1Yy0wLjIxLTAuMjEtMC41NC0wLjIxLTAuNzUsMGwtMi40MiwyLjQybC0yLjQxLTIuNDFjLTAuMjEtMC4yMS0wLjU0LTAuMjEtMC43NSwwCgljLTAuMjEsMC4yMS0wLjIxLDAuNTQsMCwwLjc1bDIuNDEsMi40MWwtMi40MiwyLjQyQzYuNzcsNzMuMDUsNi43Nyw3My4zOSw2Ljk4LDczLjU5TDYuOTgsNzMuNTl6Ii8+CjxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik0xMC4xNSw3OC40M2M0LjQxLDAsOC0zLjU5LDgtOGMwLTQuNDEtMy41OS04LTgtOGMtNC40MSwwLTgsMy41OS04LDhDMi4xNSw3NC44NCw1Ljc0LDc4LjQzLDEwLjE1LDc4LjQzegoJIE0xMC4xNSw2My40OWMzLjgzLDAsNi45NCwzLjExLDYuOTQsNi45NGMwLDMuODMtMy4xMSw2Ljk0LTYuOTQsNi45NGMtMy44MywwLTYuOTQtMy4xMS02Ljk0LTYuOTQKCUMzLjIxLDY2LjYsNi4zMyw2My40OSwxMC4xNSw2My40OUwxMC4xNSw2My40OXoiLz4KPC9zdmc+";function VH(){var e=PV();return ci.createElement(B$,{className:pW(HH.btnClearSearch,EW.visibleOnSearchOnly),onClick:e,"aria-label":"Clear",title:"Clear"},ci.createElement("div",{className:pW(HH.icnClearnSearch)}))}var $H={":hover":{"> .epr-icn-clear-search":{backgroundPositionY:"-60px"}}},HH=SW.create(vW({btnClearSearch:{".":"epr-btn-clear-search",position:"absolute",right:"var(--epr-search-bar-inner-padding)",height:"30px",width:"30px",display:"flex",alignItems:"center",justifyContent:"center",top:"50%",transform:"translateY(-50%)",padding:"0",borderRadius:"50%",":hover":{background:"var(--epr-hover-bg-color)"},":focus":{background:"var(--epr-hover-bg-color)"}},icnClearnSearch:{".":"epr-icn-clear-search",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundSize:"20px",height:"20px",width:"20px",backgroundImage:"url("+GH+")",":hover":{backgroundPositionY:"-20px"},":focus":{backgroundPositionY:"-20px"}}},IW("icnClearnSearch",{backgroundPositionY:"-40px"}),IW("btnClearSearch",$H))),YH=CW(cW.emojiPicker)+" "+CW(cW.emojiList),qH=["button",CW(cW.emoji)].join(""),QH=CW(cW.category);function ZH(e){var t=e.value;if(!t)return null;var n=function(e){return[qH,'[data-full-name*="',FV(e),'"]'].join("")}(t);return ci.createElement("style",null,"\n    "+YH+" "+qH+" {\n      display: none;\n    }\n\n\n    "+YH+" "+n+" {\n      display: flex;\n    }\n\n    "+YH+" "+QH+":not(:has("+n+")) {\n      display: none;\n    }\n  ")}function JH(){return ci.createElement("div",{className:pW(KH.icnSearch)})}var KH=SW.create(vW({icnSearch:{".":"epr-icn-search",content:"",position:"absolute",top:"50%",left:"var(--epr-search-bar-inner-padding)",transform:"translateY(-50%)",width:"20px",height:"20px",backgroundRepeat:"no-repeat",backgroundPosition:"0 0",backgroundSize:"20px",backgroundImage:"url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjQwcHgiIHZpZXdCb3g9IjAgMCAyMCA0MCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgNDAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iIzg2ODY4NiIgZD0iTTEyLDguODFjMCwyLjA4LTEuNjgsMy43Ni0zLjc2LDMuNzZjLTIuMDgsMC0zLjc2LTEuNjgtMy43Ni0zLjc2CgljMC0yLjA4LDEuNjgtMy43NiwzLjc2LTMuNzZDMTAuMzIsNS4wNSwxMiw2LjczLDEyLDguODF6IE0xMS4yMywxMi43MmMtMC44MywwLjY0LTEuODcsMS4wMS0yLjk5LDEuMDFjLTIuNzIsMC00LjkyLTIuMi00LjkyLTQuOTIKCWMwLTIuNzIsMi4yLTQuOTIsNC45Mi00LjkyYzIuNzIsMCw0LjkyLDIuMiw0LjkyLDQuOTJjMCwxLjEzLTAuMzgsMi4xNi0xLjAxLDIuOTlsMy45NCwzLjkzYzAuMjUsMC4yNSwwLjI1LDAuNjYsMCwwLjkyCgljLTAuMjUsMC4yNS0wLjY2LDAuMjUtMC45MiwwTDExLjIzLDEyLjcyeiIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0MwQzBCRiIgZD0iTTEyLDI4LjgxYzAsMi4wOC0xLjY4LDMuNzYtMy43NiwzLjc2Yy0yLjA4LDAtMy43Ni0xLjY4LTMuNzYtMy43NgoJYzAtMi4wOCwxLjY4LTMuNzYsMy43Ni0zLjc2QzEwLjMyLDI1LjA1LDEyLDI2LjczLDEyLDI4LjgxeiBNMTEuMjMsMzIuNzJjLTAuODMsMC42NC0xLjg3LDEuMDEtMi45OSwxLjAxCgljLTIuNzIsMC00LjkyLTIuMi00LjkyLTQuOTJjMC0yLjcyLDIuMi00LjkyLDQuOTItNC45MmMyLjcyLDAsNC45MiwyLjIsNC45Miw0LjkyYzAsMS4xMy0wLjM4LDIuMTYtMS4wMSwyLjk5bDMuOTQsMy45MwoJYzAuMjUsMC4yNSwwLjI1LDAuNjYsMCwwLjkyYy0wLjI1LDAuMjUtMC42NiwwLjI1LTAuOTIsMEwxMS4yMywzMi43MnoiLz4KPC9zdmc+)"}},IW("icnSearch",{backgroundPositionY:"-20px"})));function XH(){var e=BG(),t=UV();return e?null:ci.createElement(bH,{className:pW(tY.overlay)},ci.createElement(eY,null),t?ci.createElement(IH,null):null)}function eY(){var e,t,n=ci.useState(0),a=n[0],r=n[1],i=EV(),s=vV(),o=(t=EG(),null!=(e=[t.searchPlaceHolder,t.searchPlaceholder].find((function(e){return e!==vG})))?e:vG),l=EG().autoFocusSearch,c=OV(),d=c.statusSearchResults,u=c.searchTerm,f=c.onChange,m=null==s?void 0:s.current,p=null==m?void 0:m.value;return ci.createElement(CH,{className:pW(tY.searchContainer)},ci.createElement(ZH,{value:p}),ci.createElement("input",{autoFocus:l,"aria-label":"Type to search for an emoji",onFocus:i,className:pW(tY.search),type:"text","aria-controls":"epr-search-id",placeholder:o,onChange:function(e){r(a+1),setTimeout((function(){var t,n;f(null!=(t=null==e||null==(n=e.target)?void 0:n.value)?t:p)}))},ref:s}),u?ci.createElement("div",{role:"status",className:pW("epr-status-search-results",tY.visuallyHidden),"aria-live":"polite",id:"epr-search-id","aria-atomic":"true"},d):null,ci.createElement(JH,null),ci.createElement(VH,null))}var tY=SW.create(vW({overlay:{padding:"var(--epr-header-padding)",zIndex:"var(--epr-header-overlay-z-index)"},searchContainer:{".":"epr-search-container",flex:"1",display:"block",minWidth:"0"},visuallyHidden:{clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",width:"1px"},search:{outline:"none",transition:"all 0.2s ease-in-out",color:"var(--epr-search-input-text-color)",borderRadius:"var(--epr-search-input-border-radius)",padding:"var(--epr-search-input-padding)",height:"var(--epr-search-input-height)",backgroundColor:"var(--epr-search-input-bg-color)",border:"1px solid var(--epr-search-input-bg-color)",width:"100%",":focus":{backgroundColor:"var(--epr-search-input-bg-color-active)",border:"1px solid var(--epr-search-border-color)"},"::placeholder":{color:"var(--epr-search-input-placeholder-color)"}},btnClearSearch:{".":"epr-btn-clear-search",position:"absolute",right:"var(--epr-search-bar-inner-padding)",height:"30px",width:"30px",display:"flex",alignItems:"center",justifyContent:"center",top:"50%",transform:"translateY(-50%)",padding:"0",borderRadius:"50%",":hover":{background:"var(--epr-hover-bg-color)"},":focus":{background:"var(--epr-hover-bg-color)"}},icnClearnSearch:{".":"epr-icn-clear-search",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundSize:"20px",height:"20px",width:"20px",backgroundImage:"url("+GH+")",":hover":{backgroundPositionY:"-20px"},":focus":{backgroundPositionY:"-20px"}}},IW("icnClearnSearch",{backgroundPositionY:"-40px"}),IW("btnClearSearch",{":hover > .epr-icn-clear-search":{backgroundPositionY:"-60px"}})));function nY(){return ci.createElement(CH,{className:pW("epr-header",EW.hiddenOnReactions)},ci.createElement(XH,null),ci.createElement(UH,null))}function aY(e){return ci.createElement(dV,null,ci.createElement(_W,null),ci.createElement(_G,Object.assign({},e),ci.createElement(rY,null)))}function rY(){var e=JG()[0],t=PG(),n=ci.useState(!e),a=n[0],r=n[1],i=EG().open;return ci.useEffect((function(){e&&!t||a||r(!0)}),[a,t,e]),i?ci.createElement(KV,null,ci.createElement(eH,null),ci.createElement(iY,{renderAll:a})):null}function iY(e){return e.renderAll?ci.createElement(ci.Fragment,null,ci.createElement(nY,null),ci.createElement(pH,null),ci.createElement(AH,null)):null}var sY=ci.memo(aY,LW),oY=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).state={hasError:!1},n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,bW(t,n),a.getDerivedStateFromError=function(){return{hasError:!0}};var r=a.prototype;return r.componentDidCatch=function(e,t){console.error("Emoji Picker React failed to render:",e,t)},r.render=function(){return this.state.hasError?null:this.props.children},a}(ci.Component);function lY(e){var t=function(e){var t=di.useRef({onEmojiClick:e.onEmojiClick||DG,onReactionClick:e.onReactionClick||e.onEmojiClick,onSkinToneChange:e.onSkinToneChange||DG});return di.useEffect((function(){t.current.onEmojiClick=e.onEmojiClick||DG,t.current.onReactionClick=e.onReactionClick||e.onEmojiClick}),[e.onEmojiClick,e.onReactionClick]),di.useEffect((function(){t.current.onSkinToneChange=e.onSkinToneChange||DG}),[e.onSkinToneChange]),t}({onEmojiClick:e.onEmojiClick,onReactionClick:e.onReactionClick,onSkinToneChange:e.onSkinToneChange});return ci.createElement(oY,null,ci.createElement(AG.Provider,{value:t},ci.createElement(sY,Object.assign({},e))))}const cY="powerchat_recent_emojis";function dY({isOpen:e,onClose:t,onEmojiSelect:n,anchorRef:a,className:r}){const{t:i}=sk(),s=ci.useRef(null),[o,l]=ci.useState([]),[c,d]=ci.useState({top:0,left:0}),[u,f]=ci.useState(!1);ci.useEffect((()=>{const e=()=>{f(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),ci.useEffect((()=>{try{const e=localStorage.getItem(cY);if(e){const t=JSON.parse(e);l(t.sort(((e,t)=>t.timestamp-e.timestamp)))}}catch(e){console.error("Failed to load recent emojis:",e)}}),[]);const m=ci.useCallback((e=>{try{localStorage.setItem(cY,JSON.stringify(e))}catch(t){console.error("Failed to save recent emojis:",t)}}),[]),p=ci.useCallback((e=>{l((t=>{let n;if(t.find((t=>t.emoji===e)))n=t.map((t=>t.emoji===e?{...t,timestamp:Date.now(),count:t.count+1}:t));else{n=[{emoji:e,timestamp:Date.now(),count:1},...t]}return n=n.sort(((e,t)=>t.timestamp-e.timestamp)).slice(0,24),m(n),n}))}),[m]),h=ci.useCallback((e=>{const a=e.emoji;p(a),n(a),t()}),[p,n,t]);return ci.useEffect((()=>{if(!e||!a.current||u)return;const t=()=>{if(!a.current||u)return;const e=a.current.getBoundingClientRect(),t=window.innerHeight,n=window.innerWidth;let r=320,i=400;if(s.current){const e=s.current.getBoundingClientRect();e.width>0&&(r=e.width),e.height>0&&(i=e.height)}let o,l=e.top-i-8,c=e.left;l<8&&(l=e.bottom+8,o=void 0),l+i>t-8&&(l=e.top-i-8,l<8&&(l=8)),c+r>n-8&&(c=e.right-r,c<8&&(c=n-r-8)),c<8&&(c=8),d({top:l,left:c,bottom:o})},n=setTimeout(t,10);return t(),window.addEventListener("resize",t),window.addEventListener("scroll",t),()=>{clearTimeout(n),window.removeEventListener("resize",t),window.removeEventListener("scroll",t)}}),[e,a,u]),ci.useEffect((()=>{if(!e||!a.current||!s.current||u)return;const t=setTimeout((()=>{var e;if(!a.current||u)return;const t=a.current.getBoundingClientRect(),n=null==(e=s.current)?void 0:e.getBoundingClientRect(),r=window.innerHeight,i=window.innerWidth;if(!n)return;let o=t.top-n.height-8,l=t.left;o<8&&(o=t.bottom+8),o+n.height>r-8&&(o=t.top-n.height-8,o<8&&(o=8)),l+n.width>i-8&&(l=t.right-n.width,l<8&&(l=i-n.width-8)),l<8&&(l=8),d({top:o,left:l})}),50);return()=>clearTimeout(t)}),[e,s.current,u]),ci.useEffect((()=>{if(!e)return;const n=e=>{s.current&&!s.current.contains(e.target)&&a.current&&!a.current.contains(e.target)&&t()},r=e=>{"Escape"===e.key&&t()};return document.addEventListener("mousedown",n),document.addEventListener("keydown",r),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("keydown",r)}}),[e,t,a]),e?vi.jsxs(vi.Fragment,{children:[vi.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-25 md:hidden",onClick:t}),vi.jsxs("div",{ref:s,className:iN("fixed z-50 bg-white rounded-lg shadow-xl border border-gray-200","max-w-sm md:max-w-none",u?"emoji-picker-container":"",r),style:u?{}:{position:"fixed",top:c.top,left:c.left,bottom:c.bottom,zIndex:9999},role:"dialog","aria-label":i("emoji.picker_title","Select Emoji"),"aria-modal":"true",children:[vi.jsxs("div",{className:"md:hidden flex items-center justify-between p-3 border-b border-gray-200",children:[vi.jsx("h3",{className:"text-lg font-medium text-gray-900",children:i("emoji.picker_title","Select Emoji")}),vi.jsx("button",{onClick:t,className:"p-1 rounded-md hover:bg-gray-100","aria-label":i("common.close","Close"),children:vi.jsx(fj,{className:"h-5 w-5 text-gray-500"})})]}),o.length>0&&vi.jsxs("div",{className:"p-3 border-b border-gray-200",children:[vi.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:i("emoji.recent","Recently Used")}),vi.jsx("div",{className:"grid grid-cols-8 gap-1",children:o.slice(0,16).map(((e,t)=>vi.jsx("button",{onClick:()=>h({emoji:e.emoji}),className:"w-8 h-8 flex items-center justify-center text-lg hover:bg-gray-100 rounded transition-colors",title:`${e.emoji} (used ${e.count} times)`,children:e.emoji},`${e.emoji}-${t}`)))})]}),vi.jsx("div",{className:"emoji-picker-container",children:vi.jsx(lY,{onEmojiClick:h,theme:OW.LIGHT,emojiStyle:DW.NATIVE,width:320,height:400,searchPlaceholder:i("emoji.search_placeholder","Search emojis..."),previewConfig:{showPreview:!1},skinTonesDisabled:!1,searchDisabled:!1,autoFocusSearch:!0,lazyLoadEmojis:!0,categoriesConfig:{categoryIcons:{recent:"🕒",smileys_people:"😀",animals_nature:"🐻",food_drink:"🍔",travel_places:"✈️",activities:"⚽",objects:"💡",symbols:"❤️",flags:"🏁"}}})})]})]}):null}function uY({conversationId:e}){var t;const[n,a]=ci.useState(""),[r,i]=ci.useState(!1),[s,o]=ci.useState(null),[l,c]=ci.useState(!1),[d,u]=ci.useState(!1),[f,m]=ci.useState(!1),[p,h]=ci.useState(!1),[g,x]=ci.useState(!1),[y,v]=ci.useState(0),[b,w]=ci.useState(null),[j,N]=ci.useState(null),[C,S]=ci.useState(new Uint8Array(30)),[k,M]=ci.useState(!0),_=ci.useRef(null),E=ci.useRef(null),I=ci.useRef(null),L=ci.useRef(null),A=ci.useRef([]),T=ci.useRef(null),D=ci.useRef(null),P=ci.useRef(null),O=ci.useRef(null),R=ci.useRef(null),{toast:z}=By(),{t:F}=sk(),{sendMessage:B,sendMediaMessage:U,replyToMessage:W,setReplyToMessage:G}=HO(),V=(e=100,t=!1)=>{setTimeout((()=>{if(E.current&&!p&&!l&&!d&&!f){const a=document.activeElement,r=a&&("BUTTON"===a.tagName||"INPUT"===a.tagName||"SELECT"===a.tagName||a.hasAttribute("contenteditable")||a.closest('[role="dialog"]')||a.closest('[role="menu"]')),i=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);if(t||!r&&(!i||e>150)||document.activeElement===E.current)try{E.current.focus();const e=E.current.value.length;E.current.setSelectionRange(e,e)}catch(n){console.debug("Focus error:",n)}}}),e)};ci.useEffect((()=>{E.current&&(E.current.style.height="auto",E.current.style.height=`${E.current.scrollHeight}px`)}),[n]),ci.useEffect((()=>{V(150)}),[e]),ci.useEffect((()=>{f||V(50)}),[f]),ci.useEffect((()=>{d||l||p||V(100)}),[d,l,p]),ci.useEffect((()=>{W&&(setTimeout((()=>{te()}),200),V(300,!0))}),[W]);const $=()=>{T.current&&clearInterval(T.current),T.current=window.setInterval((()=>{v((e=>e+1))}),1e3)},H=()=>{T.current&&(clearInterval(T.current),T.current=null)},Y=()=>{if(!O.current)return;const e=O.current,t=e.frequencyBinCount,n=new Uint8Array(t),a=()=>{if(!e||g)return void(g||(R.current=requestAnimationFrame(a)));e.getByteFrequencyData(n);const r=new Uint8Array(30);for(let e=0;e<30;e++)r[e]=e<t?n[e]:0;S(r),R.current=requestAnimationFrame(a)};a()},q=()=>{R.current&&(cancelAnimationFrame(R.current),R.current=null),P.current&&(P.current.close(),P.current=null),O.current=null,S(new Uint8Array(30))},Q=async()=>{try{const e=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}});D.current=e,(e=>{try{const t=window.AudioContext||window.webkitAudioContext;if(!t)return M(!1),!1;const n=new t,a=n.createAnalyser(),r=n.createMediaStreamSource(e);return a.fftSize=64,a.smoothingTimeConstant=.8,a.minDecibels=-90,a.maxDecibels=-10,r.connect(a),P.current=n,O.current=a,Y(),!0}catch(t){return console.warn("Failed to setup audio analysis:",t),M(!1),!1}})(e);const t="audio/webm",n=new MediaRecorder(e,{mimeType:t,audioBitsPerSecond:128e3});return A.current=[],n.addEventListener("dataavailable",(e=>{e.data&&e.data.size>0&&A.current.push(e.data)})),n.addEventListener("stop",(()=>{if(A.current.length>0){const e=new Blob(A.current,{type:t});w(e);const n=URL.createObjectURL(e);N(n)}q()})),L.current=n,!0}catch(e){let t=F("messages.input.microphone_access_error","Could not access microphone. Please check permissions.");return e instanceof DOMException&&("NotAllowedError"===e.name?t=F("messages.input.microphone_denied","Microphone access denied. Please allow microphone access and try again."):"NotFoundError"===e.name&&(t=F("messages.input.microphone_not_found","No microphone found. Please connect a microphone and try again."))),z({title:F("messages.input.recording_error","Recording Error"),description:t,variant:"destructive"}),!1}},Z=async()=>{w(null),N(null),v(0),x(!1),h(!0),$();await Q()&&L.current?L.current.start(100):(H(),h(!1))},J=()=>{if(L.current&&"inactive"!==L.current.state)try{L.current.stop(),H()}catch(e){}},K=()=>{if(L.current&&"inactive"!==L.current.state)try{L.current.stop()}catch(e){}D.current&&(D.current.getTracks().forEach((e=>e.stop())),D.current=null),H(),q(),h(!1),x(!1),v(0),j&&(URL.revokeObjectURL(j),N(null)),w(null),V(100)},X=async()=>{if(!n.trim()||f)return;m(!0);let t=!1;const i=!!W;try{if(W){const e=await fetch(`/api/messages/${W.id}/reply`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:n.trim()})});if(!e.ok){const t=await e.json();throw new Error(t.error||F("message_input.reply_failed","Failed to send reply"))}await e.json(),z({title:F("message_input.reply_sent","Reply sent"),description:F("message_input.reply_success","Your reply has been sent successfully"),variant:"default"}),G(null),a(""),t=!0}else await B(e,n,r),a(""),t=!0}catch(Bze){const t=Bze instanceof Error?Bze.message:F("messages.input.send_message_failed","Failed to send message");z({title:F("common.error","Error"),description:t,variant:"destructive"})}finally{if(m(!1),t){V(i?150:100)}}},ee=()=>{G(null),V(150,!0)},te=()=>{if(E.current)try{requestAnimationFrame((()=>{if(E.current){E.current.focus();const e=E.current.value.length;E.current.setSelectionRange(e,e),requestAnimationFrame((()=>{document.activeElement!==E.current&&E.current&&(E.current.focus(),E.current.click())}))}}))}catch(e){console.debug("Direct focus error:",e)}};return ci.useEffect((()=>()=>{if(L.current&&"inactive"!==L.current.state)try{L.current.stop()}catch(e){}D.current&&D.current.getTracks().forEach((e=>e.stop())),T.current&&clearInterval(T.current),q(),j&&URL.revokeObjectURL(j)}),[j]),vi.jsxs("div",{className:"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-4 transition-colors duration-200",children:[W&&vi.jsx("div",{id:"reply-context",className:"mb-3 bg-gray-50 dark:bg-gray-700 border-l-4 border-blue-500 rounded-r-md",ref:e=>{e&&E.current&&setTimeout((()=>{te()}),150)},children:vi.jsxs("div",{className:"flex items-start justify-between p-3",children:[vi.jsxs("div",{className:"flex items-start space-x-2 flex-1 min-w-0",children:[vi.jsx(Aw,{className:"h-4 w-4 text-blue-500 dark:text-blue-400 mt-0.5 flex-shrink-0"}),vi.jsxs("div",{className:"flex-1 min-w-0",children:[vi.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[vi.jsx("span",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:F("message_input.replying_to","Replying to")}),vi.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-300",children:"inbound"===W.direction?(null==(t=W.contact)?void 0:t.name)||F("common.contact","Contact"):F("common.you","You")})]}),vi.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-200 line-clamp-2",children:W.content?((e,t=100)=>e.length<=t?e:e.substring(0,t)+"...")(W.content):F("message_bubble.media_message","Media message")})]})]}),vi.jsx("button",{onClick:ee,className:"p-1 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-500 dark:text-gray-300 hover:text-gray-700 dark:hover:text-white transition-colors ml-2 flex-shrink-0",title:F("message_input.cancel_reply","Cancel reply"),"aria-label":F("message_input.cancel_reply","Cancel reply"),children:vi.jsx(fj,{className:"h-4 w-4"})})]})}),p?vi.jsxs("div",{className:"py-2",children:[vi.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 p-4 rounded-lg shadow-lg",children:[vi.jsxs("div",{className:"flex items-center",children:[vi.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200 button-scale-hover",onClick:K,title:F("common.cancel","Cancel"),children:vi.jsx("i",{className:"ri-delete-bin-line text-red-500 dark:text-red-400"})}),vi.jsx("div",{className:"text-base font-mono ml-3 text-green-600 dark:text-green-400 font-semibold",children:(e=>{const t=e%60;return`${Math.floor(e/60).toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`})(y)})]}),vi.jsx("div",{className:"flex-1 mx-4 h-8 flex items-center justify-center",children:g?vi.jsxs("div",{className:"relative w-full h-2 bg-gray-200 dark:bg-gray-600 rounded-full",children:[vi.jsx("div",{className:"absolute left-0 top-0 h-full bg-green-500 dark:bg-green-400 rounded-full",style:{width:`${Math.min(100,y/300*100)}%`}}),vi.jsx("div",{className:"absolute top-0 w-3 h-3 bg-green-500 dark:bg-green-400 rounded-full transform -translate-y-1/4",style:{left:`${Math.min(100,y/300*100)}%`,transform:"translateX(-50%)"}})]}):vi.jsx("div",{className:"flex items-center justify-center space-x-0.5 h-8 w-full",children:k?Array.from(C).map(((e,t)=>{const n=Math.max(4,Math.min(32,e/255*28+4));return vi.jsx("div",{className:"w-1 bg-green-500 dark:bg-green-400 rounded-full transition-all duration-75",style:{height:`${n}px`,opacity:e>0?1:.3}},t)})):[...Array(30)].map(((e,t)=>vi.jsx("div",{className:"w-1 bg-green-500 dark:bg-green-400 rounded-full animate-voiceWave",style:{height:"8px",animationDelay:30*t+"ms"}},t)))})}),vi.jsxs("div",{className:"flex items-center space-x-2",children:[g?vi.jsx("button",{className:"p-2 rounded-full bg-green-500 hover:bg-green-600 text-white transition-all duration-200 button-scale-hover shadow-md hover:shadow-lg",onClick:()=>{if(L.current&&g)try{"function"==typeof L.current.resume?(L.current.resume(),x(!1),$(),Y()):(K(),setTimeout(Z,100))}catch(e){K(),setTimeout(Z,100)}},title:F("messages.input.resume","Resume"),children:vi.jsx(Mw,{className:"h-5 w-5"})}):vi.jsx("button",{className:"p-2 rounded-full bg-yellow-500 hover:bg-yellow-600 text-white transition-all duration-200 button-scale-hover shadow-md hover:shadow-lg",onClick:()=>{if(L.current&&"recording"===L.current.state)try{"function"==typeof L.current.pause?(L.current.pause(),x(!0),H(),R.current&&(cancelAnimationFrame(R.current),R.current=null)):J()}catch(e){J()}},title:F("messages.input.pause","Pause"),children:vi.jsx(Nw,{className:"h-5 w-5"})}),vi.jsx("button",{className:"p-2 rounded-full bg-red-500 hover:bg-red-600 text-white transition-all duration-200 button-scale-hover shadow-md hover:shadow-lg",onClick:J,title:F("messages.input.stop","Stop"),children:vi.jsx(Vw,{className:"h-5 w-5"})}),vi.jsx("button",{className:`\n                  p-2 rounded-full transition-all duration-200 button-scale-hover shadow-md hover:shadow-lg text-white\n                  ${b?"send-button-gradient hover:shadow-xl":"bg-gray-400 dark:bg-gray-600 cursor-not-allowed opacity-50"}\n                `,onClick:async()=>{if(b)if(b.size<100)z({title:F("common.error","Error"),description:F("messages.input.recording_too_short","Recording is too short or empty"),variant:"destructive"});else try{const t=new File([b],`voice_message_${Date.now()}.webm`,{type:"audio/webm",lastModified:Date.now()});await U(e,t,"audio"),K(),z({title:F("common.success","Success"),description:F("messages.input.voice_message_sent","Voice message sent")}),V(200)}catch(t){z({title:F("common.error","Error"),description:F("messages.input.voice_message_failed","Failed to send voice message"),variant:"destructive"})}else z({title:F("common.error","Error"),description:F("messages.input.no_recording","No recording to send"),variant:"destructive"})},disabled:!b,title:F("messages.input.send","Send"),children:vi.jsx(Ow,{className:"h-5 w-5"})})]})]}),j&&vi.jsx("div",{className:"mt-3 flex justify-center",children:vi.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-lg border border-gray-200 dark:border-gray-600",children:vi.jsx("audio",{src:j,controls:!0,className:"w-full max-w-md rounded"})})})]}):vi.jsxs(vi.Fragment,{children:[vi.jsxs("div",{className:"relative flex items-center bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-full px-4 py-3 shadow-sm hover:shadow-md transition-shadow duration-200",children:[vi.jsx("button",{ref:I,className:`\n                p-2 rounded-full transition-all duration-200\n                hover:bg-gray-100 dark:hover:bg-gray-700\n                ${d?"bg-gray-100 dark:bg-gray-700":""}\n                text-gray-500 dark:text-gray-300 hover:text-gray-700 dark:hover:text-white\n                flex-shrink-0\n              `,onClick:()=>{u(!d)},title:F("messages.input.add_emoji","Add emoji"),children:vi.jsx(Ww,{className:"h-5 w-5"})}),vi.jsx("textarea",{ref:E,rows:1,placeholder:F("messages.input.type_message","Type a message..."),className:"\n                flex-1 mx-3 py-2\n                bg-transparent\n                text-gray-900 dark:text-white\n                placeholder-gray-500 dark:placeholder-gray-400\n                focus:outline-none\n                resize-none\n                max-h-32 overflow-y-auto\n                text-base\n                border-none\n              ",value:n,onChange:e=>a(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),n.trim()&&!f&&X()),"Escape"===e.key&&W&&ee()},onFocus:()=>console.log("✅ Textarea focused"),onBlur:()=>console.log("❌ Textarea blurred"),disabled:f,"aria-label":F("messages.input.type_message","Type a message..."),"aria-describedby":W?"reply-context":void 0,autoComplete:"off",autoCorrect:"on",autoCapitalize:"sentences",spellCheck:"true"}),n.trim()?vi.jsx("button",{className:`\n                  w-10 h-10 rounded-full flex items-center justify-center\n                  send-button-transition button-scale-hover button-scale-active\n                  shadow-lg hover:shadow-xl\n                  ${f?"bg-gray-400 cursor-not-allowed":"send-button-gradient"}\n                  text-white focus-ring\n                  flex-shrink-0\n                  ${!f&&n.trim()?"send-button-pulse":""}\n                `,onClick:X,disabled:f||!n.trim(),"data-tooltip":F("messages.input.send_message","Send message"),"aria-label":F("messages.input.send_message","Send message"),children:f?vi.jsx(uw,{className:"h-5 w-5 loading-spinner"}):vi.jsx("i",{className:"ri-send-plane-fill text-lg transform rotate-45 transition-transform duration-200"})}):vi.jsx("button",{className:"\n                  p-2 rounded-full transition-all duration-200\n                  hover:bg-gray-100 dark:hover:bg-gray-700\n                  text-gray-500 dark:text-gray-300 hover:text-gray-700 dark:hover:text-white\n                  button-scale-hover\n                  flex-shrink-0\n                ",onClick:Z,"data-tooltip":F("messages.input.record_voice_message","Record voice message"),"aria-label":F("messages.input.record_voice_message","Record voice message"),children:vi.jsx(vw,{className:"h-5 w-5 transition-transform duration-200 hover:scale-110"})})]}),vi.jsxs("div",{className:"flex items-center justify-between mt-3",children:[vi.jsxs("div",{className:"flex items-center space-x-1",children:[vi.jsx("button",{className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors duration-200",onClick:()=>{_.current&&_.current.click()},title:F("messages.input.attach_file","Attach file"),children:vi.jsx("i",{className:"ri-attachment-2 text-base"})}),vi.jsx("button",{className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors duration-200",onClick:()=>{_.current&&(_.current.accept="image/*",_.current.click())},title:F("messages.input.attach_image","Attach image"),children:vi.jsx("i",{className:"ri-image-line text-base"})})]}),vi.jsx("button",{className:`\n                p-2 rounded-md transition-colors duration-200\n                ${r?"bg-purple-100 dark:bg-purple-900 text-purple-600 dark:text-purple-400 hover:bg-purple-200 dark:hover:bg-purple-800":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200"}\n              `,onClick:()=>{i(!r),z({title:r?F("messages.input.bot_disabled","Bot Disabled"):F("messages.input.bot_enabled","Bot Enabled"),description:r?F("messages.input.messages_as_you","Messages will now be sent as you"):F("messages.input.messages_as_bot","Messages will now be sent as the bot assistant")})},title:r?F("messages.input.disable_bot","Disable bot"):F("messages.input.enable_bot","Enable bot"),children:vi.jsx("i",{className:"ri-robot-line text-base"})}),vi.jsx("input",{type:"file",ref:_,className:"hidden",onChange:e=>{const t=e.target.files;if(!t||0===t.length)return;const n=t[0];n.size>10485760?z({title:F("messages.input.file_too_large","File Too Large"),description:F("messages.input.max_file_size","Maximum file size is 10MB"),variant:"destructive"}):(o(n),c(!0),_.current&&(_.current.value=""))},accept:"image/*,video/*,audio/*,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,text/plain,application/zip"})]})]}),vi.jsx(QU,{isOpen:l,onClose:()=>{c(!1),o(null),V(100)},file:s,conversationId:e}),vi.jsx(dY,{isOpen:d,onClose:()=>{u(!1),V(100)},onEmojiSelect:e=>{if(!E.current)return;const t=E.current,r=t.selectionStart,i=t.selectionEnd,s=n.slice(0,r)+e+n.slice(i);a(s),setTimeout((()=>{if(t){const n=r+e.length;t.setSelectionRange(n,n),t.focus()}}),0)},anchorRef:I})]})}var fY="horizontal",mY=["horizontal","vertical"],pY=ci.forwardRef(((e,t)=>{const{decorative:n,orientation:a=fY,...r}=e,i=function(e){return mY.includes(e)}(a)?a:fY,s=n?{role:"none"}:{"aria-orientation":"vertical"===i?i:void 0,role:"separator"};return vi.jsx(ev.div,{"data-orientation":i,...s,...r,ref:t})}));pY.displayName="Separator";var hY=pY;const gY=ci.forwardRef((({className:e,orientation:t="horizontal",decorative:n=!0,...a},r)=>vi.jsx(hY,{ref:r,decorative:n,orientation:t,className:iN("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...a})));function xY({isOpen:e,onClose:t,conversationId:n,conversationName:a,isGroupChat:r,onSuccess:i}){const[s,o]=ci.useState(!1),{toast:l}=By(),{t:c}=sk(),d=()=>{s||t()};return vi.jsx(KF,{open:e,onOpenChange:d,children:vi.jsxs(aB,{className:"sm:max-w-md",children:[vi.jsx(rB,{children:vi.jsxs("div",{className:"flex items-center space-x-3",children:[vi.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:vi.jsx(Jw,{className:"h-5 w-5 text-red-600"})}),vi.jsx("div",{children:vi.jsx(sB,{className:"text-lg font-medium text-gray-900",children:r?c("clear_history.confirm_group_title","Clear Group Chat History"):c("clear_history.confirm_title","Clear Chat History")})})]})}),vi.jsxs(oB,{className:"text-sm text-gray-600 space-y-3",children:[vi.jsx("p",{children:r?c("clear_history.confirm_group_message",`Are you sure you want to clear all chat history for "${a}"? This will permanently delete all messages and media files from PowerChatPlus.`):c("clear_history.confirm_message",`Are you sure you want to clear all chat history with "${a}"? This will permanently delete all messages and media files from PowerChatPlus.`)}),vi.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3",children:vi.jsxs("div",{className:"flex items-start space-x-2",children:[vi.jsx(Jw,{className:"h-4 w-4 text-yellow-600 mt-0.5 flex-shrink-0"}),vi.jsxs("div",{className:"text-sm text-yellow-800",children:[vi.jsx("p",{className:"font-medium mb-1",children:c("clear_history.warning_title","Important:")}),vi.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[vi.jsx("li",{children:c("clear_history.warning_irreversible","This action cannot be undone")}),vi.jsx("li",{children:c("clear_history.warning_local_only","Messages will only be deleted from PowerChatPlus, not from WhatsApp")}),vi.jsx("li",{children:c("clear_history.warning_media","All associated media files will be permanently deleted")}),vi.jsx("li",{children:r?c("clear_history.warning_group_preserved","Group information and participants will be preserved"):c("clear_history.warning_contact_preserved","Contact information will be preserved")})]})]})]})})]}),vi.jsxs(iB,{className:"flex justify-end space-x-3 pt-4",children:[vi.jsx(tk,{variant:"outline",onClick:d,disabled:s,className:"min-w-[80px]",children:c("common.cancel","Cancel")}),vi.jsx(tk,{variant:"destructive",onClick:async()=>{if(!s){o(!0);try{const e=await fetch(`/api/conversations/${n}/history`,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"}});if(!e.ok){const t=await e.json();throw new Error(t.error||"Failed to clear chat history")}const a=await e.json();l({title:c("clear_history.success_title","Chat History Cleared"),description:c("clear_history.success_description",`Successfully cleared ${a.deletedMessageCount} messages and ${a.deletedMediaCount} media files.`),variant:"default"}),t(),null==i||i()}catch(Bze){const t=Bze instanceof Error?Bze.message:c("clear_history.error_generic","Failed to clear chat history");l({title:c("clear_history.error_title","Clear Failed"),description:t,variant:"destructive"})}finally{o(!1)}}},disabled:s,className:"min-w-[120px] flex items-center space-x-2",children:s?vi.jsxs(vi.Fragment,{children:[vi.jsx(uw,{className:"h-4 w-4 animate-spin"}),vi.jsx("span",{children:c("clear_history.clearing","Clearing...")})]}):vi.jsxs(vi.Fragment,{children:[vi.jsx(Yw,{className:"h-4 w-4"}),vi.jsx("span",{children:c("clear_history.clear_button","Clear History")})]})})]})]})})}function yY({contact:e,conversation:t,isOpen:n,onClose:a,onContactUpdated:r}){const[i,s]=ci.useState({name:"",email:"",phone:"",company:"",identifierType:"",identifier:"",notes:"",tags:""}),[o,l]=ci.useState(!1),[c,d]=ci.useState(!1),[u,f]=ci.useState(!1),[m,p]=ci.useState(null),[h,g]=ci.useState(null),[x,y]=ci.useState(!1),v=by(),{toast:b}=By(),{t:w}=sk(),{updateProfilePicture:j,isUpdating:N}=nF(),C=ci.useRef(null);ci.useEffect((()=>{if(e){const t={name:e.name||"",email:e.email||"",phone:e.phone||"",company:e.company||"",identifierType:e.identifierType||"",identifier:e.identifier||"",notes:e.notes||"",tags:Array.isArray(e.tags)?e.tags.join(", "):""};s(t),d(!1),p(null),g(null)}}),[e]),ci.useEffect((()=>{if(e){const t={name:e.name||"",email:e.email||"",phone:e.phone||"",company:e.company||"",identifierType:e.identifierType||"",identifier:e.identifier||"",notes:e.notes||"",tags:Array.isArray(e.tags)?e.tags.join(", "):""},n=JSON.stringify(i)!==JSON.stringify(t)||null!==m;d(n)}}),[i,e,m]);const S=My({mutationFn:async t=>{if(!(null==e?void 0:e.id))throw new Error(w("contacts.edit_dialog.contact_id_missing","Contact ID is missing"));const n=await Ey("PATCH",`/api/contacts/${e.id}`,t);if(!n.ok){const e=await n.json();throw new Error(e.message||w("contacts.edit_dialog.update_failed","Failed to update contact"))}return n.json()},onSuccess:t=>{b({title:w("contacts.edit_dialog.success_title","Contact updated"),description:w("contacts.edit_dialog.success_description","The contact has been successfully updated.")}),v.invalidateQueries({queryKey:["/api/contacts"]}),v.invalidateQueries({queryKey:["/api/conversations"]}),v.invalidateQueries({queryKey:[`/api/contacts/${null==e?void 0:e.id}`]}),r&&r(t),M()},onError:e=>{b({title:w("contacts.edit_dialog.error_title","Update failed"),description:e.message,variant:"destructive"})},onSettled:()=>{l(!1)}}),k=e=>{const{name:t,value:n}=e.target;s((e=>({...e,[t]:n})))},M=()=>{c?f(!0):a()};return e?vi.jsxs(vi.Fragment,{children:[vi.jsx(KF,{open:n,onOpenChange:M,children:vi.jsxs(aB,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto z-[9999]",children:[vi.jsx(rB,{children:vi.jsx(sB,{children:w("contacts.edit_dialog.title","Edit Contact Details")})}),vi.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),i.name.trim()?i.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)?(b({title:w("contacts.edit_dialog.validation_error","Validation error"),description:w("contacts.edit_dialog.invalid_email","Please enter a valid email address."),variant:"destructive"}),0):!i.phone||/^[\+]?[0-9\s\-\(\)]{7,20}$/.test(i.phone)||(b({title:w("contacts.edit_dialog.validation_error","Validation error"),description:w("contacts.edit_dialog.invalid_phone","Please enter a valid phone number (7-20 digits)."),variant:"destructive"}),0):(b({title:w("contacts.edit_dialog.validation_error","Validation error"),description:w("contacts.edit_dialog.name_required","Contact name is required."),variant:"destructive"}),0)){l(!0);try{const t=i.tags?i.tags.split(",").map((e=>e.trim())).filter(Boolean):[],a={...i,tags:t};if(await S.mutateAsync(a),m&&(null==e?void 0:e.id)){const t=new FormData;t.append("avatar",m);try{if(!(await fetch(`/api/contacts/${e.id}/avatar`,{method:"POST",body:t})).ok)throw new Error(w("contacts.edit_dialog.upload_profile_picture_failed","Failed to upload profile picture"));b({title:w("contacts.edit_dialog.profile_picture_updated","Profile picture updated"),description:w("contacts.edit_dialog.profile_picture_uploaded","The profile picture has been uploaded successfully.")}),v.invalidateQueries({queryKey:["/api/contacts"]}),v.invalidateQueries({queryKey:["/api/conversations"]})}catch(n){b({title:w("contacts.edit_dialog.profile_picture_upload_failed","Profile picture upload failed"),description:w("contacts.edit_dialog.contact_updated_upload_failed","Contact was updated but profile picture upload failed."),variant:"destructive"})}}}catch(n){}}},className:"space-y-6 pt-4",children:[vi.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[vi.jsx("div",{className:"relative",children:h?vi.jsxs("div",{className:"relative",children:[vi.jsx("img",{src:h,alt:w("contacts.edit_dialog.profile_preview","Profile preview"),className:"w-20 h-20 rounded-full object-cover border-2 border-gray-200"}),vi.jsx("button",{type:"button",onClick:()=>{p(null),g(null),y(!1),b({title:w("contacts.edit_dialog.image_removed","Image removed"),description:w("contacts.edit_dialog.image_removed_desc","Profile picture has been removed.")})},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:vi.jsx(fj,{className:"w-3 h-3"})})]}):vi.jsx(aF,{contact:e,connectionId:null==t?void 0:t.channelId,size:"lg",showRefreshButton:!1})}),vi.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[vi.jsx("input",{ref:C,type:"file",accept:"image/*",onChange:e=>{var t;const n=null==(t=e.target.files)?void 0:t[0];if(e.target.value="",n){y(!0);try{if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(n.type.toLowerCase()))return y(!1),void b({title:w("contacts.edit_dialog.invalid_file_type","Invalid file type"),description:w("contacts.edit_dialog.invalid_file_type_desc","Please select a valid image file (JPEG, PNG, GIF, or WebP)."),variant:"destructive"});const e=5242880;if(n.size>e){const e=(n.size/1048576).toFixed(2);return y(!1),void b({title:w("contacts.edit_dialog.file_too_large","File too large"),description:w("contacts.edit_dialog.file_too_large_desc",`File size is ${e}MB. Please select an image smaller than 5MB.`,{sizeMB:e}),variant:"destructive"})}const t=new Image,a=URL.createObjectURL(n);t.onload=()=>{URL.revokeObjectURL(a);const e=2048;if(t.width>e||t.height>e)return y(!1),void b({title:w("contacts.edit_dialog.image_too_large","Image too large"),description:w("contacts.edit_dialog.image_too_large_desc",`Image dimensions are ${t.width}x${t.height}. Please use an image smaller than 2048x2048 pixels.`,{width:t.width,height:t.height,maxDimension:e}),variant:"destructive"});p(n);const r=new FileReader;r.onload=e=>{var t;g(null==(t=e.target)?void 0:t.result),y(!1),b({title:w("contacts.edit_dialog.image_selected","Image selected"),description:w("contacts.edit_dialog.image_selected_desc","Profile picture has been selected successfully.")})},r.onerror=()=>{y(!1),b({title:w("contacts.edit_dialog.error_reading_file","Error reading file"),description:w("contacts.edit_dialog.error_reading_file_desc","Failed to read the selected image file."),variant:"destructive"})},r.readAsDataURL(n)},t.onerror=()=>{URL.revokeObjectURL(a),y(!1),b({title:w("contacts.edit_dialog.invalid_image","Invalid image"),description:w("contacts.edit_dialog.invalid_image_desc","The selected file is not a valid image."),variant:"destructive"})},t.src=a}catch(a){y(!1),b({title:w("common.error","Error"),description:w("contacts.edit_dialog.unexpected_error","An unexpected error occurred while processing the image."),variant:"destructive"})}}},className:"hidden",id:"profile-picture-upload",disabled:o||x}),vi.jsx(tk,{type:"button",variant:"outline",size:"sm",onClick:()=>{try{if(C.current)return C.current.disabled?void b({title:w("contacts.edit_dialog.upload_disabled","Upload disabled"),description:w("contacts.edit_dialog.upload_disabled_desc","File upload is currently disabled."),variant:"destructive"}):void C.current.click();const e=document.getElementById("profile-picture-upload");if(e){if(e.disabled)return void b({title:w("contacts.edit_dialog.upload_disabled","Upload disabled"),description:w("contacts.edit_dialog.upload_disabled_desc","File upload is currently disabled."),variant:"destructive"});e.click()}else b({title:w("contacts.edit_dialog.upload_error","Upload error"),description:w("contacts.edit_dialog.upload_not_available","File upload is not available. Please try refreshing the page."),variant:"destructive"})}catch(e){b({title:w("contacts.edit_dialog.upload_error","Upload error"),description:w("contacts.edit_dialog.upload_failed","Failed to open file picker. Please try again."),variant:"destructive"})}},className:"hover:bg-gray-50 transition-colors",disabled:o||x,children:x?vi.jsxs(vi.Fragment,{children:[vi.jsx(uw,{className:"w-4 h-4 mr-2 animate-spin"}),w("contacts.edit_dialog.processing","Processing...")]}):vi.jsxs(vi.Fragment,{children:[vi.jsx(ej,{className:"w-4 h-4 mr-2"}),w("contacts.edit_dialog.upload_photo","Upload Photo")]})}),("whatsapp"===(null==t?void 0:t.channelType)||"whatsapp_unofficial"===(null==t?void 0:t.channelType))&&vi.jsxs(tk,{type:"button",variant:"outline",size:"sm",onClick:()=>{(null==e?void 0:e.id)&&(null==t?void 0:t.channelId)&&j({contactId:e.id,connectionId:t.channelId})},disabled:N,children:[N?vi.jsx(uw,{className:"w-4 h-4 mr-2 animate-spin"}):vi.jsx("i",{className:"ri-whatsapp-line w-4 h-4 mr-2"}),w("contacts.edit_dialog.sync_from_whatsapp","Sync from WhatsApp")]})]})]}),vi.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"name",children:w("contacts.edit_dialog.full_name_required","Full Name *")}),vi.jsx(fB,{id:"name",name:"name",value:i.name,onChange:k,required:!0,placeholder:w("contacts.edit_dialog.enter_full_name","Enter full name")})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"email",children:w("contacts.edit_dialog.email","Email")}),vi.jsx(fB,{id:"email",name:"email",type:"email",value:i.email,onChange:k,placeholder:w("contacts.edit_dialog.enter_email","Enter email address")})]})]}),vi.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"phone",children:w("contacts.edit_dialog.phone_number","Phone Number")}),vi.jsx(fB,{id:"phone",name:"phone",value:i.phone,onChange:k,placeholder:w("contacts.edit_dialog.enter_phone","Enter phone number")})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"company",children:w("contacts.edit_dialog.company","Company")}),vi.jsx(fB,{id:"company",name:"company",value:i.company,onChange:k,placeholder:w("contacts.edit_dialog.enter_company","Enter company name")})]})]}),vi.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"identifierType",children:w("contacts.edit_dialog.primary_channel","Primary Channel")}),vi.jsxs(AU,{value:i.identifierType,onValueChange:e=>((e,t)=>{s((n=>({...n,[e]:t})))})("identifierType",e),children:[vi.jsx(PU,{children:vi.jsx(DU,{placeholder:w("contacts.edit_dialog.select_channel","Select channel")})}),vi.jsxs(zU,{children:[vi.jsx(FU,{value:"whatsapp",children:w("contacts.edit_dialog.whatsapp_official","WhatsApp Official")}),vi.jsx(FU,{value:"whatsapp_unofficial",children:w("contacts.edit_dialog.whatsapp_unofficial","WhatsApp Unofficial")}),vi.jsx(FU,{value:"messenger",children:w("contacts.edit_dialog.facebook_messenger","Facebook Messenger")}),vi.jsx(FU,{value:"instagram",children:w("contacts.edit_dialog.instagram","Instagram")})]})]})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"identifier",children:w("contacts.edit_dialog.channel_identifier","Channel Identifier")}),vi.jsx(fB,{id:"identifier",name:"identifier",value:i.identifier,onChange:k,placeholder:w("contacts.edit_dialog.phone_username_id","Phone number, username, or ID")})]})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"tags",children:w("contacts.edit_dialog.tags","Tags")}),vi.jsx(fB,{id:"tags",name:"tags",value:i.tags,onChange:k,placeholder:w("contacts.edit_dialog.enter_tags","Enter tags separated by commas (e.g., lead, customer, vip)")}),vi.jsx("p",{className:"text-sm text-gray-500",children:w("contacts.edit_dialog.tags_help","Separate multiple tags with commas")})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"notes",children:w("contacts.edit_dialog.notes","Notes")}),vi.jsx(mB,{id:"notes",name:"notes",value:i.notes,onChange:k,rows:3,placeholder:w("contacts.edit_dialog.add_notes","Add any additional notes about this contact...")})]}),vi.jsxs(iB,{className:"flex flex-col sm:flex-row gap-2",children:[vi.jsx(tk,{type:"button",variant:"outline",onClick:M,disabled:o,children:w("common.cancel","Cancel")}),vi.jsx(tk,{type:"submit",disabled:o||!c,className:"btn-brand-primary",children:o?vi.jsxs(vi.Fragment,{children:[vi.jsx(uw,{className:"w-4 h-4 mr-2 animate-spin"}),w("contacts.edit_dialog.saving","Saving...")]}):w("contacts.edit_dialog.save_changes","Save Changes")})]})]})]})}),vi.jsx(KF,{open:u,onOpenChange:f,children:vi.jsxs(aB,{className:"sm:max-w-[400px]",children:[vi.jsx(rB,{children:vi.jsx(sB,{children:w("contacts.edit_dialog.unsaved_changes","Unsaved Changes")})}),vi.jsx("p",{className:"text-sm text-gray-600",children:w("contacts.edit_dialog.unsaved_changes_message","You have unsaved changes. Are you sure you want to close without saving?")}),vi.jsxs(iB,{children:[vi.jsx(tk,{variant:"outline",onClick:()=>{f(!1)},children:w("contacts.edit_dialog.continue_editing","Continue Editing")}),vi.jsx(tk,{variant:"destructive",onClick:()=>{f(!1),a()},children:w("contacts.edit_dialog.discard_changes","Discard Changes")})]})]})})]}):null}function vY({contact:e,conversation:t,className:n}){const[a,r]=ci.useState(""),[i,s]=ci.useState(!1),[o,l]=ci.useState(!1),[c,d]=ci.useState(e),{toast:u}=By(),{t:f}=sk(),{isMobile:m,isContactDetailsOpen:p,toggleContactDetails:h}=GU(),{onMessage:g}=GO("/ws");ci.useEffect((()=>{d(e)}),[e]),ci.useEffect((()=>g("contactUpdated",(t=>{const n=t.data;n&&n.id===(null==e?void 0:e.id)&&(d(n),u({title:f("contacts.details.contact_updated_title","Contact updated"),description:f("contacts.details.contact_updated_description","Contact information has been updated.")}))}))),[g,null==e?void 0:e.id,u]);const{data:x=[]}=ky({queryKey:["/api/contacts",null==e?void 0:e.id,"notes"],enabled:!!(null==e?void 0:e.id),queryFn:async({queryKey:e})=>{const t=await fetch(`/api/contacts/${e[1]}/notes`);if(!t.ok)throw new Error(f("contacts.details.fetch_notes_failed","Failed to fetch notes"));return t.json()}});if(!e)return null;const y=(e=>{switch(e){case"whatsapp":return{icon:"ri-whatsapp-line",color:"#25D366",name:f("contacts.details.channel.whatsapp","WhatsApp")};case"whatsapp_official":return{icon:"ri-whatsapp-line",color:"#25D366",name:f("contacts.details.channel.whatsapp_business","WhatsApp Business")};case"whatsapp_unofficial":return{icon:"ri-whatsapp-line",color:"#F59E0B",name:f("contacts.details.channel.whatsapp_unofficial","WhatsApp (Unofficial)")};case"messenger":case"facebook":return{icon:"ri-messenger-line",color:"#1877F2",name:f("contacts.details.channel.messenger","Messenger")};case"instagram":return{icon:"ri-instagram-line",color:"#E4405F",name:f("contacts.details.channel.instagram","Instagram")};default:return{icon:"ri-chat-1-line",color:"#333235",name:f("contacts.details.channel.chat","Chat")}}})(null==t?void 0:t.channelType),v=(null==t?void 0:t.createdAt)?hz(new Date(t.createdAt),"PPP, p"):f("contacts.details.unknown","Unknown");return vi.jsxs(vi.Fragment,{children:[vi.jsxs("div",{className:n||(p?"flex":"hidden")+" flex-col fixed top-0 right-0 h-full z-50 lg:static lg:z-0 w-full max-w-sm sm:max-w-md lg:w-80 bg-white border-l border-gray-200 shadow-lg lg:shadow-none transition-all duration-300 ease-in-out overflow-y-auto",onClick:e=>e.stopPropagation(),children:[vi.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center lg:hidden",children:[vi.jsx("h2",{className:"font-medium text-lg",children:f("contacts.details.title","Contact Details")}),vi.jsx("button",{onClick:h,className:"p-2 rounded-md hover:bg-gray-100 min-h-[44px] min-w-[44px] flex items-center justify-center","aria-label":f("contacts.details.close_details","Close contact details"),children:vi.jsx("i",{className:"ri-close-line text-lg text-gray-600"})})]}),vi.jsxs("div",{className:"p-4 border-b border-gray-200",children:[vi.jsx("div",{className:"flex items-center justify-center mb-5",children:vi.jsx(aF,{contact:c||e,connectionId:null==t?void 0:t.channelId,size:"lg",showRefreshButton:"whatsapp"===(null==t?void 0:t.channelType)||"whatsapp_unofficial"===(null==t?void 0:t.channelType),className:"mx-auto"})}),vi.jsx("h3",{className:"font-medium mb-4",children:f("contacts.details.contact_information","Contact Information")}),vi.jsxs("div",{className:"space-y-3",children:[vi.jsxs("div",{children:[vi.jsx("p",{className:"text-xs text-gray-500",children:f("contacts.details.full_name","Full Name")}),vi.jsx("p",{className:"text-sm",children:(null==c?void 0:c.name)||(null==e?void 0:e.name)})]}),vi.jsxs("div",{children:[vi.jsx("p",{className:"text-xs text-gray-500",children:f("contacts.details.phone","Phone")}),vi.jsx("p",{className:"text-sm",children:(null==c?void 0:c.phone)||(null==e?void 0:e.phone)||f("contacts.details.not_provided","Not provided")})]}),vi.jsxs("div",{children:[vi.jsx("p",{className:"text-xs text-gray-500",children:f("contacts.details.email","Email")}),vi.jsx("p",{className:"text-sm",children:(null==c?void 0:c.email)||(null==e?void 0:e.email)||f("contacts.details.not_provided","Not provided")})]}),vi.jsxs("div",{children:[vi.jsx("p",{className:"text-xs text-gray-500",children:f("contacts.details.company","Company")}),vi.jsx("p",{className:"text-sm",children:(null==c?void 0:c.company)||(null==e?void 0:e.company)||f("contacts.details.not_provided","Not provided")})]})]}),vi.jsxs("button",{onClick:()=>{s(!0)},className:"mt-4 text-primary-600 text-sm flex items-center hover:text-primary-700 transition-colors",children:[vi.jsx("i",{className:"ri-edit-line mr-1"}),f("contacts.details.edit_details","Edit details")]})]}),vi.jsxs("div",{className:"p-4 border-b border-gray-200",children:[vi.jsx("h3",{className:"font-medium mb-4",children:f("contacts.details.tags","Tags")}),vi.jsx("div",{className:"flex flex-wrap gap-2",children:((null==c?void 0:c.tags)||(null==e?void 0:e.tags))&&((null==c?void 0:c.tags)||(null==e?void 0:e.tags)).length>0?((null==c?void 0:c.tags)||(null==e?void 0:e.tags)).map(((e,t)=>vi.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:e},t))):vi.jsx("span",{className:"text-sm text-gray-500",children:f("contacts.details.no_tags_added","No tags added")})})]}),vi.jsxs("div",{className:"p-4 border-b border-gray-200",children:[vi.jsx("h3",{className:"font-medium mb-4",children:f("contacts.details.conversation_details","Conversation Details")}),vi.jsxs("div",{className:"space-y-3",children:[vi.jsxs("div",{children:[vi.jsx("p",{className:"text-xs text-gray-500",children:f("contacts.details.first_contacted","First contacted")}),vi.jsx("p",{className:"text-sm",children:v})]}),vi.jsxs("div",{children:[vi.jsx("p",{className:"text-xs text-gray-500",children:f("contacts.details.channel","Channel")}),vi.jsxs("p",{className:"text-sm flex items-center",children:[vi.jsx("i",{className:y.icon+" mr-1",style:{color:y.color}}),y.name]})]})]})]}),vi.jsxs("div",{className:"p-4",children:[vi.jsx(gY,{className:"mb-4"}),vi.jsxs(tk,{variant:"outline",size:"sm",className:"w-full text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200",onClick:()=>l(!0),children:[vi.jsx(Yw,{className:"h-4 w-4 mr-2"}),f("clear_history.button","Clear Chat History")]})]})]}),vi.jsx(yY,{contact:c||e,conversation:t,isOpen:i,onClose:()=>{s(!1)},onContactUpdated:e=>{d(e)}}),vi.jsx(xY,{isOpen:o,onClose:()=>l(!1),conversationId:null==t?void 0:t.id,conversationName:(null==c?void 0:c.name)||(null==e?void 0:e.name)||f("contacts.details.unknown_contact","Unknown Contact"),isGroupChat:!1,onSuccess:()=>{}})]})}gY.displayName=hY.displayName;var bY="ScrollArea",[wY,jY]=$y(bY),[NY,CY]=wY(bY),SY=ci.forwardRef(((e,t)=>{const{__scopeScrollArea:n,type:a="hover",dir:r,scrollHideDelay:i=600,...s}=e,[o,l]=ci.useState(null),[c,d]=ci.useState(null),[u,f]=ci.useState(null),[m,p]=ci.useState(null),[h,g]=ci.useState(null),[x,y]=ci.useState(0),[v,b]=ci.useState(0),[w,j]=ci.useState(!1),[N,C]=ci.useState(!1),S=Vy(t,(e=>l(e))),k=iT(r);return vi.jsx(NY,{scope:n,type:a,dir:k,scrollHideDelay:i,scrollArea:o,viewport:c,onViewportChange:d,content:u,onContentChange:f,scrollbarX:m,onScrollbarXChange:p,scrollbarXEnabled:w,onScrollbarXEnabledChange:j,scrollbarY:h,onScrollbarYChange:g,scrollbarYEnabled:N,onScrollbarYEnabledChange:C,onCornerWidthChange:y,onCornerHeightChange:b,children:vi.jsx(ev.div,{dir:k,...s,ref:S,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":v+"px",...e.style}})})}));SY.displayName=bY;var kY="ScrollAreaViewport",MY=ci.forwardRef(((e,t)=>{const{__scopeScrollArea:n,children:a,nonce:r,...i}=e,s=CY(kY,n),o=Vy(t,ci.useRef(null),s.onViewportChange);return vi.jsxs(vi.Fragment,{children:[vi.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),vi.jsx(ev.div,{"data-radix-scroll-area-viewport":"",...i,ref:o,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style},children:vi.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})}));MY.displayName=kY;var _Y="ScrollAreaScrollbar",EY=ci.forwardRef(((e,t)=>{const{forceMount:n,...a}=e,r=CY(_Y,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:s}=r,o="horizontal"===e.orientation;return ci.useEffect((()=>(o?i(!0):s(!0),()=>{o?i(!1):s(!1)})),[o,i,s]),"hover"===r.type?vi.jsx(IY,{...a,ref:t,forceMount:n}):"scroll"===r.type?vi.jsx(LY,{...a,ref:t,forceMount:n}):"auto"===r.type?vi.jsx(AY,{...a,ref:t,forceMount:n}):"always"===r.type?vi.jsx(TY,{...a,ref:t}):null}));EY.displayName=_Y;var IY=ci.forwardRef(((e,t)=>{const{forceMount:n,...a}=e,r=CY(_Y,e.__scopeScrollArea),[i,s]=ci.useState(!1);return ci.useEffect((()=>{const e=r.scrollArea;let t=0;if(e){const n=()=>{window.clearTimeout(t),s(!0)},a=()=>{t=window.setTimeout((()=>s(!1)),r.scrollHideDelay)};return e.addEventListener("pointerenter",n),e.addEventListener("pointerleave",a),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",n),e.removeEventListener("pointerleave",a)}}}),[r.scrollArea,r.scrollHideDelay]),vi.jsx(gv,{present:n||i,children:vi.jsx(AY,{"data-state":i?"visible":"hidden",...a,ref:t})})})),LY=ci.forwardRef(((e,t)=>{const{forceMount:n,...a}=e,r=CY(_Y,e.__scopeScrollArea),i="horizontal"===e.orientation,s=KY((()=>l("SCROLL_END")),100),[o,l]=(c="hidden",d={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},ci.useReducer(((e,t)=>d[e][t]??e),c));var c,d;return ci.useEffect((()=>{if("idle"===o){const e=window.setTimeout((()=>l("HIDE")),r.scrollHideDelay);return()=>window.clearTimeout(e)}}),[o,r.scrollHideDelay,l]),ci.useEffect((()=>{const e=r.viewport,t=i?"scrollLeft":"scrollTop";if(e){let n=e[t];const a=()=>{const a=e[t];n!==a&&(l("SCROLL"),s()),n=a};return e.addEventListener("scroll",a),()=>e.removeEventListener("scroll",a)}}),[r.viewport,i,l,s]),vi.jsx(gv,{present:n||"hidden"!==o,children:vi.jsx(TY,{"data-state":"hidden"===o?"hidden":"visible",...a,ref:t,onPointerEnter:Uy(e.onPointerEnter,(()=>l("POINTER_ENTER"))),onPointerLeave:Uy(e.onPointerLeave,(()=>l("POINTER_LEAVE")))})})})),AY=ci.forwardRef(((e,t)=>{const n=CY(_Y,e.__scopeScrollArea),{forceMount:a,...r}=e,[i,s]=ci.useState(!1),o="horizontal"===e.orientation,l=KY((()=>{if(n.viewport){const e=n.viewport.offsetWidth<n.viewport.scrollWidth,t=n.viewport.offsetHeight<n.viewport.scrollHeight;s(o?e:t)}}),10);return XY(n.viewport,l),XY(n.content,l),vi.jsx(gv,{present:a||i,children:vi.jsx(TY,{"data-state":i?"visible":"hidden",...r,ref:t})})})),TY=ci.forwardRef(((e,t)=>{const{orientation:n="vertical",...a}=e,r=CY(_Y,e.__scopeScrollArea),i=ci.useRef(null),s=ci.useRef(0),[o,l]=ci.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=HY(o.viewport,o.content),d={...a,sizes:o,onSizesChange:l,hasThumb:Boolean(c>0&&c<1),onThumbChange:e=>i.current=e,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:e=>s.current=e};function u(e,t){return function(e,t,n,a="ltr"){const r=YY(n),i=r/2,s=t||i,o=r-s,l=n.scrollbar.paddingStart+s,c=n.scrollbar.size-n.scrollbar.paddingEnd-o,d=n.content-n.viewport,u="ltr"===a?[0,d]:[-1*d,0];return QY([l,c],u)(e)}(e,s.current,o,t)}return"horizontal"===n?vi.jsx(DY,{...d,ref:t,onThumbPositionChange:()=>{if(r.viewport&&i.current){const e=qY(r.viewport.scrollLeft,o,r.dir);i.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{r.viewport&&(r.viewport.scrollLeft=e)},onDragScroll:e=>{r.viewport&&(r.viewport.scrollLeft=u(e,r.dir))}}):"vertical"===n?vi.jsx(PY,{...d,ref:t,onThumbPositionChange:()=>{if(r.viewport&&i.current){const e=qY(r.viewport.scrollTop,o);i.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{r.viewport&&(r.viewport.scrollTop=e)},onDragScroll:e=>{r.viewport&&(r.viewport.scrollTop=u(e))}}):null})),DY=ci.forwardRef(((e,t)=>{const{sizes:n,onSizesChange:a,...r}=e,i=CY(_Y,e.__scopeScrollArea),[s,o]=ci.useState(),l=ci.useRef(null),c=Vy(t,l,i.onScrollbarXChange);return ci.useEffect((()=>{l.current&&o(getComputedStyle(l.current))}),[l]),vi.jsx(zY,{"data-orientation":"horizontal",...r,ref:c,sizes:n,style:{bottom:0,left:"rtl"===i.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===i.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":YY(n)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,n)=>{if(i.viewport){const a=i.viewport.scrollLeft+t.deltaX;e.onWheelScroll(a),ZY(a,n)&&t.preventDefault()}},onResize:()=>{l.current&&i.viewport&&s&&a({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:$Y(s.paddingLeft),paddingEnd:$Y(s.paddingRight)}})}})})),PY=ci.forwardRef(((e,t)=>{const{sizes:n,onSizesChange:a,...r}=e,i=CY(_Y,e.__scopeScrollArea),[s,o]=ci.useState(),l=ci.useRef(null),c=Vy(t,l,i.onScrollbarYChange);return ci.useEffect((()=>{l.current&&o(getComputedStyle(l.current))}),[l]),vi.jsx(zY,{"data-orientation":"vertical",...r,ref:c,sizes:n,style:{top:0,right:"ltr"===i.dir?0:void 0,left:"rtl"===i.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":YY(n)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,n)=>{if(i.viewport){const a=i.viewport.scrollTop+t.deltaY;e.onWheelScroll(a),ZY(a,n)&&t.preventDefault()}},onResize:()=>{l.current&&i.viewport&&s&&a({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:$Y(s.paddingTop),paddingEnd:$Y(s.paddingBottom)}})}})})),[OY,RY]=wY(_Y),zY=ci.forwardRef(((e,t)=>{const{__scopeScrollArea:n,sizes:a,hasThumb:r,onThumbChange:i,onThumbPointerUp:s,onThumbPointerDown:o,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:u,...f}=e,m=CY(_Y,n),[p,h]=ci.useState(null),g=Vy(t,(e=>h(e))),x=ci.useRef(null),y=ci.useRef(""),v=m.viewport,b=a.content-a.viewport,w=nv(d),j=nv(l),N=KY(u,10);function C(e){if(x.current){const t=e.clientX-x.current.left,n=e.clientY-x.current.top;c({x:t,y:n})}}return ci.useEffect((()=>{const e=e=>{const t=e.target;(null==p?void 0:p.contains(t))&&w(e,b)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})}),[v,p,b,w]),ci.useEffect(j,[a,j]),XY(p,N),XY(m.content,N),vi.jsx(OY,{scope:n,scrollbar:p,hasThumb:r,onThumbChange:nv(i),onThumbPointerUp:nv(s),onThumbPositionChange:j,onThumbPointerDown:nv(o),children:vi.jsx(ev.div,{...f,ref:g,style:{position:"absolute",...f.style},onPointerDown:Uy(e.onPointerDown,(e=>{if(0===e.button){e.target.setPointerCapture(e.pointerId),x.current=p.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),C(e)}})),onPointerMove:Uy(e.onPointerMove,C),onPointerUp:Uy(e.onPointerUp,(e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=y.current,m.viewport&&(m.viewport.style.scrollBehavior=""),x.current=null}))})})})),FY="ScrollAreaThumb",BY=ci.forwardRef(((e,t)=>{const{forceMount:n,...a}=e,r=RY(FY,e.__scopeScrollArea);return vi.jsx(gv,{present:n||r.hasThumb,children:vi.jsx(UY,{ref:t,...a})})})),UY=ci.forwardRef(((e,t)=>{const{__scopeScrollArea:n,style:a,...r}=e,i=CY(FY,n),s=RY(FY,n),{onThumbPositionChange:o}=s,l=Vy(t,(e=>s.onThumbChange(e))),c=ci.useRef(void 0),d=KY((()=>{c.current&&(c.current(),c.current=void 0)}),100);return ci.useEffect((()=>{const e=i.viewport;if(e){const t=()=>{if(d(),!c.current){const t=JY(e,o);c.current=t,o()}};return o(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}}),[i.viewport,d,o]),vi.jsx(ev.div,{"data-state":s.hasThumb?"visible":"hidden",...r,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:Uy(e.onPointerDownCapture,(e=>{const t=e.target.getBoundingClientRect(),n=e.clientX-t.left,a=e.clientY-t.top;s.onThumbPointerDown({x:n,y:a})})),onPointerUp:Uy(e.onPointerUp,s.onThumbPointerUp)})}));BY.displayName=FY;var WY="ScrollAreaCorner",GY=ci.forwardRef(((e,t)=>{const n=CY(WY,e.__scopeScrollArea),a=Boolean(n.scrollbarX&&n.scrollbarY);return"scroll"!==n.type&&a?vi.jsx(VY,{...e,ref:t}):null}));GY.displayName=WY;var VY=ci.forwardRef(((e,t)=>{const{__scopeScrollArea:n,...a}=e,r=CY(WY,n),[i,s]=ci.useState(0),[o,l]=ci.useState(0),c=Boolean(i&&o);return XY(r.scrollbarX,(()=>{var e;const t=(null==(e=r.scrollbarX)?void 0:e.offsetHeight)||0;r.onCornerHeightChange(t),l(t)})),XY(r.scrollbarY,(()=>{var e;const t=(null==(e=r.scrollbarY)?void 0:e.offsetWidth)||0;r.onCornerWidthChange(t),s(t)})),c?vi.jsx(ev.div,{...a,ref:t,style:{width:i,height:o,position:"absolute",right:"ltr"===r.dir?0:void 0,left:"rtl"===r.dir?0:void 0,bottom:0,...e.style}}):null}));function $Y(e){return e?parseInt(e,10):0}function HY(e,t){const n=e/t;return isNaN(n)?0:n}function YY(e){const t=HY(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-n)*t;return Math.max(a,18)}function qY(e,t,n="ltr"){const a=YY(t),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-r,s=t.content-t.viewport,o=i-a,l=pB(e,"ltr"===n?[0,s]:[-1*s,0]);return QY([0,s],[0,o])(l)}function QY(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(n-e[0])}}function ZY(e,t){return e>0&&e<t}var JY=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},a=0;return function r(){const i={left:e.scrollLeft,top:e.scrollTop},s=n.left!==i.left,o=n.top!==i.top;(s||o)&&t(),n=i,a=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(a)};function KY(e,t){const n=nv(e),a=ci.useRef(0);return ci.useEffect((()=>()=>window.clearTimeout(a.current)),[]),ci.useCallback((()=>{window.clearTimeout(a.current),a.current=window.setTimeout(n,t)}),[n,t])}function XY(e,t){const n=nv(t);pv((()=>{let t=0;if(e){const a=new ResizeObserver((()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(n)}));return a.observe(e),()=>{window.cancelAnimationFrame(t),a.unobserve(e)}}}),[e,n])}var eq=SY,tq=MY,nq=GY;const aq=ci.forwardRef((({className:e,children:t,...n},a)=>vi.jsxs(eq,{ref:a,className:iN("relative overflow-hidden",e),...n,children:[vi.jsx(tq,{className:"h-full w-full rounded-[inherit]",children:t}),vi.jsx(rq,{}),vi.jsx(nq,{})]})));aq.displayName=eq.displayName;const rq=ci.forwardRef((({className:e,orientation:t="vertical",...n},a)=>vi.jsx(EY,{ref:a,orientation:t,className:iN("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:vi.jsx(BY,{className:"relative flex-1 rounded-full bg-border"})})));function iq({conversation:e,className:t}){var n,a,r;const[i,s]=ci.useState(!1),[o,l]=ci.useState(null),[c,d]=ci.useState(!1),{t:u}=sk(),{isMobile:f,toggleContactDetails:m}=GU(),{setActiveConversationId:p}=HO(),{toast:h}=By(),g=e=>e.length>10?`+${e.slice(0,-10)} ${e.slice(-10,-7)} ${e.slice(-7,-4)} ${e.slice(-4)}`:e,x=(null==(a=null==(n=e.groupMetadata)?void 0:n.participants)?void 0:a.map((e=>({id:e.id,name:e.notify||null,phone:e.id.split("@")[0],isAdmin:"admin"===e.admin,isSuperAdmin:"superadmin"===e.admin,avatarUrl:null}))))||[],{data:y}=ky({queryKey:["/api/contacts"],staleTime:3e5}),v=x.map((e=>{var t;const n=null==(t=null==y?void 0:y.contacts)?void 0:t.find((t=>t.identifier===e.phone&&"whatsapp"===t.identifierType));let a=e.name;return!a&&n&&(a=n.name),a||(a=g(e.phone||"")),{...e,displayName:a,contactId:null==n?void 0:n.id}})),b=v.map((e=>e.id)),{participantPictures:w,isLoading:j,refreshParticipantPictures:N}=function({connectionId:e,participantJids:t=[],enabled:n=!0}){By();const a=by(),[r,i]=ci.useState({}),{data:s,isLoading:o,error:l,refetch:c}=ky({queryKey:["participant-profile-pictures",e,t.sort()],queryFn:async()=>{if(!e||0===t.length)return{};try{const n=await Ey("POST",`/api/whatsapp/participants-pictures/${e}`,{participantJids:t}),a=await n.json();if(a.success)return a.participants;throw new Error(a.message||"Failed to fetch participant profile pictures")}catch(n){throw console.error("Error fetching participant profile pictures:",n),n}},enabled:n&&!!e&&t.length>0,staleTime:3e5,cacheTime:18e5,retry:2,retryDelay:e=>Math.min(1e3*2**e,3e4)});ci.useEffect((()=>{s&&i((e=>({...e,...s})))}),[s]);const d=My({mutationFn:async({connectionId:e,participantJid:t})=>{try{const n=await Ey("GET",`/api/whatsapp/participant-picture/${e}/${encodeURIComponent(t)}`),a=await n.json();return a.success?{participantJid:t,url:a.url}:{participantJid:t,url:null}}catch(n){return console.error(`Error fetching profile picture for ${t}:`,n),{participantJid:t,url:null}}},onSuccess:n=>{i((e=>({...e,[n.participantJid]:n.url}))),a.setQueryData(["participant-profile-pictures",e,t.sort()],(e=>({...e,[n.participantJid]:n.url})))},onError:(e,t)=>{console.error(`Failed to fetch profile picture for ${t.participantJid}:`,e)}});return{participantPictures:r,isLoading:o,error:l,getParticipantPicture:e=>r[e]||null,fetchParticipantPicture:async t=>e?void 0!==r[t]?r[t]:(await d.mutateAsync({connectionId:e,participantJid:t})).url:null,refreshParticipantPictures:()=>{e&&t.length>0&&c()},clearParticipantCache:e=>{i((t=>{const n={...t};return e.forEach((e=>{delete n[e]})),n}))},isFetchingSingle:d.isLoading}}({connectionId:e.channelId,participantJids:b,enabled:b.length>0&&!!e.channelId}),C=v.map((e=>({...e,avatarUrl:w[e.id]||null}))),S=i?C:C.slice(0,5),k=C.length>5,M=My({mutationFn:async t=>{const n=await Ey("POST","/api/conversations/whatsapp/initiate",{name:t.displayName||t.phone,phoneNumber:t.phone,channelConnectionId:e.channelId});if(!n.ok){const e=await n.json();throw new Error(e.message||"Failed to create conversation")}return n.json()},onSuccess:(e,t)=>{var n;l(null),(null==(n=e.conversation)?void 0:n.id)&&(p(e.conversation.id),f&&m(),h({title:u("groups.private_message_started","Private conversation started"),description:u("groups.private_message_with","Started private conversation with {{name}}",{name:t.displayName||t.phone})}))},onError:(e,t)=>{l(null),h({title:u("groups.private_message_failed","Failed to start conversation"),description:e.message,variant:"destructive"})}}),_=async e=>{o!==e.id&&(l(e.id),M.mutate(e))};return vi.jsxs("div",{className:iN("h-full bg-white",t),onClick:e=>e.stopPropagation(),children:[vi.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center lg:hidden",children:[vi.jsx("h2",{className:"font-medium text-lg",children:u("groups.group_info","Group Info")}),vi.jsx("button",{onClick:m,className:"p-2 rounded-md hover:bg-gray-100 min-h-[44px] min-w-[44px] flex items-center justify-center","aria-label":u("groups.close_group_info","Close group info"),children:vi.jsx("i",{className:"ri-close-line text-lg text-gray-600"})})]}),vi.jsx("div",{className:"p-4 border-b border-gray-200",children:vi.jsxs("div",{className:"flex items-center space-x-3",children:[vi.jsx(rF,{groupName:e.groupName||"Group",groupJid:e.groupJid,connectionId:e.channelId,conversationId:e.id,groupMetadata:e.groupMetadata,size:"lg",showRefreshButton:!0}),vi.jsxs("div",{className:"flex-1 min-w-0",children:[vi.jsx("h3",{className:"text-lg font-semibold truncate",children:e.groupName||u("groups.unnamed_group","Unnamed Group")}),vi.jsxs("div",{className:"flex items-center text-sm text-gray-500 mt-1",children:[vi.jsx(oj,{className:"h-4 w-4 mr-1"}),e.groupParticipantCount||x.length," ",u("groups.participants","participants")]})]})]})}),vi.jsxs("div",{className:"p-4 space-y-4",children:[e.groupDescription&&vi.jsxs("div",{children:[vi.jsx("h4",{className:"text-sm font-medium mb-2",children:u("groups.description","Description")}),vi.jsx("p",{className:"text-sm text-muted-foreground",children:e.groupDescription})]}),vi.jsxs("div",{className:"space-y-3",children:[vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsx("span",{className:"text-sm font-medium",children:u("groups.group_id","Group ID")}),vi.jsx("span",{className:"text-sm text-muted-foreground font-mono",children:null==(r=e.groupJid)?void 0:r.split("@")[0]})]}),vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsx("span",{className:"text-sm font-medium",children:u("groups.created_date","Created")}),vi.jsx("span",{className:"text-sm text-muted-foreground",children:(E=e.groupCreatedAt,E?new Date(E).toLocaleDateString():u("common.unknown","Unknown"))})]})]}),vi.jsx(gY,{}),vi.jsx("div",{className:"space-y-2",children:vi.jsxs(tk,{variant:"outline",size:"sm",className:"w-full text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200",onClick:()=>d(!0),children:[vi.jsx(Yw,{className:"h-4 w-4 mr-2"}),u("clear_history.button","Clear Chat History")]})}),vi.jsx(gY,{}),vi.jsxs("div",{children:[vi.jsxs("div",{className:"flex items-center justify-between mb-3",children:[vi.jsxs("h4",{className:"text-sm font-medium flex items-center",children:[vi.jsx(oj,{className:"h-4 w-4 mr-2"}),u("groups.participants","Participants")," (",C.length,")"]}),vi.jsx(tk,{variant:"ghost",size:"sm",onClick:()=>{N()},disabled:j,className:"h-8 w-8 p-0",children:vi.jsx(Lw,{className:iN("h-4 w-4",j&&"animate-spin")})})]}),vi.jsx(aq,{className:"max-h-64",children:vi.jsx("div",{className:"space-y-2",children:S.map((t=>vi.jsx(VS,{children:vi.jsxs($S,{children:[vi.jsx(HS,{asChild:!0,children:vi.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-muted/50 cursor-pointer transition-colors group",onClick:()=>_(t),role:"button",tabIndex:0,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),_(t))},children:[vi.jsx(YU,{participantJid:t.id,participantName:t.displayName,connectionId:e.channelId,avatarUrl:t.avatarUrl,size:"sm",enableAutoFetch:!1}),vi.jsxs("div",{className:"flex-1 min-w-0",children:[vi.jsxs("div",{className:"flex items-center space-x-2",children:[vi.jsx("span",{className:"text-sm font-medium truncate",children:t.displayName}),t.isSuperAdmin&&vi.jsxs(ak,{variant:"destructive",className:"text-[10px] px-1.5 py-0.5 h-5",children:[vi.jsx(Vb,{className:"h-2.5 w-2.5 mr-1"}),u("groups.super_admin","Group Admin")]}),t.isAdmin&&!t.isSuperAdmin&&vi.jsxs(ak,{variant:"secondary",className:"text-[10px] px-1.5 py-0.5 h-5",children:[vi.jsx(Fw,{className:"h-2.5 w-2.5 mr-1"}),u("groups.admin","Admin")]})]}),vi.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[vi.jsx(kw,{className:"h-3 w-3 mr-1"}),g(t.phone||"")]})]}),vi.jsx("div",{className:"flex items-center space-x-2",children:o===t.id?vi.jsx(uw,{className:"h-4 w-4 animate-spin text-muted-foreground"}):vi.jsx(xw,{className:"h-4 w-4 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity"})})]})}),vi.jsx(YS,{children:vi.jsx("p",{children:u("groups.start_private_chat","Click to start private conversation with {{name}}",{name:t.displayName})})})]})},t.id)))})}),k&&vi.jsx(tk,{variant:"ghost",size:"sm",className:"w-full mt-2",onClick:()=>s(!i),children:i?vi.jsxs(vi.Fragment,{children:[vi.jsx(Lb,{className:"h-4 w-4 mr-2"}),u("groups.show_less","Show Less")]}):vi.jsxs(vi.Fragment,{children:[vi.jsx(_b,{className:"h-4 w-4 mr-2"}),u("groups.show_more","Show More")," (",C.length-5,")"]})})]})]}),vi.jsx(xY,{isOpen:c,onClose:()=>d(!1),conversationId:e.id,conversationName:e.groupName||u("groups.unnamed_group","Unnamed Group"),isGroupChat:!0,onSuccess:()=>{}})]});var E}rq.displayName=EY.displayName;const sq=({connectionId:e,status:t,onStatusChange:n,onReconnectClick:a,diagnostics:r,showDiagnostics:i=!1})=>{var s;const[o,l]=ci.useState(!1),[c,d]=ci.useState(!1),[u,f]=ci.useState(0),[m,p]=ci.useState(null);ci.useEffect((()=>{"reconnecting"===t?(f((e=>e+1)),p(new Date)):"connected"===t||"active"===t?(f(0),l(!1),d(!1)):"disconnected"===t&&(l(!1),d(!1))}),[t]);const h=(null==(s=null==t?void 0:t.toLowerCase())?void 0:s.trim())||"unknown",g="connected"===h||"active"===h,x=a&&["error","disconnected","failed","timeout","logged_out","inactive","unknown","offline","closed","qr_code"].includes(h)&&!o,y=a&&g&&!c&&!o,v=(()=>{var e;switch((null==(e=null==t?void 0:t.toLowerCase())?void 0:e.trim())||"unknown"){case"connected":case"active":return{icon:Pb,color:"text-green-600",bgColor:"bg-green-100",label:"Connected",description:"WhatsApp connection is active and ready"};case"connecting":return{icon:uw,color:"text-blue-600",bgColor:"bg-blue-100",label:"Connecting",description:"Establishing WhatsApp connection..."};case"reconnecting":return{icon:Lw,color:"text-yellow-600",bgColor:"bg-yellow-100",label:"Reconnecting",description:`Reconnecting... (Attempt ${u})`};case"qr_code":return{icon:Ub,color:"text-purple-600",bgColor:"bg-purple-100",label:"QR Code",description:"Waiting for QR code scan"};case"error":case"failed":case"timeout":return{icon:Jw,color:"text-red-600",bgColor:"bg-red-100",label:"Error",description:"Connection failed - click to retry"};case"disconnected":case"logged_out":case"inactive":return{icon:dj,color:"text-gray-600",bgColor:"bg-gray-100",label:"Disconnected",description:"WhatsApp connection is offline"};default:return{icon:dj,color:"text-orange-600",bgColor:"bg-orange-100",label:"Unknown",description:"Connection status unknown - click reconnect to restore connection"}}})(),b=v.icon;return vi.jsx(VS,{children:vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsxs($S,{children:[vi.jsx(HS,{asChild:!0,children:vi.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-md ${v.bgColor}`,children:[vi.jsx(b,{className:`h-3 w-3 ${v.color} ${"connecting"===h||"reconnecting"===h?"animate-spin":""}`}),vi.jsx("span",{className:`text-xs font-medium ${v.color}`,children:v.label})]})}),vi.jsx(YS,{children:vi.jsxs("div",{className:"text-sm",children:[vi.jsx("p",{className:"font-medium",children:v.description}),u>0&&vi.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Reconnect attempts: ",u]}),m&&vi.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last attempt: ",(()=>{if(!m)return"";const e=(new Date).getTime()-m.getTime(),t=Math.floor(e/6e4),n=Math.floor(e%6e4/1e3);return t>0?`${t}m ${n}s ago`:`${n}s ago`})()]}),r&&i&&vi.jsxs("div",{className:"mt-2 text-xs",children:[vi.jsxs("p",{children:["Health Score: ",r.healthScore,"/100"]}),vi.jsxs("p",{children:["Error Count: ",r.errorCount]})]})]})})]}),y&&vi.jsx(tk,{onClick:async()=>{if(e&&!c&&!o){d(!0);try{const t=await fetch(`/api/whatsapp/disconnect/${e}`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to disconnect WhatsApp")}Fy({title:"Disconnection successful",description:"Your WhatsApp connection has been disconnected."}),n&&n("disconnected")}catch(t){console.error("Error disconnecting WhatsApp:",t),Fy({title:"Disconnection failed",description:t instanceof Error?t.message:"Unknown error occurred",variant:"destructive"}),d(!1)}}},disabled:c,size:"sm",variant:"outline",className:"h-7 px-2 text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200",children:c?vi.jsxs(vi.Fragment,{children:[vi.jsx(uw,{className:"h-3 w-3 mr-1 animate-spin"}),vi.jsx("span",{className:"text-xs",children:"Disconnecting..."})]}):vi.jsxs(vi.Fragment,{children:[vi.jsx(Ew,{className:"h-3 w-3 mr-1"}),vi.jsx("span",{className:"text-xs",children:"Disconnect"})]})}),x&&vi.jsx(tk,{onClick:async()=>{if(e&&!o&&!c){if(a)return console.log(`Using custom reconnect handler for connection ${e}`),void a();l(!0),f((e=>e+1)),p(new Date);try{const t=await fetch(`/api/channel-connections/${e}/reconnect`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to reconnect WhatsApp")}Fy({title:"Reconnection initiated",description:`Attempting to reconnect your WhatsApp connection... (Attempt ${u+1})`}),n&&n("reconnecting")}catch(t){console.error("Error reconnecting WhatsApp:",t),Fy({title:"Reconnection failed",description:t instanceof Error?t.message:"Unknown error occurred",variant:"destructive"}),l(!1)}}},disabled:o,size:"sm",variant:"outline",className:"h-7 px-2 text-green-600 hover:text-green-700 hover:bg-green-50 border-green-200",children:o?vi.jsxs(vi.Fragment,{children:[vi.jsx(uw,{className:"h-3 w-3 mr-1 animate-spin"}),vi.jsx("span",{className:"text-xs",children:"Reconnecting..."})]}):"qr_code"===h?vi.jsxs(vi.Fragment,{children:[vi.jsx(Lw,{className:"h-3 w-3 mr-1"}),vi.jsx("span",{className:"text-xs",children:"Rescan QR"})]}):vi.jsxs(vi.Fragment,{children:[vi.jsx(Iw,{className:"h-3 w-3 mr-1"}),vi.jsx("span",{className:"text-xs",children:"Reconnect"})]})}),r&&i&&vi.jsxs($S,{children:[vi.jsx(HS,{asChild:!0,children:vi.jsxs(ak,{variant:r.healthScore>70?"default":r.healthScore>40?"secondary":"destructive",className:"text-xs",children:[r.healthScore,"%"]})}),vi.jsx(YS,{children:vi.jsxs("div",{className:"text-sm",children:[vi.jsx("p",{className:"font-medium",children:"Connection Health"}),vi.jsxs("p",{className:"text-xs text-muted-foreground",children:["Score: ",r.healthScore,"/100"]}),vi.jsxs("p",{className:"text-xs text-muted-foreground",children:["Errors: ",r.errorCount]}),r.lastError&&vi.jsxs("p",{className:"text-xs text-red-500 mt-1",children:["Last Error: ",r.lastError]})]})})]})]})})};function oq(){var e;const{activeConversationId:t,messages:n,messagesPagination:a,loadMoreMessages:r,setReplyToMessage:i}=HO(),{t:s}=sk(),o=ci.useRef(null),l=ci.useRef(null),[c,d]=ci.useState(!0),[u,f]=ci.useState(0),[m,p]=ci.useState("unknown"),[h,g]=ci.useState(null),[x,y]=ci.useState(!1),[v,b]=ci.useState(null),[w,j]=ci.useState(!1),{isMobile:N,isTablet:C,isContactDetailsOpen:S,toggleConversationList:k,toggleContactDetails:M}=GU();console.log("📱 ConversationView state:",{isMobile:N,isTablet:C,isContactDetailsOpen:S,activeConversationId:t});const{data:_,isLoading:E}=ky({queryKey:["/api/conversations",t],enabled:!!t,queryFn:async({queryKey:e})=>{const t=e[1],n=await fetch(`/api/conversations/${t}`);if(!n.ok)throw new Error("Failed to fetch conversation");return n.json()}}),I="whatsapp"===(null==_?void 0:_.channelType)||"whatsapp_unofficial"===(null==_?void 0:_.channelType),{data:L}=ky({queryKey:["/api/whatsapp/status",null==_?void 0:_.channelId],enabled:!!(null==_?void 0:_.channelId)&&I,queryFn:async({queryKey:e})=>{const t=e[1],n=await fetch(`/api/whatsapp/status/${t}`);if(!n.ok)throw new Error("Failed to fetch WhatsApp status");return n.json()},refetchInterval:3e4});ci.useEffect((()=>{L&&L.status&&p(L.status)}),[L]);const A=t&&n[t]||[];ci.useEffect((()=>{const e=l.current;if(!e)return;const n=()=>{const{scrollTop:n,scrollHeight:i,clientHeight:s}=e,o=i-n-s<100,l=n<100;if(c!==o&&d(o),l&&t&&!x){const s=a[t];if(s&&s.hasMore&&!s.loading){y(!0);const a=i;r(t).then((()=>{setTimeout((()=>{const t=e.scrollHeight-a;e.scrollTop=n+t,y(!1)}),100)})).catch((()=>{y(!1)}))}}};return e.addEventListener("scroll",n),()=>e.removeEventListener("scroll",n)}),[c,t,a,r,x]),ci.useEffect((()=>{t!==v&&(f(0),d(!0),j(!0),g(null),b(t))}),[t,v]),ci.useEffect((()=>{_&&g(_.assignedToUserId||null)}),[_]),ci.useEffect((()=>{if(w&&o.current){const e=setTimeout((()=>{o.current&&(o.current.scrollIntoView({behavior:"smooth"}),j(!1),d(!0))}),A.length>0?150:300);return()=>clearTimeout(e)}}),[A,w]),ci.useEffect((()=>{const e=A.length;e>u&&c&&!w&&o.current&&o.current.scrollIntoView({behavior:"smooth"}),f(e)}),[A,u,c,w]);const T=e=>{i(e)},D=e=>{const t=document.querySelector(`[data-external-id="${e}"]`);t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),t.classList.add("highlighted-message"),setTimeout((()=>{t.classList.remove("highlighted-message")}),2e3))};if(!t)return vi.jsxs("div",{className:"flex-1 flex flex-col bg-gray-50",children:[N&&vi.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 flex items-center justify-between px-3 py-3",style:{position:"sticky",top:0,zIndex:10},children:vi.jsxs("div",{className:"flex items-center",children:[vi.jsx("button",{onClick:k,className:"p-2 rounded-md hover:bg-gray-100 mr-2 min-h-[44px] min-w-[44px] flex items-center justify-center","aria-label":s("inbox.show_conversations","Show conversations"),children:vi.jsx("i",{className:"ri-menu-line text-lg text-gray-600"})}),vi.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:s("inbox.conversations","Conversations")})]})}),vi.jsx("div",{className:"flex-1 flex items-center justify-center",children:vi.jsxs("div",{className:"text-center p-8",children:[vi.jsx("div",{className:"mb-4 text-primary-500",children:vi.jsx("i",{className:"ri-chat-3-line text-6xl"})}),vi.jsx("h2",{className:"text-2xl text-gray-800 mb-2",children:s("inbox.no_conversation_selected","No Conversation Selected")}),vi.jsx("p",{className:"text-gray-600 mb-4",children:s("inbox.select_conversation_hint","Select a conversation from the list to view messages")}),N&&vi.jsx("button",{onClick:k,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:s("inbox.show_conversations","Show conversations")})]})})]});if(E)return vi.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50",children:vi.jsxs("div",{className:"animate-pulse space-y-4",children:[vi.jsx("div",{className:"h-8 bg-gray-200 rounded w-64"}),vi.jsx("div",{className:"h-32 bg-gray-200 rounded w-96"}),vi.jsx("div",{className:"h-8 bg-gray-200 rounded w-48"})]})});const P=null==_?void 0:_.contact,O=(e=>{switch(e){case"whatsapp":return{icon:"ri-whatsapp-line",color:"#25D366",name:s("conversations.view.channel.whatsapp","WhatsApp")};case"facebook":return{icon:"ri-messenger-line",color:"#1877F2",name:s("conversations.view.channel.messenger","Messenger")};case"instagram":return{icon:"ri-instagram-line",color:"#E4405F",name:s("conversations.view.channel.instagram","Instagram")};case"email":return{icon:"ri-mail-line",color:"#333235",name:s("conversations.view.channel.email","Email")};case"sms":return{icon:"ri-message-2-line",color:"#10B981",name:s("conversations.view.channel.sms","SMS")};case"webapp":return{icon:"ri-global-line",color:"#8B5CF6",name:s("conversations.view.channel.web_chat","Web Chat")};default:return{icon:"ri-chat-1-line",color:"#333235",name:s("conversations.view.channel.chat","Chat")}}})(null==_?void 0:_.channelType);return vi.jsxs("div",{className:"flex-1 flex flex-col bg-gray-50 overflow-hidden h-full",children:[vi.jsxs("div",{className:"top-0  bg-white border-b border-gray-200 flex items-center justify-between px-3 sm:px-4 py-3",style:{position:"sticky"},children:[vi.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[N&&vi.jsx("button",{onClick:k,className:"p-2 rounded-md hover:bg-gray-100 mr-2 min-h-[44px] min-w-[44px] flex items-center justify-center","aria-label":s("inbox.show_conversations","Show conversations"),children:vi.jsx("i",{className:"ri-menu-line text-lg text-gray-600"})}),vi.jsxs("div",{className:"relative flex-shrink-0",children:[(null==_?void 0:_.isGroup)?vi.jsx(rF,{groupName:_.groupName||"Group",groupJid:_.groupJid,connectionId:_.channelId,conversationId:_.id,groupMetadata:_.groupMetadata,size:"md",showRefreshButton:I&&"active"===m}):P?vi.jsx(aF,{contact:P,connectionId:_.channelId,size:"md",showRefreshButton:I&&"active"===m}):vi.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200"}),!(null==_?void 0:_.isGroup)&&vi.jsx("span",{className:`absolute bottom-0 right-0 block h-2.5 w-2.5 rounded-full ${(null==P?void 0:P.isActive)?"bg-green-500":"bg-gray-300"} border-2 border-white`})]}),vi.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[vi.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[vi.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 truncate",children:(null==_?void 0:_.isGroup)?_.groupName||s("groups.unnamed_group","Unnamed Group"):null==P?void 0:P.name}),"open"===(null==_?void 0:_.status)&&!h&&vi.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full bg-blue-100 text-blue-800 whitespace-nowrap",children:s("inbox.new_lead","New Lead")}),t&&!N&&vi.jsx(iF,{conversationId:t,currentAssignedUserId:h,onAssignmentChange:g,variant:"badge",size:"sm"})]}),vi.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-gray-500 mt-1",children:[vi.jsxs("span",{className:"flex items-center",children:[vi.jsx("i",{className:O.icon+" mr-1",style:{color:O.color}}),vi.jsx("span",{className:"truncate",children:O.name})]}),(null==_?void 0:_.isGroup)&&vi.jsxs(vi.Fragment,{children:[vi.jsx("span",{className:"mx-2",children:"•"}),vi.jsxs("span",{className:"truncate",children:[_.groupParticipantCount||0," ",s("groups.participants","participants")]})]}),vi.jsx("span",{className:"mx-2 hidden sm:inline",children:"•"}),vi.jsx("span",{className:"hidden sm:inline truncate",children:s("inbox.last_active_time","Last active 10 min ago")})]})]})]}),vi.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 ml-2",children:[I&&(null==_?void 0:_.channelId)&&vi.jsx(sq,{connectionId:_.channelId,status:m,onStatusChange:p}),vi.jsx("button",{onClick:M,className:"p-2 sm:p-1.5 rounded-md hover:bg-gray-100 min-h-[44px] min-w-[44px] sm:min-h-auto sm:min-w-auto flex items-center justify-center "+(S?"bg-primary-50 text-primary-600":"text-gray-600"),"aria-label":S?s("contacts.details.close_details","Close contact details"):s("contacts.details.show_details","Show contact details"),children:vi.jsx("i",{className:"ri-information-line text-lg sm:text-base"})}),vi.jsx("button",{className:"p-2 sm:p-1.5 rounded-md hover:bg-gray-100 min-h-[44px] min-w-[44px] sm:min-h-auto sm:min-w-auto flex items-center justify-center hidden sm:flex","aria-label":s("conversations.view.start_call","Start Call"),children:vi.jsx("i",{className:"ri-phone-line text-gray-600"})}),vi.jsx("button",{className:"p-2 sm:p-1.5 rounded-md hover:bg-gray-100 min-h-[44px] min-w-[44px] sm:min-h-auto sm:min-w-auto flex items-center justify-center hidden sm:flex","aria-label":s("conversations.view.schedule","Schedule"),children:vi.jsx("i",{className:"ri-calendar-line text-gray-600"})}),vi.jsx("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),M()},className:"p-2 sm:p-1.5 rounded-md hover:bg-gray-100 min-h-[44px] min-w-[44px] sm:min-h-auto sm:min-w-auto flex items-center justify-center transition-colors duration-200 "+(S?"bg-primary-50 text-primary-600":"text-gray-600"),"aria-label":S?s("contacts.details.close_details","Close contact details"):s("contacts.details.show_details","Show contact details"),children:vi.jsx("i",{className:"ri-more-2-fill transition-transform duration-200 "+(S?"rotate-90":"")})})]})]}),vi.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[vi.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden relative",children:[vi.jsxs("div",{ref:l,className:"flex-1 p-4 overflow-y-auto scroll-smooth",id:"conversation-messages",children:[t&&(null==(e=a[t])?void 0:e.loading)&&vi.jsx("div",{className:"flex justify-center mb-4",children:vi.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 bg-gray-100 px-3 py-2 rounded-full",children:[vi.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-gray-500"}),s("inbox.loading_messages","Loading more messages...")]})}),vi.jsx("div",{className:"flex justify-center mb-4",children:vi.jsx("span",{className:"text-xs bg-gray-200 text-gray-600 px-2 py-1 rounded-full",children:s("common.today","Today")})}),vi.jsx("div",{className:"flex justify-center mb-4",children:vi.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-3 py-1 rounded-full",children:s("inbox.conversation_started_via","Conversation started via {{channel}}",{channel:O.name})})}),A.filter(((e,t,n)=>t===n.findIndex((t=>t.id===e.id)))).map((e=>vi.jsx(qU,{message:e,contact:P,channelType:null==_?void 0:_.channelType,onReply:T,onQuotedMessageClick:D,conversation:_},e.id))),vi.jsx("div",{ref:o})]}),!c&&A.length>5&&vi.jsx("button",{onClick:()=>{o.current&&(o.current.scrollIntoView({behavior:"smooth"}),d(!0))},className:"absolute top-30 right-5 w-10 h-10 bg-brand-primary rounded-full shadow-md text-white flex items-center justify-center hover:bg-primary-600 transition-all z-10","aria-label":s("inbox.scroll_to_bottom","Scroll to bottom"),children:vi.jsx("i",{className:"ri-arrow-down-s-line text-lg text-white"})}),vi.jsx(uY,{conversationId:t})]}),(null==_?void 0:_.isGroup)?vi.jsx(iq,{conversation:_,className:(S?"flex":"hidden")+" flex-col fixed top-0 right-0 h-full z-50 lg:static lg:z-0 w-full max-w-sm sm:max-w-md lg:w-80 bg-white border-l border-gray-200 shadow-lg lg:shadow-none transition-all duration-300 ease-in-out overflow-y-auto"}):vi.jsx(vY,{contact:P,conversation:_,className:(S?"flex":"hidden")+" flex-col fixed top-0 right-0 h-full z-50 lg:static lg:z-0 w-full max-w-sm sm:max-w-md lg:w-80 bg-white border-l border-gray-200 shadow-lg lg:shadow-none transition-all duration-300 ease-in-out overflow-y-auto"})]})]})}function lq(){const{conversations:e,activeConversationId:t,setActiveConversationId:n,setActiveChannelId:a,activeChannelId:r}=HO(),{isMobile:i,isTablet:s,isDesktop:o,isConversationListOpen:l,isContactDetailsOpen:c,closeAllPanels:d}=GU();return ci.useEffect((()=>{const t=localStorage.getItem("selectedContactId"),a=localStorage.getItem("selectedChannelType");if(t&&a){console.log("Found selected contact in localStorage:",{selectedContactId:t,selectedChannelType:a});const r=e.find((e=>e.contactId===parseInt(t)&&e.channelType===a));r?(console.log("Setting active conversation:",r.id),n(r.id)):console.log("No conversation found for selected contact and channel type"),localStorage.removeItem("selectedContactId"),localStorage.removeItem("selectedChannelType")}}),[e,n]),vi.jsxs("div",{className:"h-screen flex flex-col overflow-hidden font-sans text-gray-800",children:[vi.jsx(WO,{}),vi.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[vi.jsx("div",{className:""+(i?"hidden":"flex"),children:vi.jsx(XO,{})}),vi.jsx("div",{className:`\n          ${i?"fixed inset-y-0 left-0 z-50 transform transition-transform duration-300 ease-in-out "+(l?"translate-x-0":"-translate-x-full"):s?""+(l?"flex":"hidden"):"flex"}\n        `,children:vi.jsx(VU,{})}),vi.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:vi.jsx(oq,{})}),i&&(l||c)&&vi.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30",onClick:e=>{e.stopPropagation(),d()}})]})]})}function cq(){return vi.jsx(WU,{children:vi.jsx(lq,{})})}const dq=ci.forwardRef((({className:e,...t},n)=>vi.jsx("div",{className:"relative w-full overflow-auto",children:vi.jsx("table",{ref:n,className:iN("w-full caption-bottom text-sm",e),...t})})));dq.displayName="Table";const uq=ci.forwardRef((({className:e,...t},n)=>vi.jsx("thead",{ref:n,className:iN("[&_tr]:border-b",e),...t})));uq.displayName="TableHeader";const fq=ci.forwardRef((({className:e,...t},n)=>vi.jsx("tbody",{ref:n,className:iN("[&_tr:last-child]:border-0",e),...t})));fq.displayName="TableBody";ci.forwardRef((({className:e,...t},n)=>vi.jsx("tfoot",{ref:n,className:iN("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}))).displayName="TableFooter";const mq=ci.forwardRef((({className:e,...t},n)=>vi.jsx("tr",{ref:n,className:iN("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t})));mq.displayName="TableRow";const pq=ci.forwardRef((({className:e,...t},n)=>vi.jsx("th",{ref:n,className:iN("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t})));pq.displayName="TableHead";const hq=ci.forwardRef((({className:e,...t},n)=>vi.jsx("td",{ref:n,className:iN("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t})));hq.displayName="TableCell";function gq({flowId:e,flowName:t}){const{toast:n}=By(),{t:a}=sk(),[r,i]=ci.useState(!1),{data:s,isLoading:o}=ky({queryKey:["/api/channels"],queryFn:async()=>{const e=await fetch("/api/channels");if(!e.ok)throw new Error("Failed to load channels");return e.json()},enabled:r}),{data:l,isLoading:c}=ky({queryKey:["/api/flow-assignments",{flowId:e}],queryFn:async()=>{const t=await fetch(`/api/flow-assignments?flowId=${e}`);if(!t.ok)throw new Error("Failed to load assignments");return t.json()},enabled:r}),d=My({mutationFn:async e=>(await Ey("POST","/api/flow-assignments",e)).json(),onSuccess:()=>{Ly.invalidateQueries({queryKey:["/api/flow-assignments"]}),n({title:a("flows.flow_assigned","Flow assigned"),description:a("flows.flow_assigned_success","Flow has been assigned to channel successfully.")})},onError:e=>{n({title:a("flows.error_assigning_flow","Error assigning flow"),description:e.message||a("common.something_went_wrong","Something went wrong"),variant:"destructive"})}}),u=My({mutationFn:async({id:e,isActive:t})=>(await Ey("PATCH",`/api/flow-assignments/${e}/status`,{isActive:t})).json(),onSuccess:()=>{Ly.invalidateQueries({queryKey:["/api/flow-assignments"]}),n({title:a("flows.assignment_updated","Assignment updated"),description:a("flows.assignment_updated_success","Flow assignment status has been updated.")})},onError:e=>{n({title:a("flows.error_updating_assignment","Error updating assignment"),description:e.message||a("common.something_went_wrong","Something went wrong"),variant:"destructive"})}}),f=e=>{const t=null==s?void 0:s.find((t=>t.id===e));return t?`${t.accountName} (${t.channelType})`:"Unknown channel"};return vi.jsxs(KF,{open:r,onOpenChange:i,children:[vi.jsx(XF,{asChild:!0,children:vi.jsxs(tk,{variant:"outline",size:"sm",children:[vi.jsx(Sb,{className:"h-4 w-4 mr-2"}),a("flows.assign","Assign")]})}),vi.jsxs(aB,{className:"sm:max-w-[500px]",children:[vi.jsxs(rB,{children:[vi.jsx(sB,{children:a("flows.manage_flow_assignments","Manage Flow Assignments")}),vi.jsx(oB,{children:a("flows.assign_flow_description",'Assign "{{flowName}}" to channels and manage active assignments.',{flowName:t})})]}),o||c?vi.jsx("div",{className:"flex justify-center p-4",children:vi.jsx(uw,{className:"h-6 w-6 animate-spin text-primary"})}):vi.jsxs("div",{className:"space-y-4 max-h-[400px] overflow-y-auto",children:[vi.jsxs("div",{children:[vi.jsx("h3",{className:"text-sm font-medium mb-2",children:a("flows.active_assignments","Active Assignments")}),l&&l.length>0?vi.jsxs(dq,{children:[vi.jsx(uq,{children:vi.jsxs(mq,{children:[vi.jsx(pq,{children:a("flows.channel","Channel")}),vi.jsx(pq,{children:a("flows.status","Status")}),vi.jsx(pq,{children:a("flows.actions","Actions")})]})}),vi.jsx(fq,{children:l.map((e=>vi.jsxs(mq,{children:[vi.jsx(hq,{children:f(e.channelId)}),vi.jsx(hq,{children:vi.jsx(ak,{variant:e.isActive?"default":"outline",children:e.isActive?a("flows.active","Active"):a("flows.inactive","Inactive")})}),vi.jsx(hq,{children:vi.jsx(tk,{variant:"ghost",size:"sm",onClick:()=>(async(e,t)=>{try{await u.mutateAsync({id:e,isActive:t})}catch(n){console.error("Error updating assignment status:",n)}})(e.id,!e.isActive),children:e.isActive?a("flows.deactivate","Deactivate"):a("flows.activate","Activate")})})]},e.id)))})]}):vi.jsx("p",{className:"text-sm text-muted-foreground",children:a("flows.no_assignments_yet","No assignments yet")})]}),vi.jsxs("div",{children:[vi.jsx("h3",{className:"text-sm font-medium mb-2",children:a("flows.available_channels","Available Channels")}),s&&s.length>0?vi.jsx("div",{className:"grid gap-2",children:s.filter((e=>!l||!l.some((t=>t.channelId===e.id)))).map((t=>vi.jsxs("div",{className:"flex justify-between items-center p-2 border rounded-md",children:[vi.jsxs("div",{className:"text-sm",children:[t.accountName," ",vi.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",t.channelType,")"]})]}),vi.jsx(tk,{variant:"brand",size:"sm",onClick:()=>(async t=>{try{await d.mutateAsync({flowId:e,channelId:t,isActive:!1})}catch(n){console.error("Error assigning flow:",n)}})(t.id),children:a("flows.assign","Assign")})]},t.id)))}):vi.jsx("p",{className:"text-sm text-muted-foreground",children:a("flows.no_channels_available","No channels available")})]})]}),vi.jsx(iB,{children:vi.jsx(tB,{asChild:!0,children:vi.jsx(tk,{variant:"brand",children:a("common.close","Close")})})})]})]})}function xq({flowId:e,flowName:t,onDeleted:n}){const{toast:a}=By(),{t:r}=sk(),[i,s]=ci.useState(!1),o=My({mutationFn:async e=>{await Ey("DELETE",`/api/flows/${e}`)},onSuccess:()=>{Ly.invalidateQueries({queryKey:["/api/flows"]}),a({title:r("flows.flow_deleted","Flow deleted"),description:r("flows.flow_deleted_success","Flow has been deleted successfully.")}),n()},onError:e=>{a({title:r("flows.error_deleting_flow","Error deleting flow"),description:e.message||r("common.something_went_wrong","Something went wrong"),variant:"destructive"})}});return vi.jsxs(KF,{children:[vi.jsx(XF,{asChild:!0,children:vi.jsxs(tk,{variant:"outline",size:"sm",className:"bg-destructive text-destructive-foreground",children:[vi.jsx(Yw,{className:"h-4 w-4 mr-2"}),r("common.delete","Delete")]})}),vi.jsxs(aB,{children:[vi.jsxs(rB,{children:[vi.jsx(sB,{children:r("flows.delete_flow","Delete Flow")}),vi.jsx(oB,{children:r("flows.delete_flow_confirmation",'Are you sure you want to delete "{{flowName}}"? This action cannot be undone.',{flowName:t})})]}),vi.jsxs(iB,{className:"gap-2 sm:gap-0",children:[vi.jsx(tB,{asChild:!0,children:vi.jsx(tk,{variant:"brand",children:r("common.cancel","Cancel")})}),vi.jsxs(tk,{variant:"destructive",onClick:async()=>{s(!0);try{await o.mutateAsync(e)}finally{s(!1)}},disabled:i,children:[i&&vi.jsx(uw,{className:"h-4 w-4 mr-2 animate-spin"}),r("common.delete","Delete")]})]})]})]})}function yq(){const{toast:e}=By(),{t:t}=sk(),[n,a]=ci.useState("desc"),{data:r,isLoading:i}=ky({queryKey:["/api/flows"],queryFn:async()=>{const e=await fetch("/api/flows");if(!e.ok)throw new Error("Failed to load flows");return e.json()}}),{data:s}=ky({queryKey:["/api/user/plan-info"],queryFn:async()=>{try{const e=await fetch("/api/user/plan-info");return e.ok?e.json():null}catch(e){return console.error("Error fetching plan info:",e),null}}}),o=My({mutationFn:async e=>{const t=await fetch(`/api/flows/${e}/duplicate`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to duplicate flow")}return t.json()},onSuccess:n=>{Ly.invalidateQueries({queryKey:["/api/flows"]}),Ly.invalidateQueries({queryKey:["/api/user/plan-info"]}),e({title:t("flows.flow_duplicated","Flow duplicated"),description:t("flows.flow_duplicated_description",'Flow "{{flowName}}" has been duplicated successfully.',{flowName:n.name})})},onError:n=>{e({title:t("flows.duplicate_failed","Duplication failed"),description:n.message||t("flows.duplicate_error","Failed to duplicate flow. Please try again."),variant:"destructive"})}}),l=r?[...r].sort(((e,t)=>{const a=new Date(e.updatedAt),r=new Date(t.updatedAt);return"desc"===n?r.getTime()-a.getTime():a.getTime()-r.getTime()})):[],c=e=>{try{return hz(new Date(e),"MMM d, yyyy h:mm a")}catch(t){return"Invalid date"}},d=e=>{switch(e){case"active":return vi.jsx(ak,{className:"bg-green-500",children:t("flows.active","Active")});case"inactive":return vi.jsx(ak,{variant:"secondary",children:t("flows.inactive","Inactive")});case"draft":return vi.jsx(ak,{variant:"secondary",children:t("flows.draft","Draft")});case"archived":return vi.jsx(ak,{variant:"destructive",children:t("flows.archived","Archived")});default:return vi.jsx(ak,{variant:"default",children:e})}};return vi.jsxs("div",{className:"h-screen flex flex-col overflow-hidden font-sans text-gray-800",children:[vi.jsx(WO,{}),vi.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[vi.jsx(XO,{}),vi.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:vi.jsxs("div",{className:"space-y-6",children:[vi.jsxs("div",{className:"flex justify-between items-center",children:[vi.jsxs("div",{children:[vi.jsx("h1",{className:"text-2xl",children:t("nav.flow_builder","Flow Builder")}),vi.jsx("p",{className:"text-muted-foreground",children:t("flows.page_description","Create and manage automated conversation flows for your channels.")}),s&&vi.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[vi.jsxs("div",{className:"bg-muted px-2 py-1 rounded-md flex items-center",children:[vi.jsxs("span",{className:"text-muted-foreground",children:[vi.jsx("span",{className:0===s.remainingFlows?"text-destructive font-medium":"font-medium",children:s.currentFlowCount})," / ",s.plan.maxFlows," ",t("flows.flows","flows")]}),0===s.remainingFlows&&vi.jsx("span",{className:"ml-2 text-destructive font-medium bg-destructive/10 px-2 py-0.5 rounded-full text-xs",children:t("flows.limit_reached","Limit reached")})]}),0===s.remainingFlows&&vi.jsx("span",{className:"text-muted-foreground text-xs",children:t("flows.contact_admin_upgrade","Contact your administrator to upgrade your plan")})]})]}),vi.jsx("div",{className:"flex items-center gap-2",children:s&&0===s.remainingFlows?vi.jsx(VS,{children:vi.jsxs($S,{children:[vi.jsx(HS,{asChild:!0,children:vi.jsxs(tk,{disabled:!0,children:[vi.jsx(_w,{className:"h-4 w-4 mr-2"}),t("flows.new_flow","New Flow")]})}),vi.jsx(YS,{children:vi.jsx("p",{children:t("flows.plan_limit_tooltip","You've reached your plan's flow limit")})})]})}):vi.jsx(vx,{href:"/flows/new",children:vi.jsxs(tk,{className:"flex items-center gap-2",children:[vi.jsx(_w,{className:"h-4 w-4"}),t("flows.new_flow","New Flow")]})})})]}),i?vi.jsx("div",{className:"flex items-center justify-center h-64",children:vi.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):vi.jsx("div",{className:"grid gap-4",children:0===l.length?vi.jsx(qS,{children:vi.jsxs(KS,{className:"flex flex-col items-center justify-center py-12",children:[vi.jsx(Kb,{className:"h-12 w-12 text-muted-foreground mb-4"}),vi.jsx("h3",{className:"text-lg font-semibold mb-2",children:t("flows.no_flows_found","No flows found")}),vi.jsx("p",{className:"text-muted-foreground text-center mb-4",children:t("flows.get_started_message","Get started by creating your first automated conversation flow")}),vi.jsx(vx,{href:"/flows/new",children:vi.jsxs(tk,{children:[vi.jsx(_w,{className:"h-4 w-4 mr-2"}),t("flows.new_flow","New Flow")]})})]})}):l.map((e=>vi.jsxs(qS,{children:[vi.jsx(QS,{children:vi.jsxs("div",{className:"flex justify-between items-start",children:[vi.jsxs("div",{className:"space-y-1",children:[vi.jsxs(ZS,{className:"flex items-center gap-2",children:[e.name,d(e.status)]}),e.description&&vi.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]}),vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx(vx,{href:`/flows/${e.id}`,children:vi.jsxs(tk,{variant:"outline",size:"sm",children:[vi.jsx(Gw,{className:"h-4 w-4 mr-2"}),t("common.edit","Edit")]})}),vi.jsx(gq,{flowId:e.id,flowName:e.name}),vi.jsx(VS,{children:vi.jsxs($S,{children:[vi.jsx(HS,{asChild:!0,children:vi.jsxs(tk,{variant:"outline",size:"sm",onClick:()=>{return t=e.id,void o.mutate(t);var t},disabled:o.isPending,children:[o.isPending?vi.jsx(uw,{className:"h-4 w-4 mr-2 animate-spin"}):vi.jsx(Wb,{className:"h-4 w-4 mr-2"}),t("flows.duplicate","Duplicate")]})}),vi.jsx(YS,{children:vi.jsx("p",{children:t("flows.duplicate_tooltip","Create a copy of this flow")})})]})}),vi.jsx(xq,{flowId:e.id,flowName:e.name,onDeleted:()=>{window.location.reload()}})]})]})}),vi.jsx(KS,{children:vi.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[vi.jsxs("div",{children:[vi.jsx("p",{className:"text-muted-foreground",children:t("flows.status","Status")}),vi.jsx("p",{className:"font-medium",children:e.status})]}),vi.jsxs("div",{children:[vi.jsx("p",{className:"text-muted-foreground",children:t("flows.updated","Updated")}),vi.jsx("p",{className:"font-medium",children:c(e.updatedAt)})]}),vi.jsxs("div",{children:[vi.jsx("p",{className:"text-muted-foreground",children:t("flows.version","Version")}),vi.jsxs("p",{className:"font-medium",children:["v",e.version]})]})]})})]},e.id)))})]})})]})]})}function vq(e){if("string"==typeof e||"number"==typeof e)return""+e;let t="";if(Array.isArray(e))for(let n,a=0;a<e.length;a++)""!==(n=vq(e[a]))&&(t+=(t&&" ")+n);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}ci.forwardRef((({className:e,...t},n)=>vi.jsx("caption",{ref:n,className:iN("mt-4 text-sm text-muted-foreground",e),...t}))).displayName="TableCaption";var bq={exports:{}},wq={},jq=ci,Nq=Wg;var Cq="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Sq=Nq.useSyncExternalStore,kq=jq.useRef,Mq=jq.useEffect,_q=jq.useMemo,Eq=jq.useDebugValue;wq.useSyncExternalStoreWithSelector=function(e,t,n,a,r){var i=kq(null);if(null===i.current){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=_q((function(){function e(e){if(!l){if(l=!0,i=e,e=a(e),void 0!==r&&s.hasValue){var t=s.value;if(r(t,e))return o=t}return o=e}if(t=o,Cq(i,e))return t;var n=a(e);return void 0!==r&&r(t,n)?(i=e,t):(i=e,o=n)}var i,o,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,a,r]);var o=Sq(e,i[0],i[1]);return Mq((function(){s.hasValue=!0,s.value=o}),[o]),Eq(o),o},bq.exports=wq;const Iq=Cr(bq.exports),Lq={},Aq=e=>{let t;const n=new Set,a=(e,a)=>{const r="function"==typeof e?e(t):e;if(!Object.is(r,t)){const e=t;t=(null!=a?a:"object"!=typeof r||null===r)?r:Object.assign({},t,r),n.forEach((n=>n(t,e)))}},r=()=>t,i={setState:a,getState:r,getInitialState:()=>s,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{"production"!==(Lq?"production":void 0)&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},s=t=e(a,r,i);return i},{useDebugValue:Tq}=di,{useSyncExternalStoreWithSelector:Dq}=Iq,Pq=e=>e;function Oq(e,t=Pq,n){const a=Dq(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Tq(a),a}const Rq=(e,t)=>{const n=(e=>e?Aq(e):Aq)(e),a=(e,a=t)=>Oq(n,e,a);return Object.assign(a,n),a};function zq(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,a]of e)if(!Object.is(a,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const a of n)if(!Object.prototype.hasOwnProperty.call(t,a)||!Object.is(e[a],t[a]))return!1;return!0}var Fq={value:()=>{}};function Bq(){for(var e,t=0,n=arguments.length,a={};t<n;++t){if(!(e=arguments[t]+"")||e in a||/[\s.]/.test(e))throw new Error("illegal type: "+e);a[e]=[]}return new Uq(a)}function Uq(e){this._=e}function Wq(e,t){for(var n,a=0,r=e.length;a<r;++a)if((n=e[a]).name===t)return n.value}function Gq(e,t,n){for(var a=0,r=e.length;a<r;++a)if(e[a].name===t){e[a]=Fq,e=e.slice(0,a).concat(e.slice(a+1));break}return null!=n&&e.push({name:t,value:n}),e}Uq.prototype=Bq.prototype={constructor:Uq,on:function(e,t){var n,a,r=this._,i=(a=r,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!a.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),s=-1,o=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++s<o;)if(n=(e=i[s]).type)r[n]=Gq(r[n],e.name,t);else if(null==t)for(n in r)r[n]=Gq(r[n],e.name,null);return this}for(;++s<o;)if((n=(e=i[s]).type)&&(n=Wq(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Uq(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,a,r=new Array(n),i=0;i<n;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(a=this._[e]).length;i<n;++i)a[i].value.apply(t,r)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)}};var Vq="http://www.w3.org/1999/xhtml";const $q={svg:"http://www.w3.org/2000/svg",xhtml:Vq,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Hq(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),$q.hasOwnProperty(t)?{space:$q[t],local:e}:e}function Yq(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Vq&&t.documentElement.namespaceURI===Vq?t.createElement(e):t.createElementNS(n,e)}}function qq(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Qq(e){var t=Hq(e);return(t.local?qq:Yq)(t)}function Zq(){}function Jq(e){return null==e?Zq:function(){return this.querySelector(e)}}function Kq(){return[]}function Xq(e){return null==e?Kq:function(){return this.querySelectorAll(e)}}function eQ(e){return function(){return null==(t=e.apply(this,arguments))?[]:Array.isArray(t)?t:Array.from(t);var t}}function tQ(e){return function(){return this.matches(e)}}function nQ(e){return function(t){return t.matches(e)}}var aQ=Array.prototype.find;function rQ(){return this.firstElementChild}var iQ=Array.prototype.filter;function sQ(){return Array.from(this.children)}function oQ(e){return new Array(e.length)}function lQ(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function cQ(e,t,n,a,r,i){for(var s,o=0,l=t.length,c=i.length;o<c;++o)(s=t[o])?(s.__data__=i[o],a[o]=s):n[o]=new lQ(e,i[o]);for(;o<l;++o)(s=t[o])&&(r[o]=s)}function dQ(e,t,n,a,r,i,s){var o,l,c,d=new Map,u=t.length,f=i.length,m=new Array(u);for(o=0;o<u;++o)(l=t[o])&&(m[o]=c=s.call(l,l.__data__,o,t)+"",d.has(c)?r[o]=l:d.set(c,l));for(o=0;o<f;++o)c=s.call(e,i[o],o,i)+"",(l=d.get(c))?(a[o]=l,l.__data__=i[o],d.delete(c)):n[o]=new lQ(e,i[o]);for(o=0;o<u;++o)(l=t[o])&&d.get(m[o])===l&&(r[o]=l)}function uQ(e){return e.__data__}function fQ(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function mQ(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function pQ(e){return function(){this.removeAttribute(e)}}function hQ(e){return function(){this.removeAttributeNS(e.space,e.local)}}function gQ(e,t){return function(){this.setAttribute(e,t)}}function xQ(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function yQ(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function vQ(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function bQ(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function wQ(e){return function(){this.style.removeProperty(e)}}function jQ(e,t,n){return function(){this.style.setProperty(e,t,n)}}function NQ(e,t,n){return function(){var a=t.apply(this,arguments);null==a?this.style.removeProperty(e):this.style.setProperty(e,a,n)}}function CQ(e,t){return e.style.getPropertyValue(t)||bQ(e).getComputedStyle(e,null).getPropertyValue(t)}function SQ(e){return function(){delete this[e]}}function kQ(e,t){return function(){this[e]=t}}function MQ(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function _Q(e){return e.trim().split(/^|\s+/)}function EQ(e){return e.classList||new IQ(e)}function IQ(e){this._node=e,this._names=_Q(e.getAttribute("class")||"")}function LQ(e,t){for(var n=EQ(e),a=-1,r=t.length;++a<r;)n.add(t[a])}function AQ(e,t){for(var n=EQ(e),a=-1,r=t.length;++a<r;)n.remove(t[a])}function TQ(e){return function(){LQ(this,e)}}function DQ(e){return function(){AQ(this,e)}}function PQ(e,t){return function(){(t.apply(this,arguments)?LQ:AQ)(this,e)}}function OQ(){this.textContent=""}function RQ(e){return function(){this.textContent=e}}function zQ(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function FQ(){this.innerHTML=""}function BQ(e){return function(){this.innerHTML=e}}function UQ(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function WQ(){this.nextSibling&&this.parentNode.appendChild(this)}function GQ(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function VQ(){return null}function $Q(){var e=this.parentNode;e&&e.removeChild(this)}function HQ(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function YQ(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function qQ(e){return function(){var t=this.__on;if(t){for(var n,a=0,r=-1,i=t.length;a<i;++a)n=t[a],e.type&&n.type!==e.type||n.name!==e.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?t.length=r:delete this.__on}}}function QQ(e,t,n){return function(){var a,r=this.__on,i=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(r)for(var s=0,o=r.length;s<o;++s)if((a=r[s]).type===e.type&&a.name===e.name)return this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=i,a.options=n),void(a.value=t);this.addEventListener(e.type,i,n),a={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(a):this.__on=[a]}}function ZQ(e,t,n){var a=bQ(e),r=a.CustomEvent;"function"==typeof r?r=new r(t,n):(r=a.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function JQ(e,t){return function(){return ZQ(this,e,t)}}function KQ(e,t){return function(){return ZQ(this,e,t.apply(this,arguments))}}lQ.prototype={constructor:lQ,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},IQ.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var XQ=[null];function eZ(e,t){this._groups=e,this._parents=t}function tZ(){return new eZ([[document.documentElement]],XQ)}function nZ(e){return"string"==typeof e?new eZ([[document.querySelector(e)]],[document.documentElement]):new eZ([[e]],XQ)}function aZ(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var a=n.createSVGPoint();return a.x=e.clientX,a.y=e.clientY,[(a=a.matrixTransform(t.getScreenCTM().inverse())).x,a.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}eZ.prototype=tZ.prototype={constructor:eZ,select:function(e){"function"!=typeof e&&(e=Jq(e));for(var t=this._groups,n=t.length,a=new Array(n),r=0;r<n;++r)for(var i,s,o=t[r],l=o.length,c=a[r]=new Array(l),d=0;d<l;++d)(i=o[d])&&(s=e.call(i,i.__data__,d,o))&&("__data__"in i&&(s.__data__=i.__data__),c[d]=s);return new eZ(a,this._parents)},selectAll:function(e){e="function"==typeof e?eQ(e):Xq(e);for(var t=this._groups,n=t.length,a=[],r=[],i=0;i<n;++i)for(var s,o=t[i],l=o.length,c=0;c<l;++c)(s=o[c])&&(a.push(e.call(s,s.__data__,c,o)),r.push(s));return new eZ(a,r)},selectChild:function(e){return this.select(null==e?rQ:function(e){return function(){return aQ.call(this.children,e)}}("function"==typeof e?e:nQ(e)))},selectChildren:function(e){return this.selectAll(null==e?sQ:function(e){return function(){return iQ.call(this.children,e)}}("function"==typeof e?e:nQ(e)))},filter:function(e){"function"!=typeof e&&(e=tQ(e));for(var t=this._groups,n=t.length,a=new Array(n),r=0;r<n;++r)for(var i,s=t[r],o=s.length,l=a[r]=[],c=0;c<o;++c)(i=s[c])&&e.call(i,i.__data__,c,s)&&l.push(i);return new eZ(a,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,uQ);var n,a=t?dQ:cQ,r=this._parents,i=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var s=i.length,o=new Array(s),l=new Array(s),c=new Array(s),d=0;d<s;++d){var u=r[d],f=i[d],m=f.length,p=fQ(e.call(u,u&&u.__data__,d,r)),h=p.length,g=l[d]=new Array(h),x=o[d]=new Array(h);a(u,f,g,x,c[d]=new Array(m),p,t);for(var y,v,b=0,w=0;b<h;++b)if(y=g[b]){for(b>=w&&(w=b+1);!(v=x[w])&&++w<h;);y._next=v||null}}return(o=new eZ(o,r))._enter=l,o._exit=c,o},enter:function(){return new eZ(this._enter||this._groups.map(oQ),this._parents)},exit:function(){return new eZ(this._exit||this._groups.map(oQ),this._parents)},join:function(e,t,n){var a=this.enter(),r=this,i=this.exit();return"function"==typeof e?(a=e(a))&&(a=a.selection()):a=a.append(e+""),null!=t&&(r=t(r))&&(r=r.selection()),null==n?i.remove():n(i),a&&r?a.merge(r).order():r},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,a=t._groups,r=n.length,i=a.length,s=Math.min(r,i),o=new Array(r),l=0;l<s;++l)for(var c,d=n[l],u=a[l],f=d.length,m=o[l]=new Array(f),p=0;p<f;++p)(c=d[p]||u[p])&&(m[p]=c);for(;l<r;++l)o[l]=n[l];return new eZ(o,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var a,r=e[t],i=r.length-1,s=r[i];--i>=0;)(a=r[i])&&(s&&4^a.compareDocumentPosition(s)&&s.parentNode.insertBefore(a,s),s=a);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=mQ);for(var n=this._groups,a=n.length,r=new Array(a),i=0;i<a;++i){for(var s,o=n[i],l=o.length,c=r[i]=new Array(l),d=0;d<l;++d)(s=o[d])&&(c[d]=s);c.sort(t)}return new eZ(r,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var a=e[t],r=0,i=a.length;r<i;++r){var s=a[r];if(s)return s}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,a=t.length;n<a;++n)for(var r,i=t[n],s=0,o=i.length;s<o;++s)(r=i[s])&&e.call(r,r.__data__,s,i);return this},attr:function(e,t){var n=Hq(e);if(arguments.length<2){var a=this.node();return n.local?a.getAttributeNS(n.space,n.local):a.getAttribute(n)}return this.each((null==t?n.local?hQ:pQ:"function"==typeof t?n.local?vQ:yQ:n.local?xQ:gQ)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?wQ:"function"==typeof t?NQ:jQ)(e,t,null==n?"":n)):CQ(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?SQ:"function"==typeof t?MQ:kQ)(e,t)):this.node()[e]},classed:function(e,t){var n=_Q(e+"");if(arguments.length<2){for(var a=EQ(this.node()),r=-1,i=n.length;++r<i;)if(!a.contains(n[r]))return!1;return!0}return this.each(("function"==typeof t?PQ:t?TQ:DQ)(n,t))},text:function(e){return arguments.length?this.each(null==e?OQ:("function"==typeof e?zQ:RQ)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?FQ:("function"==typeof e?UQ:BQ)(e)):this.node().innerHTML},raise:function(){return this.each(WQ)},lower:function(){return this.each(GQ)},append:function(e){var t="function"==typeof e?e:Qq(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:Qq(e),a=null==t?VQ:"function"==typeof t?t:Jq(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),a.apply(this,arguments)||null)}))},remove:function(){return this.each($Q)},clone:function(e){return this.select(e?YQ:HQ)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var a,r,i=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),s=i.length;if(!(arguments.length<2)){for(o=t?QQ:qQ,a=0;a<s;++a)this.each(o(i[a],t,n));return this}var o=this.node().__on;if(o)for(var l,c=0,d=o.length;c<d;++c)for(a=0,l=o[c];a<s;++a)if((r=i[a]).type===l.type&&r.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?KQ:JQ)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var a,r=e[t],i=0,s=r.length;i<s;++i)(a=r[i])&&(yield a)}};const rZ={passive:!1},iZ={capture:!0,passive:!1};function sZ(e){e.stopImmediatePropagation()}function oZ(e){e.preventDefault(),e.stopImmediatePropagation()}function lZ(e){var t=e.document.documentElement,n=nZ(e).on("dragstart.drag",oZ,iZ);"onselectstart"in t?n.on("selectstart.drag",oZ,iZ):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function cZ(e,t){var n=e.document.documentElement,a=nZ(e).on("dragstart.drag",null);t&&(a.on("click.drag",oZ,iZ),setTimeout((function(){a.on("click.drag",null)}),0)),"onselectstart"in n?a.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const dZ=e=>()=>e;function uZ(e,{sourceEvent:t,subject:n,target:a,identifier:r,active:i,x:s,y:o,dx:l,dy:c,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}function fZ(e){return!e.ctrlKey&&!e.button}function mZ(){return this.parentNode}function pZ(e,t){return null==t?{x:e.x,y:e.y}:t}function hZ(){return navigator.maxTouchPoints||"ontouchstart"in this}function gZ(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function xZ(e,t){var n=Object.create(e.prototype);for(var a in t)n[a]=t[a];return n}function yZ(){}uZ.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var vZ=.7,bZ=1/vZ,wZ="\\s*([+-]?\\d+)\\s*",jZ="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",NZ="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",CZ=/^#([0-9a-f]{3,8})$/,SZ=new RegExp(`^rgb\\(${wZ},${wZ},${wZ}\\)$`),kZ=new RegExp(`^rgb\\(${NZ},${NZ},${NZ}\\)$`),MZ=new RegExp(`^rgba\\(${wZ},${wZ},${wZ},${jZ}\\)$`),_Z=new RegExp(`^rgba\\(${NZ},${NZ},${NZ},${jZ}\\)$`),EZ=new RegExp(`^hsl\\(${jZ},${NZ},${NZ}\\)$`),IZ=new RegExp(`^hsla\\(${jZ},${NZ},${NZ},${jZ}\\)$`),LZ={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function AZ(){return this.rgb().formatHex()}function TZ(){return this.rgb().formatRgb()}function DZ(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=CZ.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?PZ(t):3===n?new zZ(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?OZ(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?OZ(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=SZ.exec(e))?new zZ(t[1],t[2],t[3],1):(t=kZ.exec(e))?new zZ(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=MZ.exec(e))?OZ(t[1],t[2],t[3],t[4]):(t=_Z.exec(e))?OZ(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=EZ.exec(e))?VZ(t[1],t[2]/100,t[3]/100,1):(t=IZ.exec(e))?VZ(t[1],t[2]/100,t[3]/100,t[4]):LZ.hasOwnProperty(e)?PZ(LZ[e]):"transparent"===e?new zZ(NaN,NaN,NaN,0):null}function PZ(e){return new zZ(e>>16&255,e>>8&255,255&e,1)}function OZ(e,t,n,a){return a<=0&&(e=t=n=NaN),new zZ(e,t,n,a)}function RZ(e,t,n,a){return 1===arguments.length?((r=e)instanceof yZ||(r=DZ(r)),r?new zZ((r=r.rgb()).r,r.g,r.b,r.opacity):new zZ):new zZ(e,t,n,null==a?1:a);var r}function zZ(e,t,n,a){this.r=+e,this.g=+t,this.b=+n,this.opacity=+a}function FZ(){return`#${GZ(this.r)}${GZ(this.g)}${GZ(this.b)}`}function BZ(){const e=UZ(this.opacity);return`${1===e?"rgb(":"rgba("}${WZ(this.r)}, ${WZ(this.g)}, ${WZ(this.b)}${1===e?")":`, ${e})`}`}function UZ(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function WZ(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function GZ(e){return((e=WZ(e))<16?"0":"")+e.toString(16)}function VZ(e,t,n,a){return a<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new HZ(e,t,n,a)}function $Z(e){if(e instanceof HZ)return new HZ(e.h,e.s,e.l,e.opacity);if(e instanceof yZ||(e=DZ(e)),!e)return new HZ;if(e instanceof HZ)return e;var t=(e=e.rgb()).r/255,n=e.g/255,a=e.b/255,r=Math.min(t,n,a),i=Math.max(t,n,a),s=NaN,o=i-r,l=(i+r)/2;return o?(s=t===i?(n-a)/o+6*(n<a):n===i?(a-t)/o+2:(t-n)/o+4,o/=l<.5?i+r:2-i-r,s*=60):o=l>0&&l<1?0:s,new HZ(s,o,l,e.opacity)}function HZ(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}function YZ(e){return(e=(e||0)%360)<0?e+360:e}function qZ(e){return Math.max(0,Math.min(1,e||0))}function QZ(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}gZ(yZ,DZ,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:AZ,formatHex:AZ,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return $Z(this).formatHsl()},formatRgb:TZ,toString:TZ}),gZ(zZ,RZ,xZ(yZ,{brighter(e){return e=null==e?bZ:Math.pow(bZ,e),new zZ(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?vZ:Math.pow(vZ,e),new zZ(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new zZ(WZ(this.r),WZ(this.g),WZ(this.b),UZ(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:FZ,formatHex:FZ,formatHex8:function(){return`#${GZ(this.r)}${GZ(this.g)}${GZ(this.b)}${GZ(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:BZ,toString:BZ})),gZ(HZ,(function(e,t,n,a){return 1===arguments.length?$Z(e):new HZ(e,t,n,null==a?1:a)}),xZ(yZ,{brighter(e){return e=null==e?bZ:Math.pow(bZ,e),new HZ(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?vZ:Math.pow(vZ,e),new HZ(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*t,r=2*n-a;return new zZ(QZ(e>=240?e-240:e+120,r,a),QZ(e,r,a),QZ(e<120?e+240:e-120,r,a),this.opacity)},clamp(){return new HZ(YZ(this.h),qZ(this.s),qZ(this.l),UZ(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=UZ(this.opacity);return`${1===e?"hsl(":"hsla("}${YZ(this.h)}, ${100*qZ(this.s)}%, ${100*qZ(this.l)}%${1===e?")":`, ${e})`}`}}));const ZZ=e=>()=>e;function JZ(e){return 1===(e=+e)?KZ:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(a){return Math.pow(e+a*t,n)}}(t,n,e):ZZ(isNaN(t)?n:t)}}function KZ(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):ZZ(isNaN(e)?t:e)}const XZ=function e(t){var n=JZ(t);function a(e,t){var a=n((e=RZ(e)).r,(t=RZ(t)).r),r=n(e.g,t.g),i=n(e.b,t.b),s=KZ(e.opacity,t.opacity);return function(t){return e.r=a(t),e.g=r(t),e.b=i(t),e.opacity=s(t),e+""}}return a.gamma=e,a}(1);function eJ(e,t){t||(t=[]);var n,a=e?Math.min(t.length,e.length):0,r=t.slice();return function(i){for(n=0;n<a;++n)r[n]=e[n]*(1-i)+t[n]*i;return r}}function tJ(e,t){var n,a=t?t.length:0,r=e?Math.min(a,e.length):0,i=new Array(r),s=new Array(a);for(n=0;n<r;++n)i[n]=lJ(e[n],t[n]);for(;n<a;++n)s[n]=t[n];return function(e){for(n=0;n<r;++n)s[n]=i[n](e);return s}}function nJ(e,t){var n=new Date;return e=+e,t=+t,function(a){return n.setTime(e*(1-a)+t*a),n}}function aJ(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function rJ(e,t){var n,a={},r={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?a[n]=lJ(e[n],t[n]):r[n]=t[n];return function(e){for(n in a)r[n]=a[n](e);return r}}var iJ=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sJ=new RegExp(iJ.source,"g");function oJ(e,t){var n,a,r,i=iJ.lastIndex=sJ.lastIndex=0,s=-1,o=[],l=[];for(e+="",t+="";(n=iJ.exec(e))&&(a=sJ.exec(t));)(r=a.index)>i&&(r=t.slice(i,r),o[s]?o[s]+=r:o[++s]=r),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:aJ(n,a)})),i=sJ.lastIndex;return i<t.length&&(r=t.slice(i),o[s]?o[s]+=r:o[++s]=r),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,a=0;a<t;++a)o[(n=l[a]).i]=n.x(e);return o.join("")})}function lJ(e,t){var n,a,r=typeof t;return null==t||"boolean"===r?ZZ(t):("number"===r?aJ:"string"===r?(n=DZ(t))?(t=n,XZ):oJ:t instanceof DZ?XZ:t instanceof Date?nJ:(a=t,!ArrayBuffer.isView(a)||a instanceof DataView?Array.isArray(t)?tJ:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?rJ:aJ:eJ))(e,t)}function cJ(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var dJ,uJ=180/Math.PI,fJ={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function mJ(e,t,n,a,r,i){var s,o,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*a)&&(n-=e*l,a-=t*l),(o=Math.sqrt(n*n+a*a))&&(n/=o,a/=o,l/=o),e*a<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:r,translateY:i,rotate:Math.atan2(t,e)*uJ,skewX:Math.atan(l)*uJ,scaleX:s,scaleY:o}}function pJ(e,t,n,a){function r(e){return e.length?e.pop()+" ":""}return function(i,s){var o=[],l=[];return i=e(i),s=e(s),function(e,a,r,i,s,o){if(e!==r||a!==i){var l=s.push("translate(",null,t,null,n);o.push({i:l-4,x:aJ(e,r)},{i:l-2,x:aJ(a,i)})}else(r||i)&&s.push("translate("+r+t+i+n)}(i.translateX,i.translateY,s.translateX,s.translateY,o,l),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(r(n)+"rotate(",null,a)-2,x:aJ(e,t)})):t&&n.push(r(n)+"rotate("+t+a)}(i.rotate,s.rotate,o,l),function(e,t,n,i){e!==t?i.push({i:n.push(r(n)+"skewX(",null,a)-2,x:aJ(e,t)}):t&&n.push(r(n)+"skewX("+t+a)}(i.skewX,s.skewX,o,l),function(e,t,n,a,i,s){if(e!==n||t!==a){var o=i.push(r(i)+"scale(",null,",",null,")");s.push({i:o-4,x:aJ(e,n)},{i:o-2,x:aJ(t,a)})}else 1===n&&1===a||i.push(r(i)+"scale("+n+","+a+")")}(i.scaleX,i.scaleY,s.scaleX,s.scaleY,o,l),i=s=null,function(e){for(var t,n=-1,a=l.length;++n<a;)o[(t=l[n]).i]=t.x(e);return o.join("")}}}var hJ=pJ((function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?fJ:mJ(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),gJ=pJ((function(e){return null==e?fJ:(dJ||(dJ=document.createElementNS("http://www.w3.org/2000/svg","g")),dJ.setAttribute("transform",e),(e=dJ.transform.baseVal.consolidate())?mJ((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):fJ)}),", ",")",")");function xJ(e){return((e=Math.exp(e))+1/e)/2}const yJ=function e(t,n,a){function r(e,r){var i,s,o=e[0],l=e[1],c=e[2],d=r[0],u=r[1],f=r[2],m=d-o,p=u-l,h=m*m+p*p;if(h<1e-12)s=Math.log(f/c)/t,i=function(e){return[o+e*m,l+e*p,c*Math.exp(t*e*s)]};else{var g=Math.sqrt(h),x=(f*f-c*c+a*h)/(2*c*n*g),y=(f*f-c*c-a*h)/(2*f*n*g),v=Math.log(Math.sqrt(x*x+1)-x),b=Math.log(Math.sqrt(y*y+1)-y);s=(b-v)/t,i=function(e){var a,r=e*s,i=xJ(v),d=c/(n*g)*(i*(a=t*r+v,((a=Math.exp(2*a))-1)/(a+1))-function(e){return((e=Math.exp(e))-1/e)/2}(v));return[o+d*m,l+d*p,c*i/xJ(t*r+v)]}}return i.duration=1e3*s*t/Math.SQRT2,i}return r.rho=function(t){var n=Math.max(.001,+t),a=n*n;return e(n,a,a*a)},r}(Math.SQRT2,2,4);var vJ,bJ,wJ=0,jJ=0,NJ=0,CJ=0,SJ=0,kJ=0,MJ="object"==typeof performance&&performance.now?performance:Date,_J="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function EJ(){return SJ||(_J(IJ),SJ=MJ.now()+kJ)}function IJ(){SJ=0}function LJ(){this._call=this._time=this._next=null}function AJ(e,t,n){var a=new LJ;return a.restart(e,t,n),a}function TJ(){SJ=(CJ=MJ.now())+kJ,wJ=jJ=0;try{!function(){EJ(),++wJ;for(var e,t=vJ;t;)(e=SJ-t._time)>=0&&t._call.call(void 0,e),t=t._next;--wJ}()}finally{wJ=0,function(){var e,t,n=vJ,a=1/0;for(;n;)n._call?(a>n._time&&(a=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:vJ=t);bJ=e,PJ(a)}(),SJ=0}}function DJ(){var e=MJ.now(),t=e-CJ;t>1e3&&(kJ-=t,CJ=e)}function PJ(e){wJ||(jJ&&(jJ=clearTimeout(jJ)),e-SJ>24?(e<1/0&&(jJ=setTimeout(TJ,e-MJ.now()-kJ)),NJ&&(NJ=clearInterval(NJ))):(NJ||(CJ=MJ.now(),NJ=setInterval(DJ,1e3)),wJ=1,_J(TJ)))}function OJ(e,t,n){var a=new LJ;return t=null==t?0:+t,a.restart((n=>{a.stop(),e(n+t)}),t,n),a}LJ.prototype=AJ.prototype={constructor:LJ,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?EJ():+n)+(null==t?0:+t),this._next||bJ===this||(bJ?bJ._next=this:vJ=this,bJ=this),this._call=e,this._time=n,PJ()},stop:function(){this._call&&(this._call=null,this._time=1/0,PJ())}};var RJ=Bq("start","end","cancel","interrupt"),zJ=[];function FJ(e,t,n,a,r,i){var s=e.__transition;if(s){if(n in s)return}else e.__transition={};!function(e,t,n){var a,r=e.__transition;function i(e){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=e&&s(e-n.delay)}function s(i){var c,d,u,f;if(1!==n.state)return l();for(c in r)if((f=r[c]).name===n.name){if(3===f.state)return OJ(s);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete r[c]):+c<t&&(f.state=6,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete r[c])}if(OJ((function(){3===n.state&&(n.state=4,n.timer.restart(o,n.delay,n.time),o(i))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,a=new Array(u=n.tween.length),c=0,d=-1;c<u;++c)(f=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(a[++d]=f);a.length=d+1}}function o(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),i=-1,s=a.length;++i<s;)a[i].call(e,r);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var a in n.state=6,n.timer.stop(),delete r[t],r)return;delete e.__transition}r[t]=n,n.timer=AJ(i,0,n.time)}(e,n,{name:t,index:a,group:r,on:RJ,tween:zJ,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function BJ(e,t){var n=WJ(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function UJ(e,t){var n=WJ(e,t);if(n.state>3)throw new Error("too late; already running");return n}function WJ(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function GJ(e,t){var n,a,r,i=e.__transition,s=!0;if(i){for(r in t=null==t?null:t+"",i)(n=i[r]).name===t?(a=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[r]):s=!1;s&&delete e.__transition}}function VJ(e,t){var n,a;return function(){var r=UJ(this,e),i=r.tween;if(i!==n)for(var s=0,o=(a=n=i).length;s<o;++s)if(a[s].name===t){(a=a.slice()).splice(s,1);break}r.tween=a}}function $J(e,t,n){var a,r;if("function"!=typeof n)throw new Error;return function(){var i=UJ(this,e),s=i.tween;if(s!==a){r=(a=s).slice();for(var o={name:t,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=o;break}l===c&&r.push(o)}i.tween=r}}function HJ(e,t,n){var a=e._id;return e.each((function(){var e=UJ(this,a);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return WJ(e,a).value[t]}}function YJ(e,t){var n;return("number"==typeof t?aJ:t instanceof DZ?XZ:(n=DZ(t))?(t=n,XZ):oJ)(e,t)}function qJ(e){return function(){this.removeAttribute(e)}}function QJ(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ZJ(e,t,n){var a,r,i=n+"";return function(){var s=this.getAttribute(e);return s===i?null:s===a?r:r=t(a=s,n)}}function JJ(e,t,n){var a,r,i=n+"";return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===a?r:r=t(a=s,n)}}function KJ(e,t,n){var a,r,i;return function(){var s,o,l=n(this);if(null!=l)return(s=this.getAttribute(e))===(o=l+"")?null:s===a&&o===r?i:(r=o,i=t(a=s,l));this.removeAttribute(e)}}function XJ(e,t,n){var a,r,i;return function(){var s,o,l=n(this);if(null!=l)return(s=this.getAttributeNS(e.space,e.local))===(o=l+"")?null:s===a&&o===r?i:(r=o,i=t(a=s,l));this.removeAttributeNS(e.space,e.local)}}function eK(e,t){var n,a;function r(){var r=t.apply(this,arguments);return r!==a&&(n=(a=r)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,r)),n}return r._value=t,r}function tK(e,t){var n,a;function r(){var r=t.apply(this,arguments);return r!==a&&(n=(a=r)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,r)),n}return r._value=t,r}function nK(e,t){return function(){BJ(this,e).delay=+t.apply(this,arguments)}}function aK(e,t){return t=+t,function(){BJ(this,e).delay=t}}function rK(e,t){return function(){UJ(this,e).duration=+t.apply(this,arguments)}}function iK(e,t){return t=+t,function(){UJ(this,e).duration=t}}var sK=tZ.prototype.constructor;function oK(e){return function(){this.style.removeProperty(e)}}var lK=0;function cK(e,t,n,a){this._groups=e,this._parents=t,this._name=n,this._id=a}function dK(){return++lK}var uK=tZ.prototype;cK.prototype={constructor:cK,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Jq(e));for(var a=this._groups,r=a.length,i=new Array(r),s=0;s<r;++s)for(var o,l,c=a[s],d=c.length,u=i[s]=new Array(d),f=0;f<d;++f)(o=c[f])&&(l=e.call(o,o.__data__,f,c))&&("__data__"in o&&(l.__data__=o.__data__),u[f]=l,FJ(u[f],t,n,f,u,WJ(o,n)));return new cK(i,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Xq(e));for(var a=this._groups,r=a.length,i=[],s=[],o=0;o<r;++o)for(var l,c=a[o],d=c.length,u=0;u<d;++u)if(l=c[u]){for(var f,m=e.call(l,l.__data__,u,c),p=WJ(l,n),h=0,g=m.length;h<g;++h)(f=m[h])&&FJ(f,t,n,h,m,p);i.push(m),s.push(l)}return new cK(i,s,t,n)},selectChild:uK.selectChild,selectChildren:uK.selectChildren,filter:function(e){"function"!=typeof e&&(e=tQ(e));for(var t=this._groups,n=t.length,a=new Array(n),r=0;r<n;++r)for(var i,s=t[r],o=s.length,l=a[r]=[],c=0;c<o;++c)(i=s[c])&&e.call(i,i.__data__,c,s)&&l.push(i);return new cK(a,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,a=t.length,r=n.length,i=Math.min(a,r),s=new Array(a),o=0;o<i;++o)for(var l,c=t[o],d=n[o],u=c.length,f=s[o]=new Array(u),m=0;m<u;++m)(l=c[m]||d[m])&&(f[m]=l);for(;o<a;++o)s[o]=t[o];return new cK(s,this._parents,this._name,this._id)},selection:function(){return new sK(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=dK(),a=this._groups,r=a.length,i=0;i<r;++i)for(var s,o=a[i],l=o.length,c=0;c<l;++c)if(s=o[c]){var d=WJ(s,t);FJ(s,e,n,c,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new cK(a,this._parents,e,n)},call:uK.call,nodes:uK.nodes,node:uK.node,size:uK.size,empty:uK.empty,each:uK.each,on:function(e,t){var n=this._id;return arguments.length<2?WJ(this.node(),n).on.on(e):this.each(function(e,t,n){var a,r,i=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?BJ:UJ;return function(){var s=i(this,e),o=s.on;o!==a&&(r=(a=o).copy()).on(t,n),s.on=r}}(n,e,t))},attr:function(e,t){var n=Hq(e),a="transform"===n?gJ:YJ;return this.attrTween(e,"function"==typeof t?(n.local?XJ:KJ)(n,a,HJ(this,"attr."+e,t)):null==t?(n.local?QJ:qJ)(n):(n.local?JJ:ZJ)(n,a,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var a=Hq(e);return this.tween(n,(a.local?eK:tK)(a,t))},style:function(e,t,n){var a="transform"==(e+="")?hJ:YJ;return null==t?this.styleTween(e,function(e,t){var n,a,r;return function(){var i=CQ(this,e),s=(this.style.removeProperty(e),CQ(this,e));return i===s?null:i===n&&s===a?r:r=t(n=i,a=s)}}(e,a)).on("end.style."+e,oK(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var a,r,i;return function(){var s=CQ(this,e),o=n(this),l=o+"";return null==o&&(this.style.removeProperty(e),l=o=CQ(this,e)),s===l?null:s===a&&l===r?i:(r=l,i=t(a=s,o))}}(e,a,HJ(this,"style."+e,t))).each(function(e,t){var n,a,r,i,s="style."+t,o="end."+s;return function(){var l=UJ(this,e),c=l.on,d=null==l.value[s]?i||(i=oK(t)):void 0;c===n&&r===d||(a=(n=c).copy()).on(o,r=d),l.on=a}}(this._id,e)):this.styleTween(e,function(e,t,n){var a,r,i=n+"";return function(){var s=CQ(this,e);return s===i?null:s===a?r:r=t(a=s,n)}}(e,a,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var a="style."+(e+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(null==t)return this.tween(a,null);if("function"!=typeof t)throw new Error;return this.tween(a,function(e,t,n){var a,r;function i(){var i=t.apply(this,arguments);return i!==r&&(a=(r=i)&&function(e,t,n){return function(a){this.style.setProperty(e,t.call(this,a),n)}}(e,i,n)),a}return i._value=t,i}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(HJ(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function(e){var t,n;function a(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&function(e){return function(t){this.textContent=e.call(this,t)}}(a)),t}return a._value=e,a}(e))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var a,r=WJ(this.node(),n).tween,i=0,s=r.length;i<s;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((null==t?VJ:$J)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?nK:aK)(t,e)):WJ(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?rK:iK)(t,e)):WJ(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){UJ(this,e).ease=t}}(t,e)):WJ(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;UJ(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,a=n._id,r=n.size();return new Promise((function(i,s){var o={value:s},l={value:function(){0===--r&&i()}};n.each((function(){var n=UJ(this,a),r=n.on;r!==e&&((t=(e=r).copy())._.cancel.push(o),t._.interrupt.push(o),t._.end.push(l)),n.on=t})),0===r&&i()}))},[Symbol.iterator]:uK[Symbol.iterator]};var fK={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function mK(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}tZ.prototype.interrupt=function(e){return this.each((function(){GJ(this,e)}))},tZ.prototype.transition=function(e){var t,n;e instanceof cK?(t=e._id,e=e._name):(t=dK(),(n=fK).time=EJ(),e=null==e?null:e+"");for(var a=this._groups,r=a.length,i=0;i<r;++i)for(var s,o=a[i],l=o.length,c=0;c<l;++c)(s=o[c])&&FJ(s,e,t,c,o,n||mK(s,t));return new cK(a,this._parents,e,t)};const pK=e=>()=>e;function hK(e,{sourceEvent:t,target:n,transform:a,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:a,enumerable:!0,configurable:!0},_:{value:r}})}function gK(e,t,n){this.k=e,this.x=t,this.y=n}gK.prototype={constructor:gK,scale:function(e){return 1===e?this:new gK(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new gK(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var xK=new gK(1,0,0);function yK(e){e.stopImmediatePropagation()}function vK(e){e.preventDefault(),e.stopImmediatePropagation()}function bK(e){return!(e.ctrlKey&&"wheel"!==e.type||e.button)}function wK(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function jK(){return this.__zoom||xK}function NK(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function CK(){return navigator.maxTouchPoints||"ontouchstart"in this}function SK(e,t,n){var a=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(r>a?(a+r)/2:Math.min(0,a)||Math.max(0,r),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function kK(){var e,t,n,a=bK,r=wK,i=SK,s=NK,o=CK,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],d=250,u=yJ,f=Bq("start","zoom","end"),m=0,p=10;function h(e){e.property("__zoom",jK).on("wheel.zoom",j,{passive:!1}).on("mousedown.zoom",N).on("dblclick.zoom",C).filter(o).on("touchstart.zoom",S).on("touchmove.zoom",k).on("touchend.zoom touchcancel.zoom",M).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new gK(t,e.x,e.y)}function x(e,t,n){var a=t[0]-n[0]*e.k,r=t[1]-n[1]*e.k;return a===e.x&&r===e.y?e:new gK(e.k,a,r)}function y(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function v(e,t,n,a){e.on("start.zoom",(function(){b(this,arguments).event(a).start()})).on("interrupt.zoom end.zoom",(function(){b(this,arguments).event(a).end()})).tween("zoom",(function(){var e=this,i=arguments,s=b(e,i).event(a),o=r.apply(e,i),l=null==n?y(o):"function"==typeof n?n.apply(e,i):n,c=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),d=e.__zoom,f="function"==typeof t?t.apply(e,i):t,m=u(d.invert(l).concat(c/d.k),f.invert(l).concat(c/f.k));return function(e){if(1===e)e=f;else{var t=m(e),n=c/t[2];e=new gK(n,l[0]-t[0]*n,l[1]-t[1]*n)}s.zoom(null,e)}}))}function b(e,t,n){return!n&&e.__zooming||new w(e,t)}function w(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=r.apply(e,t),this.taps=0}function j(e,...t){if(a.apply(this,arguments)){var n=b(this,t).event(e),r=this.__zoom,o=Math.max(l[0],Math.min(l[1],r.k*Math.pow(2,s.apply(this,arguments)))),d=aZ(e);if(n.wheel)n.mouse[0][0]===d[0]&&n.mouse[0][1]===d[1]||(n.mouse[1]=r.invert(n.mouse[0]=d)),clearTimeout(n.wheel);else{if(r.k===o)return;n.mouse=[d,r.invert(d)],GJ(this),n.start()}vK(e),n.wheel=setTimeout((function(){n.wheel=null,n.end()}),150),n.zoom("mouse",i(x(g(r,o),n.mouse[0],n.mouse[1]),n.extent,c))}}function N(e,...t){if(!n&&a.apply(this,arguments)){var r=e.currentTarget,s=b(this,t,!0).event(e),o=nZ(e.view).on("mousemove.zoom",(function(e){if(vK(e),!s.moved){var t=e.clientX-d,n=e.clientY-u;s.moved=t*t+n*n>m}s.event(e).zoom("mouse",i(x(s.that.__zoom,s.mouse[0]=aZ(e,r),s.mouse[1]),s.extent,c))}),!0).on("mouseup.zoom",(function(e){o.on("mousemove.zoom mouseup.zoom",null),cZ(e.view,s.moved),vK(e),s.event(e).end()}),!0),l=aZ(e,r),d=e.clientX,u=e.clientY;lZ(e.view),yK(e),s.mouse=[l,this.__zoom.invert(l)],GJ(this),s.start()}}function C(e,...t){if(a.apply(this,arguments)){var n=this.__zoom,s=aZ(e.changedTouches?e.changedTouches[0]:e,this),o=n.invert(s),l=n.k*(e.shiftKey?.5:2),u=i(x(g(n,l),s,o),r.apply(this,t),c);vK(e),d>0?nZ(this).transition().duration(d).call(v,u,s,e):nZ(this).call(h.transform,u,s,e)}}function S(n,...r){if(a.apply(this,arguments)){var i,s,o,l,c=n.touches,d=c.length,u=b(this,r,n.changedTouches.length===d).event(n);for(yK(n),s=0;s<d;++s)l=[l=aZ(o=c[s],this),this.__zoom.invert(l),o.identifier],u.touch0?u.touch1||u.touch0[2]===l[2]||(u.touch1=l,u.taps=0):(u.touch0=l,i=!0,u.taps=1+!!e);e&&(e=clearTimeout(e)),i&&(u.taps<2&&(t=l[0],e=setTimeout((function(){e=null}),500)),GJ(this),u.start())}}function k(e,...t){if(this.__zooming){var n,a,r,s,o=b(this,t).event(e),l=e.changedTouches,d=l.length;for(vK(e),n=0;n<d;++n)r=aZ(a=l[n],this),o.touch0&&o.touch0[2]===a.identifier?o.touch0[0]=r:o.touch1&&o.touch1[2]===a.identifier&&(o.touch1[0]=r);if(a=o.that.__zoom,o.touch1){var u=o.touch0[0],f=o.touch0[1],m=o.touch1[0],p=o.touch1[1],h=(h=m[0]-u[0])*h+(h=m[1]-u[1])*h,y=(y=p[0]-f[0])*y+(y=p[1]-f[1])*y;a=g(a,Math.sqrt(h/y)),r=[(u[0]+m[0])/2,(u[1]+m[1])/2],s=[(f[0]+p[0])/2,(f[1]+p[1])/2]}else{if(!o.touch0)return;r=o.touch0[0],s=o.touch0[1]}o.zoom("touch",i(x(a,r,s),o.extent,c))}}function M(e,...a){if(this.__zooming){var r,i,s=b(this,a).event(e),o=e.changedTouches,l=o.length;for(yK(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),500),r=0;r<l;++r)i=o[r],s.touch0&&s.touch0[2]===i.identifier?delete s.touch0:s.touch1&&s.touch1[2]===i.identifier&&delete s.touch1;if(s.touch1&&!s.touch0&&(s.touch0=s.touch1,delete s.touch1),s.touch0)s.touch0[1]=this.__zoom.invert(s.touch0[0]);else if(s.end(),2===s.taps&&(i=aZ(i,this),Math.hypot(t[0]-i[0],t[1]-i[1])<p)){var c=nZ(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return h.transform=function(e,t,n,a){var r=e.selection?e.selection():e;r.property("__zoom",jK),e!==r?v(e,t,n,a):r.interrupt().each((function(){b(this,arguments).event(a).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()}))},h.scaleBy=function(e,t,n,a){h.scaleTo(e,(function(){return this.__zoom.k*("function"==typeof t?t.apply(this,arguments):t)}),n,a)},h.scaleTo=function(e,t,n,a){h.transform(e,(function(){var e=r.apply(this,arguments),a=this.__zoom,s=null==n?y(e):"function"==typeof n?n.apply(this,arguments):n,o=a.invert(s),l="function"==typeof t?t.apply(this,arguments):t;return i(x(g(a,l),s,o),e,c)}),n,a)},h.translateBy=function(e,t,n,a){h.transform(e,(function(){return i(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),r.apply(this,arguments),c)}),null,a)},h.translateTo=function(e,t,n,a,s){h.transform(e,(function(){var e=r.apply(this,arguments),s=this.__zoom,o=null==a?y(e):"function"==typeof a?a.apply(this,arguments):a;return i(xK.translate(o[0],o[1]).scale(s.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,c)}),a,s)},w.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=nZ(this.that).datum();f.call(e,this.that,new hK(e,{sourceEvent:this.sourceEvent,target:h,transform:this.that.__zoom,dispatch:f}),t)}},h.wheelDelta=function(e){return arguments.length?(s="function"==typeof e?e:pK(+e),h):s},h.filter=function(e){return arguments.length?(a="function"==typeof e?e:pK(!!e),h):a},h.touchable=function(e){return arguments.length?(o="function"==typeof e?e:pK(!!e),h):o},h.extent=function(e){return arguments.length?(r="function"==typeof e?e:pK([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),h):r},h.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],h):[l[0],l[1]]},h.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],h):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},h.constrain=function(e){return arguments.length?(i=e,h):i},h.duration=function(e){return arguments.length?(d=+e,h):d},h.interpolate=function(e){return arguments.length?(u=e,h):u},h.on=function(){var e=f.on.apply(f,arguments);return e===f?h:e},h.clickDistance=function(e){return arguments.length?(m=(e=+e)*e,h):Math.sqrt(m)},h.tapDistance=function(e){return arguments.length?(p=+e,h):p},h}gK.prototype;const MK=ci.createContext(null),_K=MK.Provider,EK=e=>`Node type "${e}" not found. Using fallback type "default".`,IK=()=>"The React Flow parent container needs a width and a height to render the graph.",LK=()=>"Only child nodes can use a parent extent.",AK=e=>`Marker type "${e}" doesn't exist.`,TK=(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,DK=()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",PK=e=>`Edge type "${e}" not found. Using fallback type "default".`,OK=e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,RK=(()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001")();function zK(e,t){const n=ci.useContext(MK);if(null===n)throw new Error(RK);return Oq(n,e,t)}const FK=()=>{const e=ci.useContext(MK);if(null===e)throw new Error(RK);return ci.useMemo((()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy})),[e])},BK=e=>e.userSelectionActive?"none":"all";function UK({position:e,children:t,className:n,style:a,...r}){const i=zK(BK),s=`${e}`.split("-");return di.createElement("div",{className:vq(["react-flow__panel",n,...s]),style:{...a,pointerEvents:i},...r},t)}function WK({proOptions:e,position:t="bottom-right"}){return(null==e?void 0:e.hideAttribution)?null:di.createElement(UK,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},di.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}var GK=ci.memo((({x:e,y:t,label:n,labelStyle:a={},labelShowBg:r=!0,labelBgStyle:i={},labelBgPadding:s=[2,4],labelBgBorderRadius:o=2,children:l,className:c,...d})=>{const u=ci.useRef(null),[f,m]=ci.useState({x:0,y:0,width:0,height:0}),p=vq(["react-flow__edge-textwrapper",c]);return ci.useEffect((()=>{if(u.current){const e=u.current.getBBox();m({x:e.x,y:e.y,width:e.width,height:e.height})}}),[n]),void 0!==n&&n?di.createElement("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:p,visibility:f.width?"visible":"hidden",...d},r&&di.createElement("rect",{width:f.width+2*s[0],x:-s[0],y:-s[1],height:f.height+2*s[1],className:"react-flow__edge-textbg",style:i,rx:o,ry:o}),di.createElement("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:u,style:a},n),l):null}));const VK=e=>({width:e.offsetWidth,height:e.offsetHeight}),$K=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),HK=(e={x:0,y:0},t)=>({x:$K(e.x,t[0][0],t[1][0]),y:$K(e.y,t[0][1],t[1][1])}),YK=(e,t,n)=>e<t?$K(Math.abs(e-t),1,50)/50:e>n?-$K(Math.abs(e-n),1,50)/50:0,qK=(e,t)=>[20*YK(e.x,35,t.width-35),20*YK(e.y,35,t.height-35)],QK=e=>{var t;return(null==(t=e.getRootNode)?void 0:t.call(e))||(null==window?void 0:window.document)},ZK=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),JK=({x:e,y:t,width:n,height:a})=>({x:e,y:t,x2:e+n,y2:t+a}),KK=({x:e,y:t,x2:n,y2:a})=>({x:e,y:t,width:n-e,height:a-t}),XK=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),eX=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),a=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*a)},tX=e=>!isNaN(e)&&isFinite(e),nX=Symbol.for("internals"),aX=["Enter"," ","Escape"];function rX(e){var t,n;const a=(e=>"nativeEvent"in e)(e)?e.nativeEvent:e,r=(null==(n=null==(t=a.composedPath)?void 0:t.call(a))?void 0:n[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(null==r?void 0:r.nodeName)||(null==r?void 0:r.hasAttribute("contenteditable"))||!!(null==r?void 0:r.closest(".nokey"))}const iX=e=>"clientX"in e,sX=(e,t)=>{var n,a;const r=iX(e),i=r?e.clientX:null==(n=e.touches)?void 0:n[0].clientX,s=r?e.clientY:null==(a=e.touches)?void 0:a[0].clientY;return{x:i-((null==t?void 0:t.left)??0),y:s-((null==t?void 0:t.top)??0)}},oX=()=>{var e;return"undefined"!=typeof navigator&&(null==(e=null==navigator?void 0:navigator.userAgent)?void 0:e.indexOf("Mac"))>=0},lX=({id:e,path:t,labelX:n,labelY:a,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:c,style:d,markerEnd:u,markerStart:f,interactionWidth:m=20})=>di.createElement(di.Fragment,null,di.createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:u,markerStart:f}),m&&di.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),r&&tX(n)&&tX(a)?di.createElement(GK,{x:n,y:a,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:c}):null);function cX(e,t,n){return void 0===n?n:a=>{const r=t().edges.find((t=>t.id===e));r&&n(a,{...r})}}function dX({sourceX:e,sourceY:t,targetX:n,targetY:a}){const r=Math.abs(n-e)/2,i=n<e?n+r:n-r,s=Math.abs(a-t)/2;return[i,a<t?a+s:a-s,r,s]}function uX({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:r,sourceControlY:i,targetControlX:s,targetControlY:o}){const l=.125*e+.375*r+.375*s+.125*n,c=.125*t+.375*i+.375*o+.125*a;return[l,c,Math.abs(l-e),Math.abs(c-t)]}var fX,mX,pX,hX,gX,xX,yX,vX,bX,wX,jX,NX;function CX({pos:e,x1:t,y1:n,x2:a,y2:r}){return e===jX.Left||e===jX.Right?[.5*(t+a),n]:[t,.5*(n+r)]}function SX({sourceX:e,sourceY:t,sourcePosition:n=jX.Bottom,targetX:a,targetY:r,targetPosition:i=jX.Top}){const[s,o]=CX({pos:n,x1:e,y1:t,x2:a,y2:r}),[l,c]=CX({pos:i,x1:a,y1:r,x2:e,y2:t}),[d,u,f,m]=uX({sourceX:e,sourceY:t,targetX:a,targetY:r,sourceControlX:s,sourceControlY:o,targetControlX:l,targetControlY:c});return[`M${e},${t} C${s},${o} ${l},${c} ${a},${r}`,d,u,f,m]}lX.displayName="BaseEdge",(mX=fX||(fX={})).Strict="strict",mX.Loose="loose",(hX=pX||(pX={})).Free="free",hX.Vertical="vertical",hX.Horizontal="horizontal",(xX=gX||(gX={})).Partial="partial",xX.Full="full",(vX=yX||(yX={})).Bezier="default",vX.Straight="straight",vX.Step="step",vX.SmoothStep="smoothstep",vX.SimpleBezier="simplebezier",(wX=bX||(bX={})).Arrow="arrow",wX.ArrowClosed="arrowclosed",(NX=jX||(jX={})).Left="left",NX.Top="top",NX.Right="right",NX.Bottom="bottom";const kX=ci.memo((({sourceX:e,sourceY:t,targetX:n,targetY:a,sourcePosition:r=jX.Bottom,targetPosition:i=jX.Top,label:s,labelStyle:o,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:u,style:f,markerEnd:m,markerStart:p,interactionWidth:h})=>{const[g,x,y]=SX({sourceX:e,sourceY:t,sourcePosition:r,targetX:n,targetY:a,targetPosition:i});return di.createElement(lX,{path:g,labelX:x,labelY:y,label:s,labelStyle:o,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:u,style:f,markerEnd:m,markerStart:p,interactionWidth:h})}));kX.displayName="SimpleBezierEdge";const MX={[jX.Left]:{x:-1,y:0},[jX.Right]:{x:1,y:0},[jX.Top]:{x:0,y:-1},[jX.Bottom]:{x:0,y:1}},_X=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function EX({source:e,sourcePosition:t=jX.Bottom,target:n,targetPosition:a=jX.Top,center:r,offset:i}){const s=MX[t],o=MX[a],l={x:e.x+s.x*i,y:e.y+s.y*i},c={x:n.x+o.x*i,y:n.y+o.y*i},d=(({source:e,sourcePosition:t=jX.Bottom,target:n})=>t===jX.Left||t===jX.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1})({source:l,sourcePosition:t,target:c}),u=0!==d.x?"x":"y",f=d[u];let m,p,h=[];const g={x:0,y:0},x={x:0,y:0},[y,v,b,w]=dX({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[u]*o[u]===-1){m=r.x??y,p=r.y??v;const e=[{x:m,y:l.y},{x:m,y:c.y}],t=[{x:l.x,y:p},{x:c.x,y:p}];h=s[u]===f?"x"===u?e:t:"x"===u?t:e}else{const r=[{x:l.x,y:c.y}],d=[{x:c.x,y:l.y}];if(h="x"===u?s.x===f?d:r:s.y===f?r:d,t===a){const t=Math.abs(e[u]-n[u]);if(t<=i){const a=Math.min(i-1,i-t);s[u]===f?g[u]=(l[u]>e[u]?-1:1)*a:x[u]=(c[u]>n[u]?-1:1)*a}}if(t!==a){const e="x"===u?"y":"x",t=s[u]===o[e],n=l[e]>c[e],a=l[e]<c[e];(1===s[u]&&(!t&&n||t&&a)||1!==s[u]&&(!t&&a||t&&n))&&(h="x"===u?r:d)}const y={x:l.x+g.x,y:l.y+g.y},v={x:c.x+x.x,y:c.y+x.y};Math.max(Math.abs(y.x-h[0].x),Math.abs(v.x-h[0].x))>=Math.max(Math.abs(y.y-h[0].y),Math.abs(v.y-h[0].y))?(m=(y.x+v.x)/2,p=h[0].y):(m=h[0].x,p=(y.y+v.y)/2)}return[[e,{x:l.x+g.x,y:l.y+g.y},...h,{x:c.x+x.x,y:c.y+x.y},n],m,p,b,w]}function IX({sourceX:e,sourceY:t,sourcePosition:n=jX.Bottom,targetX:a,targetY:r,targetPosition:i=jX.Top,borderRadius:s=5,centerX:o,centerY:l,offset:c=20}){const[d,u,f,m,p]=EX({source:{x:e,y:t},sourcePosition:n,target:{x:a,y:r},targetPosition:i,center:{x:o,y:l},offset:c}),h=d.reduce(((e,t,n)=>{let a="";return a=n>0&&n<d.length-1?function(e,t,n,a){const r=Math.min(_X(e,t)/2,_X(t,n)/2,a),{x:i,y:s}=t;if(e.x===i&&i===n.x||e.y===s&&s===n.y)return`L${i} ${s}`;if(e.y===s)return`L ${i+r*(e.x<n.x?-1:1)},${s}Q ${i},${s} ${i},${s+r*(e.y<n.y?1:-1)}`;const o=e.x<n.x?1:-1;return`L ${i},${s+r*(e.y<n.y?-1:1)}Q ${i},${s} ${i+r*o},${s}`}(d[n-1],t,d[n+1],s):`${0===n?"M":"L"}${t.x} ${t.y}`,e+=a}),"");return[h,u,f,m,p]}const LX=ci.memo((({sourceX:e,sourceY:t,targetX:n,targetY:a,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:c,style:d,sourcePosition:u=jX.Bottom,targetPosition:f=jX.Top,markerEnd:m,markerStart:p,pathOptions:h,interactionWidth:g})=>{const[x,y,v]=IX({sourceX:e,sourceY:t,sourcePosition:u,targetX:n,targetY:a,targetPosition:f,borderRadius:null==h?void 0:h.borderRadius,offset:null==h?void 0:h.offset});return di.createElement(lX,{path:x,labelX:y,labelY:v,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:c,style:d,markerEnd:m,markerStart:p,interactionWidth:g})}));LX.displayName="SmoothStepEdge";const AX=ci.memo((e=>{var t;return di.createElement(LX,{...e,pathOptions:ci.useMemo((()=>{var t;return{borderRadius:0,offset:null==(t=e.pathOptions)?void 0:t.offset}}),[null==(t=e.pathOptions)?void 0:t.offset])})}));AX.displayName="StepEdge";const TX=ci.memo((({sourceX:e,sourceY:t,targetX:n,targetY:a,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:c,style:d,markerEnd:u,markerStart:f,interactionWidth:m})=>{const[p,h,g]=function({sourceX:e,sourceY:t,targetX:n,targetY:a}){const[r,i,s,o]=dX({sourceX:e,sourceY:t,targetX:n,targetY:a});return[`M ${e},${t}L ${n},${a}`,r,i,s,o]}({sourceX:e,sourceY:t,targetX:n,targetY:a});return di.createElement(lX,{path:p,labelX:h,labelY:g,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:c,style:d,markerEnd:u,markerStart:f,interactionWidth:m})}));function DX(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function PX({pos:e,x1:t,y1:n,x2:a,y2:r,c:i}){switch(e){case jX.Left:return[t-DX(t-a,i),n];case jX.Right:return[t+DX(a-t,i),n];case jX.Top:return[t,n-DX(n-r,i)];case jX.Bottom:return[t,n+DX(r-n,i)]}}function OX({sourceX:e,sourceY:t,sourcePosition:n=jX.Bottom,targetX:a,targetY:r,targetPosition:i=jX.Top,curvature:s=.25}){const[o,l]=PX({pos:n,x1:e,y1:t,x2:a,y2:r,c:s}),[c,d]=PX({pos:i,x1:a,y1:r,x2:e,y2:t,c:s}),[u,f,m,p]=uX({sourceX:e,sourceY:t,targetX:a,targetY:r,sourceControlX:o,sourceControlY:l,targetControlX:c,targetControlY:d});return[`M${e},${t} C${o},${l} ${c},${d} ${a},${r}`,u,f,m,p]}TX.displayName="StraightEdge";const RX=ci.memo((({sourceX:e,sourceY:t,targetX:n,targetY:a,sourcePosition:r=jX.Bottom,targetPosition:i=jX.Top,label:s,labelStyle:o,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:u,style:f,markerEnd:m,markerStart:p,pathOptions:h,interactionWidth:g})=>{const[x,y,v]=OX({sourceX:e,sourceY:t,sourcePosition:r,targetX:n,targetY:a,targetPosition:i,curvature:null==h?void 0:h.curvature});return di.createElement(lX,{path:x,labelX:y,labelY:v,label:s,labelStyle:o,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:u,style:f,markerEnd:m,markerStart:p,interactionWidth:g})}));RX.displayName="BezierEdge";const zX=ci.createContext(null),FX=zX.Provider;zX.Consumer;const BX=({source:e,sourceHandle:t,target:n,targetHandle:a})=>`reactflow__edge-${e}${t||""}-${n}${a||""}`,UX=(e,t)=>{if(void 0===e)return"";if("string"==typeof e)return e;return`${t?`${t}__`:""}${Object.keys(e).sort().map((t=>`${t}=${e[t]}`)).join("&")}`},WX=(e,t)=>{if(!e.source||!e.target)return t;let n;var a;return n="id"in(a=e)&&"source"in a&&"target"in a?{...e}:{...e,id:BX(e)},((e,t)=>t.some((t=>!(t.source!==e.source||t.target!==e.target||t.sourceHandle!==e.sourceHandle&&(t.sourceHandle||e.sourceHandle)||t.targetHandle!==e.targetHandle&&(t.targetHandle||e.targetHandle)))))(n,t)?t:t.concat(n)},GX=({x:e,y:t},[n,a,r],i,[s,o])=>{const l={x:(e-n)/r,y:(t-a)/r};return i?{x:s*Math.round(l.x/s),y:o*Math.round(l.y/o)}:l},VX=({x:e,y:t},[n,a,r])=>({x:e*r+n,y:t*r+a}),$X=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],a=(e.height??0)*t[1],r={x:e.position.x-n,y:e.position.y-a};return{...r,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-a}:r}},HX=(e,t=[0,0])=>{if(0===e.length)return{x:0,y:0,width:0,height:0};const n=e.reduce(((e,n)=>{const{x:a,y:r}=$X(n,t).positionAbsolute;return ZK(e,JK({x:a,y:r,width:n.width||0,height:n.height||0}))}),{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return KK(n)},YX=(e,t,[n,a,r]=[0,0,1],i=!1,s=!1,o=[0,0])=>{const l={x:(t.x-n)/r,y:(t.y-a)/r,width:t.width/r,height:t.height/r},c=[];return e.forEach((e=>{const{width:t,height:n,selectable:a=!0,hidden:r=!1}=e;if(s&&!a||r)return!1;const{positionAbsolute:d}=$X(e,o),u={x:d.x,y:d.y,width:t||0,height:n||0},f=eX(l,u);(void 0===t||void 0===n||null===t||null===n||i&&f>0||f>=(t||0)*(n||0)||e.dragging)&&c.push(e)})),c},qX=(e,t)=>{const n=e.map((e=>e.id));return t.filter((e=>n.includes(e.source)||n.includes(e.target)))},QX=(e,t,n,a,r,i=.1)=>{const s=t/(e.width*(1+i)),o=n/(e.height*(1+i)),l=Math.min(s,o),c=$K(l,a,r);return{x:t/2-(e.x+e.width/2)*c,y:n/2-(e.y+e.height/2)*c,zoom:c}},ZX=(e,t=0)=>e.transition().duration(t);function JX(e,t,n,a){return(t[n]||[]).reduce(((t,r)=>{var i,s;return`${e.id}-${r.id}-${n}`!==a&&t.push({id:r.id||null,type:n,nodeId:e.id,x:((null==(i=e.positionAbsolute)?void 0:i.x)??0)+r.x+r.width/2,y:((null==(s=e.positionAbsolute)?void 0:s.y)??0)+r.y+r.height/2}),t}),[])}const KX={source:null,target:null,sourceHandle:null,targetHandle:null},XX=()=>({handleDomNode:null,isValid:!1,connection:KX,endHandle:null});function e0(e,t,n,a,r,i,s){const o="target"===r,l=s.querySelector(`.react-flow__handle[data-id="${null==e?void 0:e.nodeId}-${null==e?void 0:e.id}-${null==e?void 0:e.type}"]`),c={...XX(),handleDomNode:l};if(l){const e=t0(void 0,l),r=l.getAttribute("data-nodeid"),s=l.getAttribute("data-handleid"),d=l.classList.contains("connectable"),u=l.classList.contains("connectableend"),f={source:o?r:n,sourceHandle:o?s:a,target:o?n:r,targetHandle:o?a:s};c.connection=f;d&&u&&(t===fX.Strict?o&&"source"===e||!o&&"target"===e:r!==n||s!==a)&&(c.endHandle={nodeId:r,handleId:s,type:e},c.isValid=i(f))}return c}function t0(e,t){return e||((null==t?void 0:t.classList.contains("target"))?"target":(null==t?void 0:t.classList.contains("source"))?"source":null)}function n0(e){null==e||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function a0(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function r0({event:e,handleId:t,nodeId:n,onConnect:a,isTarget:r,getState:i,setState:s,isValidConnection:o,edgeUpdaterType:l,onReconnectEnd:c}){const d=QK(e.target),{connectionMode:u,domNode:f,autoPanOnConnect:m,connectionRadius:p,onConnectStart:h,panBy:g,getNodes:x,cancelConnection:y}=i();let v,b=0;const{x:w,y:j}=sX(e),N=null==d?void 0:d.elementFromPoint(w,j),C=t0(l,N),S=null==f?void 0:f.getBoundingClientRect();if(!S||!C)return;let k,M=sX(e,S),_=!1,E=null,I=!1,L=null;const A=function({nodes:e,nodeId:t,handleId:n,handleType:a}){return e.reduce(((e,r)=>{if(r[nX]){const{handleBounds:i}=r[nX];let s=[],o=[];i&&(s=JX(r,i,"source",`${t}-${n}-${a}`),o=JX(r,i,"target",`${t}-${n}-${a}`)),e.push(...s,...o)}return e}),[])}({nodes:x(),nodeId:n,handleId:t,handleType:C}),T=()=>{if(!m)return;const[e,t]=qK(M,S);g({x:e,y:t}),b=requestAnimationFrame(T)};function D(e){const{transform:a}=i();M=sX(e,S);const{handle:l,validHandleResult:c}=function(e,t,n,a,r,i){const{x:s,y:o}=sX(e),l=t.elementsFromPoint(s,o).find((e=>e.classList.contains("react-flow__handle")));if(l){const e=l.getAttribute("data-nodeid");if(e){const t=t0(void 0,l),a=l.getAttribute("data-handleid"),s=i({nodeId:e,id:a,type:t});if(s){const i=r.find((n=>n.nodeId===e&&n.type===t&&n.id===a));return{handle:{id:a,type:t,nodeId:e,x:(null==i?void 0:i.x)||n.x,y:(null==i?void 0:i.y)||n.y},validHandleResult:s}}}}let c=[],d=1/0;if(r.forEach((e=>{const t=Math.sqrt((e.x-n.x)**2+(e.y-n.y)**2);if(t<=a){const n=i(e);t<=d&&(t<d?c=[{handle:e,validHandleResult:n}]:t===d&&c.push({handle:e,validHandleResult:n}),d=t)}})),!c.length)return{handle:null,validHandleResult:XX()};if(1===c.length)return c[0];const u=c.some((({validHandleResult:e})=>e.isValid)),f=c.some((({handle:e})=>"target"===e.type));return c.find((({handle:e,validHandleResult:t})=>f?"target"===e.type:!u||t.isValid))||c[0]}(e,d,GX(M,a,!1,[1,1]),p,A,(e=>e0(e,u,n,t,r?"target":"source",o,d)));if(v=l,_||(T(),_=!0),L=c.handleDomNode,E=c.connection,I=c.isValid,s({connectionPosition:v&&I?VX({x:v.x,y:v.y},a):M,connectionStatus:a0(!!v,I),connectionEndHandle:c.endHandle}),!v&&!I&&!L)return n0(k);E.source!==E.target&&L&&(n0(k),k=L,L.classList.add("connecting","react-flow__handle-connecting"),L.classList.toggle("valid",I),L.classList.toggle("react-flow__handle-valid",I))}function P(e){var t,n;(v||L)&&E&&I&&(null==a||a(E)),null==(n=(t=i()).onConnectEnd)||n.call(t,e),l&&(null==c||c(e)),n0(k),y(),cancelAnimationFrame(b),_=!1,I=!1,E=null,L=null,d.removeEventListener("mousemove",D),d.removeEventListener("mouseup",P),d.removeEventListener("touchmove",D),d.removeEventListener("touchend",P)}s({connectionPosition:M,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:C,connectionStartHandle:{nodeId:n,handleId:t,type:C},connectionEndHandle:null}),null==h||h(e,{nodeId:n,handleId:t,handleType:C}),d.addEventListener("mousemove",D),d.addEventListener("mouseup",P),d.addEventListener("touchmove",D),d.addEventListener("touchend",P)}const i0=()=>!0,s0=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),o0=ci.forwardRef((({type:e="source",position:t=jX.Top,isValidConnection:n,isConnectable:a=!0,isConnectableStart:r=!0,isConnectableEnd:i=!0,id:s,onConnect:o,children:l,className:c,onMouseDown:d,onTouchStart:u,...f},m)=>{var p,h;const g=s||null,x="target"===e,y=FK(),v=ci.useContext(zX),{connectOnClick:b,noPanClassName:w}=zK(s0,zq),{connecting:j,clickConnecting:N}=zK(((e,t,n)=>a=>{const{connectionStartHandle:r,connectionEndHandle:i,connectionClickStartHandle:s}=a;return{connecting:(null==r?void 0:r.nodeId)===e&&(null==r?void 0:r.handleId)===t&&(null==r?void 0:r.type)===n||(null==i?void 0:i.nodeId)===e&&(null==i?void 0:i.handleId)===t&&(null==i?void 0:i.type)===n,clickConnecting:(null==s?void 0:s.nodeId)===e&&(null==s?void 0:s.handleId)===t&&(null==s?void 0:s.type)===n}})(v,g,e),zq);v||null==(h=(p=y.getState()).onError)||h.call(p,"010",DK());const C=e=>{const{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:a}=y.getState(),r={...t,...e};if(a){const{edges:e,setEdges:t}=y.getState();t(WX(r,e))}null==n||n(r),null==o||o(r)},S=e=>{if(!v)return;const t=iX(e);r&&(t&&0===e.button||!t)&&r0({event:e,handleId:g,nodeId:v,onConnect:C,isTarget:x,getState:y.getState,setState:y.setState,isValidConnection:n||y.getState().isValidConnection||i0}),t?null==d||d(e):null==u||u(e)};return di.createElement("div",{"data-handleid":g,"data-nodeid":v,"data-handlepos":t,"data-id":`${v}-${g}-${e}`,className:vq(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",w,c,{source:!x,target:x,connectable:a,connectablestart:r,connectableend:i,connecting:N,connectionindicator:a&&(r&&!j||i&&j)}]),onMouseDown:S,onTouchStart:S,onClick:b?t=>{const{onClickConnectStart:a,onClickConnectEnd:i,connectionClickStartHandle:s,connectionMode:o,isValidConnection:l}=y.getState();if(!v||!s&&!r)return;if(!s)return null==a||a(t,{nodeId:v,handleId:g,handleType:e}),void y.setState({connectionClickStartHandle:{nodeId:v,type:e,handleId:g}});const c=QK(t.target),d=n||l||i0,{connection:u,isValid:f}=e0({nodeId:v,id:g,type:e},o,s.nodeId,s.handleId||null,s.type,d,c);f&&C(u),null==i||i(t),y.setState({connectionClickStartHandle:null})}:void 0,ref:m,...f},l)}));o0.displayName="Handle";var l0=ci.memo(o0);const c0=({data:e,isConnectable:t,targetPosition:n=jX.Top,sourcePosition:a=jX.Bottom})=>di.createElement(di.Fragment,null,di.createElement(l0,{type:"target",position:n,isConnectable:t}),null==e?void 0:e.label,di.createElement(l0,{type:"source",position:a,isConnectable:t}));c0.displayName="DefaultNode";var d0=ci.memo(c0);const u0=({data:e,isConnectable:t,sourcePosition:n=jX.Bottom})=>di.createElement(di.Fragment,null,null==e?void 0:e.label,di.createElement(l0,{type:"source",position:n,isConnectable:t}));u0.displayName="InputNode";var f0=ci.memo(u0);const m0=({data:e,isConnectable:t,targetPosition:n=jX.Top})=>di.createElement(di.Fragment,null,di.createElement(l0,{type:"target",position:n,isConnectable:t}),null==e?void 0:e.label);m0.displayName="OutputNode";var p0=ci.memo(m0);const h0=()=>null;h0.displayName="GroupNode";const g0=e=>({selectedNodes:e.getNodes().filter((e=>e.selected)),selectedEdges:e.edges.filter((e=>e.selected)).map((e=>({...e})))}),x0=e=>e.id;function y0(e,t){return zq(e.selectedNodes.map(x0),t.selectedNodes.map(x0))&&zq(e.selectedEdges.map(x0),t.selectedEdges.map(x0))}const v0=ci.memo((({onSelectionChange:e})=>{const t=FK(),{selectedNodes:n,selectedEdges:a}=zK(g0,y0);return ci.useEffect((()=>{const r={nodes:n,edges:a};null==e||e(r),t.getState().onSelectionChange.forEach((e=>e(r)))}),[n,a,e]),null}));v0.displayName="SelectionListener";const b0=e=>!!e.onSelectionChange;function w0({onSelectionChange:e}){const t=zK(b0);return e||t?di.createElement(v0,{onSelectionChange:e}):null}const j0=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function N0(e,t){ci.useEffect((()=>{void 0!==e&&t(e)}),[e])}function C0(e,t,n){ci.useEffect((()=>{void 0!==t&&n({[e]:t})}),[t])}const S0=({nodes:e,edges:t,defaultNodes:n,defaultEdges:a,onConnect:r,onConnectStart:i,onConnectEnd:s,onClickConnectStart:o,onClickConnectEnd:l,nodesDraggable:c,nodesConnectable:d,nodesFocusable:u,edgesFocusable:f,edgesUpdatable:m,elevateNodesOnSelect:p,minZoom:h,maxZoom:g,nodeExtent:x,onNodesChange:y,onEdgesChange:v,elementsSelectable:b,connectionMode:w,snapGrid:j,snapToGrid:N,translateExtent:C,connectOnClick:S,defaultEdgeOptions:k,fitView:M,fitViewOptions:_,onNodesDelete:E,onEdgesDelete:I,onNodeDrag:L,onNodeDragStart:A,onNodeDragStop:T,onSelectionDrag:D,onSelectionDragStart:P,onSelectionDragStop:O,noPanClassName:R,nodeOrigin:z,rfId:F,autoPanOnConnect:B,autoPanOnNodeDrag:U,onError:W,connectionRadius:G,isValidConnection:V,nodeDragThreshold:$})=>{const{setNodes:H,setEdges:Y,setDefaultNodesAndEdges:q,setMinZoom:Q,setMaxZoom:Z,setTranslateExtent:J,setNodeExtent:K,reset:X}=zK(j0,zq),ee=FK();return ci.useEffect((()=>{const e=null==a?void 0:a.map((e=>({...e,...k})));return q(n,e),()=>{X()}}),[]),C0("defaultEdgeOptions",k,ee.setState),C0("connectionMode",w,ee.setState),C0("onConnect",r,ee.setState),C0("onConnectStart",i,ee.setState),C0("onConnectEnd",s,ee.setState),C0("onClickConnectStart",o,ee.setState),C0("onClickConnectEnd",l,ee.setState),C0("nodesDraggable",c,ee.setState),C0("nodesConnectable",d,ee.setState),C0("nodesFocusable",u,ee.setState),C0("edgesFocusable",f,ee.setState),C0("edgesUpdatable",m,ee.setState),C0("elementsSelectable",b,ee.setState),C0("elevateNodesOnSelect",p,ee.setState),C0("snapToGrid",N,ee.setState),C0("snapGrid",j,ee.setState),C0("onNodesChange",y,ee.setState),C0("onEdgesChange",v,ee.setState),C0("connectOnClick",S,ee.setState),C0("fitViewOnInit",M,ee.setState),C0("fitViewOnInitOptions",_,ee.setState),C0("onNodesDelete",E,ee.setState),C0("onEdgesDelete",I,ee.setState),C0("onNodeDrag",L,ee.setState),C0("onNodeDragStart",A,ee.setState),C0("onNodeDragStop",T,ee.setState),C0("onSelectionDrag",D,ee.setState),C0("onSelectionDragStart",P,ee.setState),C0("onSelectionDragStop",O,ee.setState),C0("noPanClassName",R,ee.setState),C0("nodeOrigin",z,ee.setState),C0("rfId",F,ee.setState),C0("autoPanOnConnect",B,ee.setState),C0("autoPanOnNodeDrag",U,ee.setState),C0("onError",W,ee.setState),C0("connectionRadius",G,ee.setState),C0("isValidConnection",V,ee.setState),C0("nodeDragThreshold",$,ee.setState),N0(e,H),N0(t,Y),N0(h,Q),N0(g,Z),N0(C,J),N0(x,K),null},k0={display:"none"},M0={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},_0="react-flow__node-desc",E0="react-flow__edge-desc",I0=e=>e.ariaLiveMessage;function L0({rfId:e}){const t=zK(I0);return di.createElement("div",{id:`react-flow__aria-live-${e}`,"aria-live":"assertive","aria-atomic":"true",style:M0},t)}function A0({rfId:e,disableKeyboardA11y:t}){return di.createElement(di.Fragment,null,di.createElement("div",{id:`${_0}-${e}`,style:k0},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),di.createElement("div",{id:`${E0}-${e}`,style:k0},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&di.createElement(L0,{rfId:e}))}var T0=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,a]=ci.useState(!1),r=ci.useRef(!1),i=ci.useRef(new Set([])),[s,o]=ci.useMemo((()=>{if(null!==e){const t=(Array.isArray(e)?e:[e]).filter((e=>"string"==typeof e)).map((e=>e.split("+"))),n=t.reduce(((e,t)=>e.concat(...t)),[]);return[t,n]}return[[],[]]}),[e]);return ci.useEffect((()=>{const n="undefined"!=typeof document?document:null,l=(null==t?void 0:t.target)||n;if(null!==e){const e=e=>{r.current=e.ctrlKey||e.metaKey||e.shiftKey;if((!r.current||r.current&&!t.actInsideInputWithModifier)&&rX(e))return!1;const n=P0(e.code,o);i.current.add(e[n]),D0(s,i.current,!1)&&(e.preventDefault(),a(!0))},n=e=>{if((!r.current||r.current&&!t.actInsideInputWithModifier)&&rX(e))return!1;const n=P0(e.code,o);D0(s,i.current,!0)?(a(!1),i.current.clear()):i.current.delete(e[n]),"Meta"===e.key&&i.current.clear(),r.current=!1},c=()=>{i.current.clear(),a(!1)};return null==l||l.addEventListener("keydown",e),null==l||l.addEventListener("keyup",n),window.addEventListener("blur",c),()=>{null==l||l.removeEventListener("keydown",e),null==l||l.removeEventListener("keyup",n),window.removeEventListener("blur",c)}}}),[e,a]),n};function D0(e,t,n){return e.filter((e=>n||e.length===t.size)).some((e=>e.every((e=>t.has(e)))))}function P0(e,t){return t.includes(e)?"code":"key"}function O0(e,t,n,a){var r,i;const s=e.parentNode||e.parentId;if(!s)return n;const o=t.get(s),l=$X(o,a);return O0(o,t,{x:(n.x??0)+l.x,y:(n.y??0)+l.y,z:((null==(r=o[nX])?void 0:r.z)??0)>(n.z??0)?(null==(i=o[nX])?void 0:i.z)??0:n.z??0},a)}function R0(e,t,n){e.forEach((a=>{var r;const i=a.parentNode||a.parentId;if(i&&!e.has(i))throw new Error(`Parent node ${i} not found`);if(i||(null==n?void 0:n[a.id])){const{x:i,y:s,z:o}=O0(a,e,{...a.position,z:(null==(r=a[nX])?void 0:r.z)??0},t);a.positionAbsolute={x:i,y:s},a[nX].z=o,(null==n?void 0:n[a.id])&&(a[nX].isParent=!0)}}))}function z0(e,t,n,a){const r=new Map,i={},s=a?1e3:0;return e.forEach((e=>{var n;const a=(tX(e.zIndex)?e.zIndex:0)+(e.selected?s:0),o=t.get(e.id),l={...e,positionAbsolute:{x:e.position.x,y:e.position.y}},c=e.parentNode||e.parentId;c&&(i[c]=!0);const d=(null==o?void 0:o.type)&&(null==o?void 0:o.type)!==e.type;Object.defineProperty(l,nX,{enumerable:!1,value:{handleBounds:d||null==(n=null==o?void 0:o[nX])?void 0:n.handleBounds,z:a}}),r.set(e.id,l)})),R0(r,n,i),r}function F0(e,t={}){const{getNodes:n,width:a,height:r,minZoom:i,maxZoom:s,d3Zoom:o,d3Selection:l,fitViewOnInitDone:c,fitViewOnInit:d,nodeOrigin:u}=e(),f=t.initial&&!c&&d;if(o&&l&&(f||!t.initial)){const e=n().filter((e=>{var n;const a=t.includeHiddenNodes?e.width&&e.height:!e.hidden;return(null==(n=t.nodes)?void 0:n.length)?a&&t.nodes.some((t=>t.id===e.id)):a})),c=e.every((e=>e.width&&e.height));if(e.length>0&&c){const n=HX(e,u),{x:c,y:d,zoom:f}=QX(n,a,r,t.minZoom??i,t.maxZoom??s,t.padding??.1),m=xK.translate(c,d).scale(f);return"number"==typeof t.duration&&t.duration>0?o.transform(ZX(l,t.duration),m):o.transform(l,m),!0}}return!1}function B0(e,t){return e.forEach((e=>{const n=t.get(e.id);n&&t.set(n.id,{...n,[nX]:n[nX],selected:e.selected})})),new Map(t)}function U0(e,t){return t.map((t=>{const n=e.find((e=>e.id===t.id));return n&&(t.selected=n.selected),t}))}function W0({changedNodes:e,changedEdges:t,get:n,set:a}){const{nodeInternals:r,edges:i,onNodesChange:s,onEdgesChange:o,hasDefaultNodes:l,hasDefaultEdges:c}=n();(null==e?void 0:e.length)&&(l&&a({nodeInternals:B0(e,r)}),null==s||s(e)),(null==t?void 0:t.length)&&(c&&a({edges:U0(t,i)}),null==o||o(t))}const G0=()=>{},V0={zoomIn:G0,zoomOut:G0,zoomTo:G0,getZoom:()=>1,setViewport:G0,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:G0,fitBounds:G0,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},$0=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection});function H0(){const e=(()=>{const e=FK(),{d3Zoom:t,d3Selection:n}=zK($0,zq),a=ci.useMemo((()=>n&&t?{zoomIn:e=>t.scaleBy(ZX(n,null==e?void 0:e.duration),1.2),zoomOut:e=>t.scaleBy(ZX(n,null==e?void 0:e.duration),1/1.2),zoomTo:(e,a)=>t.scaleTo(ZX(n,null==a?void 0:a.duration),e),getZoom:()=>e.getState().transform[2],setViewport:(a,r)=>{const[i,s,o]=e.getState().transform,l=xK.translate(a.x??i,a.y??s).scale(a.zoom??o);t.transform(ZX(n,null==r?void 0:r.duration),l)},getViewport:()=>{const[t,n,a]=e.getState().transform;return{x:t,y:n,zoom:a}},fitView:t=>F0(e.getState,t),setCenter:(a,r,i)=>{const{width:s,height:o,maxZoom:l}=e.getState(),c=void 0!==(null==i?void 0:i.zoom)?i.zoom:l,d=s/2-a*c,u=o/2-r*c,f=xK.translate(d,u).scale(c);t.transform(ZX(n,null==i?void 0:i.duration),f)},fitBounds:(a,r)=>{const{width:i,height:s,minZoom:o,maxZoom:l}=e.getState(),{x:c,y:d,zoom:u}=QX(a,i,s,o,l,(null==r?void 0:r.padding)??.1),f=xK.translate(c,d).scale(u);t.transform(ZX(n,null==r?void 0:r.duration),f)},project:t=>{const{transform:n,snapToGrid:a,snapGrid:r}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),GX(t,n,a,r)},screenToFlowPosition:t=>{const{transform:n,snapToGrid:a,snapGrid:r,domNode:i}=e.getState();if(!i)return t;const{x:s,y:o}=i.getBoundingClientRect(),l={x:t.x-s,y:t.y-o};return GX(l,n,a,r)},flowToScreenPosition:t=>{const{transform:n,domNode:a}=e.getState();if(!a)return t;const{x:r,y:i}=a.getBoundingClientRect(),s=VX(t,n);return{x:s.x+r,y:s.y+i}},viewportInitialized:!0}:V0),[t,n]);return a})(),t=FK(),n=ci.useCallback((()=>t.getState().getNodes().map((e=>({...e})))),[]),a=ci.useCallback((e=>t.getState().nodeInternals.get(e)),[]),r=ci.useCallback((()=>{const{edges:e=[]}=t.getState();return e.map((e=>({...e})))}),[]),i=ci.useCallback((e=>{const{edges:n=[]}=t.getState();return n.find((t=>t.id===e))}),[]),s=ci.useCallback((e=>{const{getNodes:n,setNodes:a,hasDefaultNodes:r,onNodesChange:i}=t.getState(),s=n(),o="function"==typeof e?e(s):e;if(r)a(o);else if(i){i(0===o.length?s.map((e=>({type:"remove",id:e.id}))):o.map((e=>({item:e,type:"reset"}))))}}),[]),o=ci.useCallback((e=>{const{edges:n=[],setEdges:a,hasDefaultEdges:r,onEdgesChange:i}=t.getState(),s="function"==typeof e?e(n):e;if(r)a(s);else if(i){i(0===s.length?n.map((e=>({type:"remove",id:e.id}))):s.map((e=>({item:e,type:"reset"}))))}}),[]),l=ci.useCallback((e=>{const n=Array.isArray(e)?e:[e],{getNodes:a,setNodes:r,hasDefaultNodes:i,onNodesChange:s}=t.getState();if(i){r([...a(),...n])}else if(s){s(n.map((e=>({item:e,type:"add"}))))}}),[]),c=ci.useCallback((e=>{const n=Array.isArray(e)?e:[e],{edges:a=[],setEdges:r,hasDefaultEdges:i,onEdgesChange:s}=t.getState();if(i)r([...a,...n]);else if(s){s(n.map((e=>({item:e,type:"add"}))))}}),[]),d=ci.useCallback((()=>{const{getNodes:e,edges:n=[],transform:a}=t.getState(),[r,i,s]=a;return{nodes:e().map((e=>({...e}))),edges:n.map((e=>({...e}))),viewport:{x:r,y:i,zoom:s}}}),[]),u=ci.useCallback((({nodes:e,edges:n})=>{const{nodeInternals:a,getNodes:r,edges:i,hasDefaultNodes:s,hasDefaultEdges:o,onNodesDelete:l,onEdgesDelete:c,onNodesChange:d,onEdgesChange:u}=t.getState(),f=(e||[]).map((e=>e.id)),m=(n||[]).map((e=>e.id)),p=r().reduce(((e,t)=>{const n=t.parentNode||t.parentId,a=!f.includes(t.id)&&n&&e.find((e=>e.id===n));return("boolean"!=typeof t.deletable||t.deletable)&&(f.includes(t.id)||a)&&e.push(t),e}),[]),h=i.filter((e=>"boolean"!=typeof e.deletable||e.deletable)),g=h.filter((e=>m.includes(e.id)));if(p||g){const e=qX(p,h),n=[...g,...e],r=n.reduce(((e,t)=>(e.includes(t.id)||e.push(t.id),e)),[]);if((o||s)&&(o&&t.setState({edges:i.filter((e=>!r.includes(e.id)))}),s&&(p.forEach((e=>{a.delete(e.id)})),t.setState({nodeInternals:new Map(a)}))),r.length>0&&(null==c||c(n),u&&u(r.map((e=>({id:e,type:"remove"}))))),p.length>0&&(null==l||l(p),d)){d(p.map((e=>({id:e.id,type:"remove"}))))}}}),[]),f=ci.useCallback((e=>{const n=tX((a=e).width)&&tX(a.height)&&tX(a.x)&&tX(a.y);var a;const r=n?null:t.getState().nodeInternals.get(e.id);if(!n&&!r)return[null,null,n];return[n?e:XK(r),r,n]}),[]),m=ci.useCallback(((e,n=!0,a)=>{const[r,i,s]=f(e);return r?(a||t.getState().getNodes()).filter((e=>{if(!(s||e.id!==i.id&&e.positionAbsolute))return!1;const t=XK(e),a=eX(t,r);return n&&a>0||a>=r.width*r.height})):[]}),[]),p=ci.useCallback(((e,t,n=!0)=>{const[a]=f(e);if(!a)return!1;const r=eX(a,t);return n&&r>0||r>=a.width*a.height}),[]);return ci.useMemo((()=>({...e,getNodes:n,getNode:a,getEdges:r,getEdge:i,setNodes:s,setEdges:o,addNodes:l,addEdges:c,toObject:d,deleteElements:u,getIntersectingNodes:m,isNodeIntersecting:p})),[e,n,a,r,i,s,o,l,c,d,u,m,p])}const Y0={actInsideInputWithModifier:!1};const q0={position:"absolute",width:"100%",height:"100%",top:0,left:0},Q0=e=>({x:e.x,y:e.y,zoom:e.k}),Z0=(e,t)=>e.target.closest(`.${t}`),J0=(e,t)=>2===t&&Array.isArray(e)&&e.includes(2),K0=e=>{const t=e.ctrlKey&&oX()?10:1;return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*t},X0=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),e1=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:a,zoomOnScroll:r=!0,zoomOnPinch:i=!0,panOnScroll:s=!1,panOnScrollSpeed:o=.5,panOnScrollMode:l=pX.Free,zoomOnDoubleClick:c=!0,elementsSelectable:d,panOnDrag:u=!0,defaultViewport:f,translateExtent:m,minZoom:p,maxZoom:h,zoomActivationKeyCode:g,preventScrolling:x=!0,children:y,noWheelClassName:v,noPanClassName:b})=>{const w=ci.useRef(),j=FK(),N=ci.useRef(!1),C=ci.useRef(!1),S=ci.useRef(null),k=ci.useRef({x:0,y:0,zoom:0}),{d3Zoom:M,d3Selection:_,d3ZoomHandler:E,userSelectionActive:I}=zK(X0,zq),L=T0(g),A=ci.useRef(0),T=ci.useRef(!1),D=ci.useRef();return function(e){const t=FK();ci.useEffect((()=>{let n;const a=()=>{var n,a;if(!e.current)return;const r=VK(e.current);0!==r.height&&0!==r.width||null==(a=(n=t.getState()).onError)||a.call(n,"004",IK()),t.setState({width:r.width||500,height:r.height||500})};return a(),window.addEventListener("resize",a),e.current&&(n=new ResizeObserver((()=>a())),n.observe(e.current)),()=>{window.removeEventListener("resize",a),n&&e.current&&n.unobserve(e.current)}}),[])}(S),ci.useEffect((()=>{if(S.current){const e=S.current.getBoundingClientRect(),t=kK().scaleExtent([p,h]).translateExtent(m),n=nZ(S.current).call(t),a=xK.translate(f.x,f.y).scale($K(f.zoom,p,h)),r=[[0,0],[e.width,e.height]],i=t.constrain()(a,r,m);t.transform(n,i),t.wheelDelta(K0),j.setState({d3Zoom:t,d3Selection:n,d3ZoomHandler:n.on("wheel.zoom"),transform:[i.x,i.y,i.k],domNode:S.current.closest(".react-flow")})}}),[]),ci.useEffect((()=>{_&&M&&(!s||L||I?void 0!==E&&_.on("wheel.zoom",(function(e,t){if(!x&&"wheel"===e.type&&!e.ctrlKey||Z0(e,v))return null;e.preventDefault(),E.call(this,e,t)}),{passive:!1}):_.on("wheel.zoom",(a=>{if(Z0(a,v))return!1;a.preventDefault(),a.stopImmediatePropagation();const r=_.property("__zoom").k||1;if(a.ctrlKey&&i){const e=aZ(a),t=K0(a),n=r*Math.pow(2,t);return void M.scaleTo(_,n,e,a)}const s=1===a.deltaMode?20:1;let c=l===pX.Vertical?0:a.deltaX*s,d=l===pX.Horizontal?0:a.deltaY*s;!oX()&&a.shiftKey&&l!==pX.Vertical&&(c=a.deltaY*s,d=0),M.translateBy(_,-c/r*o,-d/r*o,{internal:!0});const u=Q0(_.property("__zoom")),{onViewportChangeStart:f,onViewportChange:m,onViewportChangeEnd:p}=j.getState();clearTimeout(D.current),T.current||(T.current=!0,null==t||t(a,u),null==f||f(u)),T.current&&(null==e||e(a,u),null==m||m(u),D.current=setTimeout((()=>{null==n||n(a,u),null==p||p(u),T.current=!1}),150))}),{passive:!1}))}),[I,s,l,_,M,E,L,i,x,v,t,e,n]),ci.useEffect((()=>{M&&M.on("start",(e=>{var n,a;if(!e.sourceEvent||e.sourceEvent.internal)return null;A.current=null==(n=e.sourceEvent)?void 0:n.button;const{onViewportChangeStart:r}=j.getState(),i=Q0(e.transform);N.current=!0,k.current=i,"mousedown"===(null==(a=e.sourceEvent)?void 0:a.type)&&j.setState({paneDragging:!0}),null==r||r(i),null==t||t(e.sourceEvent,i)}))}),[M,t]),ci.useEffect((()=>{M&&(I&&!N.current?M.on("zoom",null):I||M.on("zoom",(t=>{var n;const{onViewportChange:r}=j.getState();if(j.setState({transform:[t.transform.x,t.transform.y,t.transform.k]}),C.current=!(!a||!J0(u,A.current??0)),(e||r)&&!(null==(n=t.sourceEvent)?void 0:n.internal)){const n=Q0(t.transform);null==r||r(n),null==e||e(t.sourceEvent,n)}})))}),[I,M,e,u,a]),ci.useEffect((()=>{M&&M.on("end",(e=>{if(!e.sourceEvent||e.sourceEvent.internal)return null;const{onViewportChangeEnd:t}=j.getState();if(N.current=!1,j.setState({paneDragging:!1}),a&&J0(u,A.current??0)&&!C.current&&a(e.sourceEvent),C.current=!1,(n||t)&&(r=k.current,i=e.transform,r.x!==i.x||r.y!==i.y||r.zoom!==i.k)){const a=Q0(e.transform);k.current=a,clearTimeout(w.current),w.current=setTimeout((()=>{null==t||t(a),null==n||n(e.sourceEvent,a)}),s?150:0)}var r,i}))}),[M,s,u,n,a]),ci.useEffect((()=>{M&&M.filter((e=>{const t=L||r,n=i&&e.ctrlKey;if((!0===u||Array.isArray(u)&&u.includes(1))&&1===e.button&&"mousedown"===e.type&&(Z0(e,"react-flow__node")||Z0(e,"react-flow__edge")))return!0;if(!(u||t||s||c||i))return!1;if(I)return!1;if(!c&&"dblclick"===e.type)return!1;if(Z0(e,v)&&"wheel"===e.type)return!1;if(Z0(e,b)&&("wheel"!==e.type||s&&"wheel"===e.type&&!L))return!1;if(!i&&e.ctrlKey&&"wheel"===e.type)return!1;if(!t&&!s&&!n&&"wheel"===e.type)return!1;if(!u&&("mousedown"===e.type||"touchstart"===e.type))return!1;if(Array.isArray(u)&&!u.includes(e.button)&&"mousedown"===e.type)return!1;const a=Array.isArray(u)&&u.includes(e.button)||!e.button||e.button<=1;return(!e.ctrlKey||"wheel"===e.type)&&a}))}),[I,M,r,i,s,c,u,d,L]),di.createElement("div",{className:"react-flow__renderer",ref:S,style:q0},y)},t1=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function n1(){const{userSelectionActive:e,userSelectionRect:t}=zK(t1,zq);return e&&t?di.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function a1(e,t){const n=t.parentNode||t.parentId,a=e.find((e=>e.id===n));if(a){const e=t.position.x+t.width-a.width,n=t.position.y+t.height-a.height;if(e>0||n>0||t.position.x<0||t.position.y<0){if(a.style={...a.style},a.style.width=a.style.width??a.width,a.style.height=a.style.height??a.height,e>0&&(a.style.width+=e),n>0&&(a.style.height+=n),t.position.x<0){const e=Math.abs(t.position.x);a.position.x=a.position.x-e,a.style.width+=e,t.position.x=0}if(t.position.y<0){const e=Math.abs(t.position.y);a.position.y=a.position.y-e,a.style.height+=e,t.position.y=0}a.width=a.style.width,a.height=a.style.height}}}function r1(e,t){if(e.some((e=>"reset"===e.type)))return e.filter((e=>"reset"===e.type)).map((e=>e.item));const n=e.filter((e=>"add"===e.type)).map((e=>e.item));return t.reduce(((t,n)=>{const a=e.filter((e=>e.id===n.id));if(0===a.length)return t.push(n),t;const r={...n};for(const e of a)if(e)switch(e.type){case"select":r.selected=e.selected;break;case"position":void 0!==e.position&&(r.position=e.position),void 0!==e.positionAbsolute&&(r.positionAbsolute=e.positionAbsolute),void 0!==e.dragging&&(r.dragging=e.dragging),r.expandParent&&a1(t,r);break;case"dimensions":void 0!==e.dimensions&&(r.width=e.dimensions.width,r.height=e.dimensions.height),void 0!==e.updateStyle&&(r.style={...r.style||{},...e.dimensions}),"boolean"==typeof e.resizing&&(r.resizing=e.resizing),r.expandParent&&a1(t,r);break;case"remove":return t}return t.push(r),t}),n)}function i1(e,t){return r1(e,t)}const s1=(e,t)=>({id:e,type:"select",selected:t});function o1(e,t){return e.reduce(((e,n)=>{const a=t.includes(n.id);return!n.selected&&a?(n.selected=!0,e.push(s1(n.id,!0))):n.selected&&!a&&(n.selected=!1,e.push(s1(n.id,!1))),e}),[])}const l1=(e,t)=>n=>{n.target===t.current&&(null==e||e(n))},c1=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),d1=ci.memo((({isSelecting:e,selectionMode:t=gX.Full,panOnDrag:n,onSelectionStart:a,onSelectionEnd:r,onPaneClick:i,onPaneContextMenu:s,onPaneScroll:o,onPaneMouseEnter:l,onPaneMouseMove:c,onPaneMouseLeave:d,children:u})=>{const f=ci.useRef(null),m=FK(),p=ci.useRef(0),h=ci.useRef(0),g=ci.useRef(),{userSelectionActive:x,elementsSelectable:y,dragging:v}=zK(c1,zq),b=()=>{m.setState({userSelectionActive:!1,userSelectionRect:null}),p.current=0,h.current=0},w=e=>{null==i||i(e),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},j=o?e=>o(e):void 0,N=y&&(e||x);return di.createElement("div",{className:vq(["react-flow__pane",{dragging:v,selection:e}]),onClick:N?void 0:l1(w,f),onContextMenu:l1((e=>{Array.isArray(n)&&(null==n?void 0:n.includes(2))?e.preventDefault():null==s||s(e)}),f),onWheel:l1(j,f),onMouseEnter:N?void 0:l,onMouseDown:N?t=>{const{resetSelectedElements:n,domNode:r}=m.getState();if(g.current=null==r?void 0:r.getBoundingClientRect(),!y||!e||0!==t.button||t.target!==f.current||!g.current)return;const{x:i,y:s}=sX(t,g.current);n(),m.setState({userSelectionRect:{width:0,height:0,startX:i,startY:s,x:i,y:s}}),null==a||a(t)}:void 0,onMouseMove:N?n=>{const{userSelectionRect:a,nodeInternals:r,edges:i,transform:s,onNodesChange:o,onEdgesChange:l,nodeOrigin:c,getNodes:d}=m.getState();if(!e||!g.current||!a)return;m.setState({userSelectionActive:!0,nodesSelectionActive:!1});const u=sX(n,g.current),f=a.startX??0,x=a.startY??0,y={...a,x:u.x<f?u.x:f,y:u.y<x?u.y:x,width:Math.abs(u.x-f),height:Math.abs(u.y-x)},v=d(),b=YX(r,y,s,t===gX.Partial,!0,c),w=qX(b,i).map((e=>e.id)),j=b.map((e=>e.id));if(p.current!==j.length){p.current=j.length;const e=o1(v,j);e.length&&(null==o||o(e))}if(h.current!==w.length){h.current=w.length;const e=o1(i,w);e.length&&(null==l||l(e))}m.setState({userSelectionRect:y})}:c,onMouseUp:N?e=>{if(0!==e.button)return;const{userSelectionRect:t}=m.getState();!x&&t&&e.target===f.current&&(null==w||w(e)),m.setState({nodesSelectionActive:p.current>0}),b(),null==r||r(e)}:void 0,onMouseLeave:N?e=>{x&&(m.setState({nodesSelectionActive:p.current>0}),null==r||r(e)),b()}:d,ref:f,style:q0},u,di.createElement(n1,null))}));function u1(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const a=t.get(n);return!!a&&(!!a.selected||u1(a,t))}function f1(e,t,n){let a=e;do{if(null==a?void 0:a.matches(t))return!0;if(a===n.current)return!1;a=a.parentElement}while(a);return!1}function m1(e,t,n,a){return Array.from(e.values()).filter((n=>(n.selected||n.id===a)&&(!n.parentNode||n.parentId||!u1(n,e))&&(n.draggable||t&&void 0===n.draggable))).map((e=>{var t,a;return{id:e.id,position:e.position||{x:0,y:0},positionAbsolute:e.positionAbsolute||{x:0,y:0},distance:{x:n.x-((null==(t=e.positionAbsolute)?void 0:t.x)??0),y:n.y-((null==(a=e.positionAbsolute)?void 0:a.y)??0)},delta:{x:0,y:0},extent:e.extent,parentNode:e.parentNode||e.parentId,parentId:e.parentNode||e.parentId,width:e.width,height:e.height,expandParent:e.expandParent}}))}function p1(e,t,n,a,r=[0,0],i){const s=function(e,t){return t&&"parent"!==t?[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]:t}(e,e.extent||a);let o=s;const l=e.parentNode||e.parentId;if("parent"!==e.extent||e.expandParent){if(e.extent&&l&&"parent"!==e.extent){const t=n.get(l),{x:a,y:i}=$X(t,r).positionAbsolute;o=[[e.extent[0][0]+a,e.extent[0][1]+i],[e.extent[1][0]+a,e.extent[1][1]+i]]}}else if(l&&e.width&&e.height){const t=n.get(l),{x:a,y:i}=$X(t,r).positionAbsolute;o=t&&tX(a)&&tX(i)&&tX(t.width)&&tX(t.height)?[[a+e.width*r[0],i+e.height*r[1]],[a+t.width-e.width+e.width*r[0],i+t.height-e.height+e.height*r[1]]]:o}else null==i||i("005",LK()),o=s;let c={x:0,y:0};if(l){const e=n.get(l);c=$X(e,r).positionAbsolute}const d=o&&"parent"!==o?HK(t,o):t;return{position:{x:d.x-c.x,y:d.y-c.y},positionAbsolute:d}}function h1({nodeId:e,dragItems:t,nodeInternals:n}){const a=t.map((e=>({...n.get(e.id),position:e.position,positionAbsolute:e.positionAbsolute})));return[e?a.find((t=>t.id===e)):a[0],a]}d1.displayName="Pane";const g1=(e,t,n,a)=>{const r=t.querySelectorAll(e);if(!r||!r.length)return null;const i=Array.from(r),s=t.getBoundingClientRect(),o=s.width*a[0],l=s.height*a[1];return i.map((e=>{const t=e.getBoundingClientRect();return{id:e.getAttribute("data-handleid"),position:e.getAttribute("data-handlepos"),x:(t.left-s.left-o)/n,y:(t.top-s.top-l)/n,...VK(e)}}))};function x1(e,t,n){return void 0===n?n:a=>{const r=t().nodeInternals.get(e);r&&n(a,{...r})}}function y1({id:e,store:t,unselect:n=!1,nodeRef:a}){const{addSelectedNodes:r,unselectNodesAndEdges:i,multiSelectionActive:s,nodeInternals:o,onError:l}=t.getState(),c=o.get(e);c?(t.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&s)&&(i({nodes:[c],edges:[]}),requestAnimationFrame((()=>{var e;return null==(e=null==a?void 0:a.current)?void 0:e.blur()}))):r([e])):null==l||l("012",OK(e))}function v1(e){return(t,n,a)=>null==e?void 0:e(t,a)}function b1({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:a,nodeId:r,isSelectable:i,selectNodesOnDrag:s}){const o=FK(),[l,c]=ci.useState(!1),d=ci.useRef([]),u=ci.useRef({x:null,y:null}),f=ci.useRef(0),m=ci.useRef(null),p=ci.useRef({x:0,y:0}),h=ci.useRef(null),g=ci.useRef(!1),x=ci.useRef(!1),y=ci.useRef(!1),v=function(){const e=FK();return ci.useCallback((({sourceEvent:t})=>{const{transform:n,snapGrid:a,snapToGrid:r}=e.getState(),i=t.touches?t.touches[0].clientX:t.clientX,s=t.touches?t.touches[0].clientY:t.clientY,o={x:(i-n[0])/n[2],y:(s-n[1])/n[2]};return{xSnapped:r?a[0]*Math.round(o.x/a[0]):o.x,ySnapped:r?a[1]*Math.round(o.y/a[1]):o.y,...o}}),[])}();return ci.useEffect((()=>{if(null==e?void 0:e.current){const l=nZ(e.current),b=({x:e,y:t})=>{const{nodeInternals:n,onNodeDrag:a,onSelectionDrag:i,updateNodePositions:s,nodeExtent:l,snapGrid:f,snapToGrid:m,nodeOrigin:p,onError:g}=o.getState();u.current={x:e,y:t};let x=!1,y={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&l){const e=HX(d.current,p);y=JK(e)}if(d.current=d.current.map((a=>{const r={x:e-a.distance.x,y:t-a.distance.y};m&&(r.x=f[0]*Math.round(r.x/f[0]),r.y=f[1]*Math.round(r.y/f[1]));const i=[[l[0][0],l[0][1]],[l[1][0],l[1][1]]];d.current.length>1&&l&&!a.extent&&(i[0][0]=a.positionAbsolute.x-y.x+l[0][0],i[1][0]=a.positionAbsolute.x+(a.width??0)-y.x2+l[1][0],i[0][1]=a.positionAbsolute.y-y.y+l[0][1],i[1][1]=a.positionAbsolute.y+(a.height??0)-y.y2+l[1][1]);const s=p1(a,r,n,i,p,g);return x=x||a.position.x!==s.position.x||a.position.y!==s.position.y,a.position=s.position,a.positionAbsolute=s.positionAbsolute,a})),!x)return;s(d.current,!0,!0),c(!0);const v=r?a:v1(i);if(v&&h.current){const[e,t]=h1({nodeId:r,dragItems:d.current,nodeInternals:n});v(h.current,e,t)}},w=()=>{if(!m.current)return;const[e,t]=qK(p.current,m.current);if(0!==e||0!==t){const{transform:n,panBy:a}=o.getState();u.current.x=(u.current.x??0)-e/n[2],u.current.y=(u.current.y??0)-t/n[2],a({x:e,y:t})&&b(u.current)}f.current=requestAnimationFrame(w)},j=t=>{var n;const{nodeInternals:a,multiSelectionActive:l,nodesDraggable:c,unselectNodesAndEdges:f,onNodeDragStart:m,onSelectionDragStart:p}=o.getState();x.current=!0;const h=r?m:v1(p);s&&i||l||!r||(null==(n=a.get(r))?void 0:n.selected)||f(),r&&i&&s&&y1({id:r,store:o,nodeRef:e});const g=v(t);if(u.current=g,d.current=m1(a,c,g,r),h&&d.current){const[e,n]=h1({nodeId:r,dragItems:d.current,nodeInternals:a});h(t.sourceEvent,e,n)}};if(!t){const t=function(){var e,t,n,a,r=fZ,i=mZ,s=pZ,o=hZ,l={},c=Bq("start","drag","end"),d=0,u=0;function f(e){e.on("mousedown.drag",m).filter(o).on("touchstart.drag",g).on("touchmove.drag",x,rZ).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(s,o){if(!a&&r.call(this,s,o)){var l=v(this,i.call(this,s,o),s,o,"mouse");l&&(nZ(s.view).on("mousemove.drag",p,iZ).on("mouseup.drag",h,iZ),lZ(s.view),sZ(s),n=!1,e=s.clientX,t=s.clientY,l("start",s))}}function p(a){if(oZ(a),!n){var r=a.clientX-e,i=a.clientY-t;n=r*r+i*i>u}l.mouse("drag",a)}function h(e){nZ(e.view).on("mousemove.drag mouseup.drag",null),cZ(e.view,n),oZ(e),l.mouse("end",e)}function g(e,t){if(r.call(this,e,t)){var n,a,s=e.changedTouches,o=i.call(this,e,t),l=s.length;for(n=0;n<l;++n)(a=v(this,o,e,t,s[n].identifier,s[n]))&&(sZ(e),a("start",e,s[n]))}}function x(e){var t,n,a=e.changedTouches,r=a.length;for(t=0;t<r;++t)(n=l[a[t].identifier])&&(oZ(e),n("drag",e,a[t]))}function y(e){var t,n,r=e.changedTouches,i=r.length;for(a&&clearTimeout(a),a=setTimeout((function(){a=null}),500),t=0;t<i;++t)(n=l[r[t].identifier])&&(sZ(e),n("end",e,r[t]))}function v(e,t,n,a,r,i){var o,u,m,p=c.copy(),h=aZ(i||n,t);if(null!=(m=s.call(e,new uZ("beforestart",{sourceEvent:n,target:f,identifier:r,active:d,x:h[0],y:h[1],dx:0,dy:0,dispatch:p}),a)))return o=m.x-h[0]||0,u=m.y-h[1]||0,function n(i,s,c){var g,x=h;switch(i){case"start":l[r]=n,g=d++;break;case"end":delete l[r],--d;case"drag":h=aZ(c||s,t),g=d}p.call(i,e,new uZ(i,{sourceEvent:s,subject:m,target:f,identifier:r,active:g,x:h[0]+o,y:h[1]+u,dx:h[0]-x[0],dy:h[1]-x[1],dispatch:p}),a)}}return f.filter=function(e){return arguments.length?(r="function"==typeof e?e:dZ(!!e),f):r},f.container=function(e){return arguments.length?(i="function"==typeof e?e:dZ(e),f):i},f.subject=function(e){return arguments.length?(s="function"==typeof e?e:dZ(e),f):s},f.touchable=function(e){return arguments.length?(o="function"==typeof e?e:dZ(!!e),f):o},f.on=function(){var e=c.on.apply(c,arguments);return e===c?f:e},f.clickDistance=function(e){return arguments.length?(u=(e=+e)*e,f):Math.sqrt(u)},f}().on("start",(e=>{const{domNode:t,nodeDragThreshold:n}=o.getState();0===n&&j(e),y.current=!1;const a=v(e);u.current=a,m.current=(null==t?void 0:t.getBoundingClientRect())||null,p.current=sX(e.sourceEvent,m.current)})).on("drag",(e=>{var t,n;const a=v(e),{autoPanOnNodeDrag:r,nodeDragThreshold:i}=o.getState();if("touchmove"===e.sourceEvent.type&&e.sourceEvent.touches.length>1&&(y.current=!0),!y.current){if(!g.current&&x.current&&r&&(g.current=!0,w()),!x.current){const r=a.xSnapped-((null==(t=null==u?void 0:u.current)?void 0:t.x)??0),s=a.ySnapped-((null==(n=null==u?void 0:u.current)?void 0:n.y)??0);Math.sqrt(r*r+s*s)>i&&j(e)}(u.current.x!==a.xSnapped||u.current.y!==a.ySnapped)&&d.current&&x.current&&(h.current=e.sourceEvent,p.current=sX(e.sourceEvent,m.current),b(a))}})).on("end",(e=>{if(x.current&&!y.current&&(c(!1),g.current=!1,x.current=!1,cancelAnimationFrame(f.current),d.current)){const{updateNodePositions:t,nodeInternals:n,onNodeDragStop:a,onSelectionDragStop:i}=o.getState(),s=r?a:v1(i);if(t(d.current,!1,!1),s){const[t,a]=h1({nodeId:r,dragItems:d.current,nodeInternals:n});s(e.sourceEvent,t,a)}}})).filter((t=>{const r=t.target;return!t.button&&(!n||!f1(r,`.${n}`,e))&&(!a||f1(r,a,e))}));return l.call(t),()=>{l.on(".drag",null)}}l.on(".drag",null)}}),[e,t,n,a,i,o,r,s,v]),l}function w1(){const e=FK();return ci.useCallback((t=>{const{nodeInternals:n,nodeExtent:a,updateNodePositions:r,getNodes:i,snapToGrid:s,snapGrid:o,onError:l,nodesDraggable:c}=e.getState(),d=i().filter((e=>e.selected&&(e.draggable||c&&void 0===e.draggable))),u=s?o[0]:5,f=s?o[1]:5,m=t.isShiftPressed?4:1,p=t.x*u*m,h=t.y*f*m;r(d.map((e=>{if(e.positionAbsolute){const t={x:e.positionAbsolute.x+p,y:e.positionAbsolute.y+h};s&&(t.x=o[0]*Math.round(t.x/o[0]),t.y=o[1]*Math.round(t.y/o[1]));const{positionAbsolute:r,position:i}=p1(e,t,n,a,void 0,l);e.position=i,e.positionAbsolute=r}return e})),!0,!1)}),[])}const j1={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var N1=e=>{const t=({id:t,type:n,data:a,xPos:r,yPos:i,xPosOrigin:s,yPosOrigin:o,selected:l,onClick:c,onMouseEnter:d,onMouseMove:u,onMouseLeave:f,onContextMenu:m,onDoubleClick:p,style:h,className:g,isDraggable:x,isSelectable:y,isConnectable:v,isFocusable:b,selectNodesOnDrag:w,sourcePosition:j,targetPosition:N,hidden:C,resizeObserver:S,dragHandle:k,zIndex:M,isParent:_,noDragClassName:E,noPanClassName:I,initialized:L,disableKeyboardA11y:A,ariaLabel:T,rfId:D,hasHandleBounds:P})=>{const O=FK(),R=ci.useRef(null),z=ci.useRef(null),F=ci.useRef(j),B=ci.useRef(N),U=ci.useRef(n),W=y||x||c||d||u||f,G=w1(),V=x1(t,O.getState,d),$=x1(t,O.getState,u),H=x1(t,O.getState,f),Y=x1(t,O.getState,m),q=x1(t,O.getState,p);ci.useEffect((()=>()=>{z.current&&(null==S||S.unobserve(z.current),z.current=null)}),[]),ci.useEffect((()=>{if(R.current&&!C){const e=R.current;L&&P&&z.current===e||(z.current&&(null==S||S.unobserve(z.current)),null==S||S.observe(e),z.current=e)}}),[C,L,P]),ci.useEffect((()=>{const e=U.current!==n,a=F.current!==j,r=B.current!==N;R.current&&(e||a||r)&&(e&&(U.current=n),a&&(F.current=j),r&&(B.current=N),O.getState().updateNodeDimensions([{id:t,nodeElement:R.current,forceUpdate:!0}]))}),[t,n,j,N]);const Q=b1({nodeRef:R,disabled:C||!x,noDragClassName:E,handleSelector:k,nodeId:t,isSelectable:y,selectNodesOnDrag:w});return C?null:di.createElement("div",{className:vq(["react-flow__node",`react-flow__node-${n}`,{[I]:x},g,{selected:l,selectable:y,parent:_,dragging:Q}]),ref:R,style:{zIndex:M,transform:`translate(${s}px,${o}px)`,pointerEvents:W?"all":"none",visibility:L?"visible":"hidden",...h},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:V,onMouseMove:$,onMouseLeave:H,onContextMenu:Y,onClick:e=>{const{nodeDragThreshold:n}=O.getState();if(y&&(!w||!x||n>0)&&y1({id:t,store:O,nodeRef:R}),c){const n=O.getState().nodeInternals.get(t);n&&c(e,{...n})}},onDoubleClick:q,onKeyDown:b?e=>{if(!rX(e)&&!A)if(aX.includes(e.key)&&y){const n="Escape"===e.key;y1({id:t,store:O,unselect:n,nodeRef:R})}else x&&l&&Object.prototype.hasOwnProperty.call(j1,e.key)&&(O.setState({ariaLiveMessage:`Moved selected node ${e.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~r}, y: ${~~i}`}),G({x:j1[e.key].x,y:j1[e.key].y,isShiftPressed:e.shiftKey}))}:void 0,tabIndex:b?0:void 0,role:b?"button":void 0,"aria-describedby":A?void 0:`${_0}-${D}`,"aria-label":T},di.createElement(FX,{value:t},di.createElement(e,{id:t,data:a,type:n,xPos:r,yPos:i,selected:l,isConnectable:v,sourcePosition:j,targetPosition:N,dragging:Q,dragHandle:k,zIndex:M})))};return t.displayName="NodeWrapper",ci.memo(t)};const C1=e=>{const t=e.getNodes().filter((e=>e.selected));return{...HX(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};var S1=ci.memo((function({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const a=FK(),{width:r,height:i,x:s,y:o,transformString:l,userSelectionActive:c}=zK(C1,zq),d=w1(),u=ci.useRef(null);if(ci.useEffect((()=>{var e;n||null==(e=u.current)||e.focus({preventScroll:!0})}),[n]),b1({nodeRef:u}),c||!r||!i)return null;const f=e?t=>{const n=a.getState().getNodes().filter((e=>e.selected));e(t,n)}:void 0;return di.createElement("div",{className:vq(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l}},di.createElement("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:e=>{Object.prototype.hasOwnProperty.call(j1,e.key)&&d({x:j1[e.key].x,y:j1[e.key].y,isShiftPressed:e.shiftKey})},style:{width:r,height:i,top:o,left:s}}))}));const k1=e=>e.nodesSelectionActive,M1=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:a,onPaneMouseLeave:r,onPaneContextMenu:i,onPaneScroll:s,deleteKeyCode:o,onMove:l,onMoveStart:c,onMoveEnd:d,selectionKeyCode:u,selectionOnDrag:f,selectionMode:m,onSelectionStart:p,onSelectionEnd:h,multiSelectionKeyCode:g,panActivationKeyCode:x,zoomActivationKeyCode:y,elementsSelectable:v,zoomOnScroll:b,zoomOnPinch:w,panOnScroll:j,panOnScrollSpeed:N,panOnScrollMode:C,zoomOnDoubleClick:S,panOnDrag:k,defaultViewport:M,translateExtent:_,minZoom:E,maxZoom:I,preventScrolling:L,onSelectionContextMenu:A,noWheelClassName:T,noPanClassName:D,disableKeyboardA11y:P})=>{const O=zK(k1),R=T0(u),z=T0(x),F=z||k,B=z||j,U=R||f&&!0!==F;return(({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=FK(),{deleteElements:a}=H0(),r=T0(e,Y0),i=T0(t);ci.useEffect((()=>{if(r){const{edges:e,getNodes:t}=n.getState(),r=t().filter((e=>e.selected)),i=e.filter((e=>e.selected));a({nodes:r,edges:i}),n.setState({nodesSelectionActive:!1})}}),[r]),ci.useEffect((()=>{n.setState({multiSelectionActive:i})}),[i])})({deleteKeyCode:o,multiSelectionKeyCode:g}),di.createElement(e1,{onMove:l,onMoveStart:c,onMoveEnd:d,onPaneContextMenu:i,elementsSelectable:v,zoomOnScroll:b,zoomOnPinch:w,panOnScroll:B,panOnScrollSpeed:N,panOnScrollMode:C,zoomOnDoubleClick:S,panOnDrag:!R&&F,defaultViewport:M,translateExtent:_,minZoom:E,maxZoom:I,zoomActivationKeyCode:y,preventScrolling:L,noWheelClassName:T,noPanClassName:D},di.createElement(d1,{onSelectionStart:p,onSelectionEnd:h,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:a,onPaneMouseLeave:r,onPaneContextMenu:i,onPaneScroll:s,panOnDrag:F,isSelecting:!!U,selectionMode:m},e,O&&di.createElement(S1,{onSelectionContextMenu:A,noPanClassName:D,disableKeyboardA11y:P})))};M1.displayName="FlowRenderer";var _1=ci.memo(M1);function E1(e){return{...{input:N1(e.input||f0),default:N1(e.default||d0),output:N1(e.output||p0),group:N1(e.group||h0)},...Object.keys(e).filter((e=>!["input","default","output","group"].includes(e))).reduce(((t,n)=>(t[n]=N1(e[n]||d0),t)),{})}}const I1=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),L1=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:a,elementsSelectable:r,updateNodeDimensions:i,onError:s}=zK(I1,zq),o=(l=e.onlyRenderVisibleElements,zK(ci.useCallback((e=>l?YX(e.nodeInternals,{x:0,y:0,width:e.width,height:e.height},e.transform,!0):e.getNodes()),[l])));var l;const c=ci.useRef(),d=ci.useMemo((()=>{if("undefined"==typeof ResizeObserver)return null;const e=new ResizeObserver((e=>{const t=e.map((e=>({id:e.target.getAttribute("data-id"),nodeElement:e.target,forceUpdate:!0})));i(t)}));return c.current=e,e}),[]);return ci.useEffect((()=>()=>{var e;null==(e=null==c?void 0:c.current)||e.disconnect()}),[]),di.createElement("div",{className:"react-flow__nodes",style:q0},o.map((i=>{var o,l,c;let u=i.type||"default";e.nodeTypes[u]||(null==s||s("003",EK(u)),u="default");const f=e.nodeTypes[u]||e.nodeTypes.default,m=!!(i.draggable||t&&void 0===i.draggable),p=!!(i.selectable||r&&void 0===i.selectable),h=!!(i.connectable||n&&void 0===i.connectable),g=!!(i.focusable||a&&void 0===i.focusable),x=e.nodeExtent?HK(i.positionAbsolute,e.nodeExtent):i.positionAbsolute,y=(null==x?void 0:x.x)??0,v=(null==x?void 0:x.y)??0,b=(({x:e,y:t,width:n,height:a,origin:r})=>n&&a?r[0]<0||r[1]<0||r[0]>1||r[1]>1?{x:e,y:t}:{x:e-n*r[0],y:t-a*r[1]}:{x:e,y:t})({x:y,y:v,width:i.width??0,height:i.height??0,origin:e.nodeOrigin});return di.createElement(f,{key:i.id,id:i.id,className:i.className,style:i.style,type:u,data:i.data,sourcePosition:i.sourcePosition||jX.Bottom,targetPosition:i.targetPosition||jX.Top,hidden:i.hidden,xPos:y,yPos:v,xPosOrigin:b.x,yPosOrigin:b.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!i.selected,isDraggable:m,isSelectable:p,isConnectable:h,isFocusable:g,resizeObserver:d,dragHandle:i.dragHandle,zIndex:(null==(o=i[nX])?void 0:o.z)??0,isParent:!!(null==(l=i[nX])?void 0:l.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!i.width&&!!i.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:i.ariaLabel,hasHandleBounds:!!(null==(c=i[nX])?void 0:c.handleBounds)})})))};L1.displayName="NodeRenderer";var A1=ci.memo(L1);const T1=(e,t,n)=>n===jX.Left?e-t:n===jX.Right?e+t:e,D1=(e,t,n)=>n===jX.Top?e-t:n===jX.Bottom?e+t:e,P1="react-flow__edgeupdater",O1=({position:e,centerX:t,centerY:n,radius:a=10,onMouseDown:r,onMouseEnter:i,onMouseOut:s,type:o})=>di.createElement("circle",{onMouseDown:r,onMouseEnter:i,onMouseOut:s,className:vq([P1,`${P1}-${o}`]),cx:T1(t,a,e),cy:D1(n,a,e),r:a,stroke:"transparent",fill:"transparent"}),R1=()=>!0;var z1=e=>{const t=({id:t,className:n,type:a,data:r,onClick:i,onEdgeDoubleClick:s,selected:o,animated:l,label:c,labelStyle:d,labelShowBg:u,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,style:h,source:g,target:x,sourceX:y,sourceY:v,targetX:b,targetY:w,sourcePosition:j,targetPosition:N,elementsSelectable:C,hidden:S,sourceHandleId:k,targetHandleId:M,onContextMenu:_,onMouseEnter:E,onMouseMove:I,onMouseLeave:L,reconnectRadius:A,onReconnect:T,onReconnectStart:D,onReconnectEnd:P,markerEnd:O,markerStart:R,rfId:z,ariaLabel:F,isFocusable:B,isReconnectable:U,pathOptions:W,interactionWidth:G,disableKeyboardA11y:V})=>{const $=ci.useRef(null),[H,Y]=ci.useState(!1),[q,Q]=ci.useState(!1),Z=FK(),J=ci.useMemo((()=>`url('#${UX(R,z)}')`),[R,z]),K=ci.useMemo((()=>`url('#${UX(O,z)}')`),[O,z]);if(S)return null;const X=cX(t,Z.getState,s),ee=cX(t,Z.getState,_),te=cX(t,Z.getState,E),ne=cX(t,Z.getState,I),ae=cX(t,Z.getState,L),re=(e,n)=>{if(0!==e.button)return;const{edges:a,isValidConnection:r}=Z.getState(),i=n?x:g,s=(n?M:k)||null,o=n?"target":"source",l=r||R1,c=n,d=a.find((e=>e.id===t));Q(!0),null==D||D(e,d,o);r0({event:e,handleId:s,nodeId:i,onConnect:e=>null==T?void 0:T(d,e),isTarget:c,getState:Z.getState,setState:Z.setState,isValidConnection:l,edgeUpdaterType:o,onReconnectEnd:e=>{Q(!1),null==P||P(e,d,o)}})},ie=()=>Y(!0),se=()=>Y(!1),oe=!C&&!i;return di.createElement("g",{className:vq(["react-flow__edge",`react-flow__edge-${a}`,n,{selected:o,animated:l,inactive:oe,updating:H}]),onClick:e=>{var n;const{edges:a,addSelectedEdges:r,unselectNodesAndEdges:s,multiSelectionActive:o}=Z.getState(),l=a.find((e=>e.id===t));l&&(C&&(Z.setState({nodesSelectionActive:!1}),l.selected&&o?(s({nodes:[],edges:[l]}),null==(n=$.current)||n.blur()):r([t])),i&&i(e,l))},onDoubleClick:X,onContextMenu:ee,onMouseEnter:te,onMouseMove:ne,onMouseLeave:ae,onKeyDown:B?e=>{var n;if(!V&&aX.includes(e.key)&&C){const{unselectNodesAndEdges:a,addSelectedEdges:r,edges:i}=Z.getState();"Escape"===e.key?(null==(n=$.current)||n.blur(),a({edges:[i.find((e=>e.id===t))]})):r([t])}}:void 0,tabIndex:B?0:void 0,role:B?"button":"img","data-testid":`rf__edge-${t}`,"aria-label":null===F?void 0:F||`Edge from ${g} to ${x}`,"aria-describedby":B?`${E0}-${z}`:void 0,ref:$},!q&&di.createElement(e,{id:t,source:g,target:x,selected:o,animated:l,label:c,labelStyle:d,labelShowBg:u,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:p,data:r,style:h,sourceX:y,sourceY:v,targetX:b,targetY:w,sourcePosition:j,targetPosition:N,sourceHandleId:k,targetHandleId:M,markerStart:J,markerEnd:K,pathOptions:W,interactionWidth:G}),U&&di.createElement(di.Fragment,null,("source"===U||!0===U)&&di.createElement(O1,{position:j,centerX:y,centerY:v,radius:A,onMouseDown:e=>re(e,!0),onMouseEnter:ie,onMouseOut:se,type:"source"}),("target"===U||!0===U)&&di.createElement(O1,{position:N,centerX:b,centerY:w,radius:A,onMouseDown:e=>re(e,!1),onMouseEnter:ie,onMouseOut:se,type:"target"})))};return t.displayName="EdgeWrapper",ci.memo(t)};function F1(e){return{...{default:z1(e.default||RX),straight:z1(e.bezier||TX),step:z1(e.step||AX),smoothstep:z1(e.step||LX),simplebezier:z1(e.simplebezier||kX)},...Object.keys(e).filter((e=>!["default","bezier"].includes(e))).reduce(((t,n)=>(t[n]=z1(e[n]||RX),t)),{})}}function B1(e,t,n=null){const a=((null==n?void 0:n.x)||0)+t.x,r=((null==n?void 0:n.y)||0)+t.y,i=(null==n?void 0:n.width)||t.width,s=(null==n?void 0:n.height)||t.height;switch(e){case jX.Top:return{x:a+i/2,y:r};case jX.Right:return{x:a+i,y:r+s/2};case jX.Bottom:return{x:a+i/2,y:r+s};case jX.Left:return{x:a,y:r+s/2}}}function U1(e,t){return e?1!==e.length&&t?t&&e.find((e=>e.id===t))||null:e[0]:null}function W1(e){var t,n,a,r,i;const s=(null==(t=null==e?void 0:e[nX])?void 0:t.handleBounds)||null,o=s&&(null==e?void 0:e.width)&&(null==e?void 0:e.height)&&void 0!==(null==(n=null==e?void 0:e.positionAbsolute)?void 0:n.x)&&void 0!==(null==(a=null==e?void 0:e.positionAbsolute)?void 0:a.y);return[{x:(null==(r=null==e?void 0:e.positionAbsolute)?void 0:r.x)||0,y:(null==(i=null==e?void 0:e.positionAbsolute)?void 0:i.y)||0,width:(null==e?void 0:e.width)||0,height:(null==e?void 0:e.height)||0},s,!!o]}const G1=[{level:0,isMaxLevel:!0,edges:[]}];function V1(e,t,n){return function(e,t,n=!1){let a=-1;const r=e.reduce(((e,r)=>{var i,s;const o=tX(r.zIndex);let l=o?r.zIndex:0;if(n){const e=t.get(r.target),n=t.get(r.source),a=r.selected||(null==e?void 0:e.selected)||(null==n?void 0:n.selected),c=Math.max((null==(i=null==n?void 0:n[nX])?void 0:i.z)||0,(null==(s=null==e?void 0:e[nX])?void 0:s.z)||0,1e3);l=(o?r.zIndex:0)+(a?c:0)}return e[l]?e[l].push(r):e[l]=[r],a=l>a?l:a,e}),{}),i=Object.entries(r).map((([e,t])=>{const n=+e;return{edges:t,level:n,isMaxLevel:n===a}}));return 0===i.length?G1:i}(zK(ci.useCallback((n=>e?n.edges.filter((e=>{const a=t.get(e.source),r=t.get(e.target);return(null==a?void 0:a.width)&&(null==a?void 0:a.height)&&(null==r?void 0:r.width)&&(null==r?void 0:r.height)&&function({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:a,targetWidth:r,targetHeight:i,width:s,height:o,transform:l}){const c={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+r),y2:Math.max(e.y+a,t.y+i)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const d=JK({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:s/l[2],height:o/l[2]}),u=Math.max(0,Math.min(d.x2,c.x2)-Math.max(d.x,c.x)),f=Math.max(0,Math.min(d.y2,c.y2)-Math.max(d.y,c.y));return Math.ceil(u*f)>0}({sourcePos:a.positionAbsolute||{x:0,y:0},targetPos:r.positionAbsolute||{x:0,y:0},sourceWidth:a.width,sourceHeight:a.height,targetWidth:r.width,targetHeight:r.height,width:n.width,height:n.height,transform:n.transform})})):n.edges),[e,t])),t,n)}const $1={[bX.Arrow]:({color:e="none",strokeWidth:t=1})=>di.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),[bX.ArrowClosed]:({color:e="none",strokeWidth:t=1})=>di.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})};const H1=({id:e,type:t,color:n,width:a=12.5,height:r=12.5,markerUnits:i="strokeWidth",strokeWidth:s,orient:o="auto-start-reverse"})=>{const l=function(e){const t=FK();return ci.useMemo((()=>{var n,a;return Object.prototype.hasOwnProperty.call($1,e)?$1[e]:(null==(a=(n=t.getState()).onError)||a.call(n,"009",AK(e)),null)}),[e])}(t);return l?di.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${a}`,markerHeight:`${r}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:o,refX:"0",refY:"0"},di.createElement(l,{color:n,strokeWidth:s})):null},Y1=({defaultColor:e,rfId:t})=>{const n=zK(ci.useCallback((({defaultColor:e,rfId:t})=>n=>{const a=[];return n.edges.reduce(((n,r)=>([r.markerStart,r.markerEnd].forEach((r=>{if(r&&"object"==typeof r){const i=UX(r,t);a.includes(i)||(n.push({id:i,color:r.color||e,...r}),a.push(i))}})),n)),[]).sort(((e,t)=>e.id.localeCompare(t.id)))})({defaultColor:e,rfId:t}),[e,t]),((e,t)=>!(e.length!==t.length||e.some(((e,n)=>e.id!==t[n].id)))));return di.createElement("defs",null,n.map((e=>di.createElement(H1,{id:e.id,key:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient}))))};Y1.displayName="MarkerDefinitions";var q1=ci.memo(Y1);const Q1=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Z1=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:a,edgeTypes:r,noPanClassName:i,onEdgeContextMenu:s,onEdgeMouseEnter:o,onEdgeMouseMove:l,onEdgeMouseLeave:c,onEdgeClick:d,onEdgeDoubleClick:u,onReconnect:f,onReconnectStart:m,onReconnectEnd:p,reconnectRadius:h,children:g,disableKeyboardA11y:x})=>{const{edgesFocusable:y,edgesUpdatable:v,elementsSelectable:b,width:w,height:j,connectionMode:N,nodeInternals:C,onError:S}=zK(Q1,zq),k=V1(t,C,n);return w?di.createElement(di.Fragment,null,k.map((({level:t,edges:n,isMaxLevel:g})=>di.createElement("svg",{key:t,style:{zIndex:t},width:w,height:j,className:"react-flow__edges react-flow__container"},g&&di.createElement(q1,{defaultColor:e,rfId:a}),di.createElement("g",null,n.map((e=>{const[t,n,g]=W1(C.get(e.source)),[w,j,k]=W1(C.get(e.target));if(!g||!k)return null;let M=e.type||"default";r[M]||(null==S||S("011",PK(M)),M="default");const _=r[M]||r.default,E=N===fX.Strict?j.target:(j.target??[]).concat(j.source??[]),I=U1(n.source,e.sourceHandle),L=U1(E,e.targetHandle),A=(null==I?void 0:I.position)||jX.Bottom,T=(null==L?void 0:L.position)||jX.Top,D=!!(e.focusable||y&&void 0===e.focusable),P=e.reconnectable||e.updatable,O=void 0!==f&&(P||v&&void 0===P);if(!I||!L)return null==S||S("008",TK(I,e)),null;const{sourceX:R,sourceY:z,targetX:F,targetY:B}=((e,t,n,a,r,i)=>{const s=B1(n,e,t),o=B1(i,a,r);return{sourceX:s.x,sourceY:s.y,targetX:o.x,targetY:o.y}})(t,I,A,w,L,T);return di.createElement(_,{key:e.id,id:e.id,className:vq([e.className,i]),type:M,data:e.data,selected:!!e.selected,animated:!!e.animated,hidden:!!e.hidden,label:e.label,labelStyle:e.labelStyle,labelShowBg:e.labelShowBg,labelBgStyle:e.labelBgStyle,labelBgPadding:e.labelBgPadding,labelBgBorderRadius:e.labelBgBorderRadius,style:e.style,source:e.source,target:e.target,sourceHandleId:e.sourceHandle,targetHandleId:e.targetHandle,markerEnd:e.markerEnd,markerStart:e.markerStart,sourceX:R,sourceY:z,targetX:F,targetY:B,sourcePosition:A,targetPosition:T,elementsSelectable:b,onContextMenu:s,onMouseEnter:o,onMouseMove:l,onMouseLeave:c,onClick:d,onEdgeDoubleClick:u,onReconnect:f,onReconnectStart:m,onReconnectEnd:p,reconnectRadius:h,rfId:a,ariaLabel:e.ariaLabel,isFocusable:D,isReconnectable:O,pathOptions:"pathOptions"in e?e.pathOptions:void 0,interactionWidth:e.interactionWidth,disableKeyboardA11y:x})})))))),g):null};Z1.displayName="EdgeRenderer";var J1=ci.memo(Z1);const K1=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function X1({children:e}){const t=zK(K1);return di.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}const e2={[jX.Left]:jX.Right,[jX.Right]:jX.Left,[jX.Top]:jX.Bottom,[jX.Bottom]:jX.Top},t2=({nodeId:e,handleType:t,style:n,type:a=yX.Bezier,CustomComponent:r,connectionStatus:i})=>{var s,o,l;const{fromNode:c,handleId:d,toX:u,toY:f,connectionMode:m}=zK(ci.useCallback((t=>({fromNode:t.nodeInternals.get(e),handleId:t.connectionHandleId,toX:(t.connectionPosition.x-t.transform[0])/t.transform[2],toY:(t.connectionPosition.y-t.transform[1])/t.transform[2],connectionMode:t.connectionMode})),[e]),zq),p=null==(s=null==c?void 0:c[nX])?void 0:s.handleBounds;let h=null==p?void 0:p[t];if(m===fX.Loose&&(h=h||(null==p?void 0:p["source"===t?"target":"source"])),!c||!h)return null;const g=d?h.find((e=>e.id===d)):h[0],x=g?g.x+g.width/2:(c.width??0)/2,y=g?g.y+g.height/2:c.height??0,v=((null==(o=c.positionAbsolute)?void 0:o.x)??0)+x,b=((null==(l=c.positionAbsolute)?void 0:l.y)??0)+y,w=null==g?void 0:g.position,j=w?e2[w]:null;if(!w||!j)return null;if(r)return di.createElement(r,{connectionLineType:a,connectionLineStyle:n,fromNode:c,fromHandle:g,fromX:v,fromY:b,toX:u,toY:f,fromPosition:w,toPosition:j,connectionStatus:i});let N="";const C={sourceX:v,sourceY:b,sourcePosition:w,targetX:u,targetY:f,targetPosition:j};return a===yX.Bezier?[N]=OX(C):a===yX.Step?[N]=IX({...C,borderRadius:0}):a===yX.SmoothStep?[N]=IX(C):a===yX.SimpleBezier?[N]=SX(C):N=`M${v},${b} ${u},${f}`,di.createElement("path",{d:N,fill:"none",className:"react-flow__connection-path",style:n})};t2.displayName="ConnectionLine";const n2=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function a2({containerStyle:e,style:t,type:n,component:a}){const{nodeId:r,handleType:i,nodesConnectable:s,width:o,height:l,connectionStatus:c}=zK(n2,zq);return!!(r&&i&&o&&s)?di.createElement("svg",{style:e,width:o,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},di.createElement("g",{className:vq(["react-flow__connection",c])},di.createElement(t2,{nodeId:r,handleType:i,style:t,type:n,CustomComponent:a,connectionStatus:c}))):null}function r2(e,t){ci.useRef(null),FK();return ci.useMemo((()=>t(e)),[e])}const i2=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:a,onMoveEnd:r,onInit:i,onNodeClick:s,onEdgeClick:o,onNodeDoubleClick:l,onEdgeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:u,onNodeMouseLeave:f,onNodeContextMenu:m,onSelectionContextMenu:p,onSelectionStart:h,onSelectionEnd:g,connectionLineType:x,connectionLineStyle:y,connectionLineComponent:v,connectionLineContainerStyle:b,selectionKeyCode:w,selectionOnDrag:j,selectionMode:N,multiSelectionKeyCode:C,panActivationKeyCode:S,zoomActivationKeyCode:k,deleteKeyCode:M,onlyRenderVisibleElements:_,elementsSelectable:E,selectNodesOnDrag:I,defaultViewport:L,translateExtent:A,minZoom:T,maxZoom:D,preventScrolling:P,defaultMarkerColor:O,zoomOnScroll:R,zoomOnPinch:z,panOnScroll:F,panOnScrollSpeed:B,panOnScrollMode:U,zoomOnDoubleClick:W,panOnDrag:G,onPaneClick:V,onPaneMouseEnter:$,onPaneMouseMove:H,onPaneMouseLeave:Y,onPaneScroll:q,onPaneContextMenu:Q,onEdgeContextMenu:Z,onEdgeMouseEnter:J,onEdgeMouseMove:K,onEdgeMouseLeave:X,onReconnect:ee,onReconnectStart:te,onReconnectEnd:ne,reconnectRadius:ae,noDragClassName:re,noWheelClassName:ie,noPanClassName:se,elevateEdgesOnSelect:oe,disableKeyboardA11y:le,nodeOrigin:ce,nodeExtent:de,rfId:ue})=>{const fe=r2(e,E1),me=r2(t,F1);return function(e){const t=H0(),n=ci.useRef(!1);ci.useEffect((()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout((()=>e(t)),1),n.current=!0)}),[e,t.viewportInitialized])}(i),di.createElement(_1,{onPaneClick:V,onPaneMouseEnter:$,onPaneMouseMove:H,onPaneMouseLeave:Y,onPaneContextMenu:Q,onPaneScroll:q,deleteKeyCode:M,selectionKeyCode:w,selectionOnDrag:j,selectionMode:N,onSelectionStart:h,onSelectionEnd:g,multiSelectionKeyCode:C,panActivationKeyCode:S,zoomActivationKeyCode:k,elementsSelectable:E,onMove:n,onMoveStart:a,onMoveEnd:r,zoomOnScroll:R,zoomOnPinch:z,zoomOnDoubleClick:W,panOnScroll:F,panOnScrollSpeed:B,panOnScrollMode:U,panOnDrag:G,defaultViewport:L,translateExtent:A,minZoom:T,maxZoom:D,onSelectionContextMenu:p,preventScrolling:P,noDragClassName:re,noWheelClassName:ie,noPanClassName:se,disableKeyboardA11y:le},di.createElement(X1,null,di.createElement(J1,{edgeTypes:me,onEdgeClick:o,onEdgeDoubleClick:c,onlyRenderVisibleElements:_,onEdgeContextMenu:Z,onEdgeMouseEnter:J,onEdgeMouseMove:K,onEdgeMouseLeave:X,onReconnect:ee,onReconnectStart:te,onReconnectEnd:ne,reconnectRadius:ae,defaultMarkerColor:O,noPanClassName:se,elevateEdgesOnSelect:!!oe,disableKeyboardA11y:le,rfId:ue},di.createElement(a2,{style:y,type:x,component:v,containerStyle:b})),di.createElement("div",{className:"react-flow__edgelabel-renderer"}),di.createElement(A1,{nodeTypes:fe,onNodeClick:s,onNodeDoubleClick:l,onNodeMouseEnter:d,onNodeMouseMove:u,onNodeMouseLeave:f,onNodeContextMenu:m,selectNodesOnDrag:I,onlyRenderVisibleElements:_,noPanClassName:se,noDragClassName:re,disableKeyboardA11y:le,nodeOrigin:ce,nodeExtent:de,rfId:ue})))};i2.displayName="GraphView";var s2=ci.memo(i2);const o2=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],l2={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:o2,nodeExtent:o2,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:fX.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:(e,t)=>{},isValidConnection:void 0},c2=()=>{return e=(e,t)=>({...l2,setNodes:n=>{const{nodeInternals:a,nodeOrigin:r,elevateNodesOnSelect:i}=t();e({nodeInternals:z0(n,a,r,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:a={}}=t();e({edges:n.map((e=>({...a,...e})))})},setDefaultNodesAndEdges:(n,a)=>{const r=void 0!==n,i=void 0!==a,s=r?z0(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:s,edges:i?a:[],hasDefaultNodes:r,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:a,nodeInternals:r,fitViewOnInit:i,fitViewOnInitDone:s,fitViewOnInitOptions:o,domNode:l,nodeOrigin:c}=t(),d=null==l?void 0:l.querySelector(".react-flow__viewport");if(!d)return;const u=window.getComputedStyle(d),{m22:f}=new window.DOMMatrixReadOnly(u.transform),m=n.reduce(((e,t)=>{const n=r.get(t.id);if(null==n?void 0:n.hidden)r.set(n.id,{...n,[nX]:{...n[nX],handleBounds:void 0}});else if(n){const a=VK(t.nodeElement);a.width&&a.height&&(n.width!==a.width||n.height!==a.height||t.forceUpdate)&&(r.set(n.id,{...n,[nX]:{...n[nX],handleBounds:{source:g1(".source",t.nodeElement,f,c),target:g1(".target",t.nodeElement,f,c)}},...a}),e.push({id:n.id,type:"dimensions",dimensions:a}))}return e}),[]);R0(r,c);const p=s||i&&!s&&F0(t,{initial:!0,...o});e({nodeInternals:new Map(r),fitViewOnInitDone:p}),(null==m?void 0:m.length)>0&&(null==a||a(m))},updateNodePositions:(e,n=!0,a=!1)=>{const{triggerNodeChanges:r}=t();r(e.map((e=>{const t={id:e.id,type:"position",dragging:a};return n&&(t.positionAbsolute=e.positionAbsolute,t.position=e.position),t})))},triggerNodeChanges:n=>{const{onNodesChange:a,nodeInternals:r,hasDefaultNodes:i,nodeOrigin:s,getNodes:o,elevateNodesOnSelect:l}=t();if(null==n?void 0:n.length){if(i){const t=z0(i1(n,o()),r,s,l);e({nodeInternals:t})}null==a||a(n)}},addSelectedNodes:n=>{const{multiSelectionActive:a,edges:r,getNodes:i}=t();let s,o=null;a?s=n.map((e=>s1(e,!0))):(s=o1(i(),n),o=o1(r,[])),W0({changedNodes:s,changedEdges:o,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:a,edges:r,getNodes:i}=t();let s,o=null;a?s=n.map((e=>s1(e,!0))):(s=o1(r,n),o=o1(i(),[])),W0({changedNodes:o,changedEdges:s,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:a}={})=>{const{edges:r,getNodes:i}=t(),s=a||r;W0({changedNodes:(n||i()).map((e=>(e.selected=!1,s1(e.id,!1)))),changedEdges:s.map((e=>s1(e.id,!1))),get:t,set:e})},setMinZoom:n=>{const{d3Zoom:a,maxZoom:r}=t();null==a||a.scaleExtent([n,r]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:a,minZoom:r}=t();null==a||a.scaleExtent([r,n]),e({maxZoom:n})},setTranslateExtent:n=>{var a;null==(a=t().d3Zoom)||a.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:a}=t();W0({changedNodes:a().filter((e=>e.selected)).map((e=>s1(e.id,!1))),changedEdges:n.filter((e=>e.selected)).map((e=>s1(e.id,!1))),get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:a}=t();a.forEach((e=>{e.positionAbsolute=HK(e.position,n)})),e({nodeExtent:n,nodeInternals:new Map(a)})},panBy:e=>{const{transform:n,width:a,height:r,d3Zoom:i,d3Selection:s,translateExtent:o}=t();if(!i||!s||!e.x&&!e.y)return!1;const l=xK.translate(n[0]+e.x,n[1]+e.y).scale(n[2]),c=[[0,0],[a,r]],d=null==i?void 0:i.constrain()(l,c,o);return i.transform(s,d),n[0]!==d.x||n[1]!==d.y||n[2]!==d.k},cancelConnection:()=>e({connectionNodeId:l2.connectionNodeId,connectionHandleId:l2.connectionHandleId,connectionHandleType:l2.connectionHandleType,connectionStatus:l2.connectionStatus,connectionStartHandle:l2.connectionStartHandle,connectionEndHandle:l2.connectionEndHandle}),reset:()=>e({...l2})}),t=Object.is,e?Rq(e,t):Rq;var e,t},d2=({children:e})=>{const t=ci.useRef(null);return t.current||(t.current=c2()),di.createElement(_K,{value:t.current},e)};d2.displayName="ReactFlowProvider";const u2=({children:e})=>ci.useContext(MK)?di.createElement(di.Fragment,null,e):di.createElement(d2,null,e);u2.displayName="ReactFlowWrapper";const f2={input:f0,default:d0,output:p0,group:h0},m2={default:RX,straight:TX,step:AX,smoothstep:LX,simplebezier:kX},p2=[0,0],h2=[15,15],g2={x:0,y:0,zoom:1},x2={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},y2=ci.forwardRef((({nodes:e,edges:t,defaultNodes:n,defaultEdges:a,className:r,nodeTypes:i=f2,edgeTypes:s=m2,onNodeClick:o,onEdgeClick:l,onInit:c,onMove:d,onMoveStart:u,onMoveEnd:f,onConnect:m,onConnectStart:p,onConnectEnd:h,onClickConnectStart:g,onClickConnectEnd:x,onNodeMouseEnter:y,onNodeMouseMove:v,onNodeMouseLeave:b,onNodeContextMenu:w,onNodeDoubleClick:j,onNodeDragStart:N,onNodeDrag:C,onNodeDragStop:S,onNodesDelete:k,onEdgesDelete:M,onSelectionChange:_,onSelectionDragStart:E,onSelectionDrag:I,onSelectionDragStop:L,onSelectionContextMenu:A,onSelectionStart:T,onSelectionEnd:D,connectionMode:P=fX.Strict,connectionLineType:O=yX.Bezier,connectionLineStyle:R,connectionLineComponent:z,connectionLineContainerStyle:F,deleteKeyCode:B="Backspace",selectionKeyCode:U="Shift",selectionOnDrag:W=!1,selectionMode:G=gX.Full,panActivationKeyCode:V="Space",multiSelectionKeyCode:$=(oX()?"Meta":"Control"),zoomActivationKeyCode:H=(oX()?"Meta":"Control"),snapToGrid:Y=!1,snapGrid:q=h2,onlyRenderVisibleElements:Q=!1,selectNodesOnDrag:Z=!0,nodesDraggable:J,nodesConnectable:K,nodesFocusable:X,nodeOrigin:ee=p2,edgesFocusable:te,edgesUpdatable:ne,elementsSelectable:ae,defaultViewport:re=g2,minZoom:ie=.5,maxZoom:se=2,translateExtent:oe=o2,preventScrolling:le=!0,nodeExtent:ce,defaultMarkerColor:de="#b1b1b7",zoomOnScroll:ue=!0,zoomOnPinch:fe=!0,panOnScroll:me=!1,panOnScrollSpeed:pe=.5,panOnScrollMode:he=pX.Free,zoomOnDoubleClick:ge=!0,panOnDrag:xe=!0,onPaneClick:ye,onPaneMouseEnter:ve,onPaneMouseMove:be,onPaneMouseLeave:we,onPaneScroll:je,onPaneContextMenu:Ne,children:Ce,onEdgeContextMenu:Se,onEdgeDoubleClick:ke,onEdgeMouseEnter:Me,onEdgeMouseMove:_e,onEdgeMouseLeave:Ee,onEdgeUpdate:Ie,onEdgeUpdateStart:Le,onEdgeUpdateEnd:Ae,onReconnect:Te,onReconnectStart:De,onReconnectEnd:Pe,reconnectRadius:Oe=10,edgeUpdaterRadius:Re=10,onNodesChange:ze,onEdgesChange:Fe,noDragClassName:Be="nodrag",noWheelClassName:Ue="nowheel",noPanClassName:We="nopan",fitView:Ge=!1,fitViewOptions:Ve,connectOnClick:$e=!0,attributionPosition:He,proOptions:Ye,defaultEdgeOptions:qe,elevateNodesOnSelect:Qe=!0,elevateEdgesOnSelect:Ze=!1,disableKeyboardA11y:Je=!1,autoPanOnConnect:Ke=!0,autoPanOnNodeDrag:Xe=!0,connectionRadius:et=20,isValidConnection:tt,onError:nt,style:at,id:rt,nodeDragThreshold:it,...st},ot)=>{const lt=rt||"1";return di.createElement("div",{...st,style:{...at,...x2},ref:ot,className:vq(["react-flow",r]),"data-testid":"rf__wrapper",id:rt},di.createElement(u2,null,di.createElement(s2,{onInit:c,onMove:d,onMoveStart:u,onMoveEnd:f,onNodeClick:o,onEdgeClick:l,onNodeMouseEnter:y,onNodeMouseMove:v,onNodeMouseLeave:b,onNodeContextMenu:w,onNodeDoubleClick:j,nodeTypes:i,edgeTypes:s,connectionLineType:O,connectionLineStyle:R,connectionLineComponent:z,connectionLineContainerStyle:F,selectionKeyCode:U,selectionOnDrag:W,selectionMode:G,deleteKeyCode:B,multiSelectionKeyCode:$,panActivationKeyCode:V,zoomActivationKeyCode:H,onlyRenderVisibleElements:Q,selectNodesOnDrag:Z,defaultViewport:re,translateExtent:oe,minZoom:ie,maxZoom:se,preventScrolling:le,zoomOnScroll:ue,zoomOnPinch:fe,zoomOnDoubleClick:ge,panOnScroll:me,panOnScrollSpeed:pe,panOnScrollMode:he,panOnDrag:xe,onPaneClick:ye,onPaneMouseEnter:ve,onPaneMouseMove:be,onPaneMouseLeave:we,onPaneScroll:je,onPaneContextMenu:Ne,onSelectionContextMenu:A,onSelectionStart:T,onSelectionEnd:D,onEdgeContextMenu:Se,onEdgeDoubleClick:ke,onEdgeMouseEnter:Me,onEdgeMouseMove:_e,onEdgeMouseLeave:Ee,onReconnect:Te??Ie,onReconnectStart:De??Le,onReconnectEnd:Pe??Ae,reconnectRadius:Oe??Re,defaultMarkerColor:de,noDragClassName:Be,noWheelClassName:Ue,noPanClassName:We,elevateEdgesOnSelect:Ze,rfId:lt,disableKeyboardA11y:Je,nodeOrigin:ee,nodeExtent:ce}),di.createElement(S0,{nodes:e,edges:t,defaultNodes:n,defaultEdges:a,onConnect:m,onConnectStart:p,onConnectEnd:h,onClickConnectStart:g,onClickConnectEnd:x,nodesDraggable:J,nodesConnectable:K,nodesFocusable:X,edgesFocusable:te,edgesUpdatable:ne,elementsSelectable:ae,elevateNodesOnSelect:Qe,minZoom:ie,maxZoom:se,nodeExtent:ce,onNodesChange:ze,onEdgesChange:Fe,snapToGrid:Y,snapGrid:q,connectionMode:P,translateExtent:oe,connectOnClick:$e,defaultEdgeOptions:qe,fitView:Ge,fitViewOptions:Ve,onNodesDelete:k,onEdgesDelete:M,onNodeDragStart:N,onNodeDrag:C,onNodeDragStop:S,onSelectionDrag:I,onSelectionDragStart:E,onSelectionDragStop:L,noPanClassName:We,nodeOrigin:ee,rfId:lt,autoPanOnConnect:Ke,autoPanOnNodeDrag:Xe,onError:nt,connectionRadius:et,isValidConnection:tt,nodeDragThreshold:it}),di.createElement(w0,{onSelectionChange:_}),Ce,di.createElement(WK,{proOptions:Ye,position:He}),di.createElement(A0,{rfId:lt,disableKeyboardA11y:Je})))}));y2.displayName="ReactFlow";const v2=e=>{var t;return null==(t=e.domNode)?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function b2({children:e}){const t=zK(v2);return t?kg.createPortal(e,t):null}function w2(e){return t=>{const[n,a]=ci.useState(t),r=ci.useCallback((t=>a((n=>e(t,n)))),[]);return[n,a,r]}}const j2=w2(i1),N2=w2((function(e,t){return r1(e,t)}));function C2(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,a]of e)if(!Object.is(a,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const a of n)if(!Object.prototype.hasOwnProperty.call(t,a)||!Object.is(e[a],t[a]))return!1;return!0}const S2=({id:e,x:t,y:n,width:a,height:r,style:i,color:s,strokeColor:o,strokeWidth:l,className:c,borderRadius:d,shapeRendering:u,onClick:f,selected:m})=>{const{background:p,backgroundColor:h}=i||{},g=s||p||h;return di.createElement("rect",{className:vq(["react-flow__minimap-node",{selected:m},c]),x:t,y:n,rx:d,ry:d,width:a,height:r,fill:g,stroke:o,strokeWidth:l,shapeRendering:u,onClick:f?t=>f(t,e):void 0})};S2.displayName="MiniMapNode";var k2=ci.memo(S2);const M2=e=>e.nodeOrigin,_2=e=>e.getNodes().filter((e=>!e.hidden&&e.width&&e.height)),E2=e=>e instanceof Function?e:()=>e;var I2=ci.memo((function({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:a=5,nodeStrokeWidth:r=2,nodeComponent:i=k2,onClick:s}){const o=zK(_2,C2),l=zK(M2),c=E2(t),d=E2(e),u=E2(n),f="undefined"==typeof window||window.chrome?"crispEdges":"geometricPrecision";return di.createElement(di.Fragment,null,o.map((e=>{const{x:t,y:n}=$X(e,l).positionAbsolute;return di.createElement(i,{key:e.id,x:t,y:n,width:e.width,height:e.height,style:e.style,selected:e.selected,className:u(e),color:c(e),borderRadius:a,strokeColor:d(e),strokeWidth:r,shapeRendering:f,onClick:s,id:e.id})})))}));const L2=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?(a=HX(t,e.nodeOrigin),r=n,KK(ZK(JK(a),JK(r)))):n,rfId:e.rfId};var a,r};function A2({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:a="#e2e2e2",nodeClassName:r="",nodeBorderRadius:i=5,nodeStrokeWidth:s=2,nodeComponent:o,maskColor:l="rgb(240, 240, 240, 0.6)",maskStrokeColor:c="none",maskStrokeWidth:d=1,position:u="bottom-right",onClick:f,onNodeClick:m,pannable:p=!1,zoomable:h=!1,ariaLabel:g="React Flow mini map",inversePan:x=!1,zoomStep:y=10,offsetScale:v=5}){const b=FK(),w=ci.useRef(null),{boundingRect:j,viewBB:N,rfId:C}=zK(L2,C2),S=(null==e?void 0:e.width)??200,k=(null==e?void 0:e.height)??150,M=j.width/S,_=j.height/k,E=Math.max(M,_),I=E*S,L=E*k,A=v*E,T=j.x-(I-j.width)/2-A,D=j.y-(L-j.height)/2-A,P=I+2*A,O=L+2*A,R=`react-flow__minimap-desc-${C}`,z=ci.useRef(0);z.current=E,ci.useEffect((()=>{if(w.current){const e=nZ(w.current),t=e=>{const{transform:t,d3Selection:n,d3Zoom:a}=b.getState();if("wheel"!==e.sourceEvent.type||!n||!a)return;const r=-e.sourceEvent.deltaY*(1===e.sourceEvent.deltaMode?.05:e.sourceEvent.deltaMode?1:.002)*y,i=t[2]*Math.pow(2,r);a.scaleTo(n,i)},n=e=>{const{transform:t,d3Selection:n,d3Zoom:a,translateExtent:r,width:i,height:s}=b.getState();if("mousemove"!==e.sourceEvent.type||!n||!a)return;const o=z.current*Math.max(1,t[2])*(x?-1:1),l={x:t[0]-e.sourceEvent.movementX*o,y:t[1]-e.sourceEvent.movementY*o},c=[[0,0],[i,s]],d=xK.translate(l.x,l.y).scale(t[2]),u=a.constrain()(d,c,r);a.transform(n,u)},a=kK().on("zoom",p?n:null).on("zoom.wheel",h?t:null);return e.call(a),()=>{e.on("zoom",null)}}}),[p,h,x,y]);const F=f?e=>{const t=aZ(e);f(e,{x:t[0],y:t[1]})}:void 0,B=m?(e,t)=>{const n=b.getState().nodeInternals.get(t);m(e,n)}:void 0;return di.createElement(UK,{position:u,style:e,className:vq(["react-flow__minimap",t]),"data-testid":"rf__minimap"},di.createElement("svg",{width:S,height:k,viewBox:`${T} ${D} ${P} ${O}`,role:"img","aria-labelledby":R,ref:w,onClick:F},g&&di.createElement("title",{id:R},g),di.createElement(I2,{onClick:B,nodeColor:a,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:r,nodeStrokeWidth:s,nodeComponent:o}),di.createElement("path",{className:"react-flow__minimap-mask",d:`M${T-A},${D-A}h${P+2*A}v${O+2*A}h${-P-2*A}z\n        M${N.x},${N.y}h${N.width}v${N.height}h${-N.width}z`,fill:l,fillRule:"evenodd",stroke:c,strokeWidth:d,pointerEvents:"none"})))}A2.displayName="MiniMap";var T2=ci.memo(A2);function D2(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,a]of e)if(!Object.is(a,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const a of n)if(!Object.prototype.hasOwnProperty.call(t,a)||!Object.is(e[a],t[a]))return!1;return!0}function P2(){return di.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},di.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function O2(){return di.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},di.createElement("path",{d:"M0 0h32v4.2H0z"}))}function R2(){return di.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},di.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function z2(){return di.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},di.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function F2(){return di.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},di.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const B2=({children:e,className:t,...n})=>di.createElement("button",{type:"button",className:vq(["react-flow__controls-button",t]),...n},e);B2.displayName="ControlButton";const U2=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),W2=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:a=!0,fitViewOptions:r,onZoomIn:i,onZoomOut:s,onFitView:o,onInteractiveChange:l,className:c,children:d,position:u="bottom-left"})=>{const f=FK(),[m,p]=ci.useState(!1),{isInteractive:h,minZoomReached:g,maxZoomReached:x}=zK(U2,D2),{zoomIn:y,zoomOut:v,fitView:b}=H0();if(ci.useEffect((()=>{p(!0)}),[]),!m)return null;return di.createElement(UK,{className:vq(["react-flow__controls",c]),position:u,style:e,"data-testid":"rf__controls"},t&&di.createElement(di.Fragment,null,di.createElement(B2,{onClick:()=>{y(),null==i||i()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:x},di.createElement(P2,null)),di.createElement(B2,{onClick:()=>{v(),null==s||s()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:g},di.createElement(O2,null))),n&&di.createElement(B2,{className:"react-flow__controls-fitview",onClick:()=>{b(r),null==o||o()},title:"fit view","aria-label":"fit view"},di.createElement(R2,null)),a&&di.createElement(B2,{className:"react-flow__controls-interactive",onClick:()=>{f.setState({nodesDraggable:!h,nodesConnectable:!h,elementsSelectable:!h}),null==l||l(!h)},title:"toggle interactivity","aria-label":"toggle interactivity"},h?di.createElement(F2,null):di.createElement(z2,null)),d)};W2.displayName="Controls";var G2,V2,$2=ci.memo(W2);function H2(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,a]of e)if(!Object.is(a,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const a of n)if(!Object.prototype.hasOwnProperty.call(t,a)||!Object.is(e[a],t[a]))return!1;return!0}function Y2({color:e,dimensions:t,lineWidth:n}){return di.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function q2({color:e,radius:t}){return di.createElement("circle",{cx:t,cy:t,r:t,fill:e})}(V2=G2||(G2={})).Lines="lines",V2.Dots="dots",V2.Cross="cross";const Q2={[G2.Dots]:"#91919a",[G2.Lines]:"#eee",[G2.Cross]:"#e2e2e2"},Z2={[G2.Dots]:1,[G2.Lines]:1,[G2.Cross]:6},J2=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function K2({id:e,variant:t=G2.Dots,gap:n=20,size:a,lineWidth:r=1,offset:i=2,color:s,style:o,className:l}){const c=ci.useRef(null),{transform:d,patternId:u}=zK(J2,H2),f=s||Q2[t],m=a||Z2[t],p=t===G2.Dots,h=t===G2.Cross,g=Array.isArray(n)?n:[n,n],x=[g[0]*d[2]||1,g[1]*d[2]||1],y=m*d[2],v=h?[y,y]:x,b=p?[y/i,y/i]:[v[0]/i,v[1]/i];return di.createElement("svg",{className:vq(["react-flow__background",l]),style:{...o,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:c,"data-testid":"rf__background"},di.createElement("pattern",{id:u+e,x:d[0]%x[0],y:d[1]%x[1],width:x[0],height:x[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${b[0]},-${b[1]})`},p?di.createElement(q2,{color:f,radius:y/i}):di.createElement(Y2,{dimensions:v,color:f,lineWidth:r})),di.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${u+e})`}))}K2.displayName="Background";var X2=ci.memo(K2),e4="Switch",[t4,n4]=$y(e4),[a4,r4]=t4(e4),i4=ci.forwardRef(((e,t)=>{const{__scopeSwitch:n,name:a,checked:r,defaultChecked:i,required:s,disabled:o,value:l="on",onCheckedChange:c,form:d,...u}=e,[f,m]=ci.useState(null),p=Vy(t,(e=>m(e))),h=ci.useRef(!1),g=!f||(d||!!f.closest("form")),[x,y]=vv({prop:r,defaultProp:i??!1,onChange:c,caller:e4});return vi.jsxs(a4,{scope:n,checked:x,disabled:o,children:[vi.jsx(ev.button,{type:"button",role:"switch","aria-checked":x,"aria-required":s,"data-state":c4(x),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:p,onClick:Uy(e.onClick,(e=>{y((e=>!e)),g&&(h.current=e.isPropagationStopped(),h.current||e.stopPropagation())}))}),g&&vi.jsx(l4,{control:f,bubbles:!h.current,name:a,value:l,checked:x,required:s,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})}));i4.displayName=e4;var s4="SwitchThumb",o4=ci.forwardRef(((e,t)=>{const{__scopeSwitch:n,...a}=e,r=r4(s4,n);return vi.jsx(ev.span,{"data-state":c4(r.checked),"data-disabled":r.disabled?"":void 0,...a,ref:t})}));o4.displayName=s4;var l4=ci.forwardRef((({__scopeSwitch:e,control:t,checked:n,bubbles:a=!0,...r},i)=>{const s=ci.useRef(null),o=Vy(s,i),l=hB(n),c=QC(t);return ci.useEffect((()=>{const e=s.current;if(!e)return;const t=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(t,"checked").set;if(l!==n&&r){const t=new Event("click",{bubbles:a});r.call(e,n),e.dispatchEvent(t)}}),[l,n,a]),vi.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...r,tabIndex:-1,ref:o,style:{...r.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})}));function c4(e){return e?"checked":"unchecked"}l4.displayName="SwitchBubbleInput";var d4=i4,u4=o4;const f4=ci.forwardRef((({className:e,variant:t="default",...n},a)=>vi.jsx(d4,{className:iN("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50","brand"===t?"switch-brand data-[state=unchecked]:bg-input":"data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...n,ref:a,style:"brand"===t?{backgroundColor:n.checked?"var(--brand-primary-color)":void 0}:void 0,children:vi.jsx(u4,{className:iN("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})));f4.displayName=d4.displayName;const m4=({type:e,position:t,style:n,isConnectable:a,id:r})=>{const i={width:"10px",height:"10px",background:"#2d2b2f7d",border:"2px solid #8f9093",...n};return vi.jsx(l0,{type:e,position:t,style:i,isConnectable:a,id:r})},p4={width:"10px",height:"10px",background:"#2d2b2f7d",border:"2px solid #8f9093"},h4={width:"10px",height:"10px",background:"#10b981",border:"2px solid #8f9093",left:"30%"},g4={width:"10px",height:"10px",background:"#ef4444",border:"2px solid #8f9093",left:"70%"},x4=[{id:"openai",name:"OpenAI",models:[{id:"gpt-4o",name:"GPT-4o (Latest)"},{id:"gpt-4.1-nano",name:"GPT-4.1 Nano"},{id:"gpt-4.1-mini",name:"GPT-4.1 Mini"},{id:"gpt-4-turbo",name:"GPT-4 Turbo"},{id:"gpt-3.5-turbo",name:"GPT-3.5 Turbo"}]},{id:"anthropic",name:"Anthropic",models:[{id:"claude-3-7-sonnet-20250219",name:"Claude 3.7 Sonnet (Latest)"},{id:"claude-3-opus-20240229",name:"Claude 3 Opus"},{id:"claude-3-sonnet-20240229",name:"Claude 3 Sonnet"},{id:"claude-3-haiku-20240307",name:"Claude 3 Haiku"}]},{id:"gemini",name:"Google Gemini",models:[{id:"gemini-2.5-pro-preview-03-25",name:"Gemini 2.5 Pro Preview (Latest)"},{id:"gemini-1.5-pro-latest",name:"Gemini 1.5 Pro"},{id:"gemini-1.5-flash-latest",name:"Gemini 1.5 Flash"},{id:"gemini-pro",name:"Gemini Pro"}]},{id:"deepseek",name:"DeepSeek",models:[{id:"deepseek-chat",name:"DeepSeek Chat"},{id:"deepseek-coder",name:"DeepSeek Coder"}]}];function y4({task:e,index:t,onUpdate:n,onRemove:a,t:r}){const[i,s]=ci.useState(!1);return vi.jsxs("div",{className:"group border rounded-lg p-3 transition-all duration-200 "+(e.enabled?"border-emerald-200 bg-emerald-50/50 hover:bg-emerald-50":"border-gray-200 bg-gray-50/50 hover:bg-gray-50"),children:[vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[vi.jsx("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:vi.jsx(rw,{className:"h-3 w-3 text-gray-400 cursor-grab"})}),vi.jsx("button",{onClick:()=>s(!i),className:"text-gray-500 hover:text-gray-700 transition-colors",children:i?vi.jsx(_b,{className:"h-3 w-3"}):vi.jsx(Ib,{className:"h-3 w-3"})}),vi.jsxs("div",{className:"flex-1 min-w-0",children:[vi.jsxs("div",{className:"flex items-start gap-2",children:[vi.jsx("span",{className:"text-xs font-medium leading-tight break-words",children:e.name||`Task ${t+1}`}),vi.jsxs("div",{className:"flex items-center gap-1 px-1.5 py-0.5 rounded-full text-[10px] font-medium shrink-0 "+(e.enabled?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-500"),children:[e.enabled?vi.jsx(Zb,{className:"h-2.5 w-2.5"}):vi.jsx(Qb,{className:"h-2.5 w-2.5"}),e.enabled?"Active":"Inactive"]})]}),e.description&&vi.jsxs("p",{className:"text-[10px] text-muted-foreground mt-0.5 leading-tight break-words",children:[e.description.split(" ").slice(0,12).join(" "),e.description.split(" ").length>12?"...":""]})]})]}),vi.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[vi.jsx(f4,{checked:e.enabled,onCheckedChange:e=>n({enabled:e}),className:"scale-75"}),vi.jsx(tk,{type:"button",variant:"ghost",size:"sm",onClick:a,className:"h-6 w-6 p-0 text-destructive hover:text-destructive opacity-0 group-hover:opacity-100 transition-opacity",children:vi.jsx(Yw,{className:"h-3 w-3"})})]})]}),i&&vi.jsxs("div",{className:"mt-3 space-y-3 pl-4 border-l-2 border-emerald-200",children:[vi.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[vi.jsxs("div",{children:[vi.jsx(uB,{className:"text-[10px] font-medium text-gray-700",children:"Task Name"}),vi.jsx(fB,{value:e.name,onChange:e=>n({name:e.target.value}),className:"text-xs h-7 mt-1",placeholder:"e.g., Share Product Brochure"})]}),vi.jsxs("div",{children:[vi.jsx(uB,{className:"text-[10px] font-medium text-gray-700",children:"Function Name"}),vi.jsx(fB,{value:e.functionDefinition.name,onChange:t=>n({functionDefinition:{...e.functionDefinition,name:t.target.value}}),className:"text-xs h-7 mt-1",placeholder:"e.g., share_document"})]})]}),vi.jsxs("div",{children:[vi.jsx(uB,{className:"text-[10px] font-medium text-gray-700",children:"Task Description"}),vi.jsx(mB,{value:e.description,onChange:e=>n({description:e.target.value}),className:"text-xs min-h-[50px] resize-none mt-1",placeholder:"Describe what this task does and when it should be triggered"})]}),vi.jsxs("div",{children:[vi.jsx(uB,{className:"text-[10px] font-medium text-gray-700",children:"AI Function Description"}),vi.jsx(mB,{value:e.functionDefinition.description,onChange:t=>n({functionDefinition:{...e.functionDefinition,description:t.target.value}}),className:"text-xs min-h-[60px] resize-none mt-1",placeholder:"Detailed instructions for the AI model about when to call this function. Be specific about user intent requirements."}),vi.jsx("p",{className:"text-[9px] text-muted-foreground mt-1",children:'💡 Tip: Use phrases like "ONLY call when user explicitly requests..." to prevent false triggers'})]}),vi.jsxs("div",{children:[vi.jsx(uB,{className:"text-[10px] font-medium text-gray-700",children:"Output Handle ID"}),vi.jsx(fB,{value:e.outputHandle,onChange:e=>n({outputHandle:e.target.value}),className:"text-xs h-7 mt-1",placeholder:"e.g., task_brochure"})]})]})]})}var v4="Radio",[b4,w4]=$y(v4),[j4,N4]=b4(v4),C4=ci.forwardRef(((e,t)=>{const{__scopeRadio:n,name:a,checked:r=!1,required:i,disabled:s,value:o="on",onCheck:l,form:c,...d}=e,[u,f]=ci.useState(null),m=Vy(t,(e=>f(e))),p=ci.useRef(!1),h=!u||(c||!!u.closest("form"));return vi.jsxs(j4,{scope:n,checked:r,disabled:s,children:[vi.jsx(ev.button,{type:"button",role:"radio","aria-checked":r,"data-state":_4(r),"data-disabled":s?"":void 0,disabled:s,value:o,...d,ref:m,onClick:Uy(e.onClick,(e=>{r||null==l||l(),h&&(p.current=e.isPropagationStopped(),p.current||e.stopPropagation())}))}),h&&vi.jsx(M4,{control:u,bubbles:!p.current,name:a,value:o,checked:r,required:i,disabled:s,form:c,style:{transform:"translateX(-100%)"}})]})}));C4.displayName=v4;var S4="RadioIndicator",k4=ci.forwardRef(((e,t)=>{const{__scopeRadio:n,forceMount:a,...r}=e,i=N4(S4,n);return vi.jsx(gv,{present:a||i.checked,children:vi.jsx(ev.span,{"data-state":_4(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})})}));k4.displayName=S4;var M4=ci.forwardRef((({__scopeRadio:e,control:t,checked:n,bubbles:a=!0,...r},i)=>{const s=ci.useRef(null),o=Vy(s,i),l=hB(n),c=QC(t);return ci.useEffect((()=>{const e=s.current;if(!e)return;const t=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(t,"checked").set;if(l!==n&&r){const t=new Event("click",{bubbles:a});r.call(e,n),e.dispatchEvent(t)}}),[l,n,a]),vi.jsx(ev.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...r,tabIndex:-1,ref:o,style:{...r.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})}));function _4(e){return e?"checked":"unchecked"}M4.displayName="RadioBubbleInput";var E4=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],I4="RadioGroup",[L4,A4]=$y(I4,[kT,w4]),T4=kT(),D4=w4(),[P4,O4]=L4(I4),R4=ci.forwardRef(((e,t)=>{const{__scopeRadioGroup:n,name:a,defaultValue:r,value:i,required:s=!1,disabled:o=!1,orientation:l,dir:c,loop:d=!0,onValueChange:u,...f}=e,m=T4(n),p=iT(c),[h,g]=vv({prop:i,defaultProp:r??null,onChange:u,caller:I4});return vi.jsx(P4,{scope:n,name:a,required:s,disabled:o,value:h,onValueChange:g,children:vi.jsx(PT,{asChild:!0,...m,orientation:l,dir:p,loop:d,children:vi.jsx(ev.div,{role:"radiogroup","aria-required":s,"aria-orientation":l,"data-disabled":o?"":void 0,dir:p,...f,ref:t})})})}));R4.displayName=I4;var z4="RadioGroupItem",F4=ci.forwardRef(((e,t)=>{const{__scopeRadioGroup:n,disabled:a,...r}=e,i=O4(z4,n),s=i.disabled||a,o=T4(n),l=D4(n),c=ci.useRef(null),d=Vy(t,c),u=i.value===r.value,f=ci.useRef(!1);return ci.useEffect((()=>{const e=e=>{E4.includes(e.key)&&(f.current=!0)},t=()=>f.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}}),[]),vi.jsx(OT,{asChild:!0,...o,focusable:!s,active:u,children:vi.jsx(C4,{disabled:s,required:i.required,checked:u,...l,...r,name:i.name,ref:d,onCheck:()=>i.onValueChange(r.value),onKeyDown:Uy((e=>{"Enter"===e.key&&e.preventDefault()})),onFocus:Uy(r.onFocus,(()=>{var e;f.current&&(null==(e=c.current)||e.click())}))})})}));F4.displayName=z4;var B4=ci.forwardRef(((e,t)=>{const{__scopeRadioGroup:n,...a}=e,r=D4(n);return vi.jsx(k4,{...r,...a,ref:t})}));B4.displayName="RadioGroupIndicator";var U4=R4,W4=F4,G4=B4;const V4=ci.forwardRef((({className:e,...t},n)=>vi.jsx(U4,{className:iN("grid gap-2",e),...t,ref:n})));V4.displayName=U4.displayName;const $4=ci.forwardRef((({className:e,...t},n)=>vi.jsx(W4,{ref:n,className:iN("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:vi.jsx(G4,{className:"flex items-center justify-center",children:vi.jsx(Bb,{className:"h-2.5 w-2.5 fill-current text-current"})})})));$4.displayName=W4.displayName;const H4=[{value:"5",label:"5 minutes"},{value:"15",label:"15 minutes"},{value:"30",label:"30 minutes"},{value:"60",label:"1 hour"},{value:"120",label:"2 hours"},{value:"240",label:"4 hours"},{value:"480",label:"8 hours"},{value:"1440",label:"24 hours"},{value:"manual",label:"Until manually re-enabled"},{value:"custom",label:"Custom duration"}];const Y4=[{value:"bot_only",label:"Re-enable bot responses only",description:"Only remove bot disable flag, keep all context and history"},{value:"bot_and_context",label:"Reset bot + clear conversation context",description:"Re-enable bot and clear flow variables/context"},{value:"full_reset",label:"Full reset (bot + context + history)",description:"Complete reset including conversation history"}];const q4=[{id:"start_chatflow",name:"Start Chatflow",description:"Initialize new AI conversation"},{id:"send_message",name:"Send Message",description:"Send message to AI chatflow"},{id:"get_response",name:"Get Response",description:"Retrieve AI response"},{id:"manage_session",name:"Manage Session",description:"Create/update/close session"},{id:"stream_response",name:"Stream Response",description:"Handle streaming AI responses"},{id:"get_chatflow_info",name:"Get Chatflow Info",description:"Retrieve chatflow details"}],Q4=[{id:"start_ai_chat",name:"Start AI Chat",operation:"start_chatflow",config:{question:"{{message.content}}",overrideConfig:{sessionId:"{{contact.id}}_{{timestamp}}",returnSourceDocuments:!0}}},{id:"send_query",name:"Send AI Query",operation:"send_message",config:{question:"{{user.query}}",sessionId:"{{flowise.session.id}}",streaming:!1}},{id:"get_ai_response",name:"Get AI Response",operation:"get_response",config:{sessionId:"{{flowise.session.id}}",waitForResponse:!0,timeout:30}},{id:"stream_ai_chat",name:"Stream AI Chat",operation:"stream_response",config:{question:"{{message.content}}",streaming:!0,sessionId:"{{contact.id}}_stream"}}],Z4={start_chatflow:[{key:"question",label:"Initial Question",type:"text",required:!0},{key:"sessionId",label:"Session ID",type:"text",required:!1},{key:"returnSourceDocuments",label:"Return Source Documents",type:"boolean",default:!1,required:!1},{key:"overrideConfig",label:"Override Config",type:"object",description:"JSON configuration override",required:!1}],send_message:[{key:"question",label:"Message Content",type:"text",required:!0},{key:"sessionId",label:"Session ID",type:"text",required:!0},{key:"streaming",label:"Enable Streaming",type:"boolean",default:!1,required:!1},{key:"uploads",label:"File Uploads",type:"object",description:"File upload configuration",required:!1}],get_response:[{key:"sessionId",label:"Session ID",type:"text",required:!0},{key:"waitForResponse",label:"Wait for Response",type:"boolean",default:!0,required:!1},{key:"timeout",label:"Timeout (seconds)",type:"number",default:30,required:!1},{key:"format",label:"Response Format",type:"select",options:[{id:"text",name:"Text Only"},{id:"json",name:"JSON Response"},{id:"markdown",name:"Markdown"},{id:"html",name:"HTML"}].map((e=>e.id)),required:!1}],manage_session:[{key:"action",label:"Session Action",type:"select",options:[{id:"create",name:"Create Session"},{id:"update",name:"Update Session"},{id:"close",name:"Close Session"},{id:"get_status",name:"Get Status"}].map((e=>e.id)),required:!0},{key:"sessionId",label:"Session ID",type:"text",required:!1},{key:"memory",label:"Session Memory",type:"object",description:"Memory configuration",required:!1}],stream_response:[{key:"question",label:"Question",type:"text",required:!0},{key:"sessionId",label:"Session ID",type:"text",required:!1},{key:"streaming",label:"Enable Streaming",type:"boolean",default:!0,required:!1},{key:"onChunk",label:"Chunk Handler",type:"text",description:"JavaScript function for handling chunks",required:!1}],get_chatflow_info:[{key:"includeCredentials",label:"Include Credentials",type:"boolean",default:!1,required:!1},{key:"includeNodes",label:"Include Nodes",type:"boolean",default:!0,required:!1}]};var J4="Progress",K4=100,[X4,e3]=$y(J4),[t3,n3]=X4(J4),a3=ci.forwardRef(((e,t)=>{const{__scopeProgress:n,value:a=null,max:r,getValueLabel:i=s3,...s}=e;!r&&0!==r||c3(r)||console.error(`Invalid prop \`max\` of value \`${`${r}`}\` supplied to \`${"Progress"}\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`);const o=c3(r)?r:K4;null===a||d3(a,o)||console.error(function(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:\n  - a positive number\n  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)\n  - \`null\` or \`undefined\` if the progress is indeterminate.\n\nDefaulting to \`null\`.`}(`${a}`,"Progress"));const l=d3(a,o)?a:null,c=l3(l)?i(l,o):void 0;return vi.jsx(t3,{scope:n,value:l,max:o,children:vi.jsx(ev.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":l3(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":o3(l,o),"data-value":l??void 0,"data-max":o,...s,ref:t})})}));a3.displayName=J4;var r3="ProgressIndicator",i3=ci.forwardRef(((e,t)=>{const{__scopeProgress:n,...a}=e,r=n3(r3,n);return vi.jsx(ev.div,{"data-state":o3(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...a,ref:t})}));function s3(e,t){return`${Math.round(e/t*100)}%`}function o3(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function l3(e){return"number"==typeof e}function c3(e){return l3(e)&&!isNaN(e)&&e>0}function d3(e,t){return l3(e)&&!isNaN(e)&&e<=t&&e>=0}i3.displayName=r3;var u3=a3,f3=i3;const m3=ci.forwardRef((({className:e,value:t,...n},a)=>vi.jsx(u3,{ref:a,className:iN("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:vi.jsx(f3,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})));function p3({onFileSelected:e,fileType:t="*/*",maxSize:n=30,className:a="",showProgress:r=!1,progress:i=0}){const[s,o]=ci.useState(null),l=ci.useRef(null),c=e=>e<1024?e+" bytes":e<1048576?(e/1024).toFixed(1)+" KB":(e/1048576).toFixed(1)+" MB",d=()=>{l.current&&l.current.click()};return vi.jsxs("div",{className:a,children:[vi.jsx("input",{type:"file",ref:l,onChange:t=>{var a;const r=null==(a=t.target.files)?void 0:a[0];if(!r)return;const i=1024*n*1024;r.size>i?Fy({title:"File too large",description:`Maximum file size is ${n}MB`,variant:"destructive"}):(o({name:r.name,size:r.size}),e(r))},accept:t,className:"hidden",disabled:r}),!r&&!s&&vi.jsxs(tk,{type:"button",variant:"brand",onClick:d,className:"w-full justify-start",disabled:r,size:"sm",children:[vi.jsx(ej,{className:"h-4 w-4 mr-2"}),"Upload File"]}),r&&vi.jsxs("div",{className:"space-y-2",children:[vi.jsx("div",{className:"flex items-center justify-between",children:vi.jsxs("div",{className:"flex items-center",children:[vi.jsx(tw,{className:"h-4 w-4 mr-2"}),vi.jsx("span",{className:"text-sm truncate max-w-[180px]",children:(null==s?void 0:s.name)||"Uploading file..."})]})}),vi.jsx(m3,{value:i,className:"h-2"}),vi.jsxs("div",{className:"text-xs text-muted-foreground",children:[s?c(s.size):""," • ",i,"% uploaded"]})]}),s&&!r&&vi.jsxs("div",{className:"space-y-1",children:[vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsxs("div",{className:"flex items-center",children:[vi.jsx(tw,{className:"h-4 w-4 mr-2"}),vi.jsx("span",{className:"text-sm truncate max-w-[180px]",children:s.name})]}),vi.jsx(tk,{type:"button",variant:"ghost",size:"icon",onClick:()=>{o(null),l.current&&(l.current.value="")},className:"h-6 w-6",children:vi.jsx(fj,{className:"h-4 w-4"})})]}),vi.jsx("div",{className:"text-xs text-muted-foreground",children:c(s.size)}),vi.jsxs(tk,{type:"button",variant:"brand",onClick:d,className:"w-full justify-start mt-1",size:"sm",children:[vi.jsx(ej,{className:"h-3 w-3 mr-2"}),"Change file"]})]})]})}m3.displayName=u3.displayName;var h3="Popover",[g3,x3]=$y(h3,[KC]),y3=KC(),[v3,b3]=g3(h3),w3=e=>{const{__scopePopover:t,children:n,open:a,defaultOpen:r,onOpenChange:i,modal:s=!1}=e,o=y3(t),l=ci.useRef(null),[c,d]=ci.useState(!1),[u,f]=vv({prop:a,defaultProp:r??!1,onChange:i,caller:h3});return vi.jsx(pS,{...o,children:vi.jsx(v3,{scope:t,contentId:yN(),triggerRef:l,open:u,onOpenChange:f,onOpenToggle:ci.useCallback((()=>f((e=>!e))),[f]),hasCustomAnchor:c,onCustomAnchorAdd:ci.useCallback((()=>d(!0)),[]),onCustomAnchorRemove:ci.useCallback((()=>d(!1)),[]),modal:s,children:n})})};w3.displayName=h3;var j3="PopoverAnchor";ci.forwardRef(((e,t)=>{const{__scopePopover:n,...a}=e,r=b3(j3,n),i=y3(n),{onCustomAnchorAdd:s,onCustomAnchorRemove:o}=r;return ci.useEffect((()=>(s(),()=>o())),[s,o]),vi.jsx(hS,{...i,...a,ref:t})})).displayName=j3;var N3="PopoverTrigger",C3=ci.forwardRef(((e,t)=>{const{__scopePopover:n,...a}=e,r=b3(N3,n),i=y3(n),s=Vy(t,r.triggerRef),o=vi.jsx(ev.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":O3(r.open),...a,ref:s,onClick:Uy(e.onClick,r.onOpenToggle)});return r.hasCustomAnchor?o:vi.jsx(hS,{asChild:!0,...i,children:o})}));C3.displayName=N3;var S3="PopoverPortal",[k3,M3]=g3(S3,{forceMount:void 0}),_3=e=>{const{__scopePopover:t,forceMount:n,children:a,container:r}=e,i=b3(S3,t);return vi.jsx(k3,{scope:t,forceMount:n,children:vi.jsx(gv,{present:n||i.open,children:vi.jsx(hv,{asChild:!0,container:r,children:a})})})};_3.displayName=S3;var E3="PopoverContent",I3=ci.forwardRef(((e,t)=>{const n=M3(E3,e.__scopePopover),{forceMount:a=n.forceMount,...r}=e,i=b3(E3,e.__scopePopover);return vi.jsx(gv,{present:a||i.open,children:i.modal?vi.jsx(A3,{...r,ref:t}):vi.jsx(T3,{...r,ref:t})})}));I3.displayName=E3;var L3=Yy("PopoverContent.RemoveScroll"),A3=ci.forwardRef(((e,t)=>{const n=b3(E3,e.__scopePopover),a=ci.useRef(null),r=Vy(t,a),i=ci.useRef(!1);return ci.useEffect((()=>{const e=a.current;if(e)return GT(e)}),[]),vi.jsx(ID,{as:L3,allowPinchZoom:!0,children:vi.jsx(D3,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Uy(e.onCloseAutoFocus,(e=>{var t;e.preventDefault(),i.current||null==(t=n.triggerRef.current)||t.focus()})),onPointerDownOutside:Uy(e.onPointerDownOutside,(e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,a=2===t.button||n;i.current=a}),{checkForDefaultPrevented:!1}),onFocusOutside:Uy(e.onFocusOutside,(e=>e.preventDefault()),{checkForDefaultPrevented:!1})})})})),T3=ci.forwardRef(((e,t)=>{const n=b3(E3,e.__scopePopover),a=ci.useRef(!1),r=ci.useRef(!1);return vi.jsx(D3,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var i,s;null==(i=e.onCloseAutoFocus)||i.call(e,t),t.defaultPrevented||(a.current||null==(s=n.triggerRef.current)||s.focus(),t.preventDefault()),a.current=!1,r.current=!1},onInteractOutside:t=>{var i,s;null==(i=e.onInteractOutside)||i.call(e,t),t.defaultPrevented||(a.current=!0,"pointerdown"===t.detail.originalEvent.type&&(r.current=!0));const o=t.target;(null==(s=n.triggerRef.current)?void 0:s.contains(o))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&r.current&&t.preventDefault()}})})),D3=ci.forwardRef(((e,t)=>{const{__scopePopover:n,trapFocus:a,onOpenAutoFocus:r,onCloseAutoFocus:i,disableOutsidePointerEvents:s,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,...u}=e,f=b3(E3,n),m=y3(n);return oT(),vi.jsx(fT,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:r,onUnmountAutoFocus:i,children:vi.jsx(lv,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:d,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>f.onOpenChange(!1),children:vi.jsx(gS,{"data-state":O3(f.open),role:"dialog",id:f.contentId,...m,...u,ref:t,style:{...u.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})})),P3="PopoverClose";ci.forwardRef(((e,t)=>{const{__scopePopover:n,...a}=e,r=b3(P3,n);return vi.jsx(ev.button,{type:"button",...a,ref:t,onClick:Uy(e.onClick,(()=>r.onOpenChange(!1)))})})).displayName=P3;function O3(e){return e?"open":"closed"}ci.forwardRef(((e,t)=>{const{__scopePopover:n,...a}=e,r=y3(n);return vi.jsx(xS,{...r,...a,ref:t})})).displayName="PopoverArrow";var R3=_3,z3=I3;const F3=w3,B3=C3,U3=ci.forwardRef((({className:e,align:t="center",sideOffset:n=4,...a},r)=>vi.jsx(R3,{children:vi.jsx(z3,{ref:r,align:t,sideOffset:n,className:iN("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...a})})));U3.displayName=z3.displayName;const W3=[{value:"UTC",label:"UTC",city:"Coordinated Universal Time",country:"UTC"},{value:"Africa/Abidjan",label:"Abidjan",city:"Abidjan",country:"Ivory Coast"},{value:"Africa/Accra",label:"Accra",city:"Accra",country:"Ghana"},{value:"Africa/Addis_Ababa",label:"Addis Ababa",city:"Addis Ababa",country:"Ethiopia"},{value:"Africa/Algiers",label:"Algiers",city:"Algiers",country:"Algeria"},{value:"Africa/Asmara",label:"Asmara",city:"Asmara",country:"Eritrea"},{value:"Africa/Bamako",label:"Bamako",city:"Bamako",country:"Mali"},{value:"Africa/Bangui",label:"Bangui",city:"Bangui",country:"Central African Republic"},{value:"Africa/Banjul",label:"Banjul",city:"Banjul",country:"Gambia"},{value:"Africa/Bissau",label:"Bissau",city:"Bissau",country:"Guinea-Bissau"},{value:"Africa/Blantyre",label:"Blantyre",city:"Blantyre",country:"Malawi"},{value:"Africa/Brazzaville",label:"Brazzaville",city:"Brazzaville",country:"Republic of the Congo"},{value:"Africa/Bujumbura",label:"Bujumbura",city:"Bujumbura",country:"Burundi"},{value:"Africa/Cairo",label:"Cairo",city:"Cairo",country:"Egypt"},{value:"Africa/Casablanca",label:"Casablanca",city:"Casablanca",country:"Morocco"},{value:"Africa/Ceuta",label:"Ceuta",city:"Ceuta",country:"Spain"},{value:"Africa/Conakry",label:"Conakry",city:"Conakry",country:"Guinea"},{value:"Africa/Dakar",label:"Dakar",city:"Dakar",country:"Senegal"},{value:"Africa/Dar_es_Salaam",label:"Dar es Salaam",city:"Dar es Salaam",country:"Tanzania"},{value:"Africa/Djibouti",label:"Djibouti",city:"Djibouti",country:"Djibouti"},{value:"Africa/Douala",label:"Douala",city:"Douala",country:"Cameroon"},{value:"Africa/El_Aaiun",label:"El Aaiun",city:"El Aaiun",country:"Western Sahara"},{value:"Africa/Freetown",label:"Freetown",city:"Freetown",country:"Sierra Leone"},{value:"Africa/Gaborone",label:"Gaborone",city:"Gaborone",country:"Botswana"},{value:"Africa/Harare",label:"Harare",city:"Harare",country:"Zimbabwe"},{value:"Africa/Johannesburg",label:"Johannesburg",city:"Johannesburg",country:"South Africa"},{value:"Africa/Juba",label:"Juba",city:"Juba",country:"South Sudan"},{value:"Africa/Kampala",label:"Kampala",city:"Kampala",country:"Uganda"},{value:"Africa/Khartoum",label:"Khartoum",city:"Khartoum",country:"Sudan"},{value:"Africa/Kigali",label:"Kigali",city:"Kigali",country:"Rwanda"},{value:"Africa/Kinshasa",label:"Kinshasa",city:"Kinshasa",country:"Democratic Republic of the Congo"},{value:"Africa/Lagos",label:"Lagos",city:"Lagos",country:"Nigeria"},{value:"Africa/Libreville",label:"Libreville",city:"Libreville",country:"Gabon"},{value:"Africa/Lome",label:"Lome",city:"Lome",country:"Togo"},{value:"Africa/Luanda",label:"Luanda",city:"Luanda",country:"Angola"},{value:"Africa/Lubumbashi",label:"Lubumbashi",city:"Lubumbashi",country:"Democratic Republic of the Congo"},{value:"Africa/Lusaka",label:"Lusaka",city:"Lusaka",country:"Zambia"},{value:"Africa/Malabo",label:"Malabo",city:"Malabo",country:"Equatorial Guinea"},{value:"Africa/Maputo",label:"Maputo",city:"Maputo",country:"Mozambique"},{value:"Africa/Maseru",label:"Maseru",city:"Maseru",country:"Lesotho"},{value:"Africa/Mbabane",label:"Mbabane",city:"Mbabane",country:"Eswatini"},{value:"Africa/Mogadishu",label:"Mogadishu",city:"Mogadishu",country:"Somalia"},{value:"Africa/Monrovia",label:"Monrovia",city:"Monrovia",country:"Liberia"},{value:"Africa/Nairobi",label:"Nairobi",city:"Nairobi",country:"Kenya"},{value:"Africa/Ndjamena",label:"Ndjamena",city:"Ndjamena",country:"Chad"},{value:"Africa/Niamey",label:"Niamey",city:"Niamey",country:"Niger"},{value:"Africa/Nouakchott",label:"Nouakchott",city:"Nouakchott",country:"Mauritania"},{value:"Africa/Ouagadougou",label:"Ouagadougou",city:"Ouagadougou",country:"Burkina Faso"},{value:"Africa/Porto-Novo",label:"Porto-Novo",city:"Porto-Novo",country:"Benin"},{value:"Africa/Sao_Tome",label:"Sao Tome",city:"Sao Tome",country:"Sao Tome and Principe"},{value:"Africa/Tripoli",label:"Tripoli",city:"Tripoli",country:"Libya"},{value:"Africa/Tunis",label:"Tunis",city:"Tunis",country:"Tunisia"},{value:"Africa/Windhoek",label:"Windhoek",city:"Windhoek",country:"Namibia"},{value:"America/Adak",label:"Adak",city:"Adak",country:"United States"},{value:"America/Anchorage",label:"Anchorage",city:"Anchorage",country:"United States"},{value:"America/Anguilla",label:"Anguilla",city:"The Valley",country:"Anguilla"},{value:"America/Antigua",label:"Antigua",city:"Saint Johns",country:"Antigua and Barbuda"},{value:"America/Araguaina",label:"Araguaina",city:"Araguaina",country:"Brazil"},{value:"America/Argentina/Buenos_Aires",label:"Buenos Aires",city:"Buenos Aires",country:"Argentina"},{value:"America/Argentina/Catamarca",label:"Catamarca",city:"Catamarca",country:"Argentina"},{value:"America/Argentina/Cordoba",label:"Cordoba",city:"Cordoba",country:"Argentina"},{value:"America/Argentina/Jujuy",label:"Jujuy",city:"Jujuy",country:"Argentina"},{value:"America/Argentina/La_Rioja",label:"La Rioja",city:"La Rioja",country:"Argentina"},{value:"America/Argentina/Mendoza",label:"Mendoza",city:"Mendoza",country:"Argentina"},{value:"America/Argentina/Rio_Gallegos",label:"Rio Gallegos",city:"Rio Gallegos",country:"Argentina"},{value:"America/Argentina/Salta",label:"Salta",city:"Salta",country:"Argentina"},{value:"America/Argentina/San_Juan",label:"San Juan",city:"San Juan",country:"Argentina"},{value:"America/Argentina/San_Luis",label:"San Luis",city:"San Luis",country:"Argentina"},{value:"America/Argentina/Tucuman",label:"Tucuman",city:"Tucuman",country:"Argentina"},{value:"America/Argentina/Ushuaia",label:"Ushuaia",city:"Ushuaia",country:"Argentina"},{value:"America/Aruba",label:"Aruba",city:"Oranjestad",country:"Aruba"},{value:"America/Asuncion",label:"Asuncion",city:"Asuncion",country:"Paraguay"},{value:"America/Atikokan",label:"Atikokan",city:"Atikokan",country:"Canada"},{value:"America/Bahia",label:"Bahia",city:"Salvador",country:"Brazil"},{value:"America/Bahia_Banderas",label:"Bahia Banderas",city:"Bahia Banderas",country:"Mexico"},{value:"America/Barbados",label:"Barbados",city:"Bridgetown",country:"Barbados"},{value:"America/Belem",label:"Belem",city:"Belem",country:"Brazil"},{value:"America/Belize",label:"Belize",city:"Belize City",country:"Belize"},{value:"America/Blanc-Sablon",label:"Blanc-Sablon",city:"Blanc-Sablon",country:"Canada"},{value:"America/Boa_Vista",label:"Boa Vista",city:"Boa Vista",country:"Brazil"},{value:"America/Bogota",label:"Bogota",city:"Bogota",country:"Colombia"},{value:"America/Boise",label:"Boise",city:"Boise",country:"United States"},{value:"America/Cambridge_Bay",label:"Cambridge Bay",city:"Cambridge Bay",country:"Canada"},{value:"America/Campo_Grande",label:"Campo Grande",city:"Campo Grande",country:"Brazil"},{value:"America/Cancun",label:"Cancun",city:"Cancun",country:"Mexico"},{value:"America/Caracas",label:"Caracas",city:"Caracas",country:"Venezuela"},{value:"America/Cayenne",label:"Cayenne",city:"Cayenne",country:"French Guiana"},{value:"America/Cayman",label:"Cayman",city:"George Town",country:"Cayman Islands"},{value:"America/Chicago",label:"Chicago",city:"Chicago",country:"United States"},{value:"America/Chihuahua",label:"Chihuahua",city:"Chihuahua",country:"Mexico"},{value:"America/Costa_Rica",label:"Costa Rica",city:"San Jose",country:"Costa Rica"},{value:"America/Creston",label:"Creston",city:"Creston",country:"Canada"},{value:"America/Cuiaba",label:"Cuiaba",city:"Cuiaba",country:"Brazil"},{value:"America/Curacao",label:"Curacao",city:"Willemstad",country:"Curacao"},{value:"America/Danmarkshavn",label:"Danmarkshavn",city:"Danmarkshavn",country:"Greenland"},{value:"America/Dawson",label:"Dawson",city:"Dawson",country:"Canada"},{value:"America/Dawson_Creek",label:"Dawson Creek",city:"Dawson Creek",country:"Canada"},{value:"America/Denver",label:"Denver",city:"Denver",country:"United States"},{value:"America/Detroit",label:"Detroit",city:"Detroit",country:"United States"},{value:"America/Dominica",label:"Dominica",city:"Roseau",country:"Dominica"},{value:"America/Edmonton",label:"Edmonton",city:"Edmonton",country:"Canada"},{value:"America/Eirunepe",label:"Eirunepe",city:"Eirunepe",country:"Brazil"},{value:"America/El_Salvador",label:"El Salvador",city:"San Salvador",country:"El Salvador"},{value:"America/Fort_Nelson",label:"Fort Nelson",city:"Fort Nelson",country:"Canada"},{value:"America/Fortaleza",label:"Fortaleza",city:"Fortaleza",country:"Brazil"},{value:"America/Glace_Bay",label:"Glace Bay",city:"Glace Bay",country:"Canada"},{value:"America/Godthab",label:"Nuuk",city:"Nuuk",country:"Greenland"},{value:"America/Goose_Bay",label:"Goose Bay",city:"Goose Bay",country:"Canada"},{value:"America/Grand_Turk",label:"Grand Turk",city:"Grand Turk",country:"Turks and Caicos Islands"},{value:"America/Grenada",label:"Grenada",city:"Saint Georges",country:"Grenada"},{value:"America/Guadeloupe",label:"Guadeloupe",city:"Basse-Terre",country:"Guadeloupe"},{value:"America/Guatemala",label:"Guatemala",city:"Guatemala City",country:"Guatemala"},{value:"America/Guayaquil",label:"Guayaquil",city:"Guayaquil",country:"Ecuador"},{value:"America/Guyana",label:"Guyana",city:"Georgetown",country:"Guyana"},{value:"America/Halifax",label:"Halifax",city:"Halifax",country:"Canada"},{value:"America/Havana",label:"Havana",city:"Havana",country:"Cuba"},{value:"America/Hermosillo",label:"Hermosillo",city:"Hermosillo",country:"Mexico"},{value:"America/Indiana/Indianapolis",label:"Indianapolis",city:"Indianapolis",country:"United States"},{value:"America/Indiana/Knox",label:"Knox",city:"Knox",country:"United States"},{value:"America/Indiana/Marengo",label:"Marengo",city:"Marengo",country:"United States"},{value:"America/Indiana/Petersburg",label:"Petersburg",city:"Petersburg",country:"United States"},{value:"America/Indiana/Tell_City",label:"Tell City",city:"Tell City",country:"United States"},{value:"America/Indiana/Vevay",label:"Vevay",city:"Vevay",country:"United States"},{value:"America/Indiana/Vincennes",label:"Vincennes",city:"Vincennes",country:"United States"},{value:"America/Indiana/Winamac",label:"Winamac",city:"Winamac",country:"United States"},{value:"America/Inuvik",label:"Inuvik",city:"Inuvik",country:"Canada"},{value:"America/Iqaluit",label:"Iqaluit",city:"Iqaluit",country:"Canada"},{value:"America/Jamaica",label:"Jamaica",city:"Kingston",country:"Jamaica"},{value:"America/Juneau",label:"Juneau",city:"Juneau",country:"United States"},{value:"America/Kentucky/Louisville",label:"Louisville",city:"Louisville",country:"United States"},{value:"America/Kentucky/Monticello",label:"Monticello",city:"Monticello",country:"United States"},{value:"America/Kralendijk",label:"Kralendijk",city:"Kralendijk",country:"Caribbean Netherlands"},{value:"America/La_Paz",label:"La Paz",city:"La Paz",country:"Bolivia"},{value:"America/Lima",label:"Lima",city:"Lima",country:"Peru"},{value:"America/Los_Angeles",label:"Los Angeles",city:"Los Angeles",country:"United States"},{value:"America/Lower_Princes",label:"Lower Princes Quarter",city:"Lower Princes Quarter",country:"Sint Maarten"},{value:"America/Maceio",label:"Maceio",city:"Maceio",country:"Brazil"},{value:"America/Managua",label:"Managua",city:"Managua",country:"Nicaragua"},{value:"America/Manaus",label:"Manaus",city:"Manaus",country:"Brazil"},{value:"America/Marigot",label:"Marigot",city:"Marigot",country:"Saint Martin"},{value:"America/Martinique",label:"Martinique",city:"Fort-de-France",country:"Martinique"},{value:"America/Matamoros",label:"Matamoros",city:"Matamoros",country:"Mexico"},{value:"America/Mazatlan",label:"Mazatlan",city:"Mazatlan",country:"Mexico"},{value:"America/Menominee",label:"Menominee",city:"Menominee",country:"United States"},{value:"America/Merida",label:"Merida",city:"Merida",country:"Mexico"},{value:"America/Metlakatla",label:"Metlakatla",city:"Metlakatla",country:"United States"},{value:"America/Mexico_City",label:"Mexico City",city:"Mexico City",country:"Mexico"},{value:"America/Miquelon",label:"Miquelon",city:"Saint-Pierre",country:"Saint Pierre and Miquelon"},{value:"America/Moncton",label:"Moncton",city:"Moncton",country:"Canada"},{value:"America/Monterrey",label:"Monterrey",city:"Monterrey",country:"Mexico"},{value:"America/Montevideo",label:"Montevideo",city:"Montevideo",country:"Uruguay"},{value:"America/Montserrat",label:"Montserrat",city:"Plymouth",country:"Montserrat"},{value:"America/Nassau",label:"Nassau",city:"Nassau",country:"Bahamas"},{value:"America/New_York",label:"New York",city:"New York",country:"United States"},{value:"America/Nipigon",label:"Nipigon",city:"Nipigon",country:"Canada"},{value:"America/Nome",label:"Nome",city:"Nome",country:"United States"},{value:"America/Noronha",label:"Noronha",city:"Fernando de Noronha",country:"Brazil"},{value:"America/North_Dakota/Beulah",label:"Beulah",city:"Beulah",country:"United States"},{value:"America/North_Dakota/Center",label:"Center",city:"Center",country:"United States"},{value:"America/North_Dakota/New_Salem",label:"New Salem",city:"New Salem",country:"United States"},{value:"America/Ojinaga",label:"Ojinaga",city:"Ojinaga",country:"Mexico"},{value:"America/Panama",label:"Panama",city:"Panama City",country:"Panama"},{value:"America/Pangnirtung",label:"Pangnirtung",city:"Pangnirtung",country:"Canada"},{value:"America/Paramaribo",label:"Paramaribo",city:"Paramaribo",country:"Suriname"},{value:"America/Phoenix",label:"Phoenix",city:"Phoenix",country:"United States"},{value:"America/Port-au-Prince",label:"Port-au-Prince",city:"Port-au-Prince",country:"Haiti"},{value:"America/Port_of_Spain",label:"Port of Spain",city:"Port of Spain",country:"Trinidad and Tobago"},{value:"America/Porto_Velho",label:"Porto Velho",city:"Porto Velho",country:"Brazil"},{value:"America/Puerto_Rico",label:"Puerto Rico",city:"San Juan",country:"Puerto Rico"},{value:"America/Punta_Arenas",label:"Punta Arenas",city:"Punta Arenas",country:"Chile"},{value:"America/Rainy_River",label:"Rainy River",city:"Rainy River",country:"Canada"},{value:"America/Rankin_Inlet",label:"Rankin Inlet",city:"Rankin Inlet",country:"Canada"},{value:"America/Recife",label:"Recife",city:"Recife",country:"Brazil"},{value:"America/Regina",label:"Regina",city:"Regina",country:"Canada"},{value:"America/Resolute",label:"Resolute",city:"Resolute",country:"Canada"},{value:"America/Rio_Branco",label:"Rio Branco",city:"Rio Branco",country:"Brazil"},{value:"America/Santarem",label:"Santarem",city:"Santarem",country:"Brazil"},{value:"America/Santiago",label:"Santiago",city:"Santiago",country:"Chile"},{value:"America/Santo_Domingo",label:"Santo Domingo",city:"Santo Domingo",country:"Dominican Republic"},{value:"America/Sao_Paulo",label:"Sao Paulo",city:"Sao Paulo",country:"Brazil"},{value:"America/Scoresbysund",label:"Scoresbysund",city:"Ittoqqortoormiit",country:"Greenland"},{value:"America/Sitka",label:"Sitka",city:"Sitka",country:"United States"},{value:"America/St_Barthelemy",label:"Saint Barthelemy",city:"Gustavia",country:"Saint Barthelemy"},{value:"America/St_Johns",label:"St. Johns",city:"St. Johns",country:"Canada"},{value:"America/St_Kitts",label:"Saint Kitts",city:"Basseterre",country:"Saint Kitts and Nevis"},{value:"America/St_Lucia",label:"Saint Lucia",city:"Castries",country:"Saint Lucia"},{value:"America/St_Thomas",label:"Saint Thomas",city:"Charlotte Amalie",country:"US Virgin Islands"},{value:"America/St_Vincent",label:"Saint Vincent",city:"Kingstown",country:"Saint Vincent and the Grenadines"},{value:"America/Swift_Current",label:"Swift Current",city:"Swift Current",country:"Canada"},{value:"America/Tegucigalpa",label:"Tegucigalpa",city:"Tegucigalpa",country:"Honduras"},{value:"America/Thule",label:"Thule",city:"Qaanaaq",country:"Greenland"},{value:"America/Thunder_Bay",label:"Thunder Bay",city:"Thunder Bay",country:"Canada"},{value:"America/Tijuana",label:"Tijuana",city:"Tijuana",country:"Mexico"},{value:"America/Toronto",label:"Toronto",city:"Toronto",country:"Canada"},{value:"America/Tortola",label:"Tortola",city:"Road Town",country:"British Virgin Islands"},{value:"America/Vancouver",label:"Vancouver",city:"Vancouver",country:"Canada"},{value:"America/Whitehorse",label:"Whitehorse",city:"Whitehorse",country:"Canada"},{value:"America/Winnipeg",label:"Winnipeg",city:"Winnipeg",country:"Canada"},{value:"America/Yakutat",label:"Yakutat",city:"Yakutat",country:"United States"},{value:"America/Yellowknife",label:"Yellowknife",city:"Yellowknife",country:"Canada"},{value:"Asia/Aden",label:"Aden",city:"Aden",country:"Yemen"},{value:"Asia/Almaty",label:"Almaty",city:"Almaty",country:"Kazakhstan"},{value:"Asia/Amman",label:"Amman",city:"Amman",country:"Jordan"},{value:"Asia/Anadyr",label:"Anadyr",city:"Anadyr",country:"Russia"},{value:"Asia/Aqtau",label:"Aqtau",city:"Aqtau",country:"Kazakhstan"},{value:"Asia/Aqtobe",label:"Aqtobe",city:"Aqtobe",country:"Kazakhstan"},{value:"Asia/Ashgabat",label:"Ashgabat",city:"Ashgabat",country:"Turkmenistan"},{value:"Asia/Atyrau",label:"Atyrau",city:"Atyrau",country:"Kazakhstan"},{value:"Asia/Baghdad",label:"Baghdad",city:"Baghdad",country:"Iraq"},{value:"Asia/Bahrain",label:"Bahrain",city:"Manama",country:"Bahrain"},{value:"Asia/Baku",label:"Baku",city:"Baku",country:"Azerbaijan"},{value:"Asia/Bangkok",label:"Bangkok",city:"Bangkok",country:"Thailand"},{value:"Asia/Barnaul",label:"Barnaul",city:"Barnaul",country:"Russia"},{value:"Asia/Beirut",label:"Beirut",city:"Beirut",country:"Lebanon"},{value:"Asia/Bishkek",label:"Bishkek",city:"Bishkek",country:"Kyrgyzstan"},{value:"Asia/Brunei",label:"Brunei",city:"Bandar Seri Begawan",country:"Brunei"},{value:"Asia/Chita",label:"Chita",city:"Chita",country:"Russia"},{value:"Asia/Choibalsan",label:"Choibalsan",city:"Choibalsan",country:"Mongolia"},{value:"Asia/Colombo",label:"Colombo",city:"Colombo",country:"Sri Lanka"},{value:"Asia/Damascus",label:"Damascus",city:"Damascus",country:"Syria"},{value:"Asia/Dhaka",label:"Dhaka",city:"Dhaka",country:"Bangladesh"},{value:"Asia/Dili",label:"Dili",city:"Dili",country:"East Timor"},{value:"Asia/Dubai",label:"Dubai",city:"Dubai",country:"United Arab Emirates"},{value:"Asia/Dushanbe",label:"Dushanbe",city:"Dushanbe",country:"Tajikistan"},{value:"Asia/Famagusta",label:"Famagusta",city:"Famagusta",country:"Cyprus"},{value:"Asia/Gaza",label:"Gaza",city:"Gaza",country:"Palestine"},{value:"Asia/Hebron",label:"Hebron",city:"Hebron",country:"Palestine"},{value:"Asia/Ho_Chi_Minh",label:"Ho Chi Minh City",city:"Ho Chi Minh City",country:"Vietnam"},{value:"Asia/Hong_Kong",label:"Hong Kong",city:"Hong Kong",country:"Hong Kong"},{value:"Asia/Hovd",label:"Hovd",city:"Hovd",country:"Mongolia"},{value:"Asia/Irkutsk",label:"Irkutsk",city:"Irkutsk",country:"Russia"},{value:"Asia/Jakarta",label:"Jakarta",city:"Jakarta",country:"Indonesia"},{value:"Asia/Jayapura",label:"Jayapura",city:"Jayapura",country:"Indonesia"},{value:"Asia/Jerusalem",label:"Jerusalem",city:"Jerusalem",country:"Israel"},{value:"Asia/Kabul",label:"Kabul",city:"Kabul",country:"Afghanistan"},{value:"Asia/Kamchatka",label:"Kamchatka",city:"Petropavlovsk-Kamchatsky",country:"Russia"},{value:"Asia/Karachi",label:"Karachi",city:"Karachi",country:"Pakistan"},{value:"Asia/Kathmandu",label:"Kathmandu",city:"Kathmandu",country:"Nepal"},{value:"Asia/Khandyga",label:"Khandyga",city:"Khandyga",country:"Russia"},{value:"Asia/Kolkata",label:"Kolkata",city:"Kolkata",country:"India"},{value:"Asia/Krasnoyarsk",label:"Krasnoyarsk",city:"Krasnoyarsk",country:"Russia"},{value:"Asia/Kuala_Lumpur",label:"Kuala Lumpur",city:"Kuala Lumpur",country:"Malaysia"},{value:"Asia/Kuching",label:"Kuching",city:"Kuching",country:"Malaysia"},{value:"Asia/Kuwait",label:"Kuwait",city:"Kuwait City",country:"Kuwait"},{value:"Asia/Macau",label:"Macau",city:"Macau",country:"Macau"},{value:"Asia/Magadan",label:"Magadan",city:"Magadan",country:"Russia"},{value:"Asia/Makassar",label:"Makassar",city:"Makassar",country:"Indonesia"},{value:"Asia/Manila",label:"Manila",city:"Manila",country:"Philippines"},{value:"Asia/Muscat",label:"Muscat",city:"Muscat",country:"Oman"},{value:"Asia/Nicosia",label:"Nicosia",city:"Nicosia",country:"Cyprus"},{value:"Asia/Novokuznetsk",label:"Novokuznetsk",city:"Novokuznetsk",country:"Russia"},{value:"Asia/Novosibirsk",label:"Novosibirsk",city:"Novosibirsk",country:"Russia"},{value:"Asia/Omsk",label:"Omsk",city:"Omsk",country:"Russia"},{value:"Asia/Oral",label:"Oral",city:"Oral",country:"Kazakhstan"},{value:"Asia/Phnom_Penh",label:"Phnom Penh",city:"Phnom Penh",country:"Cambodia"},{value:"Asia/Pontianak",label:"Pontianak",city:"Pontianak",country:"Indonesia"},{value:"Asia/Pyongyang",label:"Pyongyang",city:"Pyongyang",country:"North Korea"},{value:"Asia/Qatar",label:"Qatar",city:"Doha",country:"Qatar"},{value:"Asia/Qostanay",label:"Qostanay",city:"Qostanay",country:"Kazakhstan"},{value:"Asia/Qyzylorda",label:"Qyzylorda",city:"Qyzylorda",country:"Kazakhstan"},{value:"Asia/Riyadh",label:"Riyadh",city:"Riyadh",country:"Saudi Arabia"},{value:"Asia/Sakhalin",label:"Sakhalin",city:"Yuzhno-Sakhalinsk",country:"Russia"},{value:"Asia/Samarkand",label:"Samarkand",city:"Samarkand",country:"Uzbekistan"},{value:"Asia/Seoul",label:"Seoul",city:"Seoul",country:"South Korea"},{value:"Asia/Shanghai",label:"Shanghai",city:"Shanghai",country:"China"},{value:"Asia/Singapore",label:"Singapore",city:"Singapore",country:"Singapore"},{value:"Asia/Srednekolymsk",label:"Srednekolymsk",city:"Srednekolymsk",country:"Russia"},{value:"Asia/Taipei",label:"Taipei",city:"Taipei",country:"Taiwan"},{value:"Asia/Tashkent",label:"Tashkent",city:"Tashkent",country:"Uzbekistan"},{value:"Asia/Tbilisi",label:"Tbilisi",city:"Tbilisi",country:"Georgia"},{value:"Asia/Tehran",label:"Tehran",city:"Tehran",country:"Iran"},{value:"Asia/Thimphu",label:"Thimphu",city:"Thimphu",country:"Bhutan"},{value:"Asia/Tokyo",label:"Tokyo",city:"Tokyo",country:"Japan"},{value:"Asia/Tomsk",label:"Tomsk",city:"Tomsk",country:"Russia"},{value:"Asia/Ulaanbaatar",label:"Ulaanbaatar",city:"Ulaanbaatar",country:"Mongolia"},{value:"Asia/Urumqi",label:"Urumqi",city:"Urumqi",country:"China"},{value:"Asia/Ust-Nera",label:"Ust-Nera",city:"Ust-Nera",country:"Russia"},{value:"Asia/Vientiane",label:"Vientiane",city:"Vientiane",country:"Laos"},{value:"Asia/Vladivostok",label:"Vladivostok",city:"Vladivostok",country:"Russia"},{value:"Asia/Yakutsk",label:"Yakutsk",city:"Yakutsk",country:"Russia"},{value:"Asia/Yangon",label:"Yangon",city:"Yangon",country:"Myanmar"},{value:"Asia/Yekaterinburg",label:"Yekaterinburg",city:"Yekaterinburg",country:"Russia"},{value:"Asia/Yerevan",label:"Yerevan",city:"Yerevan",country:"Armenia"},{value:"Europe/Amsterdam",label:"Amsterdam",city:"Amsterdam",country:"Netherlands"},{value:"Europe/Andorra",label:"Andorra",city:"Andorra la Vella",country:"Andorra"},{value:"Europe/Astrakhan",label:"Astrakhan",city:"Astrakhan",country:"Russia"},{value:"Europe/Athens",label:"Athens",city:"Athens",country:"Greece"},{value:"Europe/Belgrade",label:"Belgrade",city:"Belgrade",country:"Serbia"},{value:"Europe/Berlin",label:"Berlin",city:"Berlin",country:"Germany"},{value:"Europe/Bratislava",label:"Bratislava",city:"Bratislava",country:"Slovakia"},{value:"Europe/Brussels",label:"Brussels",city:"Brussels",country:"Belgium"},{value:"Europe/Bucharest",label:"Bucharest",city:"Bucharest",country:"Romania"},{value:"Europe/Budapest",label:"Budapest",city:"Budapest",country:"Hungary"},{value:"Europe/Busingen",label:"Busingen",city:"Busingen",country:"Germany"},{value:"Europe/Chisinau",label:"Chisinau",city:"Chisinau",country:"Moldova"},{value:"Europe/Copenhagen",label:"Copenhagen",city:"Copenhagen",country:"Denmark"},{value:"Europe/Dublin",label:"Dublin",city:"Dublin",country:"Ireland"},{value:"Europe/Gibraltar",label:"Gibraltar",city:"Gibraltar",country:"Gibraltar"},{value:"Europe/Guernsey",label:"Guernsey",city:"Saint Peter Port",country:"Guernsey"},{value:"Europe/Helsinki",label:"Helsinki",city:"Helsinki",country:"Finland"},{value:"Europe/Isle_of_Man",label:"Isle of Man",city:"Douglas",country:"Isle of Man"},{value:"Europe/Istanbul",label:"Istanbul",city:"Istanbul",country:"Turkey"},{value:"Europe/Jersey",label:"Jersey",city:"Saint Helier",country:"Jersey"},{value:"Europe/Kaliningrad",label:"Kaliningrad",city:"Kaliningrad",country:"Russia"},{value:"Europe/Kiev",label:"Kiev",city:"Kiev",country:"Ukraine"},{value:"Europe/Kirov",label:"Kirov",city:"Kirov",country:"Russia"},{value:"Europe/Lisbon",label:"Lisbon",city:"Lisbon",country:"Portugal"},{value:"Europe/Ljubljana",label:"Ljubljana",city:"Ljubljana",country:"Slovenia"},{value:"Europe/London",label:"London",city:"London",country:"United Kingdom"},{value:"Europe/Luxembourg",label:"Luxembourg",city:"Luxembourg",country:"Luxembourg"},{value:"Europe/Madrid",label:"Madrid",city:"Madrid",country:"Spain"},{value:"Europe/Malta",label:"Malta",city:"Valletta",country:"Malta"},{value:"Europe/Mariehamn",label:"Mariehamn",city:"Mariehamn",country:"Finland"},{value:"Europe/Minsk",label:"Minsk",city:"Minsk",country:"Belarus"},{value:"Europe/Monaco",label:"Monaco",city:"Monaco",country:"Monaco"},{value:"Europe/Moscow",label:"Moscow",city:"Moscow",country:"Russia"},{value:"Europe/Oslo",label:"Oslo",city:"Oslo",country:"Norway"},{value:"Europe/Paris",label:"Paris",city:"Paris",country:"France"},{value:"Europe/Podgorica",label:"Podgorica",city:"Podgorica",country:"Montenegro"},{value:"Europe/Prague",label:"Prague",city:"Prague",country:"Czech Republic"},{value:"Europe/Riga",label:"Riga",city:"Riga",country:"Latvia"},{value:"Europe/Rome",label:"Rome",city:"Rome",country:"Italy"},{value:"Europe/Samara",label:"Samara",city:"Samara",country:"Russia"},{value:"Europe/San_Marino",label:"San Marino",city:"San Marino",country:"San Marino"},{value:"Europe/Sarajevo",label:"Sarajevo",city:"Sarajevo",country:"Bosnia and Herzegovina"},{value:"Europe/Saratov",label:"Saratov",city:"Saratov",country:"Russia"},{value:"Europe/Simferopol",label:"Simferopol",city:"Simferopol",country:"Ukraine"},{value:"Europe/Skopje",label:"Skopje",city:"Skopje",country:"North Macedonia"},{value:"Europe/Sofia",label:"Sofia",city:"Sofia",country:"Bulgaria"},{value:"Europe/Stockholm",label:"Stockholm",city:"Stockholm",country:"Sweden"},{value:"Europe/Tallinn",label:"Tallinn",city:"Tallinn",country:"Estonia"},{value:"Europe/Tirane",label:"Tirane",city:"Tirane",country:"Albania"},{value:"Europe/Ulyanovsk",label:"Ulyanovsk",city:"Ulyanovsk",country:"Russia"},{value:"Europe/Uzhgorod",label:"Uzhgorod",city:"Uzhgorod",country:"Ukraine"},{value:"Europe/Vaduz",label:"Vaduz",city:"Vaduz",country:"Liechtenstein"},{value:"Europe/Vatican",label:"Vatican",city:"Vatican City",country:"Vatican City"},{value:"Europe/Vienna",label:"Vienna",city:"Vienna",country:"Austria"},{value:"Europe/Vilnius",label:"Vilnius",city:"Vilnius",country:"Lithuania"},{value:"Europe/Volgograd",label:"Volgograd",city:"Volgograd",country:"Russia"},{value:"Europe/Warsaw",label:"Warsaw",city:"Warsaw",country:"Poland"},{value:"Europe/Zagreb",label:"Zagreb",city:"Zagreb",country:"Croatia"},{value:"Europe/Zaporozhye",label:"Zaporozhye",city:"Zaporozhye",country:"Ukraine"},{value:"Europe/Zurich",label:"Zurich",city:"Zurich",country:"Switzerland"},{value:"Australia/Adelaide",label:"Adelaide",city:"Adelaide",country:"Australia"},{value:"Australia/Brisbane",label:"Brisbane",city:"Brisbane",country:"Australia"},{value:"Australia/Broken_Hill",label:"Broken Hill",city:"Broken Hill",country:"Australia"},{value:"Australia/Currie",label:"Currie",city:"Currie",country:"Australia"},{value:"Australia/Darwin",label:"Darwin",city:"Darwin",country:"Australia"},{value:"Australia/Eucla",label:"Eucla",city:"Eucla",country:"Australia"},{value:"Australia/Hobart",label:"Hobart",city:"Hobart",country:"Australia"},{value:"Australia/Lindeman",label:"Lindeman",city:"Lindeman",country:"Australia"},{value:"Australia/Lord_Howe",label:"Lord Howe",city:"Lord Howe Island",country:"Australia"},{value:"Australia/Melbourne",label:"Melbourne",city:"Melbourne",country:"Australia"},{value:"Australia/Perth",label:"Perth",city:"Perth",country:"Australia"},{value:"Australia/Sydney",label:"Sydney",city:"Sydney",country:"Australia"},{value:"Pacific/Apia",label:"Apia",city:"Apia",country:"Samoa"},{value:"Pacific/Auckland",label:"Auckland",city:"Auckland",country:"New Zealand"},{value:"Pacific/Bougainville",label:"Bougainville",city:"Bougainville",country:"Papua New Guinea"},{value:"Pacific/Chatham",label:"Chatham",city:"Chatham Islands",country:"New Zealand"},{value:"Pacific/Chuuk",label:"Chuuk",city:"Chuuk",country:"Micronesia"},{value:"Pacific/Easter",label:"Easter Island",city:"Easter Island",country:"Chile"},{value:"Pacific/Efate",label:"Efate",city:"Port Vila",country:"Vanuatu"},{value:"Pacific/Enderbury",label:"Enderbury",city:"Enderbury Island",country:"Kiribati"},{value:"Pacific/Fakaofo",label:"Fakaofo",city:"Fakaofo",country:"Tokelau"},{value:"Pacific/Fiji",label:"Fiji",city:"Suva",country:"Fiji"},{value:"Pacific/Funafuti",label:"Funafuti",city:"Funafuti",country:"Tuvalu"},{value:"Pacific/Galapagos",label:"Galapagos",city:"Galapagos Islands",country:"Ecuador"},{value:"Pacific/Gambier",label:"Gambier",city:"Gambier Islands",country:"French Polynesia"},{value:"Pacific/Guadalcanal",label:"Guadalcanal",city:"Honiara",country:"Solomon Islands"},{value:"Pacific/Guam",label:"Guam",city:"Hagatna",country:"Guam"},{value:"Pacific/Honolulu",label:"Honolulu",city:"Honolulu",country:"United States"},{value:"Pacific/Kiritimati",label:"Kiritimati",city:"Kiritimati",country:"Kiribati"},{value:"Pacific/Kosrae",label:"Kosrae",city:"Kosrae",country:"Micronesia"},{value:"Pacific/Kwajalein",label:"Kwajalein",city:"Kwajalein",country:"Marshall Islands"},{value:"Pacific/Majuro",label:"Majuro",city:"Majuro",country:"Marshall Islands"},{value:"Pacific/Marquesas",label:"Marquesas",city:"Marquesas Islands",country:"French Polynesia"},{value:"Pacific/Midway",label:"Midway",city:"Midway Atoll",country:"United States"},{value:"Pacific/Nauru",label:"Nauru",city:"Yaren",country:"Nauru"},{value:"Pacific/Niue",label:"Niue",city:"Alofi",country:"Niue"},{value:"Pacific/Norfolk",label:"Norfolk",city:"Norfolk Island",country:"Australia"},{value:"Pacific/Noumea",label:"Noumea",city:"Noumea",country:"New Caledonia"},{value:"Pacific/Pago_Pago",label:"Pago Pago",city:"Pago Pago",country:"American Samoa"},{value:"Pacific/Palau",label:"Palau",city:"Ngerulmud",country:"Palau"},{value:"Pacific/Pitcairn",label:"Pitcairn",city:"Adamstown",country:"Pitcairn Islands"},{value:"Pacific/Pohnpei",label:"Pohnpei",city:"Pohnpei",country:"Micronesia"},{value:"Pacific/Port_Moresby",label:"Port Moresby",city:"Port Moresby",country:"Papua New Guinea"},{value:"Pacific/Rarotonga",label:"Rarotonga",city:"Avarua",country:"Cook Islands"},{value:"Pacific/Saipan",label:"Saipan",city:"Saipan",country:"Northern Mariana Islands"},{value:"Pacific/Tahiti",label:"Tahiti",city:"Papeete",country:"French Polynesia"},{value:"Pacific/Tarawa",label:"Tarawa",city:"South Tarawa",country:"Kiribati"},{value:"Pacific/Tongatapu",label:"Tongatapu",city:"Nukualofa",country:"Tonga"},{value:"Pacific/Wake",label:"Wake",city:"Wake Island",country:"United States"},{value:"Pacific/Wallis",label:"Wallis",city:"Mata-Utu",country:"Wallis and Futuna"}],G3=e=>{var t;try{const n=new Date,a=new Intl.DateTimeFormat("en",{timeZone:e,timeZoneName:"longOffset"}),r=null==(t=a.formatToParts(n).find((e=>"timeZoneName"===e.type)))?void 0:t.value;if(r&&r.startsWith("GMT"))return r.replace("GMT","UTC");const i=new Date(n.toISOString()),s=new Date(n.toLocaleString("sv-SE",{timeZone:e})).getTime()-i.getTime(),o=Math.round(s/6e4),l=Math.floor(Math.abs(o)/60),c=Math.abs(o)%60;return`UTC${o>=0?"+":"-"}${l.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}`}catch{return"UTC+00:00"}};function V3({value:e,onValueChange:t,placeholder:n="Select timezone...",className:a,disabled:r=!1}){const[i,s]=ci.useState(!1),[o,l]=ci.useState(""),c=ci.useMemo((()=>W3.find((t=>t.value===e))),[e]),d=ci.useMemo((()=>(e=>{if(!e.trim())return W3;const t=e.toLowerCase().trim();return W3.filter((e=>e.label.toLowerCase().includes(t)||e.city.toLowerCase().includes(t)||e.country.toLowerCase().includes(t)||e.value.toLowerCase().includes(t)))})(o)),[o]),u=ci.useMemo((()=>{const e={};d.forEach((t=>{if("UTC"===t.value)e.UTC||(e.UTC=[]),e.UTC.push(t);else{const n=t.value.split("/")[0];e[n]||(e[n]=[]),e[n].push(t)}}));const t={},n=["UTC","Africa","America","Asia","Europe","Australia","Pacific"];return n.forEach((n=>{e[n]&&(t[n]=e[n].sort(((e,t)=>e.label.localeCompare(t.label))))})),Object.keys(e).forEach((a=>{n.includes(a)||(t[a]=e[a].sort(((e,t)=>e.label.localeCompare(t.label))))})),t}),[d]);return vi.jsxs(F3,{open:i,onOpenChange:s,children:[vi.jsx(B3,{asChild:!0,children:vi.jsxs(tk,{variant:"outline",role:"combobox","aria-expanded":i,className:iN("justify-between text-xs h-7",a),disabled:r,children:[c?vi.jsxs("div",{className:"flex items-center justify-between w-full",children:[vi.jsx("span",{className:"truncate",children:c.label}),vi.jsx("span",{className:"text-muted-foreground ml-2 text-[10px]",children:G3(c.value)})]}):vi.jsx("span",{className:"text-muted-foreground",children:n}),vi.jsx(Ab,{className:"ml-2 h-3 w-3 shrink-0 opacity-50"})]})}),vi.jsxs(U3,{className:"w-80 p-0",align:"start",children:[vi.jsxs("div",{className:"flex items-center border-b px-3 py-2",children:[vi.jsx(Pw,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),vi.jsx("input",{placeholder:"Search timezones...",value:o,onChange:e=>l(e.target.value),className:"flex-1 bg-transparent text-sm outline-none placeholder:text-muted-foreground"}),o&&vi.jsx(tk,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0",onClick:()=>{l("")},children:vi.jsx(fj,{className:"h-3 w-3"})})]}),vi.jsx(aq,{className:"h-60",children:vi.jsx("div",{className:"p-1",children:0===Object.keys(u).length?vi.jsx("div",{className:"py-6 text-center text-sm text-muted-foreground",children:"No timezones found."}):Object.entries(u).map((([n,a])=>vi.jsxs("div",{className:"mb-2",children:[vi.jsx("div",{className:"px-2 py-1.5 text-xs font-semibold text-muted-foreground",children:n}),a.map((n=>vi.jsxs("div",{className:iN("relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-xs outline-none hover:bg-accent hover:text-accent-foreground",e===n.value&&"bg-accent text-accent-foreground"),onClick:()=>(e=>{t(e.value),s(!1),l("")})(n),children:[vi.jsx(Mb,{className:iN("mr-2 h-3 w-3",e===n.value?"opacity-100":"opacity-0")}),vi.jsxs("div",{className:"flex-1 min-w-0",children:[vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsxs("div",{className:"flex-1 min-w-0",children:[vi.jsx("div",{className:"font-medium truncate",children:n.label}),vi.jsx("div",{className:"text-[10px] text-muted-foreground truncate",children:n.country})]}),vi.jsx("div",{className:"ml-2 text-[10px] text-muted-foreground",children:G3(n.value)})]}),vi.jsx("div",{className:"text-[9px] text-muted-foreground/70 truncate",children:n.value})]})]},n.value)))]},n)))})})]})]})}var $3=function(){return $3=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},$3.apply(this,arguments)};function H3(e,t,n){for(var a,r=0,i=t.length;r<i;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function Y3(e){return"multiple"===e.mode}function q3(e){return"range"===e.mode}function Q3(e){return"single"===e.mode}"function"==typeof SuppressedError&&SuppressedError;var Z3={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};var J3=Object.freeze({__proto__:null,formatCaption:function(e,t){return hz(e,"LLLL y",t)},formatDay:function(e,t){return hz(e,"d",t)},formatMonthCaption:function(e,t){return hz(e,"LLLL",t)},formatWeekNumber:function(e){return"".concat(e)},formatWeekdayName:function(e,t){return hz(e,"cccccc",t)},formatYearCaption:function(e,t){return hz(e,"yyyy",t)}}),K3=Object.freeze({__proto__:null,labelDay:function(e,t,n){return hz(e,"do MMMM (EEEE)",n)},labelMonthDropdown:function(){return"Month: "},labelNext:function(){return"Go to next month"},labelPrevious:function(){return"Go to previous month"},labelWeekNumber:function(e){return"Week n. ".concat(e)},labelWeekday:function(e,t){return hz(e,"cccc",t)},labelYearDropdown:function(){return"Year: "}});var X3=ci.createContext(void 0);function e6(e){var t,n,a=e.initialProps,r={captionLayout:"buttons",classNames:Z3,formatters:J3,labels:K3,locale:WR,modifiersClassNames:{},modifiers:{},numberOfMonths:1,styles:{},today:new Date,mode:"default"},i=function(e){var t=e.fromYear,n=e.toYear,a=e.fromMonth,r=e.toMonth,i=e.fromDate,s=e.toDate;return a?i=ER(a):t&&(i=new Date(t,0,1)),r?s=SR(r):n&&(s=new Date(n,11,31)),{fromDate:i?hR(i):void 0,toDate:s?hR(s):void 0}}(a),s=i.fromDate,o=i.toDate,l=null!==(t=a.captionLayout)&&void 0!==t?t:r.captionLayout;"buttons"===l||s&&o||(l="buttons"),(Q3(a)||Y3(a)||q3(a))&&(n=a.onSelect);var c=$3($3($3({},r),a),{captionLayout:l,classNames:$3($3({},r.classNames),a.classNames),components:$3({},a.components),formatters:$3($3({},r.formatters),a.formatters),fromDate:s,labels:$3($3({},r.labels),a.labels),mode:a.mode||r.mode,modifiers:$3($3({},r.modifiers),a.modifiers),modifiersClassNames:$3($3({},r.modifiersClassNames),a.modifiersClassNames),onSelect:n,styles:$3($3({},r.styles),a.styles),toDate:o});return vi.jsx(X3.Provider,{value:c,children:e.children})}function t6(){var e=ci.useContext(X3);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function n6(e){var t=t6(),n=t.locale,a=t.classNames,r=t.styles,i=t.formatters.formatCaption;return vi.jsx("div",{className:a.caption_label,style:r.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:n})})}function a6(e){return vi.jsx("svg",$3({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:vi.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function r6(e){var t,n,a=e.onChange,r=e.value,i=e.children,s=e.caption,o=e.className,l=e.style,c=t6(),d=null!==(n=null===(t=c.components)||void 0===t?void 0:t.IconDropdown)&&void 0!==n?n:a6;return vi.jsxs("div",{className:o,style:l,children:[vi.jsx("span",{className:c.classNames.vhidden,children:e["aria-label"]}),vi.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:r,onChange:a,children:i}),vi.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[s,vi.jsx(d,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function i6(e){var t,n=t6(),a=n.fromDate,r=n.toDate,i=n.styles,s=n.locale,o=n.formatters.formatMonthCaption,l=n.classNames,c=n.components,d=n.labels.labelMonthDropdown;if(!a)return vi.jsx(vi.Fragment,{});if(!r)return vi.jsx(vi.Fragment,{});var u=[];if(function(e,t){const n=tR(e),a=tR(t);return n.getFullYear()===a.getFullYear()}(a,r))for(var f=ER(a),m=a.getMonth();m<=r.getMonth();m++)u.push(Pz(f,m));else for(f=ER(new Date),m=0;m<=11;m++)u.push(Pz(f,m));var p=null!==(t=null==c?void 0:c.Dropdown)&&void 0!==t?t:r6;return vi.jsx(p,{name:"months","aria-label":d(),className:l.dropdown_month,style:i.dropdown_month,onChange:function(t){var n=Number(t.target.value),a=Pz(ER(e.displayMonth),n);e.onChange(a)},value:e.displayMonth.getMonth(),caption:o(e.displayMonth,{locale:s}),children:u.map((function(e){return vi.jsx("option",{value:e.getMonth(),children:o(e,{locale:s})},e.getMonth())}))})}function s6(e){var t,n=e.displayMonth,a=t6(),r=a.fromDate,i=a.toDate,s=a.locale,o=a.styles,l=a.classNames,c=a.components,d=a.formatters.formatYearCaption,u=a.labels.labelYearDropdown,f=[];if(!r)return vi.jsx(vi.Fragment,{});if(!i)return vi.jsx(vi.Fragment,{});for(var m=r.getFullYear(),p=i.getFullYear(),h=m;h<=p;h++)f.push(Oz(IR(new Date),h));var g=null!==(t=null==c?void 0:c.Dropdown)&&void 0!==t?t:r6;return vi.jsx(g,{name:"years","aria-label":u(),className:l.dropdown_year,style:o.dropdown_year,onChange:function(t){var a=Oz(ER(n),Number(t.target.value));e.onChange(a)},value:n.getFullYear(),caption:d(n,{locale:s}),children:f.map((function(e){return vi.jsx("option",{value:e.getFullYear(),children:d(e,{locale:s})},e.getFullYear())}))})}function o6(){var e=t6(),t=function(e){var t=e.month,n=e.defaultMonth,a=e.today,r=t||n||a||new Date,i=e.toDate,s=e.fromDate,o=e.numberOfMonths,l=void 0===o?1:o;return i&&CR(i,r)<0&&(r=rR(i,-1*(l-1))),s&&CR(r,s)<0&&(r=s),ER(r)}(e),n=function(e,t){var n=ci.useState(e),a=n[0];return[void 0===t?a:t,n[1]]}(t,e.month),a=n[0],r=n[1];return[a,function(t){var n;if(!e.disableNavigation){var a=ER(t);r(a),null===(n=e.onMonthChange)||void 0===n||n.call(e,a)}}]}var l6=ci.createContext(void 0);function c6(e){var t=t6(),n=o6(),a=n[0],r=n[1],i=function(e,t){for(var n=t.reverseMonths,a=t.numberOfMonths,r=ER(e),i=CR(ER(rR(r,a)),r),s=[],o=0;o<i;o++){var l=rR(r,o);s.push(l)}return n&&(s=s.reverse()),s}(a,t),s=function(e,t){if(!t.disableNavigation){var n=t.toDate,a=t.pagedNavigation,r=t.numberOfMonths,i=void 0===r?1:r,s=a?i:1,o=ER(e);if(!n)return rR(o,s);if(!(CR(n,e)<i))return rR(o,s)}}(a,t),o=function(e,t){if(!t.disableNavigation){var n=t.fromDate,a=t.pagedNavigation,r=t.numberOfMonths,i=a?void 0===r?1:r:1,s=ER(e);if(!n)return rR(s,-i);if(!(CR(s,n)<=0))return rR(s,-i)}}(a,t),l=function(e){return i.some((function(t){return Nz(e,t)}))},c={currentMonth:a,displayMonths:i,goToMonth:r,goToDate:function(e,n){l(e)||(n&&jz(e,n)?r(rR(e,1+-1*t.numberOfMonths)):r(e))},previousMonth:o,nextMonth:s,isDateDisplayed:l};return vi.jsx(l6.Provider,{value:c,children:e.children})}function d6(){var e=ci.useContext(l6);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function u6(e){var t,n=t6(),a=n.classNames,r=n.styles,i=n.components,s=d6().goToMonth,o=function(t){s(rR(t,e.displayIndex?-e.displayIndex:0))},l=null!==(t=null==i?void 0:i.CaptionLabel)&&void 0!==t?t:n6,c=vi.jsx(l,{id:e.id,displayMonth:e.displayMonth});return vi.jsxs("div",{className:a.caption_dropdowns,style:r.caption_dropdowns,children:[vi.jsx("div",{className:a.vhidden,children:c}),vi.jsx(i6,{onChange:o,displayMonth:e.displayMonth}),vi.jsx(s6,{onChange:o,displayMonth:e.displayMonth})]})}function f6(e){return vi.jsx("svg",$3({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:vi.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function m6(e){return vi.jsx("svg",$3({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:vi.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var p6=ci.forwardRef((function(e,t){var n=t6(),a=n.classNames,r=n.styles,i=[a.button_reset,a.button];e.className&&i.push(e.className);var s=i.join(" "),o=$3($3({},r.button_reset),r.button);return e.style&&Object.assign(o,e.style),vi.jsx("button",$3({},e,{ref:t,type:"button",className:s,style:o}))}));function h6(e){var t,n,a=t6(),r=a.dir,i=a.locale,s=a.classNames,o=a.styles,l=a.labels,c=l.labelPrevious,d=l.labelNext,u=a.components;if(!e.nextMonth&&!e.previousMonth)return vi.jsx(vi.Fragment,{});var f=c(e.previousMonth,{locale:i}),m=[s.nav_button,s.nav_button_previous].join(" "),p=d(e.nextMonth,{locale:i}),h=[s.nav_button,s.nav_button_next].join(" "),g=null!==(t=null==u?void 0:u.IconRight)&&void 0!==t?t:m6,x=null!==(n=null==u?void 0:u.IconLeft)&&void 0!==n?n:f6;return vi.jsxs("div",{className:s.nav,style:o.nav,children:[!e.hidePrevious&&vi.jsx(p6,{name:"previous-month","aria-label":f,className:m,style:o.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:"rtl"===r?vi.jsx(g,{className:s.nav_icon,style:o.nav_icon}):vi.jsx(x,{className:s.nav_icon,style:o.nav_icon})}),!e.hideNext&&vi.jsx(p6,{name:"next-month","aria-label":p,className:h,style:o.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:"rtl"===r?vi.jsx(x,{className:s.nav_icon,style:o.nav_icon}):vi.jsx(g,{className:s.nav_icon,style:o.nav_icon})})]})}function g6(e){var t=t6().numberOfMonths,n=d6(),a=n.previousMonth,r=n.nextMonth,i=n.goToMonth,s=n.displayMonths,o=s.findIndex((function(t){return Nz(e.displayMonth,t)})),l=0===o,c=o===s.length-1,d=t>1&&(l||!c),u=t>1&&(c||!l);return vi.jsx(h6,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:u,nextMonth:r,previousMonth:a,onPreviousClick:function(){a&&i(a)},onNextClick:function(){r&&i(r)}})}function x6(e){var t,n,a=t6(),r=a.classNames,i=a.disableNavigation,s=a.styles,o=a.captionLayout,l=a.components,c=null!==(t=null==l?void 0:l.CaptionLabel)&&void 0!==t?t:n6;return n=i?vi.jsx(c,{id:e.id,displayMonth:e.displayMonth}):"dropdown"===o?vi.jsx(u6,{displayMonth:e.displayMonth,id:e.id}):"dropdown-buttons"===o?vi.jsxs(vi.Fragment,{children:[vi.jsx(u6,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),vi.jsx(g6,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):vi.jsxs(vi.Fragment,{children:[vi.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),vi.jsx(g6,{displayMonth:e.displayMonth,id:e.id})]}),vi.jsx("div",{className:r.caption,style:s.caption,children:n})}function y6(e){var t=t6(),n=t.footer,a=t.styles,r=t.classNames.tfoot;return n?vi.jsx("tfoot",{className:r,style:a.tfoot,children:vi.jsx("tr",{children:vi.jsx("td",{colSpan:8,children:n})})}):vi.jsx(vi.Fragment,{})}function v6(){var e=t6(),t=e.classNames,n=e.styles,a=e.showWeekNumber,r=e.locale,i=e.weekStartsOn,s=e.ISOWeek,o=e.formatters.formatWeekdayName,l=e.labels.labelWeekday,c=function(e,t,n){for(var a=n?mR(new Date):fR(new Date,{locale:e,weekStartsOn:t}),r=[],i=0;i<7;i++){var s=aR(a,i);r.push(s)}return r}(r,i,s);return vi.jsxs("tr",{style:n.head_row,className:t.head_row,children:[a&&vi.jsx("td",{style:n.head_cell,className:t.head_cell}),c.map((function(e,a){return vi.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":l(e,{locale:r}),children:o(e,{locale:r})},a)}))]})}function b6(){var e,t=t6(),n=t.classNames,a=t.styles,r=t.components,i=null!==(e=null==r?void 0:r.HeadRow)&&void 0!==e?e:v6;return vi.jsx("thead",{style:a.head,className:n.head,children:vi.jsx(i,{})})}function w6(e){var t=t6(),n=t.locale,a=t.formatters.formatDay;return vi.jsx(vi.Fragment,{children:a(e.date,{locale:n})})}var j6=ci.createContext(void 0);function N6(e){if(!Y3(e.initialProps)){return vi.jsx(j6.Provider,{value:{selected:void 0,modifiers:{disabled:[]}},children:e.children})}return vi.jsx(C6,{initialProps:e.initialProps,children:e.children})}function C6(e){var t=e.initialProps,n=e.children,a=t.selected,r=t.min,i=t.max,s={disabled:[]};a&&s.disabled.push((function(e){var t=i&&a.length>i-1,n=a.some((function(t){return jR(t,e)}));return Boolean(t&&!n)}));var o={selected:a,onDayClick:function(e,n,s){var o,l;if((null===(o=t.onDayClick)||void 0===o||o.call(t,e,n,s),!Boolean(n.selected&&r&&(null==a?void 0:a.length)===r))&&!Boolean(!n.selected&&i&&(null==a?void 0:a.length)===i)){var c=a?H3([],a):[];if(n.selected){var d=c.findIndex((function(t){return jR(e,t)}));c.splice(d,1)}else c.push(e);null===(l=t.onSelect)||void 0===l||l.call(t,c,e,n,s)}},modifiers:s};return vi.jsx(j6.Provider,{value:o,children:n})}function S6(){var e=ci.useContext(j6);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}var k6,M6,_6=ci.createContext(void 0);function E6(e){if(!q3(e.initialProps)){return vi.jsx(_6.Provider,{value:{selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}},children:e.children})}return vi.jsx(I6,{initialProps:e.initialProps,children:e.children})}function I6(e){var t=e.initialProps,n=e.children,a=t.selected,r=a||{},i=r.from,s=r.to,o=t.min,l=t.max,c={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(c.range_start=[i],s?(c.range_end=[s],jR(i,s)||(c.range_middle=[{after:i,before:s}])):c.range_end=[i]):s&&(c.range_start=[s],c.range_end=[s]),o&&(i&&!s&&c.disabled.push({after:Sz(i,o-1),before:aR(i,o-1)}),i&&s&&c.disabled.push({after:i,before:aR(i,o-1)}),!i&&s&&c.disabled.push({after:Sz(s,o-1),before:aR(s,o-1)})),l){if(i&&!s&&(c.disabled.push({before:aR(i,1-l)}),c.disabled.push({after:aR(i,l-1)})),i&&s){var d=l-(xR(s,i)+1);c.disabled.push({before:Sz(i,d)}),c.disabled.push({after:aR(s,d)})}!i&&s&&(c.disabled.push({before:aR(s,1-l)}),c.disabled.push({after:aR(s,l-1)}))}return vi.jsx(_6.Provider,{value:{selected:a,onDayClick:function(e,n,r){var i,s;null===(i=t.onDayClick)||void 0===i||i.call(t,e,n,r);var o=function(e,t){var n=t||{},a=n.from,r=n.to;if(a&&r){if(jR(r,e)&&jR(a,e))return;if(jR(r,e))return{from:r,to:void 0};if(jR(a,e))return;return wz(a,e)?{from:e,to:r}:{from:a,to:e}}return r?wz(e,r)?{from:r,to:e}:{from:e,to:r}:a?jz(e,a)?{from:e,to:a}:{from:a,to:e}:{from:e,to:void 0}}(e,a);null===(s=t.onSelect)||void 0===s||s.call(t,o,e,n,r)},modifiers:c},children:n})}function L6(){var e=ci.useContext(_6);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function A6(e){return Array.isArray(e)?H3([],e):void 0!==e?[e]:[]}(M6=k6||(k6={})).Outside="outside",M6.Disabled="disabled",M6.Selected="selected",M6.Hidden="hidden",M6.Today="today",M6.RangeStart="range_start",M6.RangeEnd="range_end",M6.RangeMiddle="range_middle";var T6=k6.Selected,D6=k6.Disabled,P6=k6.Hidden,O6=k6.Today,R6=k6.RangeEnd,z6=k6.RangeMiddle,F6=k6.RangeStart,B6=k6.Outside;var U6=ci.createContext(void 0);function W6(e){var t=t6(),n=function(e,t,n){var a,r=((a={})[T6]=A6(e.selected),a[D6]=A6(e.disabled),a[P6]=A6(e.hidden),a[O6]=[e.today],a[R6]=[],a[z6]=[],a[F6]=[],a[B6]=[],a);return e.fromDate&&r[D6].push({before:e.fromDate}),e.toDate&&r[D6].push({after:e.toDate}),Y3(e)?r[D6]=r[D6].concat(t.modifiers[D6]):q3(e)&&(r[D6]=r[D6].concat(n.modifiers[D6]),r[F6]=n.modifiers[F6],r[z6]=n.modifiers[z6],r[R6]=n.modifiers[R6]),r}(t,S6(),L6()),a=function(e){var t={};return Object.entries(e).forEach((function(e){var n=e[0],a=e[1];t[n]=A6(a)})),t}(t.modifiers),r=$3($3({},n),a);return vi.jsx(U6.Provider,{value:r,children:e.children})}function G6(){var e=ci.useContext(U6);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function V6(e,t){return t.some((function(t){if("boolean"==typeof t)return t;if(NR(t))return jR(e,t);var n,a,r,i,s;if(function(e){return Array.isArray(e)&&e.every(NR)}(t))return t.includes(e);if(function(e){return Boolean(e&&"object"==typeof e&&"from"in e)}(t))return n=e,i=(a=t).from,s=a.to,i&&s?(xR(s,i)<0&&(i=(r=[s,i])[0],s=r[1]),xR(n,i)>=0&&xR(s,n)>=0):s?jR(s,n):!!i&&jR(i,n);if(function(e){return Boolean(e&&"object"==typeof e&&"dayOfWeek"in e)}(t))return t.dayOfWeek.includes(e.getDay());if(function(e){return Boolean(e&&"object"==typeof e&&"before"in e&&"after"in e)}(t)){var o=xR(t.before,e)>0,l=xR(t.after,e)<0;return wz(t.before,t.after)?l&&o:o||l}return function(e){return Boolean(e&&"object"==typeof e&&"after"in e)}(t)?xR(e,t.after)>0:function(e){return Boolean(e&&"object"==typeof e&&"before"in e)}(t)?xR(t.before,e)>0:"function"==typeof t&&t(e)}))}function $6(e,t,n){var a=Object.keys(t).reduce((function(n,a){var r=t[a];return V6(e,r)&&n.push(a),n}),[]),r={};return a.forEach((function(e){return r[e]=!0})),n&&!Nz(e,n)&&(r.outside=!0),r}function H6(e,t){var n=t.moveBy,a=t.direction,r=t.context,i=t.modifiers,s=t.retry,o=void 0===s?{count:0,lastFocused:e}:s,l=r.weekStartsOn,c=r.fromDate,d=r.toDate,u=r.locale,f={day:aR,week:yR,month:rR,year:vR,startOfWeek:function(e){return r.ISOWeek?mR(e):fR(e,{locale:u,weekStartsOn:l})},endOfWeek:function(e){return r.ISOWeek?AR(e):LR(e,{locale:u,weekStartsOn:l})}}[n](e,"after"===a?1:-1);"before"===a&&c?f=function(e){let t;return e.forEach((function(e){const n=tR(e);(void 0===t||t<n||isNaN(Number(n)))&&(t=n)})),t||new Date(NaN)}([c,f]):"after"===a&&d&&(f=function(e){let t;return e.forEach((e=>{const n=tR(e);(!t||t>n||isNaN(+n))&&(t=n)})),t||new Date(NaN)}([d,f]));var m=!0;if(i){var p=$6(f,i);m=!p.disabled&&!p.hidden}return m?f:o.count>365?o.lastFocused:H6(f,{moveBy:n,direction:a,context:r,modifiers:i,retry:$3($3({},o),{count:o.count+1})})}var Y6=ci.createContext(void 0);function q6(e){var t=d6(),n=G6(),a=ci.useState(),r=a[0],i=a[1],s=ci.useState(),o=s[0],l=s[1],c=function(e,t){for(var n,a,r=ER(e[0]),i=SR(e[e.length-1]),s=r;s<=i;){var o=$6(s,t);if(o.disabled||o.hidden)s=aR(s,1);else{if(o.selected)return s;o.today&&!a&&(a=s),n||(n=s),s=aR(s,1)}}return a||n}(t.displayMonths,n),d=(null!=r?r:o&&t.isDateDisplayed(o))?o:c,u=function(e){i(e)},f=t6(),m=function(e,a){if(r){var i=H6(r,{moveBy:e,direction:a,context:f,modifiers:n});jR(r,i)||(t.goToDate(i,r),u(i))}},p={focusedDay:r,focusTarget:d,blur:function(){l(r),i(void 0)},focus:u,focusDayAfter:function(){return m("day","after")},focusDayBefore:function(){return m("day","before")},focusWeekAfter:function(){return m("week","after")},focusWeekBefore:function(){return m("week","before")},focusMonthBefore:function(){return m("month","before")},focusMonthAfter:function(){return m("month","after")},focusYearBefore:function(){return m("year","before")},focusYearAfter:function(){return m("year","after")},focusStartOfWeek:function(){return m("startOfWeek","before")},focusEndOfWeek:function(){return m("endOfWeek","after")}};return vi.jsx(Y6.Provider,{value:p,children:e.children})}function Q6(){var e=ci.useContext(Y6);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}var Z6=ci.createContext(void 0);function J6(e){if(!Q3(e.initialProps)){return vi.jsx(Z6.Provider,{value:{selected:void 0},children:e.children})}return vi.jsx(K6,{initialProps:e.initialProps,children:e.children})}function K6(e){var t=e.initialProps,n=e.children,a={selected:t.selected,onDayClick:function(e,n,a){var r,i,s;null===(r=t.onDayClick)||void 0===r||r.call(t,e,n,a),!n.selected||t.required?null===(s=t.onSelect)||void 0===s||s.call(t,e,e,n,a):null===(i=t.onSelect)||void 0===i||i.call(t,void 0,e,n,a)}};return vi.jsx(Z6.Provider,{value:a,children:n})}function X6(){var e=ci.useContext(Z6);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function e5(e,t){var n=[e.classNames.day];return Object.keys(t).forEach((function(t){var a=e.modifiersClassNames[t];if(a)n.push(a);else if(function(e){return Object.values(k6).includes(e)}(t)){var r=e.classNames["day_".concat(t)];r&&n.push(r)}})),n}function t5(e,t,n){var a,r,i,s=t6(),o=Q6(),l=function(e,t){return $6(e,G6(),t)}(e,t),c=function(e,t){var n=t6(),a=X6(),r=S6(),i=L6(),s=Q6(),o=s.focusDayAfter,l=s.focusDayBefore,c=s.focusWeekAfter,d=s.focusWeekBefore,u=s.blur,f=s.focus,m=s.focusMonthBefore,p=s.focusMonthAfter,h=s.focusYearBefore,g=s.focusYearAfter,x=s.focusStartOfWeek,y=s.focusEndOfWeek;return{onClick:function(s){var o,l,c,d;Q3(n)?null===(o=a.onDayClick)||void 0===o||o.call(a,e,t,s):Y3(n)?null===(l=r.onDayClick)||void 0===l||l.call(r,e,t,s):q3(n)?null===(c=i.onDayClick)||void 0===c||c.call(i,e,t,s):null===(d=n.onDayClick)||void 0===d||d.call(n,e,t,s)},onFocus:function(a){var r;f(e),null===(r=n.onDayFocus)||void 0===r||r.call(n,e,t,a)},onBlur:function(a){var r;u(),null===(r=n.onDayBlur)||void 0===r||r.call(n,e,t,a)},onKeyDown:function(a){var r;switch(a.key){case"ArrowLeft":a.preventDefault(),a.stopPropagation(),"rtl"===n.dir?o():l();break;case"ArrowRight":a.preventDefault(),a.stopPropagation(),"rtl"===n.dir?l():o();break;case"ArrowDown":a.preventDefault(),a.stopPropagation(),c();break;case"ArrowUp":a.preventDefault(),a.stopPropagation(),d();break;case"PageUp":a.preventDefault(),a.stopPropagation(),a.shiftKey?h():m();break;case"PageDown":a.preventDefault(),a.stopPropagation(),a.shiftKey?g():p();break;case"Home":a.preventDefault(),a.stopPropagation(),x();break;case"End":a.preventDefault(),a.stopPropagation(),y()}null===(r=n.onDayKeyDown)||void 0===r||r.call(n,e,t,a)},onKeyUp:function(a){var r;null===(r=n.onDayKeyUp)||void 0===r||r.call(n,e,t,a)},onMouseEnter:function(a){var r;null===(r=n.onDayMouseEnter)||void 0===r||r.call(n,e,t,a)},onMouseLeave:function(a){var r;null===(r=n.onDayMouseLeave)||void 0===r||r.call(n,e,t,a)},onPointerEnter:function(a){var r;null===(r=n.onDayPointerEnter)||void 0===r||r.call(n,e,t,a)},onPointerLeave:function(a){var r;null===(r=n.onDayPointerLeave)||void 0===r||r.call(n,e,t,a)},onTouchCancel:function(a){var r;null===(r=n.onDayTouchCancel)||void 0===r||r.call(n,e,t,a)},onTouchEnd:function(a){var r;null===(r=n.onDayTouchEnd)||void 0===r||r.call(n,e,t,a)},onTouchMove:function(a){var r;null===(r=n.onDayTouchMove)||void 0===r||r.call(n,e,t,a)},onTouchStart:function(a){var r;null===(r=n.onDayTouchStart)||void 0===r||r.call(n,e,t,a)}}}(e,l),d=function(){var e=t6(),t=X6(),n=S6(),a=L6();return Q3(e)?t.selected:Y3(e)?n.selected:q3(e)?a.selected:void 0}(),u=Boolean(s.onDayClick||"default"!==s.mode);ci.useEffect((function(){var t;l.outside||o.focusedDay&&u&&jR(o.focusedDay,e)&&(null===(t=n.current)||void 0===t||t.focus())}),[o.focusedDay,e,n,u,l.outside]);var f=e5(s,l).join(" "),m=function(e,t){var n=$3({},e.styles.day);return Object.keys(t).forEach((function(t){var a;n=$3($3({},n),null===(a=e.modifiersStyles)||void 0===a?void 0:a[t])})),n}(s,l),p=Boolean(l.outside&&!s.showOutsideDays||l.hidden),h=null!==(i=null===(r=s.components)||void 0===r?void 0:r.DayContent)&&void 0!==i?i:w6,g={style:m,className:f,children:vi.jsx(h,{date:e,displayMonth:t,activeModifiers:l}),role:"gridcell"},x=o.focusTarget&&jR(o.focusTarget,e)&&!l.outside,y=o.focusedDay&&jR(o.focusedDay,e),v=$3($3($3({},g),((a={disabled:l.disabled,role:"gridcell"})["aria-selected"]=l.selected,a.tabIndex=y||x?0:-1,a)),c);return{isButton:u,isHidden:p,activeModifiers:l,selectedDays:d,buttonProps:v,divProps:g}}function n5(e){var t=ci.useRef(null),n=t5(e.date,e.displayMonth,t);return n.isHidden?vi.jsx("div",{role:"gridcell"}):n.isButton?vi.jsx(p6,$3({name:"day",ref:t},n.buttonProps)):vi.jsx("div",$3({},n.divProps))}function a5(e){var t=e.number,n=e.dates,a=t6(),r=a.onWeekNumberClick,i=a.styles,s=a.classNames,o=a.locale,l=a.labels.labelWeekNumber,c=(0,a.formatters.formatWeekNumber)(Number(t),{locale:o});if(!r)return vi.jsx("span",{className:s.weeknumber,style:i.weeknumber,children:c});var d=l(Number(t),{locale:o});return vi.jsx(p6,{name:"week-number","aria-label":d,className:s.weeknumber,style:i.weeknumber,onClick:function(e){r(t,n,e)},children:c})}function r5(e){var t,n,a,r=t6(),i=r.styles,s=r.classNames,o=r.showWeekNumber,l=r.components,c=null!==(t=null==l?void 0:l.Day)&&void 0!==t?t:n5,d=null!==(n=null==l?void 0:l.WeekNumber)&&void 0!==n?n:a5;return o&&(a=vi.jsx("td",{className:s.cell,style:i.cell,children:vi.jsx(d,{number:e.weekNumber,dates:e.dates})})),vi.jsxs("tr",{className:s.row,style:i.row,children:[a,e.dates.map((function(t){return vi.jsx("td",{className:s.cell,style:i.cell,role:"presentation",children:vi.jsx(c,{displayMonth:e.displayMonth,date:t})},function(e){return Math.trunc(+tR(e)/1e3)}(t))}))]})}function i5(e,t,n){for(var a=(null==n?void 0:n.ISOWeek)?AR(t):LR(t,n),r=(null==n?void 0:n.ISOWeek)?mR(e):fR(e,n),i=xR(a,r),s=[],o=0;o<=i;o++)s.push(aR(r,o));return s.reduce((function(e,t){var a=(null==n?void 0:n.ISOWeek)?GR(t):$R(t,n),r=e.find((function(e){return e.weekNumber===a}));return r?(r.dates.push(t),e):(e.push({weekNumber:a,dates:[t]}),e)}),[])}function s5(e){var t,n,a,r=t6(),i=r.locale,s=r.classNames,o=r.styles,l=r.hideHead,c=r.fixedWeeks,d=r.components,u=r.weekStartsOn,f=r.firstWeekContainsDate,m=r.ISOWeek,p=function(e,t){var n=i5(ER(e),SR(e),t);if(null==t?void 0:t.useFixedWeeks){var a=bz(e,t);if(a<6){var r=n[n.length-1],i=r.dates[r.dates.length-1],s=yR(i,6-a),o=i5(yR(i,1),s,t);n.push.apply(n,o)}}return n}(e.displayMonth,{useFixedWeeks:Boolean(c),ISOWeek:m,locale:i,weekStartsOn:u,firstWeekContainsDate:f}),h=null!==(t=null==d?void 0:d.Head)&&void 0!==t?t:b6,g=null!==(n=null==d?void 0:d.Row)&&void 0!==n?n:r5,x=null!==(a=null==d?void 0:d.Footer)&&void 0!==a?a:y6;return vi.jsxs("table",{id:e.id,className:s.table,style:o.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!l&&vi.jsx(h,{}),vi.jsx("tbody",{className:s.tbody,style:o.tbody,children:p.map((function(t){return vi.jsx(g,{displayMonth:e.displayMonth,dates:t.dates,weekNumber:t.weekNumber},t.weekNumber)}))}),vi.jsx(x,{displayMonth:e.displayMonth})]})}var o5="undefined"!=typeof window&&window.document&&window.document.createElement?ci.useLayoutEffect:ci.useEffect,l5=!1,c5=0;function d5(){return"react-day-picker-".concat(++c5)}function u5(e){var t,n,a=t6(),r=a.dir,i=a.classNames,s=a.styles,o=a.components,l=d6().displayMonths,c=function(e){var t,n=null!=e?e:l5?d5():null,a=ci.useState(n),r=a[0],i=a[1];return o5((function(){null===r&&i(d5())}),[]),ci.useEffect((function(){!1===l5&&(l5=!0)}),[]),null!==(t=null!=e?e:r)&&void 0!==t?t:void 0}(a.id?"".concat(a.id,"-").concat(e.displayIndex):void 0),d=a.id?"".concat(a.id,"-grid-").concat(e.displayIndex):void 0,u=[i.month],f=s.month,m=0===e.displayIndex,p=e.displayIndex===l.length-1,h=!m&&!p;"rtl"===r&&(p=(t=[m,p])[0],m=t[1]),m&&(u.push(i.caption_start),f=$3($3({},f),s.caption_start)),p&&(u.push(i.caption_end),f=$3($3({},f),s.caption_end)),h&&(u.push(i.caption_between),f=$3($3({},f),s.caption_between));var g=null!==(n=null==o?void 0:o.Caption)&&void 0!==n?n:x6;return vi.jsxs("div",{className:u.join(" "),style:f,children:[vi.jsx(g,{id:c,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),vi.jsx(s5,{id:d,"aria-labelledby":c,displayMonth:e.displayMonth})]},e.displayIndex)}function f5(e){var t=t6(),n=t.classNames,a=t.styles;return vi.jsx("div",{className:n.months,style:a.months,children:e.children})}function m5(e){var t,n,a=e.initialProps,r=t6(),i=Q6(),s=d6(),o=ci.useState(!1),l=o[0],c=o[1];ci.useEffect((function(){r.initialFocus&&i.focusTarget&&(l||(i.focus(i.focusTarget),c(!0)))}),[r.initialFocus,l,i.focus,i.focusTarget,i]);var d=[r.classNames.root,r.className];r.numberOfMonths>1&&d.push(r.classNames.multiple_months),r.showWeekNumber&&d.push(r.classNames.with_weeknumber);var u=$3($3({},r.styles.root),r.style),f=Object.keys(a).filter((function(e){return e.startsWith("data-")})).reduce((function(e,t){var n;return $3($3({},e),((n={})[t]=a[t],n))}),{}),m=null!==(n=null===(t=a.components)||void 0===t?void 0:t.Months)&&void 0!==n?n:f5;return vi.jsx("div",$3({className:d.join(" "),style:u,dir:r.dir,id:r.id,nonce:a.nonce,title:a.title,lang:a.lang},f,{children:vi.jsx(m,{children:s.displayMonths.map((function(e,t){return vi.jsx(u5,{displayIndex:t,displayMonth:e},t)}))})}))}function p5(e){var t=e.children,n=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(e,["children"]);return vi.jsx(e6,{initialProps:n,children:vi.jsx(c6,{children:vi.jsx(J6,{initialProps:n,children:vi.jsx(N6,{initialProps:n,children:vi.jsx(E6,{initialProps:n,children:vi.jsx(W6,{children:vi.jsx(q6,{children:t})})})})})})})}function h5(e){return vi.jsx(p5,$3({},e,{children:vi.jsx(m5,{initialProps:e})}))}function g5({className:e,classNames:t,showOutsideDays:n=!0,...a}){return vi.jsx(h5,{showOutsideDays:n,className:iN("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:iN(ek({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:iN(ek({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:e,...t})=>vi.jsx(Eb,{className:iN("h-4 w-4",e),...t}),IconRight:({className:e,...t})=>vi.jsx(Ib,{className:iN("h-4 w-4",e),...t})},...a})}g5.displayName="Calendar";const x5=[{id:"GET",name:"GET"},{id:"POST",name:"POST"},{id:"PUT",name:"PUT"},{id:"DELETE",name:"DELETE"},{id:"PATCH",name:"PATCH"}],y5=[{id:"none",name:"None"},{id:"bearer",name:"Bearer Token"},{id:"basic",name:"Basic Auth"},{id:"apikey",name:"API Key"}],v5=[{id:"json",name:"JSON"},{id:"text",name:"Text"},{id:"xml",name:"XML"},{id:"auto",name:"Auto-detect"}],b5=[{id:"get_user",name:"Get User Data",method:"GET",url:"https://api.example.com/users/{{user.id}}",headers:[{key:"Accept",value:"application/json"}],body:""},{id:"post_data",name:"Post Form Data",method:"POST",url:"https://api.example.com/submit",headers:[{key:"Content-Type",value:"application/json"}],body:'{\n  "name": "{{contact.name}}",\n  "email": "{{contact.email}}",\n  "message": "{{message.content}}"\n}'},{id:"update_record",name:"Update Record",method:"PUT",url:"https://api.example.com/records/{{record.id}}",headers:[{key:"Content-Type",value:"application/json"}],body:'{\n  "status": "updated",\n  "timestamp": "{{date.now}}"\n}'}];const w5=[{id:"orders",name:"Orders",endpoint:"orders"},{id:"products",name:"Products",endpoint:"products"},{id:"customers",name:"Customers",endpoint:"customers"},{id:"inventory_items",name:"Inventory",endpoint:"inventory_items"},{id:"fulfillments",name:"Fulfillments",endpoint:"fulfillments"},{id:"webhooks",name:"Webhooks",endpoint:"webhooks"},{id:"variants",name:"Product Variants",endpoint:"variants"},{id:"collections",name:"Collections",endpoint:"collections"}],j5=[{id:"get",name:"Get (Fetch Data)"},{id:"post",name:"Create New"},{id:"put",name:"Update Existing"},{id:"delete",name:"Delete"}],N5=[{id:"recent_orders",name:"Get Recent Orders",resource:"orders",action:"get",filters:{status:"any",limit:"10",created_at_min:"{{date.last_week}}"}},{id:"update_inventory",name:"Update Product Stock",resource:"inventory_items",action:"put",filters:{inventory_item_id:"{{product.inventory_item_id}}",available:"{{inventory.new_quantity}}"}},{id:"create_customer",name:"Create Customer",resource:"customers",action:"post",filters:{email:"{{contact.email}}",first_name:"{{contact.first_name}}",last_name:"{{contact.last_name}}"}},{id:"order_fulfillment",name:"Create Order Fulfillment",resource:"fulfillments",action:"post",filters:{order_id:"{{order.id}}",tracking_number:"{{shipping.tracking}}"}}],C5={orders:[{key:"status",label:"Order Status",type:"select",options:["open","closed","cancelled","any"],required:!1},{key:"financial_status",label:"Payment Status",type:"select",options:["pending","authorized","paid","refunded","voided"],required:!1},{key:"fulfillment_status",label:"Fulfillment Status",type:"select",options:["shipped","partial","unshipped","any"],required:!1},{key:"created_at_min",label:"Created After",type:"date",required:!1},{key:"created_at_max",label:"Created Before",type:"date",required:!1},{key:"limit",label:"Limit Results",type:"number",default:"50",required:!1}],products:[{key:"vendor",label:"Vendor",type:"text",required:!1},{key:"product_type",label:"Product Type",type:"text",required:!1},{key:"status",label:"Status",type:"select",options:["active","archived","draft"],required:!1},{key:"created_at_min",label:"Created After",type:"date",required:!1},{key:"limit",label:"Limit Results",type:"number",default:"50",required:!1}],customers:[{key:"email",label:"Email",type:"text",required:!1},{key:"phone",label:"Phone",type:"text",required:!1},{key:"created_at_min",label:"Created After",type:"date",required:!1},{key:"limit",label:"Limit Results",type:"number",default:"50",required:!1}],inventory_items:[{key:"ids",label:"Inventory Item IDs",type:"text",placeholder:"Comma-separated IDs",required:!1},{key:"limit",label:"Limit Results",type:"number",default:"50",required:!1}],fulfillments:[{key:"order_id",label:"Order ID",type:"text",required:!0},{key:"status",label:"Status",type:"select",options:["pending","open","success","cancelled","error","failure"],required:!1},{key:"created_at_min",label:"Created After",type:"date",required:!1}]};const S5=[{id:"start_conversation",name:"Start Conversation",description:"Initialize new chat session"},{id:"send_message",name:"Send Message",description:"Send user message to bot"},{id:"get_response",name:"Get Response",description:"Retrieve bot response"},{id:"manage_session",name:"Manage Session",description:"Create/update/close session"},{id:"webhook_event",name:"Webhook Event",description:"Handle incoming webhook"},{id:"get_analytics",name:"Get Analytics",description:"Retrieve conversation analytics"}],k5=[{id:"start_chat",name:"Start New Chat",operation:"start_conversation",config:{prefilledVariables:{contact_name:"{{contact.first_name}}",contact_email:"{{contact.email}}"}}},{id:"send_user_message",name:"Send User Message",operation:"send_message",config:{message:"{{message.content}}",sessionId:"{{typebot.session.id}}"}},{id:"get_bot_response",name:"Get Bot Response",operation:"get_response",config:{sessionId:"{{typebot.session.id}}",waitForResponse:!0}},{id:"close_conversation",name:"Close Conversation",operation:"manage_session",config:{action:"close",sessionId:"{{typebot.session.id}}"}}],M5={start_conversation:[{key:"prefilledVariables",label:"Prefilled Variables",type:"object",description:"Variables to pass to the bot",required:!1},{key:"isStreamEnabled",label:"Enable Streaming",type:"boolean",default:!1,required:!1},{key:"isOnlyRegisteredResults",label:"Only Registered Results",type:"boolean",default:!1,required:!1}],send_message:[{key:"message",label:"Message Content",type:"text",required:!0},{key:"sessionId",label:"Session ID",type:"text",required:!0},{key:"inputType",label:"Input Type",type:"select",options:[{id:"text",name:"Text Input"},{id:"number",name:"Number Input"},{id:"email",name:"Email Input"},{id:"url",name:"URL Input"},{id:"date",name:"Date Input"},{id:"phone",name:"Phone Input"},{id:"choice",name:"Multiple Choice"},{id:"file",name:"File Upload"}].map((e=>e.id)),required:!1}],get_response:[{key:"sessionId",label:"Session ID",type:"text",required:!0},{key:"waitForResponse",label:"Wait for Response",type:"boolean",default:!0,required:!1},{key:"timeout",label:"Timeout (seconds)",type:"number",default:30,required:!1}],manage_session:[{key:"action",label:"Session Action",type:"select",options:[{id:"create",name:"Create Session"},{id:"update",name:"Update Session"},{id:"close",name:"Close Session"},{id:"get_status",name:"Get Status"}].map((e=>e.id)),required:!0},{key:"sessionId",label:"Session ID",type:"text",required:!1},{key:"variables",label:"Session Variables",type:"object",required:!1}],webhook_event:[{key:"webhookUrl",label:"Webhook URL",type:"url",required:!0},{key:"eventType",label:"Event Type",type:"select",options:["conversation_started","conversation_completed","response_received"],required:!1}],get_analytics:[{key:"dateFrom",label:"From Date",type:"date",required:!1},{key:"dateTo",label:"To Date",type:"date",required:!1},{key:"includeDetails",label:"Include Details",type:"boolean",default:!1,required:!1}]};const _5=[{id:"GET",name:"GET"},{id:"POST",name:"POST"},{id:"PUT",name:"PUT"},{id:"DELETE",name:"DELETE"},{id:"PATCH",name:"PATCH"}],E5=[{id:"none",name:"None"},{id:"bearer",name:"Bearer Token"},{id:"basic",name:"Basic Auth"},{id:"apikey",name:"API Key"}];const I5=[{id:"orders",name:"Orders",endpoint:"orders"},{id:"products",name:"Products",endpoint:"products"},{id:"customers",name:"Customers",endpoint:"customers"},{id:"coupons",name:"Coupons",endpoint:"coupons"},{id:"categories",name:"Product Categories",endpoint:"products/categories"},{id:"variations",name:"Product Variations",endpoint:"products/{product_id}/variations"},{id:"reports",name:"Reports",endpoint:"reports"},{id:"payment_gateways",name:"Payment Gateways",endpoint:"payment_gateways"},{id:"shipping_zones",name:"Shipping Zones",endpoint:"shipping/zones"},{id:"tax_rates",name:"Tax Rates",endpoint:"taxes"}],L5=[{id:"get",name:"Get (Fetch Data)"},{id:"post",name:"Create New"},{id:"put",name:"Update Existing"},{id:"delete",name:"Delete"}],A5=[{id:"recent_orders",name:"Get Recent Orders",resource:"orders",action:"get",filters:{status:"any",per_page:"10",after:"{{date.last_week}}"}},{id:"update_product_stock",name:"Update Product Stock",resource:"products",action:"put",filters:{id:"{{product.id}}",stock_quantity:"{{inventory.new_quantity}}",manage_stock:"true"}},{id:"create_customer",name:"Create Customer",resource:"customers",action:"post",filters:{email:"{{contact.email}}",first_name:"{{contact.first_name}}",last_name:"{{contact.last_name}}"}},{id:"create_coupon",name:"Create Discount Coupon",resource:"coupons",action:"post",filters:{code:"{{coupon.code}}",discount_type:"percent",amount:"{{coupon.amount}}"}},{id:"order_completed",name:"Mark Order as Completed",resource:"orders",action:"put",filters:{id:"{{order.id}}",status:"completed"}}],T5={orders:[{key:"status",label:"Order Status",type:"select",options:["pending","processing","on-hold","completed","cancelled","refunded","failed","any"],default:""},{key:"customer",label:"Customer ID",type:"number",default:""},{key:"product",label:"Product ID",type:"number",default:""},{key:"after",label:"Created After",type:"date",default:""},{key:"before",label:"Created Before",type:"date",default:""},{key:"per_page",label:"Results Per Page",type:"number",default:"10"},{key:"search",label:"Search Orders",type:"text",default:""}],products:[{key:"status",label:"Product Status",type:"select",options:["draft","pending","private","publish","any"],default:""},{key:"category",label:"Category ID",type:"number",default:""},{key:"tag",label:"Tag ID",type:"number",default:""},{key:"featured",label:"Featured Only",type:"select",options:["true","false"],default:""},{key:"on_sale",label:"On Sale Only",type:"select",options:["true","false"],default:""},{key:"min_price",label:"Minimum Price",type:"number",default:""},{key:"max_price",label:"Maximum Price",type:"number",default:""},{key:"stock_status",label:"Stock Status",type:"select",options:["instock","outofstock","onbackorder"],default:""},{key:"per_page",label:"Results Per Page",type:"number",default:"10"},{key:"search",label:"Search Products",type:"text",default:""}],customers:[{key:"email",label:"Email Address",type:"email"},{key:"role",label:"User Role",type:"select",options:["customer","subscriber","administrator"]},{key:"orderby",label:"Order By",type:"select",options:["id","include","name","registered_date"]},{key:"order",label:"Sort Order",type:"select",options:["asc","desc"]},{key:"per_page",label:"Results Per Page",type:"number",default:"10"},{key:"search",label:"Search Customers",type:"text"}],coupons:[{key:"code",label:"Coupon Code",type:"text"},{key:"after",label:"Created After",type:"date"},{key:"before",label:"Created Before",type:"date"},{key:"per_page",label:"Results Per Page",type:"number",default:"10"},{key:"search",label:"Search Coupons",type:"text"}],categories:[{key:"parent",label:"Parent Category ID",type:"number"},{key:"product",label:"Product ID",type:"number"},{key:"hide_empty",label:"Hide Empty Categories",type:"select",options:["true","false"]},{key:"per_page",label:"Results Per Page",type:"number",default:"10"},{key:"search",label:"Search Categories",type:"text"}],reports:[{key:"period",label:"Report Period",type:"select",options:["week","month","last_month","year"]},{key:"date_min",label:"Start Date",type:"date"},{key:"date_max",label:"End Date",type:"date"}]};let D5=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&n[e]];return t};const P5=e=>vi.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[vi.jsx("path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7.5"}),vi.jsx("path",{d:"M16 2v4"}),vi.jsx("path",{d:"M8 2v4"}),vi.jsx("path",{d:"M3 10h5"}),vi.jsx("path",{d:"M17.5 17.5 16 16.25V14"}),vi.jsx("path",{d:"M22 16a5 5 0 1 1-10 0 5 5 0 0 1 10 0Z"})]}),O5=di.memo((({url:e})=>{const{t:t}=sk(),[n,a]=ci.useState(!0),[r,i]=ci.useState(!1),[s,o]=ci.useState({});di.useEffect((()=>{e&&(a(!0),i(!1),o({}))}),[e]);const l=di.useCallback((e=>{const t=e.currentTarget;o({duration:t.duration}),a(!1),i(!1)}),[]),c=di.useCallback((()=>{a(!1),i(!0)}),[]),d=di.useCallback((e=>`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`),[]),u=di.useMemo((()=>e.split("/").pop()||"audio file"),[e]);return e?vi.jsxs("div",{className:"mt-2 p-2 bg-secondary/20 rounded border",children:[vi.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[vi.jsx(Jb,{className:"h-4 w-4 text-purple-500"}),vi.jsx("span",{className:"text-xs font-medium truncate",children:u})]}),n&&vi.jsxs("div",{className:"flex items-center justify-center py-4",children:[vi.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-purple-500"}),vi.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:t("flow_builder.preview.loading_audio","Loading audio...")})]}),r&&vi.jsx("div",{className:"flex items-center justify-center py-4 text-red-500",children:vi.jsx("span",{className:"text-xs",children:t("flow_builder.preview.failed_audio","Failed to load audio")})}),!r&&vi.jsx("audio",{src:e,controls:!0,className:"w-full h-8",onLoadedMetadata:l,onError:c,preload:"metadata"}),s.duration&&vi.jsxs("div",{className:"mt-1 text-xs text-muted-foreground",children:[t("flow_builder.preview.duration","Duration"),": ",d(s.duration)]})]}):null})),R5=di.memo((({url:e})=>{const{t:t}=sk(),[n,a]=ci.useState(!0),[r,i]=ci.useState(!1),[s,o]=ci.useState({});di.useEffect((()=>{e&&(a(!0),i(!1),o({}))}),[e]);const l=di.useCallback((e=>{const t=e.currentTarget;o({duration:t.duration,width:t.videoWidth,height:t.videoHeight}),a(!1),i(!1)}),[]),c=di.useCallback((()=>{a(!1),i(!0)}),[]),d=di.useCallback((e=>`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`),[]),u=di.useMemo((()=>e.split("/").pop()||"video file"),[e]);return e?vi.jsxs("div",{className:"mt-2 p-2 bg-secondary/20 rounded border",children:[vi.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[vi.jsx(ew,{className:"h-4 w-4 text-red-500"}),vi.jsx("span",{className:"text-xs font-medium truncate",children:u})]}),n&&vi.jsxs("div",{className:"flex items-center justify-center py-8 bg-black/5 rounded",children:[vi.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-500"}),vi.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:t("flow_builder.preview.loading_video","Loading video...")})]}),r&&vi.jsxs("div",{className:"flex items-center justify-center py-8 bg-black/5 rounded text-red-500",children:[vi.jsx(ew,{className:"h-6 w-6 mr-2"}),vi.jsx("span",{className:"text-xs",children:t("flow_builder.preview.failed_video","Failed to load video")})]}),!r&&vi.jsx("video",{src:e,controls:!0,className:"w-full max-h-32 bg-black rounded",onLoadedMetadata:l,onError:c,preload:"metadata"}),s.duration&&vi.jsxs("div",{className:"mt-1 text-xs text-muted-foreground flex gap-4",children:[vi.jsxs("span",{children:[t("flow_builder.preview.duration","Duration"),": ",d(s.duration)]}),s.width&&s.height&&vi.jsxs("span",{children:[t("flow_builder.preview.resolution","Resolution"),": ",s.width,"x",s.height]})]})]}):null})),z5=di.memo((({url:e,fileName:t})=>{const{t:n}=sk(),[a,r]=ci.useState(!0),[i,s]=ci.useState(!1);di.useEffect((()=>{e&&(r(!0),s(!1))}),[e]);const o=di.useCallback((e=>{var n;return(null==(n=(t||e.split("/").pop()||"").split(".").pop())?void 0:n.toLowerCase())||""}),[t,e]),l=di.useCallback((e=>{switch(e){case"pdf":return"📄";case"doc":case"docx":return"📝";case"xls":case"xlsx":return"📊";case"ppt":case"pptx":return"📽️";case"txt":return"📃";case"zip":case"rar":return"🗜️";case"jpg":case"jpeg":case"png":case"gif":return"🖼️";default:return"📁"}}),[]),c=di.useCallback((e=>{switch(e){case"pdf":return"PDF Document";case"doc":case"docx":return"Word Document";case"xls":case"xlsx":return"Excel Spreadsheet";case"ppt":case"pptx":return"PowerPoint Presentation";case"txt":return"Text File";case"zip":case"rar":return"Archive File";case"jpg":case"jpeg":case"png":case"gif":return"Image File";default:return"Document"}}),[]),d=di.useMemo((()=>t||e.split("/").pop()||"document"),[t,e]),u=di.useMemo((()=>o(e)),[o,e]),f=di.useMemo((()=>["jpg","jpeg","png","gif","webp"].includes(u)),[u]),m=di.useCallback((()=>{r(!1),s(!1)}),[]),p=di.useCallback((()=>{r(!1),s(!0)}),[]);return e?vi.jsxs("div",{className:"mt-2 p-2 bg-secondary/20 rounded border",children:[vi.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[vi.jsx("span",{className:"text-lg",children:l(u)}),vi.jsxs("div",{className:"flex-1 min-w-0",children:[vi.jsx("div",{className:"text-xs font-medium truncate",children:d}),vi.jsx("div",{className:"text-xs text-muted-foreground",children:c(u)})]})]}),f?vi.jsxs("div",{className:"relative",children:[a&&vi.jsxs("div",{className:"flex items-center justify-center py-8 bg-black/5 rounded",children:[vi.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-amber-600"}),vi.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:n("flow_builder.preview.loading_image","Loading image...")})]}),i&&vi.jsx("div",{className:"flex items-center justify-center py-8 bg-black/5 rounded text-red-500",children:vi.jsx("span",{className:"text-xs",children:n("flow_builder.preview.failed_image","Failed to load image")})}),vi.jsx("img",{src:e,alt:d,className:"w-full max-h-32 object-cover rounded "+(a?"hidden":""),onLoad:m,onError:p})]}):vi.jsxs("div",{className:"flex items-center justify-between p-2 bg-secondary/30 rounded",children:[vi.jsx("span",{className:"text-xs text-muted-foreground",children:n("flow_builder.preview.click_to_download","Click to download/view")}),vi.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"text-xs px-2 py-1 bg-primary text-primary-foreground rounded hover:bg-primary/80",children:n("flow_builder.preview.open_document","Open")})]})]}):null}));function F5({id:e,onDuplicate:t,onDelete:n}){const{t:a}=sk();return vi.jsxs("div",{className:"absolute -top-8 -right-2 bg-background border rounded-md shadow-sm flex z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[vi.jsx(VS,{children:vi.jsxs($S,{children:[vi.jsx(HS,{asChild:!0,children:vi.jsx(tk,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>t(e),children:vi.jsx(Wb,{className:"h-3.5 w-3.5"})})}),vi.jsx(YS,{side:"top",children:vi.jsx("p",{className:"text-xs",children:a("flow_builder.duplicate_node","Duplicate node")})})]})}),vi.jsx(VS,{children:vi.jsxs($S,{children:[vi.jsx(HS,{asChild:!0,children:vi.jsx(tk,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive hover:text-destructive",onClick:()=>n(e),children:vi.jsx(Yw,{className:"h-3.5 w-3.5"})})}),vi.jsx(YS,{side:"top",children:vi.jsx("p",{className:"text-xs",children:a("flow_builder.delete_node","Delete node")})})]})})]})}const B5=di.createContext(null);const U5={MESSAGE_CONTAINS:"Message Contains",EXACT_MATCH:"Exact Match",REGEX_MATCH:"Regex Match",MESSAGE_STARTS_WITH:"Message Starts With",MESSAGE_ENDS_WITH:"Message Ends With",HAS_MEDIA:"Has Media",MEDIA_TYPE:"Media Type Is",TIME_BASED:"Time Condition",CONTACT_ATTRIBUTE:"Contact Attribute",CUSTOM:"Custom Expression"},W5=["image","video","audio","document","sticker"];function G5(e){switch(e){case"contains":return"contains";case"exact":return"exactly matches";case"regex":return"matches pattern";case"media":return"has media attachment";default:return""}}function V5(e){switch(e){case"contains":return"help, support, etc.";case"exact":return"Hello world";case"regex":return"\\b\\w+\\b";default:return""}}const $5={message:function({data:e,isConnectable:t,id:n}){const{t:a}=sk(),[r,i]=ci.useState(!1),[s,o]=ci.useState(e.message||a("flow_builder.default_message","Hello! How can I help you?")),{setNodes:l}=H0(),c=J5(),d=[{name:"contact.name",description:a("flow_builder.var_contact_name","Contact's name")},{name:"contact.phone",description:a("flow_builder.var_contact_phone","Contact's phone number")},{name:"message.content",description:a("flow_builder.var_message_content","Received message content")},{name:"date.today",description:a("flow_builder.var_date_today","Current date")},{name:"time.now",description:a("flow_builder.var_time_now","Current time")},{name:"availability",description:a("flow_builder.var_availability","Google Calendar availability data from previous node")}],u=ci.useCallback((e=>{l((t=>t.map((t=>t.id===n?{...t,data:{...t.data,...e}}:t))))}),[n,l]);return vi.jsxs("div",{className:"node-message p-3 rounded-lg bg-white border border-border shadow-sm max-w-[250px] group",children:[c&&vi.jsx(F5,{id:n,onDuplicate:c.onDuplicateNode,onDelete:c.onDeleteNode}),vi.jsxs("div",{className:"font-medium flex items-center gap-2 mb-2",children:[vi.jsx(yw,{className:"h-4 w-4 text-primary"}),vi.jsx("span",{children:a("flow_builder.send_message","Send Message")}),vi.jsx("button",{className:"ml-auto text-xs text-muted-foreground hover:text-foreground",onClick:()=>i(!r),children:r?a("common.done","Done"):a("common.edit","Edit")})]}),r?vi.jsxs("div",{className:"space-y-2",children:[vi.jsx("textarea",{id:`message-textarea-${n}`,className:"w-full p-2 text-sm border rounded min-h-[80px] resize-none",value:s,onChange:e=>{const t=e.target.value;o(t),u({message:t})},placeholder:a("flow_builder.type_message_placeholder","Type your message here...")}),vi.jsxs("div",{children:[vi.jsx("p",{className:"text-xs font-medium mb-1",children:a("flow_builder.insert_variable","Insert Variable:")}),vi.jsx("div",{className:"flex flex-wrap gap-1",children:d.map((e=>vi.jsx("button",{className:"text-xs px-2 py-1 bg-secondary rounded hover:bg-secondary/80",title:e.description,onClick:()=>(e=>{const t=document.getElementById(`message-textarea-${n}`);if(!t)return;const a=t.selectionStart,r=`{{${e}}}`,i=s.substring(0,a)+r+s.substring(a);o(i),u({message:i}),setTimeout((()=>{t.focus(),t.setSelectionRange(a+r.length,a+r.length)}),0)})(e.name),children:e.name},e.name)))})]}),vi.jsx("div",{className:"text-[10px] text-muted-foreground",children:a("flow_builder.variables_help","Variables will be replaced with actual values when message is sent.")})]}):vi.jsx("div",{className:"text-sm p-2 bg-secondary/40 rounded border border-border",children:(e=>{const t=/\{\{([^}]+)\}\}/g;if(!t.test(e))return e;const n=[];let a,r=0;for(t.lastIndex=0;null!==(a=t.exec(e));)a.index>r&&n.push(e.substring(r,a.index)),n.push(vi.jsx("span",{className:"bg-primary/10 text-primary px-1 rounded",children:a[0]},a.index)),r=a.index+a[0].length;return r<e.length&&n.push(e.substring(r)),n})(s)}),vi.jsx(l0,{type:"target",position:jX.Left,style:p4,isConnectable:t})]})},condition:function({data:e,isConnectable:t,id:n}){const{t:a}=sk(),[r,i]=ci.useState(!1),[s,o]=ci.useState(e.conditionType||U5.MESSAGE_CONTAINS),[l,c]=ci.useState(e.conditionValue||""),[d,u]=ci.useState(e.caseSensitive||!1),[f,m]=ci.useState(e.mediaType||W5[0]),[p,h]=ci.useState(e.timeOperator||"after"),[g,x]=ci.useState(e.timeValue||""),[y,v]=ci.useState(e.contactAttribute||"name"),[b,w]=ci.useState(e.attributeValue||""),[j,N]=ci.useState(e.advancedMode||!1),[C,S]=ci.useState(e.customCondition||"Contains('hello')"),[k,M]=ci.useState(e.condition||"Contains('hello')"),{setNodes:_}=H0(),E=J5(),I=ci.useCallback((e=>{_((t=>t.map((t=>t.id===n?{...t,data:{...t.data,...e}}:t))))}),[n,_]),L=ci.useCallback((()=>{let e="";if(j)e=C;else switch(s){case U5.MESSAGE_CONTAINS:e=`Contains('${l}'${d?", true":""})`;break;case U5.EXACT_MATCH:e=`ExactMatch('${l}'${d?", true":""})`;break;case U5.REGEX_MATCH:e=`RegexMatch('${l}')`;break;case U5.MESSAGE_STARTS_WITH:e=`StartsWith('${l}'${d?", true":""})`;break;case U5.MESSAGE_ENDS_WITH:e=`EndsWith('${l}'${d?", true":""})`;break;case U5.HAS_MEDIA:e="HasMedia()";break;case U5.MEDIA_TYPE:e=`MediaType('${f}')`;break;case U5.TIME_BASED:e=`Time${p.charAt(0).toUpperCase()+p.slice(1)}('${g}')`;break;case U5.CONTACT_ATTRIBUTE:e=`Contact.${y} == '${b}'`;break;default:e=`Contains('${l}')`}M(e),I({condition:e,conditionType:s,conditionValue:l,caseSensitive:d,mediaType:f,timeOperator:p,timeValue:g,contactAttribute:y,attributeValue:b,advancedMode:j,customCondition:C})}),[j,s,l,d,f,p,g,y,b,C,I]),A=e=>{c(e.target.value)},T=e=>{x(e.target.value)},D=e=>{S(e.target.value)};return vi.jsxs("div",{className:"node-condition p-3 rounded-lg bg-white border border-border shadow-sm max-w-[280px] group",children:[E&&vi.jsx(F5,{id:n,onDuplicate:E.onDuplicateNode,onDelete:E.onDeleteNode}),vi.jsxs("div",{className:"font-medium flex items-center gap-2 mb-2",children:[vi.jsx(Tb,{className:"h-4 w-4 text-amber-500"}),vi.jsx("span",{children:a("flow_builder.condition","Condition")}),vi.jsx("button",{className:"ml-auto text-xs text-muted-foreground hover:text-foreground",onClick:()=>r?(L(),void i(!1)):i(!0),children:r?a("common.done","Done"):a("common.edit","Edit")})]}),r?vi.jsxs("div",{className:"space-y-3",children:[vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsx("label",{className:"text-xs font-medium",children:a("flow_builder.condition_type","Condition Type:")}),vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx("span",{className:"text-xs",children:a("flow_builder.advanced","Advanced")}),vi.jsx(f4,{checked:j,onCheckedChange:N,className:"scale-75"})]})]}),!j&&vi.jsx("select",{className:"w-full p-2 text-sm border rounded",value:s,onChange:e=>{o(e.target.value)},children:Object.entries(U5).map((([e,t])=>vi.jsx("option",{value:t,children:t},e)))}),(()=>{if(j)return vi.jsxs("div",{className:"space-y-2",children:[vi.jsx("input",{className:"w-full p-2 text-sm border rounded",value:C,onChange:D,placeholder:a("flow_builder.enter_custom_condition","Enter custom condition")}),vi.jsx("div",{className:"text-[10px] text-muted-foreground",children:a("flow_builder.condition_examples","Examples: Contains('help'), IsMedia(), ExactMatch('hello')")})]});switch(s){case U5.MESSAGE_CONTAINS:case U5.EXACT_MATCH:case U5.REGEX_MATCH:case U5.MESSAGE_STARTS_WITH:case U5.MESSAGE_ENDS_WITH:return vi.jsxs("div",{className:"space-y-2",children:[vi.jsx("input",{className:"w-full p-2 text-sm border rounded",value:l,onChange:A,placeholder:a("flow_builder.enter_text_value","Enter text value")}),s!==U5.REGEX_MATCH&&vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx("input",{type:"checkbox",id:`case-sensitive-${n}`,checked:d,onChange:e=>u(e.target.checked)}),vi.jsx("label",{htmlFor:`case-sensitive-${n}`,className:"text-xs",children:a("flow_builder.case_sensitive","Case sensitive")})]})]});case U5.HAS_MEDIA:return vi.jsx("div",{className:"text-xs text-muted-foreground",children:a("flow_builder.has_media_desc","Checks if the message has any attached media.")});case U5.MEDIA_TYPE:return vi.jsxs("div",{className:"space-y-2",children:[vi.jsx("select",{className:"w-full p-2 text-sm border rounded",value:f,onChange:e=>m(e.target.value),children:W5.map((e=>vi.jsx("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e)))}),vi.jsx("div",{className:"text-[10px] text-muted-foreground",children:a("flow_builder.media_type_desc","Checks if the message contains media of the selected type.")})]});case U5.TIME_BASED:return vi.jsxs("div",{className:"space-y-2",children:[vi.jsx("div",{className:"flex items-center gap-2",children:vi.jsxs("select",{className:"flex-1 p-2 text-sm border rounded",value:p,onChange:e=>h(e.target.value),children:[vi.jsx("option",{value:"before",children:a("flow_builder.before","Before")}),vi.jsx("option",{value:"after",children:a("flow_builder.after","After")}),vi.jsx("option",{value:"between",children:a("flow_builder.between","Between")})]})}),vi.jsx("input",{className:"w-full p-2 text-sm border rounded",value:g,onChange:T,placeholder:"between"===p?"09:00,17:00":"09:00",type:"text"}),vi.jsx("div",{className:"text-[10px] text-muted-foreground",children:"between"===p?a("flow_builder.time_format_between","Use format: HH:MM,HH:MM (24h)"):a("flow_builder.time_format_single","Use format: HH:MM (24h)")})]});case U5.CONTACT_ATTRIBUTE:return vi.jsxs("div",{className:"space-y-2",children:[vi.jsx("div",{className:"flex items-center gap-2",children:vi.jsxs("select",{className:"flex-1 p-2 text-sm border rounded",value:y,onChange:e=>v(e.target.value),children:[vi.jsx("option",{value:"name",children:a("flow_builder.name","Name")}),vi.jsx("option",{value:"phone",children:a("flow_builder.phone","Phone")}),vi.jsx("option",{value:"email",children:a("flow_builder.email","Email")}),vi.jsx("option",{value:"tags",children:a("flow_builder.tags","Tags")})]})}),vi.jsx("input",{className:"w-full p-2 text-sm border rounded",value:b,onChange:e=>w(e.target.value),placeholder:a("flow_builder.attribute_value","Attribute value")})]});default:return null}})()]}):vi.jsx("div",{className:"text-sm p-2 bg-secondary/40 rounded border border-border",children:(()=>{if(j)return C;switch(s){case U5.MESSAGE_CONTAINS:return`Message contains: "${l}"${d?" (case sensitive)":""}`;case U5.EXACT_MATCH:return`Message exactly matches: "${l}"${d?" (case sensitive)":""}`;case U5.REGEX_MATCH:return`Message matches regex: "${l}"`;case U5.MESSAGE_STARTS_WITH:return`Message starts with: "${l}"${d?" (case sensitive)":""}`;case U5.MESSAGE_ENDS_WITH:return`Message ends with: "${l}"${d?" (case sensitive)":""}`;case U5.HAS_MEDIA:return"Message has media attachment";case U5.MEDIA_TYPE:return`Media type is: ${f}`;case U5.TIME_BASED:return`Time is ${p}: ${g}`;case U5.CONTACT_ATTRIBUTE:return`Contact ${y} is: "${b}"`;default:return k}})()}),vi.jsxs("div",{className:"flex mt-2 text-xs justify-between",children:[vi.jsxs("div",{className:"text-green-600",children:[a("flow_builder.yes","Yes")," →"]}),vi.jsxs("div",{className:"text-red-500",children:[a("flow_builder.no","No")," →"]})]}),vi.jsx(l0,{type:"target",position:jX.Top,style:p4,isConnectable:t}),vi.jsx(l0,{type:"source",position:jX.Bottom,id:"yes",style:h4,isConnectable:t}),vi.jsx(l0,{type:"source",position:jX.Bottom,id:"no",style:g4,isConnectable:t})]})},trigger:function({data:e,isConnectable:t,id:n}){const{t:a}=sk(),[r,i]=ci.useState(!1),[s,o]=ci.useState(e.conditionType||"any"),[l,c]=ci.useState(e.conditionValue||""),[d,u]=ci.useState(e.hardResetKeyword||""),[f,m]=ci.useState(e.hardResetConfirmationMessage||"Bot has been reactivated. Starting fresh conversation..."),{setNodes:p}=H0(),h=J5(),g=[{value:"any",label:a("flow_builder.any_message","Any Message")},{value:"contains",label:a("flow_builder.contains_word","Contains Word")},{value:"exact",label:a("flow_builder.exact_match","Exact Match")},{value:"regex",label:a("flow_builder.regex_pattern","Regex Pattern")},{value:"media",label:a("flow_builder.has_media","Has Media")}],x=ci.useCallback((e=>{p((t=>t.map((t=>t.id===n?{...t,data:{...t.data,...e}}:t))))}),[n,p]);return vi.jsxs("div",{className:"node-trigger p-3 rounded-lg bg-white border border-border shadow-sm max-w-[250px] group",children:[h&&vi.jsx("div",{className:"absolute -top-8 -right-2 bg-background border rounded-md shadow-sm flex z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:vi.jsx(VS,{children:vi.jsxs($S,{children:[vi.jsx(HS,{asChild:!0,children:vi.jsx(tk,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive hover:text-destructive",onClick:()=>h.onDeleteNode(n),children:vi.jsx(Yw,{className:"h-3.5 w-3.5"})})}),vi.jsx(YS,{side:"top",children:vi.jsx("p",{className:"text-xs",children:"Delete node"})})]})})}),vi.jsxs("div",{className:"font-medium flex items-center gap-2 mb-2",children:[vi.jsx(yw,{className:"h-4 w-4 text-green-500"}),vi.jsx("span",{children:a("flow_builder.message_received","Message Received")}),vi.jsx("button",{className:"ml-auto text-xs text-muted-foreground hover:text-foreground",onClick:()=>i(!r),children:r?a("common.hide","Hide"):a("common.edit","Edit")})]}),vi.jsxs("div",{className:"text-sm p-2 bg-secondary/40 rounded border border-border",children:[vi.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:a("flow_builder.when","When")}),vi.jsxs("div",{className:"flex items-center gap-1",children:[vi.jsx("span",{className:"font-medium",children:e.channel||"WhatsApp"})," ",a("flow_builder.message_lowercase","message")]}),"any"!==e.conditionType&&vi.jsxs("div",{className:"mt-1 text-xs flex flex-wrap gap-1",children:[vi.jsxs("span",{children:[a("flow_builder.that","that")," ",G5(e.conditionType)]}),e.conditionValue&&vi.jsxs("span",{className:"font-medium bg-primary/10 rounded px-1",children:['"',e.conditionValue,'"']})]}),e.hardResetKeyword&&vi.jsxs("div",{className:"mt-1 text-xs flex flex-wrap gap-1",children:[vi.jsxs("span",{className:"text-orange-600",children:[a("flow_builder.hard_reset_label","Hard Reset"),":"]}),vi.jsxs("span",{className:"font-medium bg-orange-100 text-orange-700 rounded px-1",children:['"',e.hardResetKeyword,'"']})]})]}),r&&vi.jsxs("div",{className:"mt-3 text-xs space-y-2 p-2 border rounded bg-secondary/10",children:[vi.jsxs("div",{children:[vi.jsx("label",{className:"block mb-1 font-medium",children:"Condition Type"}),vi.jsx("select",{className:"w-full p-1 border rounded bg-background text-xs",value:s,onChange:e=>{const t=e.target.value;o(t),"media"===t||"media"===s?(c(""),x({conditionType:t,conditionValue:""})):x({conditionType:t})},children:g.map((e=>vi.jsx("option",{value:e.value,children:e.label},e.value)))})]}),"any"!==s&&"media"!==s&&vi.jsxs("div",{children:[vi.jsx("label",{className:"block mb-1 font-medium",children:"contains"===s?"Word or Phrase":"exact"===s?"Exact Text":"Pattern"}),vi.jsx("input",{className:"w-full p-1 border rounded bg-background text-xs",placeholder:V5(s),value:l,onChange:e=>{const t=e.target.value;c(t),x({conditionValue:t})}})]}),vi.jsxs("div",{className:"border-t pt-2 mt-2",children:[vi.jsx("label",{className:"block mb-1 font-medium text-orange-600",children:a("flow_builder.hard_reset_keyword","Hard Reset Keyword")}),vi.jsx("input",{className:"w-full p-1 border rounded bg-background text-xs",placeholder:a("flow_builder.hard_reset_keyword_placeholder","reset, restart, newchat, etc."),value:d,onChange:e=>{const t=e.target.value;u(t),x({hardResetKeyword:t})}}),vi.jsx("div",{className:"text-[9px] text-muted-foreground mt-1",children:a("flow_builder.hard_reset_keyword_help","When bot is disabled, users can type this keyword to re-enable the bot and start fresh")})]}),d&&vi.jsxs("div",{children:[vi.jsx("label",{className:"block mb-1 font-medium text-orange-600",children:a("flow_builder.hard_reset_confirmation_message","Reset Confirmation Message")}),vi.jsx("textarea",{className:"w-full p-1 border rounded bg-background text-xs h-12 resize-none",placeholder:a("flow_builder.hard_reset_confirmation_placeholder","Bot has been reactivated. Starting fresh conversation..."),value:f,onChange:e=>{const t=e.target.value;m(t),x({hardResetConfirmationMessage:t})}}),vi.jsx("div",{className:"text-[9px] text-muted-foreground mt-1",children:a("flow_builder.hard_reset_confirmation_help","Message sent to user when hard reset is triggered")})]}),vi.jsx("div",{className:"text-[10px] text-muted-foreground mt-2",children:a("flow_builder.changes_saved_automatically","Changes are saved automatically when you save the flow.")})]}),vi.jsx(l0,{type:"source",position:jX.Bottom,style:p4,isConnectable:t})]})},image:function({data:e,isConnectable:t,id:n}){const{t:a}=sk(),{toast:r}=By(),[i,s]=ci.useState(!1),[o,l]=ci.useState(e.mediaUrl||""),[c,d]=ci.useState(e.caption||""),[u,f]=ci.useState(0),[m,p]=ci.useState(!1),{setNodes:h}=H0(),g=J5(),x=ci.useCallback((e=>{h((t=>t.map((t=>t.id===n?{...t,data:{...t.data,...e}}:t))))}),[n,h]);return vi.jsxs("div",{className:"node-image p-3 rounded-lg bg-white border border-border shadow-sm max-w-[250px] relative group",children:[g&&vi.jsx(F5,{id:n,onDuplicate:g.onDuplicateNode,onDelete:g.onDeleteNode}),vi.jsxs("div",{className:"font-medium flex items-center gap-2 mb-2",children:[vi.jsx(ow,{className:"h-4 w-4 text-blue-500"}),vi.jsx("span",{children:a("flow_builder.send_image","Send Image")}),vi.jsx("button",{className:"ml-auto text-xs text-muted-foreground hover:text-foreground",onClick:()=>s(!i),children:i?a("common.done","Done"):a("common.edit","Edit")})]}),i?vi.jsxs("div",{className:"space-y-2",children:[vi.jsxs("div",{children:[vi.jsx("label",{className:"text-xs font-medium mb-1 block",children:a("flow_builder.image_label","Image:")}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(p3,{onFileSelected:async e=>{if(!e)return void r({title:a("flow_builder.error.no_file","No file selected"),description:a("flow_builder.error.no_file_desc","Please select a file to upload"),variant:"destructive"});if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/svg+xml"].includes(e.type))return void r({title:a("flow_builder.error.invalid_file_type","Invalid file type"),description:a("flow_builder.error.invalid_image_type","Please select a valid image file (JPEG, PNG, GIF, WebP, SVG)"),variant:"destructive"});if(e.size>31457280)r({title:a("flow_builder.error.file_too_large","File too large"),description:a("flow_builder.error.max_file_size","Maximum file size is 30MB"),variant:"destructive"});else{p(!0),f(0);try{const t=new FormData;t.append("file",e),t.append("type","image");const n=new XMLHttpRequest;n.upload.addEventListener("progress",(e=>{if(e.lengthComputable){const t=Math.round(e.loaded/e.total*100);f(t)}})),n.addEventListener("load",(()=>{if(p(!1),!(n.status>=200&&n.status<300)){let t="Upload failed";try{const e=JSON.parse(n.responseText);t=e.error||e.message||t}catch(e){}throw new Error(t)}try{const e=JSON.parse(n.responseText);if(!e.url)throw new Error("Invalid response: missing URL");l(e.url),x({mediaUrl:e.url,originalName:e.originalName,mimetype:e.mimetype,size:e.size}),r({title:a("flow_builder.success.upload_complete","Upload complete"),description:a("flow_builder.success.image_uploaded","Image uploaded successfully")})}catch(t){throw console.error("Error parsing response:",t),new Error("Invalid server response")}})),n.addEventListener("error",(()=>{throw p(!1),new Error("Network error during upload")})),n.addEventListener("timeout",(()=>{throw p(!1),new Error("Upload timeout")})),n.timeout=6e4,n.open("POST","/api/upload"),n.send(t)}catch(t){console.error("Error uploading file:",t),p(!1),r({title:a("flow_builder.error.upload_failed","Upload failed"),description:t instanceof Error?t.message:a("flow_builder.error.upload_error","An error occurred while uploading the file"),variant:"destructive"})}}},fileType:"image/*",maxSize:30,className:"w-full",showProgress:m,progress:u}),vi.jsx("div",{className:"text-[10px] text-muted-foreground mt-1",children:a("flow_builder.or_enter_image_url","Or enter image URL:")}),vi.jsx("input",{className:"w-full p-2 text-xs border rounded",value:o,onChange:e=>{const t=e.target.value;l(t),x({mediaUrl:t,originalName:"",mimetype:"",size:0})},placeholder:a("flow_builder.enter_image_url","Enter image URL or path")}),o&&vi.jsx("button",{className:"w-full mt-2 px-3 py-1 text-xs bg-red-100 text-red-700 border border-red-300 rounded hover:bg-red-200 transition-colors",onClick:()=>{l(""),x({mediaUrl:"",originalName:"",mimetype:"",size:0}),r({title:a("flow_builder.success.image_removed","Image removed"),description:a("flow_builder.success.image_removed_desc","Image has been removed from the node")})},children:a("flow_builder.remove_image","Remove Image")})]})]}),vi.jsxs("div",{children:[vi.jsx("label",{className:"text-xs font-medium mb-1 block",children:a("flow_builder.caption_optional","Caption (optional):")}),vi.jsx("textarea",{id:`caption-textarea-${n}`,className:"w-full p-2 text-sm border rounded min-h-[60px] resize-none",value:c,onChange:e=>{const t=e.target.value;d(t),x({caption:t})},placeholder:a("flow_builder.add_caption_image","Add a caption to your image...")})]}),vi.jsxs("div",{children:[vi.jsx("p",{className:"text-xs font-medium mb-1",children:a("flow_builder.insert_variable_caption","Insert Variable in Caption:")}),vi.jsx("div",{className:"flex flex-wrap gap-1",children:[{name:"contact.name",description:"Contact's name"},{name:"contact.phone",description:"Contact's phone number"},{name:"date.today",description:"Current date"},{name:"time.now",description:"Current time"}].map((e=>vi.jsx("button",{className:"text-xs px-2 py-1 bg-secondary rounded hover:bg-secondary/80",title:e.description,onClick:()=>(e=>{const t=document.getElementById(`caption-textarea-${n}`);if(!t)return;const a=t.selectionStart,r=`{{${e}}}`,i=c.substring(0,a)+r+c.substring(a);d(i),x({caption:i}),setTimeout((()=>{t.focus(),t.setSelectionRange(a+r.length,a+r.length)}),0)})(e.name),children:e.name},e.name)))})]})]}):vi.jsxs("div",{className:"space-y-2",children:[o?vi.jsx("div",{className:"relative aspect-video bg-secondary/40 rounded overflow-hidden flex items-center justify-center",children:vi.jsx("img",{src:o,alt:"Message attachment",className:"max-w-full max-h-full object-contain",onError:e=>{e.target.src="https://placehold.co/400x300?text=Invalid+Image+URL"}})}):vi.jsx("div",{className:"aspect-video bg-secondary/40 rounded flex items-center justify-center text-muted-foreground",children:vi.jsx("div",{className:"text-center text-xs",children:a("flow_builder.no_image_provided","No image provided")})}),c&&vi.jsxs(vi.Fragment,{children:[vi.jsx("div",{className:"text-xs text-muted-foreground",children:a("flow_builder.caption_label","Caption:")}),vi.jsx("div",{className:"text-sm p-2 bg-secondary/40 rounded border border-border",children:(e=>{const t=/\{\{([^}]+)\}\}/g;if(!t.test(e))return e;const n=[];let a,r=0;for(t.lastIndex=0;null!==(a=t.exec(e));)a.index>r&&n.push(e.substring(r,a.index)),n.push(vi.jsx("span",{className:"bg-primary/10 text-primary px-1 rounded",children:a[0]},a.index)),r=a.index+a[0].length;return r<e.length&&n.push(e.substring(r)),n})(c)})]})]}),vi.jsx(l0,{type:"target",position:jX.Left,style:p4,isConnectable:t})]})},video:function({data:e,isConnectable:t,id:n}){const{t:a}=sk(),[r,i]=ci.useState(!1),[s,o]=ci.useState(e.mediaUrl||""),[l,c]=ci.useState(e.caption||a("flow_builder.default_video_caption","Watch this video!")),[d,u]=ci.useState(!1),[f,m]=ci.useState(0),[p,h]=ci.useState(!1),{setNodes:g}=H0(),x=J5(),y=ci.useCallback((e=>{g((t=>t.map((t=>t.id===n?{...t,data:{...t.data,...e}}:t))))}),[n,g]);return vi.jsxs("div",{className:"node-video p-3 rounded-lg bg-white border border-border shadow-sm max-w-[250px] relative group",children:[x&&vi.jsx(F5,{id:n,onDuplicate:x.onDuplicateNode,onDelete:x.onDeleteNode}),vi.jsxs("div",{className:"font-medium flex items-center gap-2 mb-2",children:[vi.jsx(ew,{className:"h-4 w-4 text-red-500"}),vi.jsx("span",{children:a("flow_builder.send_video","Send Video")}),vi.jsx("button",{className:"ml-auto text-xs text-muted-foreground hover:text-foreground",onClick:()=>i(!r),children:r?a("common.done","Done"):a("common.edit","Edit")})]}),r?vi.jsxs("div",{className:"space-y-2",children:[vi.jsxs("div",{children:[vi.jsx("label",{className:"text-xs font-medium mb-1 block",children:a("flow_builder.video_url_label","Video URL:")}),vi.jsx("input",{className:"w-full p-2 text-sm border rounded",value:s,onChange:e=>{const t=e.target.value;o(t),y({mediaUrl:t})},placeholder:a("flow_builder.enter_video_url","Enter video URL or path")}),vi.jsx("div",{className:"mt-2",children:vi.jsx(p3,{onFileSelected:async e=>{if(e){u(!0),m(0);try{const t=new FormData;t.append("file",e),t.append("type","video");const n=new XMLHttpRequest;n.upload.addEventListener("progress",(e=>{if(e.lengthComputable){const t=Math.round(e.loaded/e.total*100);m(t)}})),n.addEventListener("load",(()=>{if(!(n.status>=200&&n.status<300))throw new Error("Upload failed");{const e=JSON.parse(n.responseText);o(e.url),y({mediaUrl:e.url}),u(!1)}})),n.addEventListener("error",(()=>{throw new Error("Upload failed")})),n.open("POST","/api/upload"),n.send(t)}catch(t){console.error("Error uploading file:",t),u(!1)}}},fileType:"video/*",maxSize:30,className:"w-full",showProgress:d,progress:f})}),s&&vi.jsxs("button",{className:"w-full mt-2 px-3 py-2 text-xs bg-red-100 text-red-700 border border-red-300 rounded hover:bg-red-200 transition-colors flex items-center justify-center gap-2",onClick:()=>h(!p),children:[vi.jsx(ew,{className:"h-3 w-3"}),p?a("flow_builder.hide_preview","Hide Preview"):a("flow_builder.preview_video","Preview Video")]}),s&&p&&vi.jsx(R5,{url:s})]}),vi.jsxs("div",{children:[vi.jsx("label",{className:"text-xs font-medium mb-1 block",children:a("flow_builder.caption_optional","Caption (optional):")}),vi.jsx("textarea",{id:`video-caption-textarea-${n}`,className:"w-full p-2 text-sm border rounded min-h-[60px] resize-none",value:l,onChange:e=>{const t=e.target.value;c(t),y({caption:t})},placeholder:a("flow_builder.add_caption_video","Add a caption to your video...")})]}),vi.jsxs("div",{children:[vi.jsx("p",{className:"text-xs font-medium mb-1",children:a("flow_builder.insert_variable_caption","Insert Variable in Caption:")}),vi.jsx("div",{className:"flex flex-wrap gap-1",children:[{name:"contact.name",description:"Contact's name"},{name:"contact.phone",description:"Contact's phone number"},{name:"date.today",description:"Current date"},{name:"time.now",description:"Current time"}].map((e=>vi.jsx("button",{className:"text-xs px-2 py-1 bg-secondary rounded hover:bg-secondary/80",title:e.description,onClick:()=>(e=>{const t=document.getElementById(`video-caption-textarea-${n}`);if(!t)return;const a=t.selectionStart,r=`{{${e}}}`,i=l.substring(0,a)+r+l.substring(a);c(i),y({caption:i}),setTimeout((()=>{t.focus(),t.setSelectionRange(a+r.length,a+r.length)}),0)})(e.name),children:e.name},e.name)))})]})]}):vi.jsxs("div",{className:"space-y-2",children:[vi.jsx("div",{className:"text-xs text-muted-foreground",children:a("flow_builder.video_url_label","Video URL:")}),vi.jsx("div",{className:"text-sm p-2 bg-secondary/40 rounded border border-border truncate",children:s||a("flow_builder.no_url_provided","No URL provided")}),s&&vi.jsxs("button",{className:"w-full mt-2 px-3 py-2 text-xs bg-red-100 text-red-700 border border-red-300 rounded hover:bg-red-200 transition-colors flex items-center justify-center gap-2",onClick:()=>h(!p),children:[vi.jsx(ew,{className:"h-3 w-3"}),p?a("flow_builder.hide_preview","Hide Preview"):a("flow_builder.preview_video","Preview Video")]}),s&&p&&vi.jsx(R5,{url:s}),l&&vi.jsxs(vi.Fragment,{children:[vi.jsx("div",{className:"text-xs text-muted-foreground",children:a("flow_builder.caption_label","Caption:")}),vi.jsx("div",{className:"text-sm p-2 bg-secondary/40 rounded border border-border",children:(e=>{const t=/\{\{([^}]+)\}\}/g;if(!t.test(e))return e;const n=[];let a,r=0;for(t.lastIndex=0;null!==(a=t.exec(e));)a.index>r&&n.push(e.substring(r,a.index)),n.push(vi.jsx("span",{className:"bg-primary/10 text-primary px-1 rounded",children:a[0]},a.index)),r=a.index+a[0].length;return r<e.length&&n.push(e.substring(r)),n})(l)})]})]}),vi.jsx(l0,{type:"target",position:jX.Left,style:p4,isConnectable:t})]})},audio:function({data:e,isConnectable:t,id:n}){const{t:a}=sk(),[r,i]=ci.useState(!1),[s,o]=ci.useState(e.mediaUrl||""),[l,c]=ci.useState(!1),[d,u]=ci.useState(0),[f,m]=ci.useState(!1),{setNodes:p}=H0(),h=J5(),g=ci.useCallback((e=>{p((t=>t.map((t=>t.id===n?{...t,data:{...t.data,...e}}:t))))}),[n,p]);return vi.jsxs("div",{className:"node-audio p-3 rounded-lg bg-white border border-border shadow-sm max-w-[250px] relative group",children:[h&&vi.jsx(F5,{id:n,onDuplicate:h.onDuplicateNode,onDelete:h.onDeleteNode}),vi.jsxs("div",{className:"font-medium flex items-center gap-2 mb-2",children:[vi.jsx(Jb,{className:"h-4 w-4 text-purple-500"}),vi.jsx("span",{children:a("flow_builder.send_audio","Send Audio")}),vi.jsx("button",{className:"ml-auto text-xs text-muted-foreground hover:text-foreground",onClick:()=>i(!r),children:r?a("common.done","Done"):a("common.edit","Edit")})]}),r?vi.jsx("div",{className:"space-y-2",children:vi.jsxs("div",{children:[vi.jsx("label",{className:"text-xs font-medium mb-1 block",children:a("flow_builder.audio_url_label","Audio URL:")}),vi.jsx("input",{className:"w-full p-2 text-sm border rounded",value:s,onChange:e=>{const t=e.target.value;o(t),g({mediaUrl:t})},placeholder:a("flow_builder.enter_audio_url","Enter audio URL or path")}),vi.jsx("div",{className:"mt-2",children:vi.jsx(p3,{onFileSelected:async e=>{if(e){c(!0),u(0);try{const t=new FormData;t.append("file",e),t.append("type","audio");const n=new XMLHttpRequest;n.upload.addEventListener("progress",(e=>{if(e.lengthComputable){const t=Math.round(e.loaded/e.total*100);u(t)}})),n.addEventListener("load",(()=>{if(!(n.status>=200&&n.status<300))throw new Error("Upload failed");{const e=JSON.parse(n.responseText);o(e.url),g({mediaUrl:e.url}),c(!1)}})),n.addEventListener("error",(()=>{throw new Error("Upload failed")})),n.open("POST","/api/upload"),n.send(t)}catch(t){console.error("Error uploading file:",t),c(!1)}}},fileType:"audio/*",maxSize:30,className:"w-full",showProgress:l,progress:d})}),s&&vi.jsxs("button",{className:"w-full mt-2 px-3 py-2 text-xs bg-purple-100 text-purple-700 border border-purple-300 rounded hover:bg-purple-200 transition-colors flex items-center justify-center gap-2",onClick:()=>m(!f),children:[vi.jsx(Jb,{className:"h-3 w-3"}),f?a("flow_builder.hide_preview","Hide Preview"):a("flow_builder.preview_audio","Preview Audio")]}),s&&f&&vi.jsx(O5,{url:s})]})}):vi.jsxs("div",{className:"space-y-2",children:[vi.jsx("div",{className:"text-xs text-muted-foreground",children:a("flow_builder.audio_url_label","Audio URL:")}),vi.jsx("div",{className:"text-sm p-2 bg-secondary/40 rounded border border-border truncate",children:s||a("flow_builder.no_url_provided","No URL provided")}),s&&vi.jsxs("button",{className:"w-full mt-2 px-3 py-2 text-xs bg-purple-100 text-purple-700 border border-purple-300 rounded hover:bg-purple-200 transition-colors flex items-center justify-center gap-2",onClick:()=>m(!f),children:[vi.jsx(Jb,{className:"h-3 w-3"}),f?a("flow_builder.hide_preview","Hide Preview"):a("flow_builder.preview_audio","Preview Audio")]}),s&&f&&vi.jsx(O5,{url:s})]}),vi.jsx(l0,{type:"target",position:jX.Left,style:p4,isConnectable:t})]})},document:function({data:e,isConnectable:t,id:n}){const{t:a}=sk(),[r,i]=ci.useState(!1),[s,o]=ci.useState(e.mediaUrl||""),[l,c]=ci.useState(e.fileName||""),[d,u]=ci.useState(e.caption||a("flow_builder.default_document_caption","Check out this document!")),[f,m]=ci.useState(!1),[p,h]=ci.useState(0),[g,x]=ci.useState(!1),{setNodes:y}=H0(),v=J5(),b=ci.useCallback((e=>{y((t=>t.map((t=>t.id===n?{...t,data:{...t.data,...e}}:t))))}),[n,y]);return vi.jsxs("div",{className:"node-document p-3 rounded-lg bg-white border border-border shadow-sm max-w-[250px] relative group",children:[v&&vi.jsx(F5,{id:n,onDuplicate:v.onDuplicateNode,onDelete:v.onDeleteNode}),vi.jsxs("div",{className:"font-medium flex items-center gap-2 mb-2",children:[vi.jsx(tw,{className:"h-4 w-4 text-amber-600"}),vi.jsx("span",{children:a("flow_builder.send_document","Send Document")}),vi.jsx("button",{className:"ml-auto text-xs text-muted-foreground hover:text-foreground",onClick:()=>i(!r),children:r?a("common.done","Done"):a("common.edit","Edit")})]}),r?vi.jsxs("div",{className:"space-y-2",children:[vi.jsxs("div",{children:[vi.jsx("label",{className:"text-xs font-medium mb-1 block",children:a("flow_builder.document_url_label","Document URL:")}),vi.jsx("input",{className:"w-full p-2 text-sm border rounded",value:s,onChange:e=>{const t=e.target.value;o(t),b({mediaUrl:t})},placeholder:a("flow_builder.enter_document_url","Enter document URL or path")}),vi.jsx("div",{className:"mt-2",children:vi.jsx(p3,{onFileSelected:async e=>{if(e){m(!0),h(0);try{const t=new FormData;t.append("file",e),t.append("type","document");const n=new XMLHttpRequest;n.upload.addEventListener("progress",(e=>{if(e.lengthComputable){const t=Math.round(e.loaded/e.total*100);h(t)}})),n.addEventListener("load",(()=>{if(!(n.status>=200&&n.status<300))throw new Error("Upload failed");{const e=JSON.parse(n.responseText);if(o(e.url),b({mediaUrl:e.url}),!l){const t=e.url.split("/"),n=t[t.length-1];n&&(c(n),b({fileName:n}))}m(!1)}})),n.addEventListener("error",(()=>{throw new Error("Upload failed")})),n.open("POST","/api/upload"),n.send(t)}catch(t){console.error("Error uploading file:",t),m(!1)}}},fileType:"application/*,.pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt",maxSize:30,className:"w-full",showProgress:f,progress:p})}),s&&vi.jsxs("button",{className:"w-full mt-2 px-3 py-2 text-xs bg-amber-100 text-amber-700 border border-amber-300 rounded hover:bg-amber-200 transition-colors flex items-center justify-center gap-2",onClick:()=>x(!g),children:[vi.jsx(tw,{className:"h-3 w-3"}),g?a("flow_builder.hide_preview","Hide Preview"):a("flow_builder.preview_document","Preview Document")]}),s&&g&&vi.jsx(z5,{url:s,fileName:l})]}),vi.jsxs("div",{children:[vi.jsx("label",{className:"text-xs font-medium mb-1 block",children:a("flow_builder.file_name_optional","File Name (optional):")}),vi.jsx("input",{className:"w-full p-2 text-sm border rounded",value:l,onChange:e=>{const t=e.target.value;c(t),b({fileName:t})},placeholder:a("flow_builder.enter_file_name","Enter file name (e.g. report.pdf)")})]}),vi.jsxs("div",{children:[vi.jsx("label",{className:"text-xs font-medium mb-1 block",children:a("flow_builder.caption_optional","Caption (optional):")}),vi.jsx("textarea",{id:`doc-caption-textarea-${n}`,className:"w-full p-2 text-sm border rounded min-h-[60px] resize-none",value:d,onChange:e=>{const t=e.target.value;u(t),b({caption:t})},placeholder:a("flow_builder.add_caption_document","Add a caption to your document...")})]}),vi.jsxs("div",{children:[vi.jsx("p",{className:"text-xs font-medium mb-1",children:a("flow_builder.insert_variable_caption","Insert Variable in Caption:")}),vi.jsx("div",{className:"flex flex-wrap gap-1",children:[{name:"contact.name",description:"Contact's name"},{name:"contact.phone",description:"Contact's phone number"},{name:"date.today",description:"Current date"},{name:"time.now",description:"Current time"}].map((e=>vi.jsx("button",{className:"text-xs px-2 py-1 bg-secondary rounded hover:bg-secondary/80",title:e.description,onClick:()=>(e=>{const t=document.getElementById(`doc-caption-textarea-${n}`);if(!t)return;const a=t.selectionStart,r=`{{${e}}}`,i=d.substring(0,a)+r+d.substring(a);u(i),b({caption:i}),setTimeout((()=>{t.focus(),t.setSelectionRange(a+r.length,a+r.length)}),0)})(e.name),children:e.name},e.name)))})]})]}):vi.jsxs("div",{className:"space-y-2",children:[vi.jsx("div",{className:"text-xs text-muted-foreground",children:a("flow_builder.document_url_label","Document URL:")}),vi.jsx("div",{className:"text-sm p-2 bg-secondary/40 rounded border border-border truncate",children:s||a("flow_builder.no_url_provided","No URL provided")}),s&&vi.jsxs("button",{className:"w-full mt-2 px-3 py-2 text-xs bg-amber-100 text-amber-700 border border-amber-300 rounded hover:bg-amber-200 transition-colors flex items-center justify-center gap-2",onClick:()=>x(!g),children:[vi.jsx(tw,{className:"h-3 w-3"}),g?a("flow_builder.hide_preview","Hide Preview"):a("flow_builder.preview_document","Preview Document")]}),s&&g&&vi.jsx(z5,{url:s,fileName:l}),l&&vi.jsxs(vi.Fragment,{children:[vi.jsx("div",{className:"text-xs text-muted-foreground",children:a("flow_builder.file_name_label","File Name:")}),vi.jsx("div",{className:"text-sm p-2 bg-secondary/40 rounded border border-border truncate",children:l})]}),d&&vi.jsxs(vi.Fragment,{children:[vi.jsx("div",{className:"text-xs text-muted-foreground",children:a("flow_builder.caption_label","Caption:")}),vi.jsx("div",{className:"text-sm p-2 bg-secondary/40 rounded border border-border",children:(e=>{const t=/\{\{([^}]+)\}\}/g;if(!t.test(e))return e;const n=[];let a,r=0;for(t.lastIndex=0;null!==(a=t.exec(e));)a.index>r&&n.push(e.substring(r,a.index)),n.push(vi.jsx("span",{className:"bg-primary/10 text-primary px-1 rounded",children:a[0]},a.index)),r=a.index+a[0].length;return r<e.length&&n.push(e.substring(r)),n})(d)})]})]}),vi.jsx(l0,{type:"target",position:jX.Left,style:p4,isConnectable:t})]})},wait:function({data:e,isConnectable:t,id:n}){const[a,r]=ci.useState(!1),{setNodes:i}=H0(),{onDeleteNode:s,onDuplicateNode:o}=J5(),[l,c]=ci.useState(e.waitMode||"duration"),[d,u]=ci.useState(e.timeValue||5),[f,m]=ci.useState(e.timeUnit||"minutes"),[p,h]=ci.useState(e.waitDate?new Date(e.waitDate):void 0),[g,x]=ci.useState(e.waitTime||"12:00"),[y,v]=ci.useState(e.timezone||Intl.DateTimeFormat().resolvedOptions().timeZone),b=ci.useCallback((e=>{i((t=>t.map((t=>t.id===n?{...t,data:{...t.data,...e}}:t))))}),[n,i]),w=e=>{c(e),b({waitMode:e})},j=e=>e?e.toLocaleDateString():"No date selected";return vi.jsxs("div",{className:"node-wait p-3 rounded-lg bg-white border border-border shadow-sm max-w-[250px] group",children:[vi.jsx(F5,{id:n,onDuplicate:o,onDelete:s}),vi.jsxs("div",{className:"font-medium flex items-center gap-2 mb-2",children:[vi.jsx(Ub,{className:"h-4 w-4 text-orange-500"}),vi.jsx("span",{children:"Wait"}),vi.jsx("button",{className:"ml-auto text-xs text-muted-foreground hover:text-foreground",onClick:()=>r(!a),children:a?"Done":"Edit"})]}),a?vi.jsxs("div",{className:"space-y-3",children:[vi.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[vi.jsxs(tk,{type:"button",size:"sm",variant:"duration"===l?"default":"outline",onClick:()=>w("duration"),className:"text-xs",children:[vi.jsx(Ub,{className:"h-3 w-3 mr-1"}),"Duration"]}),vi.jsxs(tk,{type:"button",size:"sm",variant:"datetime"===l?"default":"outline",onClick:()=>w("datetime"),className:"text-xs",children:[vi.jsx(P5,{className:"h-3 w-3 mr-1"}),"Schedule"]})]}),"duration"===l?vi.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[vi.jsxs("div",{children:[vi.jsx("label",{className:"text-xs text-muted-foreground",children:"Duration"}),vi.jsx("input",{type:"number",min:"1",className:"w-full p-1 border rounded bg-background text-xs",value:d,onChange:e=>{const t=parseInt(e.target.value)||1;u(t),b({timeValue:t})}})]}),vi.jsxs("div",{children:[vi.jsx("label",{className:"text-xs text-muted-foreground",children:"Unit"}),vi.jsxs(AU,{value:f,onValueChange:e=>{m(e),b({timeUnit:e})},children:[vi.jsx(PU,{className:"w-full h-8 text-xs",children:vi.jsx(DU,{placeholder:"Select unit"})}),vi.jsxs(zU,{children:[vi.jsx(FU,{value:"seconds",children:"Seconds"}),vi.jsx(FU,{value:"minutes",children:"Minutes"}),vi.jsx(FU,{value:"hours",children:"Hours"}),vi.jsx(FU,{value:"days",children:"Days"})]})]})]})]}):vi.jsxs("div",{className:"space-y-2",children:[vi.jsxs("div",{children:[vi.jsx("label",{className:"text-xs text-muted-foreground",children:"Date"}),vi.jsxs(F3,{children:[vi.jsx(B3,{asChild:!0,children:vi.jsxs(tk,{variant:"brand",size:"sm",className:"w-full justify-start text-left font-normal h-8 text-xs",children:[vi.jsx(Sb,{className:"mr-2 h-3 w-3"}),p?j(p):"Select date"]})}),vi.jsx(U3,{className:"w-auto p-0",align:"start",children:vi.jsx(g5,{mode:"single",selected:p,onSelect:e=>{h(e),b({waitDate:e?e.toISOString():null})},initialFocus:!0})})]})]}),vi.jsxs("div",{children:[vi.jsx("label",{className:"text-xs text-muted-foreground",children:"Time"}),vi.jsx("input",{type:"time",className:"w-full h-8 p-1 border rounded bg-background text-xs",value:g,onChange:e=>{x(e.target.value),b({waitTime:e.target.value})}})]}),vi.jsxs("div",{children:[vi.jsx("label",{className:"text-xs text-muted-foreground",children:"Timezone"}),vi.jsxs(AU,{value:y,onValueChange:e=>{v(e),b({timezone:e})},children:[vi.jsx(PU,{className:"w-full h-8 text-xs",children:vi.jsx(DU,{placeholder:"Select timezone"})}),vi.jsx(zU,{className:"max-h-[160px]",children:vi.jsx(TU,{children:Intl.supportedValuesOf("timeZone").map((e=>vi.jsx(FU,{value:e,className:"text-xs",children:e.replace("_"," ").split("/").pop()||e},e)))})})]})]})]})]}):vi.jsx("div",{className:"text-sm p-2 bg-secondary/40 rounded border border-border",children:"duration"===l?`Wait for ${d} ${f}`:p?`Scheduled for ${j(p)} at ${g} (${(null==(N=y.split("/").pop())?void 0:N.replace("_"," "))||y})`:"Schedule not set"}),vi.jsx(l0,{type:"target",position:jX.Top,style:p4,isConnectable:t}),vi.jsx(l0,{type:"source",position:jX.Bottom,style:p4,isConnectable:t})]});var N},quickreply:function({data:e,isConnectable:t,id:n}){const[a,r]=ci.useState(!1),[i,s]=ci.useState(e.message||"Please select an option to continue:"),[o,l]=ci.useState(e.options||[{text:"I have a question about my order.",value:"order"},{text:"I have a question about a product.",value:"product"},{text:"I have another question.",value:"other"}]),{setNodes:c}=H0(),d=J5(),u=ci.useCallback((e=>{c((t=>t.map((t=>t.id===n?{...t,data:{...t.data,...e}}:t))))}),[n,c]);return vi.jsxs("div",{className:"node-quickreply p-3 rounded-lg bg-white border border-border shadow-sm max-w-[280px] group",children:[d&&vi.jsx(F5,{id:n,onDuplicate:d.onDuplicateNode,onDelete:d.onDeleteNode}),vi.jsxs("div",{className:"font-medium flex items-center gap-2 mb-2",children:[vi.jsx(dw,{className:"h-4 w-4 text-blue-500"}),vi.jsx("span",{children:"Quick Reply Options"}),vi.jsx("button",{className:"ml-auto text-xs text-muted-foreground hover:text-foreground",onClick:()=>r(!a),children:a?"Done":"Edit"})]}),a?vi.jsxs("div",{className:"space-y-3",children:[vi.jsxs("div",{children:[vi.jsx("label",{className:"text-xs font-medium mb-1 block",children:"Message:"}),vi.jsx("textarea",{id:`quickreply-textarea-${n}`,className:"w-full p-2 text-sm border rounded min-h-[80px] resize-none",value:i,onChange:e=>{const t=e.target.value;s(t),u({message:t})},placeholder:"Type your message here..."}),vi.jsxs("div",{className:"mt-2",children:[vi.jsx("p",{className:"text-xs font-medium mb-1",children:"Insert Variable:"}),vi.jsx("div",{className:"flex flex-wrap gap-1",children:[{name:"contact.name",description:"Contact's name"},{name:"contact.phone",description:"Contact's phone number"},{name:"date.today",description:"Current date"},{name:"time.now",description:"Current time"}].map((e=>vi.jsx("button",{className:"text-xs px-2 py-1 bg-secondary rounded hover:bg-secondary/80",title:e.description,onClick:()=>(e=>{const t=document.getElementById(`quickreply-textarea-${n}`);if(!t)return;const a=t.selectionStart,r=`{{${e}}}`,o=i.substring(0,a)+r+i.substring(a);s(o),u({message:o}),setTimeout((()=>{t.focus(),t.setSelectionRange(a+r.length,a+r.length)}),0)})(e.name),children:e.name},e.name)))})]})]}),vi.jsxs("div",{children:[vi.jsxs("div",{className:"flex items-center justify-between mb-2",children:[vi.jsx("label",{className:"text-xs font-medium",children:"Options:"}),vi.jsxs(tk,{variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:()=>{const e=[...o,{text:"New option",value:`option${o.length+1}`}];l(e),u({options:e})},disabled:o.length>=10,children:[vi.jsx(_w,{className:"h-3 w-3 mr-1"}),"Add Option"]})]}),vi.jsx("div",{className:"space-y-4 max-h-[300px] overflow-y-auto pr-1",children:o.map(((e,n)=>vi.jsxs("div",{className:"space-y-2 relative",children:[vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-md bg-blue-500 text-white flex items-center justify-center text-xs font-medium",children:n+1}),vi.jsxs("div",{className:"flex-1 font-medium text-xs",children:["Option ",n+1]}),vi.jsx(tk,{variant:"ghost",size:"icon",className:"h-7 w-7 text-muted-foreground hover:text-destructive",onClick:()=>(e=>{const t=o.filter(((t,n)=>n!==e));l(t),u({options:t})})(n),disabled:o.length<=1,children:vi.jsx(fj,{className:"h-3.5 w-3.5"})})]}),vi.jsxs("div",{className:"pl-8 space-y-2",children:[vi.jsxs("div",{children:[vi.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"Display Text:"}),vi.jsx("input",{className:"w-full p-2 text-sm border rounded",value:e.text,onChange:e=>((e,t)=>{const n=[...o];n[e]={...n[e],text:t},l(n),u({options:n})})(n,e.target.value),placeholder:"Text to display"})]}),vi.jsxs("div",{children:[vi.jsx("label",{className:"text-xs text-muted-foreground block mb-1",children:"Response Value:"}),vi.jsx("input",{className:"w-full p-2 text-sm border rounded",value:e.value,onChange:e=>((e,t)=>{const n=[...o];n[e]={...n[e],value:t},l(n),u({options:n})})(n,e.target.value),placeholder:"Value to match"}),vi.jsx("div",{className:"text-[10px] text-muted-foreground mt-1",children:"User can respond with this value to select this option"})]})]}),vi.jsx(l0,{type:"source",position:jX.Right,id:`option-${n+1}`,style:{...p4,top:"30px",right:"-12px"},isConnectable:t})]},n)))}),vi.jsx("div",{className:"text-[10px] text-muted-foreground mt-2",children:"Each option will have its own output connection."})]})]}):vi.jsxs("div",{className:"space-y-2",children:[vi.jsx("div",{className:"text-sm p-2 bg-secondary/40 rounded border border-border",children:(e=>{const t=/\{\{([^}]+)\}\}/g;if(!t.test(e))return e;const n=[];let a,r=0;for(t.lastIndex=0;null!==(a=t.exec(e));)a.index>r&&n.push(e.substring(r,a.index)),n.push(vi.jsx("span",{className:"bg-primary/10 text-primary px-1 rounded",children:a[0]},a.index)),r=a.index+a[0].length;return r<e.length&&n.push(e.substring(r)),n})(i)}),vi.jsx("div",{className:"space-y-1.5 mt-3",children:o.map(((e,n)=>vi.jsxs("div",{className:"flex items-center gap-2 relative",children:[vi.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-md bg-blue-500 text-white flex items-center justify-center text-xs font-medium",children:n+1}),vi.jsxs("div",{className:"text-sm flex-1 pr-6",children:[vi.jsx("div",{children:e.text}),vi.jsxs("div",{className:"text-xs text-muted-foreground",children:['Responds to: "',e.value,'"']})]}),vi.jsx(l0,{type:"source",position:jX.Right,id:`option-${n+1}`,style:{...p4,top:"50%",right:"-12px"},isConnectable:t})]},n)))})]}),vi.jsx(l0,{type:"target",position:jX.Left,style:p4,isConnectable:t})]})},follow_up:function({id:e,data:t,isConnectable:n}){const{t:a}=sk(),[r,i]=ci.useState(!1),[s,o]=ci.useState(t.messageType||"text"),[l,c]=ci.useState(t.messageContent||""),[d,u]=ci.useState(t.mediaUrl||""),[f,m]=ci.useState(t.caption||""),[p,h]=ci.useState(t.templateId),[g,x]=ci.useState(t.triggerEvent||"conversation_start"),[y,v]=ci.useState(t.delayAmount||1),[b,w]=ci.useState(t.delayUnit||"hours"),[j,N]=ci.useState(t.specificDatetime||""),[C,S]=ci.useState(t.timezone||(()=>{try{return Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC"}catch{return"UTC"}})()),[k,M]=ci.useState(t.maxRetries||3),[_,E]=ci.useState(!1),[I,L]=ci.useState(0),{setNodes:A}=H0(),{onDeleteNode:T,onDuplicateNode:D}=J5(),P=[{name:"contact.name",description:a("flow_builder.var_contact_name","Contact's name")},{name:"contact.phone",description:a("flow_builder.var_contact_phone","Contact's phone number")},{name:"contact.email",description:a("flow_builder.var_contact_email","Contact's email address")},{name:"message.content",description:a("flow_builder.var_message_content","Received message content")},{name:"date.today",description:a("flow_builder.var_date_today","Current date")},{name:"time.now",description:a("flow_builder.var_time_now","Current time")},{name:"availability",description:a("flow_builder.var_availability","Google Calendar availability data from previous node")}],O="Thank you for your interest! How can we help you further?",R=ci.useCallback((t=>{A((n=>n.map((n=>n.id===e?{...n,data:{...n.data,...t}}:n))))}),[e,A]);ci.useEffect((()=>{R({messageType:s,messageContent:l,mediaUrl:d,caption:f,templateId:p,triggerEvent:g,delayAmount:y,delayUnit:b,specificDatetime:j,timezone:C,maxRetries:k})}),[R,s,l,d,f,p,g,y,b,j,C,k]);const z=()=>{switch(s){case"image":return vi.jsx(ow,{className:"h-4 w-4"});case"video":return vi.jsx(cj,{className:"h-4 w-4"});case"audio":return vi.jsx(Jb,{className:"h-4 w-4"});case"document":return vi.jsx(Xb,{className:"h-4 w-4"});default:return vi.jsx(yw,{className:"h-4 w-4"})}};return vi.jsxs("div",{className:"node-follow-up rounded-lg bg-white border border-orange-200 shadow-sm max-w-[320px] group relative",children:[vi.jsxs("div",{className:"absolute -top-8 -right-2 bg-background border rounded-md shadow-sm flex z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[vi.jsx(VS,{children:vi.jsxs($S,{children:[vi.jsx(HS,{asChild:!0,children:vi.jsx(tk,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>D(e),children:vi.jsx(Wb,{className:"h-3.5 w-3.5"})})}),vi.jsx(YS,{side:"top",children:vi.jsx("p",{className:"text-xs",children:a("flow_builder.duplicate_node","Duplicate node")})})]})}),vi.jsx(VS,{children:vi.jsxs($S,{children:[vi.jsx(HS,{asChild:!0,children:vi.jsx(tk,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive hover:text-destructive",onClick:()=>T(e),children:vi.jsx(Yw,{className:"h-3.5 w-3.5"})})}),vi.jsx(YS,{side:"top",children:vi.jsx("p",{className:"text-xs",children:a("flow_builder.delete_node","Delete node")})})]})})]}),vi.jsx("div",{className:"p-3 border-b border-orange-100 bg-orange-50/30",children:vi.jsxs("div",{className:"font-medium flex items-center gap-2",children:[vi.jsx(Ub,{className:"h-4 w-4 text-orange-600"}),vi.jsx("span",{children:a("flow_builder.follow_up_message","Follow-up Message")}),vi.jsx("button",{className:"ml-auto text-xs text-muted-foreground hover:text-foreground transition-colors",onClick:()=>i(!r),children:r?a("common.hide","Hide"):a("common.edit","Edit")})]})}),vi.jsx("div",{className:(r?"max-h-[500px]":"max-h-[200px]")+" overflow-y-auto custom-scrollbar",children:vi.jsxs("div",{className:"p-3 space-y-3",children:[vi.jsxs("div",{className:"text-sm p-3 bg-secondary/40 rounded border border-border",children:[vi.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[z(),vi.jsxs("span",{className:"font-medium",children:[s.charAt(0).toUpperCase()+s.slice(1)," ",a("flow_builder.message","Message")]})]}),vi.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx(Sb,{className:"h-3 w-3"}),vi.jsx("span",{children:(()=>{switch(g){case"conversation_start":default:return a("flow_builder.conversation_start","Conversation Start");case"specific_datetime":return a("flow_builder.specific_datetime","Specific Date/Time");case"relative_delay":return a("flow_builder.relative_delay","Relative Delay")}})()})]}),vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx(Ub,{className:"h-3 w-3"}),vi.jsx("span",{children:"specific_datetime"===g?j?new Date(j).toLocaleString():a("flow_builder.no_date_set","No date set"):`${y} ${b}`})]})]}),l&&vi.jsx("div",{className:"text-xs bg-background/80 p-2 rounded border border-border mt-2",children:l.length>50?`${l.substring(0,50)}...`:l})]}),r&&vi.jsxs(vi.Fragment,{children:[vi.jsxs("div",{className:"border rounded-lg p-3 bg-gradient-to-r from-blue-50 to-indigo-50",children:[vi.jsxs("h3",{className:"text-sm font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[z(),a("flow_builder.message_config","Message Configuration")]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{className:"text-[10px] font-medium text-gray-700",children:a("flow_builder.message_type","Message Type")}),vi.jsxs(AU,{value:s,onValueChange:e=>o(e),children:[vi.jsx(PU,{className:"text-xs h-7",children:vi.jsx(DU,{})}),vi.jsxs(zU,{children:[vi.jsx(FU,{value:"text",children:a("flow_builder.text_message","Text Message")}),vi.jsx(FU,{value:"image",children:a("flow_builder.image","Image")}),vi.jsx(FU,{value:"video",children:a("flow_builder.video","Video")}),vi.jsx(FU,{value:"audio",children:a("flow_builder.audio","Audio")}),vi.jsx(FU,{value:"document",children:a("flow_builder.document","Document")})]})]}),vi.jsxs("div",{className:"text-[10px] text-muted-foreground",children:["text"===s&&a("flow_builder.text_message_desc","Sends a text message with optional variable substitution"),"image"===s&&a("flow_builder.image_message_desc","Sends an uploaded image file with optional caption"),"video"===s&&a("flow_builder.video_message_desc","Sends an uploaded video file with optional caption"),"audio"===s&&a("flow_builder.audio_message_desc","Sends an uploaded audio file (no caption support)"),"document"===s&&a("flow_builder.document_message_desc","Sends an uploaded document file with optional caption")]})]}),"text"===s?vi.jsxs("div",{className:"space-y-2",children:[vi.jsxs("div",{className:"space-y-1",children:[vi.jsx(uB,{className:"text-[10px] font-medium text-gray-700",children:a("flow_builder.template","Template")}),vi.jsx(tk,{type:"button",variant:"outline",size:"sm",onClick:()=>{"text"===s&&c(O)},className:"w-full text-xs h-7 justify-start",children:a("flow_builder.use_default_template","Use Default Template")})]}),vi.jsxs("div",{className:"space-y-1",children:[vi.jsx(uB,{className:"text-[10px] font-medium text-gray-700",children:a("flow_builder.message_content","Message Content")}),vi.jsx(mB,{id:`followup-message-textarea-${e}`,placeholder:a("flow_builder.enter_follow_up_message","Enter your follow-up message..."),value:l,onChange:e=>c(e.target.value),className:"text-xs h-20 resize-none"})]}),vi.jsxs("div",{className:"space-y-1",children:[vi.jsx(uB,{className:"text-[10px] font-medium text-gray-700",children:a("flow_builder.insert_variable","Insert Variable:")}),vi.jsx("div",{className:"flex flex-wrap gap-1",children:P.map((t=>vi.jsx("button",{className:"text-[10px] px-2 py-1 bg-secondary rounded hover:bg-secondary/80",title:t.description,onClick:()=>(t=>{const n=document.getElementById(`followup-message-textarea-${e}`);if(!n)return;const a=n.selectionStart,r=`{{${t}}}`,i=l.substring(0,a)+r+l.substring(a);c(i),setTimeout((()=>{n.focus(),n.setSelectionRange(a+r.length,a+r.length)}),0)})(t.name),children:t.name},t.name)))}),vi.jsx("div",{className:"text-[10px] text-muted-foreground",children:a("flow_builder.variables_replaced_desc","Variables will be replaced with actual values when message is sent.")})]})]}):vi.jsxs(vi.Fragment,{children:[vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{className:"text-[10px] font-medium text-gray-700",children:a("flow_builder.upload_media","Upload Media")}),vi.jsx(p3,{onFileSelected:async e=>{E(!0),L(0);const t=new FormData;t.append("file",e);try{const e=new XMLHttpRequest;e.open("POST","/api/upload",!0),e.upload.onprogress=e=>{if(e.lengthComputable){const t=Math.round(e.loaded/e.total*100);L(t)}},e.onload=()=>{if(E(!1),200===e.status){const t=JSON.parse(e.responseText);u(t.url),Fy({title:a("common.upload_complete","Upload complete"),description:a("flow_builder.media_uploaded_successfully","Media uploaded successfully")})}else Fy({title:a("common.upload_failed","Upload failed"),description:a("flow_builder.error_uploading_media","There was an error uploading your media"),variant:"destructive"})},e.onerror=()=>{E(!1),Fy({title:a("common.upload_failed","Upload failed"),description:a("flow_builder.error_uploading_media","There was an error uploading your media"),variant:"destructive"})},e.send(t)}catch(n){E(!1),Fy({title:a("common.upload_failed","Upload failed"),description:a("flow_builder.error_uploading_media","There was an error uploading your media"),variant:"destructive"})}},fileType:(()=>{switch(s){case"image":return"image/*";case"video":return"video/*";case"audio":return"audio/*";case"document":return".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.zip,.rar";default:return"*/*"}})(),maxSize:30,className:"w-full",showProgress:_,progress:I}),d&&!_&&vi.jsxs("div",{className:"text-[10px] text-green-600 bg-green-50 p-1 rounded",children:["✓ ",a("flow_builder.file_uploaded","File uploaded successfully")]})]}),"audio"!==s&&vi.jsxs(vi.Fragment,{children:[vi.jsxs("div",{className:"space-y-1",children:[vi.jsx(uB,{className:"text-[10px] font-medium text-gray-700",children:a("flow_builder.caption_optional","Caption (Optional)")}),vi.jsx(mB,{id:`followup-caption-textarea-${e}`,placeholder:a("flow_builder.enter_caption","Enter caption for media..."),value:f,onChange:e=>m(e.target.value),className:"text-xs h-16 resize-none"})]}),vi.jsxs("div",{className:"space-y-1",children:[vi.jsx(uB,{className:"text-[10px] font-medium text-gray-700",children:a("flow_builder.insert_variable","Insert Variable:")}),vi.jsx("div",{className:"flex flex-wrap gap-1",children:P.map((t=>vi.jsx("button",{className:"text-[10px] px-2 py-1 bg-secondary rounded hover:bg-secondary/80",title:t.description,onClick:()=>(t=>{const n=document.getElementById(`followup-caption-textarea-${e}`);if(!n)return;const a=n.selectionStart,r=`{{${t}}}`,i=f.substring(0,a)+r+f.substring(a);m(i),setTimeout((()=>{n.focus(),n.setSelectionRange(a+r.length,a+r.length)}),0)})(t.name),children:t.name},t.name)))}),vi.jsx("div",{className:"text-[10px] text-muted-foreground",children:a("flow_builder.variables_replaced_desc","Variables will be replaced with actual values when message is sent.")})]})]})]})]}),vi.jsxs("div",{className:"border rounded-lg p-3 bg-gradient-to-r from-green-50 to-emerald-50",children:[vi.jsxs("h3",{className:"text-sm font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[vi.jsx(Sb,{className:"h-4 w-4"}),a("flow_builder.timing_config","Timing Configuration")]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{className:"text-[10px] font-medium text-gray-700",children:a("flow_builder.trigger_event","Trigger Event")}),vi.jsxs(AU,{value:g,onValueChange:e=>x(e),children:[vi.jsx(PU,{className:"text-xs h-7",children:vi.jsx(DU,{})}),vi.jsxs(zU,{children:[vi.jsx(FU,{value:"conversation_start",children:a("flow_builder.conversation_start","Conversation Start")}),vi.jsx(FU,{value:"relative_delay",children:a("flow_builder.relative_delay","Relative Delay")}),vi.jsx(FU,{value:"specific_datetime",children:a("flow_builder.specific_datetime","Specific Date/Time")})]})]})]}),"specific_datetime"===g?vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{className:"text-[10px] font-medium text-gray-700",children:a("flow_builder.date_and_time","Date and Time")}),vi.jsx(fB,{type:"datetime-local",value:j,onChange:e=>{N(e.target.value),e.target.value&&C&&console.log(`Datetime input: ${e.target.value} in timezone: ${C}`)},className:"text-xs h-7"}),vi.jsx("p",{className:"text-[10px] text-muted-foreground",children:a("flow_builder.datetime_timezone_note",`Enter time as it should appear in ${C||"UTC"} timezone`)}),vi.jsx(uB,{className:"text-[10px] font-medium text-gray-700",children:a("flow_builder.timezone","Timezone")}),vi.jsx(V3,{value:C,onValueChange:S,placeholder:a("flow_builder.select_timezone","Select timezone..."),className:"w-full"}),vi.jsx("p",{className:"text-[10px] text-muted-foreground",children:a("flow_builder.timezone_desc","Message will be sent at the specified time in this timezone")}),j&&C&&vi.jsxs("div",{className:"text-[10px] p-2 bg-blue-50 rounded border border-blue-200",children:[vi.jsx("div",{className:"font-medium text-blue-800",children:"Scheduled Time Preview:"}),vi.jsxs("div",{className:"text-blue-700",children:["Local: ",new Date(j).toLocaleString()," (",C,")"]}),vi.jsxs("div",{className:"text-blue-600",children:["UTC: ",new Date(j).toISOString()]})]})]}):vi.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{className:"text-[10px] font-medium text-gray-700",children:a("flow_builder.delay_amount","Delay Amount")}),vi.jsx(fB,{type:"number",min:"1",value:y,onChange:e=>v(parseInt(e.target.value)||1),className:"text-xs h-7"})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{className:"text-[10px] font-medium text-gray-700",children:a("flow_builder.delay_unit","Delay Unit")}),vi.jsxs(AU,{value:b,onValueChange:e=>w(e),children:[vi.jsx(PU,{className:"text-xs h-7",children:vi.jsx(DU,{})}),vi.jsxs(zU,{children:[vi.jsx(FU,{value:"minutes",children:a("flow_builder.minutes","Minutes")}),vi.jsx(FU,{value:"hours",children:a("flow_builder.hours","Hours")}),vi.jsx(FU,{value:"days",children:a("flow_builder.days","Days")}),vi.jsx(FU,{value:"weeks",children:a("flow_builder.weeks","Weeks")})]})]})]})]})]}),vi.jsxs("div",{className:"border rounded-lg p-3 bg-gradient-to-r from-purple-50 to-pink-50",children:[vi.jsxs("h3",{className:"text-sm font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[vi.jsx(Ub,{className:"h-4 w-4"}),a("flow_builder.advanced_config","Advanced Configuration")]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{className:"text-[10px] font-medium text-gray-700",children:a("flow_builder.max_retries","Max Retries")}),vi.jsx(fB,{type:"number",min:"0",max:"10",value:k,onChange:e=>M(parseInt(e.target.value)||3),className:"text-xs h-7"}),vi.jsx("p",{className:"text-[10px] text-muted-foreground",children:a("flow_builder.retry_attempts_desc","Number of retry attempts if message delivery fails")})]})]})]})]})}),vi.jsx(l0,{type:"target",position:jX.Left,style:p4,isConnectable:n})]})},google_calendar_event:function({id:e,data:t,isConnectable:n}){const{t:a}=sk(),[r,i]=ci.useState(!1),[s,o]=ci.useState(t.summary||""),[l,c]=ci.useState(t.description||""),[d,u]=ci.useState(t.startDateTime?new Date(t.startDateTime):void 0),[f,m]=ci.useState(t.endDateTime?new Date(t.endDateTime):void 0),[p,h]=ci.useState(t.attendeeInput||""),[g,x]=ci.useState(t.attendees||[]),{setNodes:y}=H0(),{toast:v}=By(),b=ci.useCallback((t=>{y((n=>n.map((n=>n.id===e?{...n,data:{...n.data,...t}}:n))))}),[e,y]),w=e=>{u(e),e&&b({startDateTime:e.toISOString()})},j=e=>{m(e),e&&b({endDateTime:e.toISOString()})};return vi.jsxs("div",{className:"node-calendar-event p-3 rounded-lg bg-white border border-green-200 shadow-sm max-w-[250px] group",children:[t.onDuplicateNode&&t.onDeleteNode&&vi.jsxs("div",{className:"absolute -top-8 -right-2 bg-background border rounded-md shadow-sm flex z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[vi.jsx(VS,{children:vi.jsxs($S,{children:[vi.jsx(HS,{asChild:!0,children:vi.jsx(tk,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>t.onDuplicateNode&&t.onDuplicateNode(e),children:vi.jsx(Wb,{className:"h-3.5 w-3.5"})})}),vi.jsx(YS,{side:"top",children:vi.jsx("p",{className:"text-xs",children:a("flow_builder.duplicate_node","Duplicate node")})})]})}),vi.jsx(VS,{children:vi.jsxs($S,{children:[vi.jsx(HS,{asChild:!0,children:vi.jsx(tk,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive hover:text-destructive",onClick:()=>t.onDeleteNode&&t.onDeleteNode(e),children:vi.jsx(Yw,{className:"h-3.5 w-3.5"})})}),vi.jsx(YS,{side:"top",children:vi.jsx("p",{className:"text-xs",children:a("flow_builder.delete_node","Delete node")})})]})})]}),vi.jsxs("div",{className:"font-medium flex items-center gap-2 mb-2",children:[vi.jsx(Sb,{className:"h-4 w-4 text-green-600"}),vi.jsx("span",{children:a("flow_builder.calendar_event","Calendar Event")}),vi.jsx("button",{className:"ml-auto text-xs text-muted-foreground hover:text-foreground",onClick:()=>i(!r),children:r?a("common.hide","Hide"):a("common.edit","Edit")})]}),vi.jsxs("div",{className:"text-sm p-2 bg-secondary/40 rounded border border-border",children:[vi.jsx("div",{className:"text-sm font-medium",children:s||a("flow_builder.calendar_untitled_event","Untitled Event")}),vi.jsxs("div",{className:"text-xs mt-1 space-y-1",children:[d&&vi.jsxs("div",{className:"flex items-center gap-1",children:[vi.jsxs("span",{className:"text-muted-foreground",children:[a("flow_builder.calendar_start","Start"),":"]}),vi.jsx("span",{children:hz(d,"PPP p")})]}),f&&vi.jsxs("div",{className:"flex items-center gap-1",children:[vi.jsxs("span",{className:"text-muted-foreground",children:[a("flow_builder.calendar_end","End"),":"]}),vi.jsx("span",{children:hz(f,"PPP p")})]}),g.length>0&&vi.jsxs("div",{className:"flex items-center gap-1",children:[vi.jsxs("span",{className:"text-muted-foreground",children:[a("flow_builder.calendar_attendees","Attendees"),":"]}),vi.jsx("span",{children:g.length})]})]})]}),r&&vi.jsxs("div",{className:"mt-3 text-xs space-y-3 p-2 border rounded bg-secondary/10",children:[vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 font-medium",children:a("flow_builder.calendar_event_title","Event Title")}),vi.jsx(fB,{className:"w-full p-1 border rounded bg-background text-xs",value:s,onChange:e=>{const t=e.target.value;o(t),b({summary:t})},placeholder:a("flow_builder.calendar_enter_title","Enter event title")})]}),vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 font-medium",children:a("flow_builder.calendar_description","Description")}),vi.jsx(mB,{className:"w-full p-1 border rounded bg-background text-xs min-h-[60px] resize-none",value:l,onChange:e=>{const t=e.target.value;c(t),b({description:t})},placeholder:a("flow_builder.calendar_enter_description","Enter event description"),rows:2})]}),vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 font-medium",children:"Start Date & Time"}),vi.jsxs(F3,{children:[vi.jsx(B3,{asChild:!0,children:vi.jsx(tk,{variant:"brand",size:"sm",className:iN("w-full justify-start text-left font-normal text-xs p-1 h-auto",!d&&"text-muted-foreground"),children:d?hz(d,"PPP p"):"Select date & time"})}),vi.jsxs(U3,{className:"w-auto p-0",align:"start",children:[vi.jsx(g5,{mode:"single",selected:d,onSelect:w,initialFocus:!0}),d&&vi.jsx("div",{className:"p-3 border-t border-border",children:vi.jsx(fB,{type:"time",className:"text-xs",value:d?hz(d,"HH:mm"):"",onChange:e=>{if(d&&e.target.value){const[t,n]=e.target.value.split(":"),a=new Date(d);a.setHours(parseInt(t,10)),a.setMinutes(parseInt(n,10)),w(a)}}})})]})]})]}),vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 font-medium",children:"End Date & Time"}),vi.jsxs(F3,{children:[vi.jsx(B3,{asChild:!0,children:vi.jsx(tk,{variant:"brand",size:"sm",className:iN("w-full justify-start text-left font-normal text-xs p-1 h-auto",!f&&"text-muted-foreground"),children:f?hz(f,"PPP p"):"Select date & time"})}),vi.jsxs(U3,{className:"w-auto p-0",align:"start",children:[vi.jsx(g5,{mode:"single",selected:f,onSelect:j,initialFocus:!0}),f&&vi.jsx("div",{className:"p-3 border-t border-border",children:vi.jsx(fB,{type:"time",className:"text-xs",value:f?hz(f,"HH:mm"):"",onChange:e=>{if(f&&e.target.value){const[t,n]=e.target.value.split(":"),a=new Date(f);a.setHours(parseInt(t,10)),a.setMinutes(parseInt(n,10)),j(a)}}})})]})]})]}),vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 font-medium",children:"Attendees"}),vi.jsxs("div",{className:"flex items-center gap-1",children:[vi.jsx(fB,{className:"flex-1 p-1 border rounded bg-background text-xs",value:p,onChange:e=>{h(e.target.value),b({attendeeInput:e.target.value})},placeholder:"Email address"}),vi.jsx(tk,{variant:"outline",size:"sm",className:"text-xs px-2 py-1 h-auto",onClick:()=>{if(p&&p.includes("@")){const e=[...g,p];x(e),b({attendees:e,attendeeInput:""}),h("")}else v({title:a("flow_builder.calendar_invalid_email","Invalid email"),description:a("flow_builder.calendar_valid_email_required","Please enter a valid email address"),variant:"destructive"})},children:"Add"})]}),g.length>0&&vi.jsx("div",{className:"mt-2 space-y-1",children:g.map(((e,t)=>vi.jsxs("div",{className:"flex items-center justify-between bg-secondary/30 rounded px-2 py-1",children:[vi.jsx("span",{className:"text-xs truncate",children:e}),vi.jsx(tk,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0",onClick:()=>(e=>{const t=g.filter(((t,n)=>n!==e));x(t),b({attendees:t})})(t),children:"×"})]},t)))})]}),vi.jsx("div",{className:"text-[10px] text-muted-foreground mt-2",children:"Changes are saved automatically when you save the flow."})]}),vi.jsx(m4,{type:"target",position:jX.Left,isConnectable:n}),vi.jsx(m4,{type:"source",position:jX.Right,isConnectable:n})]})},google_calendar_availability:function({id:e,data:t,isConnectable:n}){const[a,r]=ci.useState(!1),[i,s]=ci.useState(t.date?new Date(t.date):void 0),[o,l]=ci.useState(t.startDate?new Date(t.startDate):void 0),[c,d]=ci.useState(t.endDate?new Date(t.endDate):void 0),[u,f]=ci.useState(t.durationMinutes||30),[m,p]=ci.useState(t.useDateRange||!1),{setNodes:h}=H0(),g=!!t.availabilityResults,x=ci.useMemo((()=>{if(!t.availabilityResults)return"";try{const e=t.availabilityResults;if(Array.isArray(e)&&0===e.length)return"No available time slots found for the requested period.";const n=["9:00 AM - 10:00 AM","11:30 AM - 12:30 PM","2:00 PM - 3:00 PM","4:30 PM - 5:30 PM"];if(m){return`Available times ${o&&c?`from ${hz(o,"MMMM d, yyyy")} to ${hz(c,"MMMM d, yyyy")}`:"in the selected period"}:\n\n`+n.join("\n")}return`Available times ${i?hz(i,"MMMM d, yyyy"):"on the selected date"}:\n\n`+n.join("\n")}catch(Bze){return console.error("Error formatting availability data:",Bze),"Error processing availability data."}}),[t.availabilityResults,i,o,c,m]),y=ci.useCallback((t=>{h((n=>n.map((n=>n.id===e?{...n,data:{...n.data,...t,formattedAvailability:x}}:n))))}),[e,h,x]);return vi.jsxs("div",{className:"node-calendar-availability p-3 rounded-lg bg-white border border-blue-200 shadow-sm max-w-[250px] group",children:[t.onDuplicateNode&&t.onDeleteNode&&vi.jsxs("div",{className:"absolute -top-8 -right-2 bg-background border rounded-md shadow-sm flex z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[vi.jsx(VS,{children:vi.jsxs($S,{children:[vi.jsx(HS,{asChild:!0,children:vi.jsx(tk,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>t.onDuplicateNode&&t.onDuplicateNode(e),children:vi.jsx(Wb,{className:"h-3.5 w-3.5"})})}),vi.jsx(YS,{side:"top",children:vi.jsx("p",{className:"text-xs",children:"Duplicate node"})})]})}),vi.jsx(VS,{children:vi.jsxs($S,{children:[vi.jsx(HS,{asChild:!0,children:vi.jsx(tk,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive hover:text-destructive",onClick:()=>t.onDeleteNode&&t.onDeleteNode(e),children:vi.jsx(Yw,{className:"h-3.5 w-3.5"})})}),vi.jsx(YS,{side:"top",children:vi.jsx("p",{className:"text-xs",children:"Delete node"})})]})})]}),vi.jsxs("div",{className:"font-medium flex items-center gap-2 mb-2",children:[vi.jsx(Ub,{className:"h-4 w-4 text-blue-600"}),vi.jsx("span",{children:"Availability Check"}),vi.jsx("button",{className:"ml-auto text-xs text-muted-foreground hover:text-foreground",onClick:()=>r(!a),children:a?"Hide":"Edit"})]}),vi.jsxs("div",{className:"text-sm p-2 bg-secondary/40 rounded border border-border",children:[m?vi.jsxs("div",{className:"flex items-center gap-1",children:[vi.jsx(Sb,{className:"h-3.5 w-3.5 text-muted-foreground"}),vi.jsx("span",{children:o&&c?`${hz(o,"PPP")} - ${hz(c,"PPP")}`:"No date range selected"})]}):vi.jsxs("div",{className:"flex items-center gap-1",children:[vi.jsx(Sb,{className:"h-3.5 w-3.5 text-muted-foreground"}),vi.jsx("span",{children:i?hz(i,"PPP"):"No date selected"})]}),vi.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[vi.jsx(Ub,{className:"h-3.5 w-3.5 text-muted-foreground"}),vi.jsx("span",{children:u<60?`${u} minutes`:`${u/60} hour${u>60?"s":""}`})]}),g&&vi.jsx("div",{className:"mt-1 pt-1 border-t border-gray-100",children:vi.jsxs("div",{className:"text-xs font-medium text-emerald-600 flex items-center gap-1",children:[vi.jsx("span",{children:"✓"}),vi.jsx("span",{children:"Availability data ready"})]})})]}),a&&vi.jsxs("div",{className:"mt-3 text-xs space-y-3 p-2 border rounded bg-secondary/10",children:[vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsx(uB,{className:"text-xs font-medium",children:"Use date range"}),vi.jsx(f4,{checked:m,onCheckedChange:e=>{p(e),y({useDateRange:e,...e?{date:void 0}:{startDate:void 0,endDate:void 0}})},className:"h-[18px] w-[32px]"})]}),m?vi.jsxs("div",{className:"space-y-2",children:[vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 font-medium",children:"Start Date"}),vi.jsxs(F3,{children:[vi.jsx(B3,{asChild:!0,children:vi.jsxs(tk,{variant:"brand",size:"sm",className:iN("w-full justify-start text-left font-normal text-xs p-1 h-auto",!o&&"text-muted-foreground"),children:[vi.jsx(Sb,{className:"mr-2 h-3.5 w-3.5"}),o?hz(o,"PPP"):"Select start date"]})}),vi.jsx(U3,{className:"w-auto p-0",align:"start",children:vi.jsx(g5,{mode:"single",selected:o,onSelect:e=>{l(e),e&&y({startDate:e.toISOString(),date:void 0})},initialFocus:!0})})]})]}),vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 font-medium",children:"End Date"}),vi.jsxs(F3,{children:[vi.jsx(B3,{asChild:!0,children:vi.jsxs(tk,{variant:"brand",size:"sm",className:iN("w-full justify-start text-left font-normal text-xs p-1 h-auto",!c&&"text-muted-foreground"),disabled:!o,children:[vi.jsx(Sb,{className:"mr-2 h-3.5 w-3.5"}),c?hz(c,"PPP"):"Select end date"]})}),vi.jsx(U3,{className:"w-auto p-0",align:"start",children:vi.jsx(g5,{mode:"single",selected:c,onSelect:e=>{d(e),e&&y({endDate:e.toISOString(),date:void 0})},disabled:e=>!!o&&e<o,initialFocus:!0})})]})]})]}):vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 font-medium",children:"Date"}),vi.jsxs(F3,{children:[vi.jsx(B3,{asChild:!0,children:vi.jsxs(tk,{variant:"brand",size:"sm",className:iN("w-full justify-start text-left font-normal text-xs p-1 h-auto",!i&&"text-muted-foreground"),children:[vi.jsx(Sb,{className:"mr-2 h-3.5 w-3.5"}),i?hz(i,"PPP"):"Select date"]})}),vi.jsx(U3,{className:"w-auto p-0",align:"start",children:vi.jsx(g5,{mode:"single",selected:i,onSelect:e=>{s(e),e&&y({date:e.toISOString(),startDate:void 0,endDate:void 0})},initialFocus:!0})})]})]}),vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 font-medium",children:"Meeting Duration"}),vi.jsxs(AU,{value:u.toString(),onValueChange:e=>{const t=parseInt(e,10);f(t),y({durationMinutes:t})},children:[vi.jsx(PU,{className:"text-xs h-7",children:vi.jsx(DU,{placeholder:"Select duration"})}),vi.jsxs(zU,{children:[vi.jsx(FU,{value:"15",children:"15 minutes"}),vi.jsx(FU,{value:"30",children:"30 minutes"}),vi.jsx(FU,{value:"45",children:"45 minutes"}),vi.jsx(FU,{value:"60",children:"1 hour"}),vi.jsx(FU,{value:"90",children:"1.5 hours"}),vi.jsx(FU,{value:"120",children:"2 hours"})]})]})]}),vi.jsxs("div",{className:"text-[10px] text-muted-foreground mt-2 flex items-start",children:[vi.jsxs("span",{className:"mr-1",children:["This node will check the linked calendar for available time slots",m?" in the selected date range":" on the selected date","for meetings of the specified duration."]}),vi.jsx(VS,{children:vi.jsxs($S,{children:[vi.jsx(HS,{asChild:!0,children:vi.jsx("div",{className:"cursor-help",children:vi.jsx(lw,{className:"h-3 w-3 text-muted-foreground"})})}),vi.jsx(YS,{className:"max-w-xs",children:vi.jsx("p",{className:"text-xs",children:"Availability data will be passed to connected nodes. You can use this to conditionally show available slots or create dynamic responses."})})]})})]}),vi.jsxs("div",{className:"mt-3 border-t pt-2",children:[vi.jsx(uB,{className:"text-[10px] font-medium block mb-1",children:"Available Data for Connected Nodes:"}),vi.jsx("div",{className:"text-[10px] bg-background/80 p-1 rounded border border-border h-[60px] overflow-y-auto",children:vi.jsxs("code",{className:"whitespace-pre-wrap break-all",children:[vi.jsx("span",{className:"text-blue-600",children:"availability:"})," Contains all availability data",vi.jsx("br",{}),vi.jsx("span",{className:"text-blue-600",children:"{{availability}}"}),": Use in message nodes to show formatted availability"]})})]})]}),vi.jsx(m4,{type:"target",position:jX.Left,isConnectable:n}),vi.jsx(m4,{type:"source",position:jX.Right,isConnectable:n,id:"availability-data"})]})},ai_assistant:function({id:e,data:t,isConnectable:n}){var a,r,i;const{t:s}=sk(),[o,l]=ci.useState(!1),[c,d]=ci.useState(t.provider||"gemini"),[u,f]=ci.useState(t.model||"gemini-1.5-pro-latest"),[m,p]=ci.useState(t.apiKey||""),[h,g]=ci.useState(t.prompt||"You are a helpful assistant. Answer user questions concisely and accurately. Only perform specific actions when the user explicitly requests them."),[x,y]=ci.useState(void 0===t.enableHistory||t.enableHistory),[v,b]=ci.useState(t.historyLimit||5),[w,j]=ci.useState(t.enableTextToSpeech||!1),[N,C]=ci.useState(t.ttsVoice||"alloy"),[S,k]=ci.useState(t.voiceResponseMode||"always"),[M,_]=ci.useState(t.maxAudioDuration||30),[E,I]=ci.useState(t.enableSessionTakeover||!1),[L,A]=ci.useState(t.stopKeyword||"stop"),[T,D]=ci.useState(t.exitOutputHandle||"ai-stopped"),[P,O]=ci.useState(t.enableTaskExecution||!1),[R,z]=ci.useState(t.tasks||[]),[F,B]=ci.useState(0),{setNodes:U}=H0(),{onDeleteNode:W}=J5(),G=[{id:"always",name:"Always",description:"Generate voice responses for all messages (text and voice)"},{id:"voice_only",name:"Voice-to-Voice Only",description:"Only generate voice responses when user sends a voice message"},{id:"never",name:"Never",description:"Disable voice responses (text only)"}],V=[{name:"📄 Share Document",description:"Triggers when user explicitly requests documents, brochures, files, or materials",example:'"Can you send me the product brochure?" or "I need the pricing sheet"',functionDefinition:{name:"share_document",description:"ONLY call this function when the user explicitly requests a specific document, file, brochure, catalog, manual, or material. Do NOT call for general greetings, questions, or conversations. The user must clearly ask for something to be shared or sent.",parameters:{type:"object",properties:{document_type:{type:"string",description:"Specific type of document explicitly requested by the user (brochure, manual, catalog, price list, etc.)"},user_request:{type:"string",description:"The exact words the user used to request the document"}},required:["document_type","user_request"]}}},{name:"📅 Schedule Appointment",description:"Triggers when user wants to book, schedule, or arrange meetings/appointments",example:'"I\'d like to schedule a consultation" or "Can we book a meeting?"',functionDefinition:{name:"schedule_appointment",description:"ONLY call this function when the user explicitly asks to schedule, book, arrange, or set up an appointment, meeting, or consultation. Do NOT call for general inquiries about availability or services. The user must clearly express intent to schedule something.",parameters:{type:"object",properties:{preferred_date:{type:"string",description:"User's preferred date for the appointment if mentioned"},preferred_time:{type:"string",description:"User's preferred time for the appointment if mentioned"},appointment_type:{type:"string",description:"Type of appointment explicitly requested (consultation, demo, support, meeting, etc.)"}},required:["appointment_type"]}}},{name:"👤 Transfer to Agent",description:"Triggers when user explicitly requests to speak with a human representative",example:'"I need to speak with someone" or "Can I talk to an agent?"',functionDefinition:{name:"transfer_to_agent",description:"ONLY call this function when the user explicitly asks to speak with a human, agent, representative, person, or requests human assistance. Do NOT call for general questions or when the user is satisfied with AI responses. The user must clearly express desire for human interaction.",parameters:{type:"object",properties:{reason:{type:"string",description:"Specific reason the user gave for requesting human assistance"},urgency:{type:"string",enum:["low","medium","high"],description:"Urgency level based on user's tone and request"}},required:["reason"]}}},{name:"🛒 Product Inquiry",description:"Triggers when user asks about specific products, pricing, or availability",example:'"What\'s the price of..." or "Do you have this product in stock?"',functionDefinition:{name:"product_inquiry",description:"ONLY call this function when the user explicitly asks about specific products, pricing, availability, or product details. Do NOT call for general browsing or casual mentions. The user must clearly request product information.",parameters:{type:"object",properties:{product_name:{type:"string",description:"Name or description of the product the user is asking about"},inquiry_type:{type:"string",enum:["price","availability","specifications","general"],description:"Type of inquiry about the product"},user_question:{type:"string",description:"The exact question the user asked about the product"}},required:["product_name","inquiry_type","user_question"]}}}],$=x4.find((e=>e.id===c)),H=(null==$?void 0:$.models)||[],Y=ci.useCallback((t=>{U((n=>n.map((n=>n.id===e?{...n,data:{...n.data,...t}}:n))))}),[e,U]);ci.useEffect((()=>{Y({provider:c,model:u,apiKey:m,prompt:h,enableHistory:x,historyLimit:v,enableTextToSpeech:w,ttsVoice:N,voiceResponseMode:S,maxAudioDuration:M,enableSessionTakeover:E,stopKeyword:L,exitOutputHandle:T,enableTaskExecution:P,tasks:R})}),[Y,c,u,m,h,x,v,w,N,S,M,E,L,T,P,R]),ci.useEffect((()=>{F>0&&U((t=>t.map((t=>t.id===e?{...t,data:{...t.data,_handleKey:F}}:t))))}),[F,e,U]);const q=()=>{var e;return(null==(e=x4.find((e=>e.id===c)))?void 0:e.name)||"AI Provider"};return vi.jsxs("div",{className:"node-ai-assistant rounded-lg bg-white border border-emerald-200 shadow-sm max-w-[320px] group relative",children:[vi.jsx("div",{className:"absolute -top-8 -right-2 bg-background border rounded-md shadow-sm flex z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:vi.jsx(VS,{children:vi.jsxs($S,{children:[vi.jsx(HS,{asChild:!0,children:vi.jsx(tk,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive hover:text-destructive",onClick:()=>W(e),children:vi.jsx(Yw,{className:"h-3.5 w-3.5"})})}),vi.jsx(YS,{side:"top",children:vi.jsx("p",{className:"text-xs",children:s("flow_builder.delete_node","Delete node")})})]})})}),vi.jsx("div",{className:"p-3 border-b border-emerald-100 bg-emerald-50/30",children:vi.jsxs("div",{className:"font-medium flex items-center gap-2",children:[vi.jsx(Lw,{className:"h-4 w-4 text-emerald-600"}),vi.jsx("span",{children:s("flow_builder.ai_assistant","AI Assistant")}),vi.jsx("button",{className:"ml-auto text-xs text-muted-foreground hover:text-foreground transition-colors",onClick:()=>l(!o),children:o?s("common.hide","Hide"):s("common.edit","Edit")})]})}),vi.jsx("div",{children:vi.jsxs("div",{className:"p-3 space-y-3",children:[vi.jsxs("div",{className:"text-sm p-3 bg-secondary/40 rounded border border-border",children:[vi.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[vi.jsx(zw,{className:"h-3.5 w-3.5 text-muted-foreground"}),vi.jsx("span",{className:"font-medium",children:q()}),vi.jsx("span",{className:"text-xs text-muted-foreground",children:(null==(a=H.find((e=>e.id===u)))?void 0:a.name)||u})]}),vi.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:h.length>80?h.substring(0,80)+"...":h}),vi.jsxs("div",{className:"flex flex-wrap gap-1",children:[x&&vi.jsxs("span",{className:"text-[10px] bg-emerald-100 text-emerald-800 px-1.5 py-0.5 rounded-full",children:["History: ",v]}),P&&R.filter((e=>e.enabled)).length>0&&vi.jsxs("span",{className:"text-[10px] bg-indigo-100 text-indigo-800 px-1.5 py-0.5 rounded-full",children:["Tasks: ",R.filter((e=>e.enabled)).length]}),w&&"openai"===c&&vi.jsxs("span",{className:"text-[10px] bg-pink-100 text-pink-800 px-1.5 py-0.5 rounded-full",children:["TTS: ",(null==(r=G.find((e=>e.id===S)))?void 0:r.name)||"Always"]}),w&&"openai"===c&&M&&M<30&&vi.jsxs("span",{className:"text-[10px] bg-orange-100 text-orange-800 px-1.5 py-0.5 rounded-full",children:["Audio: ",M,"s max"]})]})]}),o&&vi.jsxs(vi.Fragment,{children:[vi.jsxs("div",{className:"border rounded-lg p-3 bg-gradient-to-r from-emerald-50 to-blue-50",children:[vi.jsxs("h3",{className:"text-sm font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[vi.jsx(zw,{className:"h-4 w-4"}),"AI Configuration"]}),vi.jsxs("div",{className:"space-y-3",children:[vi.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[vi.jsxs("div",{children:[vi.jsx(uB,{className:"text-[10px] font-medium text-gray-700",children:s("flow_builder.ai_provider","AI Provider")}),vi.jsxs(AU,{value:c,onValueChange:e=>{d(e);const t=x4.find((t=>t.id===e));t&&t.models.length>0&&f(t.models[0].id)},children:[vi.jsx(PU,{className:"text-xs h-7 mt-1",children:vi.jsx(DU,{placeholder:s("flow_builder.ai_select_provider","Select provider")})}),vi.jsx(zU,{children:x4.map((e=>vi.jsx(FU,{value:e.id,children:e.name},e.id)))})]})]}),vi.jsxs("div",{children:[vi.jsx(uB,{className:"text-[10px] font-medium text-gray-700",children:s("flow_builder.ai_model","Model")}),vi.jsxs(AU,{value:u,onValueChange:e=>{f(e)},children:[vi.jsx(PU,{className:"text-xs h-7 mt-1",children:vi.jsx(DU,{placeholder:s("flow_builder.ai_select_model","Select model")})}),vi.jsx(zU,{children:H.map((e=>vi.jsx(FU,{value:e.id,children:e.name},e.id)))})]})]})]}),vi.jsxs("div",{children:[vi.jsx(uB,{className:"text-[10px] font-medium text-gray-700",children:s("flow_builder.ai_api_key","API Key")}),vi.jsx(fB,{type:"password",placeholder:s("flow_builder.ai_api_key_placeholder","Enter your {{provider}} API key",{provider:q()}),value:m,onChange:e=>{p(e.target.value)},className:"text-xs h-7 mt-1"}),vi.jsx("div",{className:"mt-1",children:vi.jsx("a",{href:(()=>{switch(c){case"openai":return"https://platform.openai.com/api-keys";case"anthropic":return"https://console.anthropic.com/keys";case"gemini":return"https://ai.google.dev/";case"deepseek":return"https://platform.deepseek.com/";default:return"#"}})(),target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-blue-600 hover:underline",children:s("flow_builder.ai_get_api_key","Get your API key here")})})]}),vi.jsxs("div",{children:[vi.jsx(uB,{className:"text-[10px] font-medium text-gray-700",children:s("flow_builder.ai_system_prompt","System Prompt")}),vi.jsx(mB,{placeholder:s("flow_builder.ai_prompt_placeholder","Enter instructions for the AI"),value:h,onChange:e=>{g(e.target.value)},className:"text-xs min-h-[80px] resize-none mt-1"})]})]})]}),vi.jsxs("div",{className:"border rounded-lg p-3 bg-gradient-to-r from-blue-50 to-purple-50",children:[vi.jsxs("h3",{className:"text-sm font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[vi.jsx(lw,{className:"h-4 w-4"}),"Conversation"]}),vi.jsxs("div",{className:"space-y-3",children:[vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsx(uB,{className:"text-xs font-medium cursor-pointer",children:s("flow_builder.ai_enable_history","Conversation History")}),vi.jsx(f4,{checked:x,onCheckedChange:y})]}),x&&vi.jsxs("div",{className:"pl-4 border-l-2 border-blue-200",children:[vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsx(uB,{className:"text-[10px] font-medium text-gray-700",children:s("flow_builder.ai_history_limit","Message Limit")}),vi.jsxs("div",{className:"flex items-center gap-1",children:[vi.jsx(tk,{variant:"outline",size:"sm",className:"h-6 w-6 p-0 text-xs",onClick:()=>b(Math.max(1,v-1)),disabled:v<=1,children:"-"}),vi.jsx("span",{className:"text-xs w-6 text-center font-medium",children:v}),vi.jsx(tk,{variant:"outline",size:"sm",className:"h-6 w-6 p-0 text-xs",onClick:()=>b(Math.min(20,v+1)),disabled:v>=20,children:"+"})]})]}),vi.jsx("p",{className:"text-[9px] text-muted-foreground mt-1",children:"Previous messages to include for context"})]})]})]}),"openai"===c&&vi.jsxs("div",{className:"border rounded-lg p-3 bg-gradient-to-r from-orange-50 to-pink-50",children:[vi.jsxs("h3",{className:"text-sm font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[vi.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:vi.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),"Voice Processing"]}),vi.jsxs("div",{className:"space-y-3",children:[vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsxs("div",{children:[vi.jsx(uB,{className:"text-xs font-medium cursor-pointer",children:s("flow_builder.ai_enable_tts","Text-to-Speech")}),vi.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Convert AI responses to voice messages"})]}),vi.jsx(f4,{checked:w,onCheckedChange:j})]}),w&&vi.jsxs("div",{className:"pl-4 border-l-2 border-pink-200 space-y-3",children:[vi.jsxs("div",{children:[vi.jsx(uB,{className:"text-[10px] font-medium text-gray-700",children:s("flow_builder.ai_tts_voice","Voice Selection")}),vi.jsxs(AU,{value:N,onValueChange:C,children:[vi.jsx(PU,{className:"text-xs h-7 mt-1",children:vi.jsx(DU,{placeholder:"Select voice..."})}),vi.jsx(zU,{children:[{id:"alloy",name:"Alloy (Neutral)"},{id:"echo",name:"Echo (Male)"},{id:"fable",name:"Fable (British Male)"},{id:"onyx",name:"Onyx (Deep Male)"},{id:"nova",name:"Nova (Female)"},{id:"shimmer",name:"Shimmer (Soft Female)"}].map((e=>vi.jsx(FU,{value:e.id,children:e.name},e.id)))})]}),vi.jsx("p",{className:"text-[9px] text-muted-foreground mt-1",children:"Choose the voice for AI audio responses"})]}),vi.jsxs("div",{children:[vi.jsx(uB,{className:"text-[10px] font-medium text-gray-700",children:s("flow_builder.ai_voice_response_mode","Voice Response Mode")}),vi.jsxs(AU,{value:S,onValueChange:k,children:[vi.jsx(PU,{className:"text-xs h-7 mt-1",children:vi.jsx(DU,{placeholder:"Select mode..."})}),vi.jsx(zU,{children:G.map((e=>vi.jsx(FU,{value:e.id,children:vi.jsxs("div",{className:"flex flex-col",children:[vi.jsx("span",{className:"font-medium",children:e.name}),vi.jsx("span",{className:"text-[10px] text-muted-foreground",children:e.description})]})},e.id)))})]}),vi.jsx("p",{className:"text-[9px] text-muted-foreground mt-1",children:null==(i=G.find((e=>e.id===S)))?void 0:i.description})]})]}),vi.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-md p-2",children:vi.jsxs("p",{className:"text-[10px] text-orange-700",children:[vi.jsx("strong",{children:"Note:"})," Voice processing requires OpenAI provider and valid API key. Audio processing uses Whisper API, TTS uses OpenAI's voice synthesis."]})})]})]}),"openai"===c&&w&&vi.jsxs("div",{className:"border rounded-lg p-3 bg-gradient-to-r from-orange-50 to-red-50",children:[vi.jsxs("h3",{className:"text-sm font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[vi.jsx(Ub,{className:"h-4 w-4"}),"Audio Processing Limits"]}),vi.jsxs("div",{className:"space-y-3",children:[vi.jsxs("div",{children:[vi.jsx(uB,{className:"text-[10px] font-medium text-gray-700",children:"Maximum Audio Duration (seconds)"}),vi.jsx(fB,{type:"number",min:"1",max:"30",value:M,onChange:e=>{const t=parseInt(e.target.value);t>=1&&t<=30&&_(t)},className:"text-xs h-7 mt-1",placeholder:"30"}),vi.jsx("p",{className:"text-[9px] text-muted-foreground mt-1",children:"Audio messages longer than this limit will not be transcribed or generate TTS responses to save API costs"}),M>30&&vi.jsx("p",{className:"text-[9px] text-red-600 mt-1",children:"Maximum allowed duration is 30 seconds"}),M<1&&vi.jsx("p",{className:"text-[9px] text-red-600 mt-1",children:"Minimum duration is 1 second"})]}),vi.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-2",children:vi.jsxs("p",{className:"text-[10px] text-yellow-700",children:["💰 ",vi.jsx("strong",{children:"Cost Optimization:"})," Limiting audio duration prevents expensive API calls for long voice messages. Users will receive a text response asking them to send shorter messages."]})})]})]}),vi.jsxs("div",{className:"border rounded-lg p-3 bg-gradient-to-r from-indigo-50 to-purple-50",children:[vi.jsxs("div",{className:"flex items-center justify-between mb-3",children:[vi.jsxs("h3",{className:"text-sm font-semibold text-gray-800 flex items-center gap-2",children:[vi.jsx(Lw,{className:"h-4 w-4"}),"Task Execution"]}),vi.jsx(f4,{checked:P,onCheckedChange:O})]}),P&&vi.jsxs("div",{className:"space-y-3",children:[vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsxs(uB,{className:"text-xs font-medium text-gray-700",children:[s("flow_builder.ai_tasks","Configured Tasks")," (",R.length,")"]}),vi.jsxs("div",{className:"flex items-center gap-1",children:[vi.jsxs(AU,{onValueChange:e=>{const t=V.find((t=>t.name===e));t&&(e=>{const t={id:`task_${Date.now()}`,name:e.name,description:e.description,functionDefinition:e.functionDefinition,outputHandle:`task_${Date.now()}`,enabled:!0};z([...R,t]),B((e=>e+1))})(t)},children:[vi.jsx(PU,{className:"h-7 w-20 text-xs",children:vi.jsx(DU,{placeholder:"📋"})}),vi.jsx(zU,{className:"w-64 max-h-60 overflow-y-auto z-50",side:"top",align:"end",sideOffset:8,avoidCollisions:!0,children:V.map((e=>vi.jsx(FU,{value:e.name,className:"text-xs p-2",children:vi.jsxs("div",{className:"flex flex-col items-start space-y-1 max-w-full",children:[vi.jsx("span",{className:"font-medium text-xs truncate max-w-full",children:e.name}),vi.jsxs("span",{className:"text-[9px] text-muted-foreground",children:[e.description.split(" ").slice(0,10).join(" "),e.description.split(" ").length>10?"...":""]})]})},e.name)))})]}),vi.jsxs(tk,{type:"button",variant:"outline",size:"sm",onClick:()=>{const e={id:`task_${Date.now()}`,name:"Share Document",description:"When user requests a document, brochure, or file to be shared",functionDefinition:{name:"share_document",description:"Share a document or file with the user when they request it",parameters:{type:"object",properties:{document_type:{type:"string",description:"Type of document requested (brochure, manual, catalog, etc.)"},user_request:{type:"string",description:"The user's original request for the document"}},required:["document_type","user_request"]}},outputHandle:`task_${Date.now()}`,enabled:!0};z([...R,e]),B((e=>e+1))},className:"h-7 px-2 text-xs",children:[vi.jsx(_w,{className:"h-3 w-3 mr-1"}),"Custom"]})]})]}),0===R.length?vi.jsxs("div",{className:"text-center py-4 border-2 border-dashed border-gray-200 rounded-lg",children:[vi.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"No tasks configured"}),vi.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Add tasks to enable AI function calling and flow routing"})]}):vi.jsx("div",{className:"space-y-2",children:R.map(((e,t)=>vi.jsx(y4,{task:e,index:t,onUpdate:t=>((e,t)=>{z(R.map((n=>n.id===e?{...n,...t}:n))),void 0===t.enabled&&void 0===t.outputHandle||B((e=>e+1))})(e.id,t),onRemove:()=>{return t=e.id,z(R.filter((e=>e.id!==t))),void B((e=>e+1));var t},t:s},e.id)))}),vi.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-2",children:vi.jsxs("p",{className:"text-[10px] text-blue-700",children:["💡 ",vi.jsx("strong",{children:"Tip:"})," Each active task creates an output handle for flow routing. Use specific descriptions to prevent false triggers."]})})]}),!P&&vi.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Enable task execution to allow AI function calling and advanced flow routing"})]})]})]})}),vi.jsx(l0,{type:"target",position:jX.Left,style:p4,isConnectable:n}),P&&R.filter((e=>e.enabled)).map(((e,t)=>{const a=R.filter((e=>e.enabled)).length+(E?1:0),r=Math.min(15,60/Math.max(a,1));return vi.jsx("div",{className:"absolute right-0 flex items-center pointer-events-none",style:{top:30+t*r+"%"},children:vi.jsx(VS,{children:vi.jsxs($S,{children:[vi.jsx(HS,{asChild:!0,children:vi.jsx("div",{className:"pointer-events-auto",children:vi.jsx(l0,{type:"source",position:jX.Right,id:e.outputHandle,style:p4,isConnectable:n,onMouseDown:e=>{e.stopPropagation()},onMouseMove:e=>{e.stopPropagation()}},`handle-${e.outputHandle}-${F}`)})}),vi.jsx(YS,{side:"left",children:vi.jsxs("div",{className:"max-w-[250px]",children:[vi.jsx("p",{className:"text-xs font-medium text-blue-600",children:e.name}),vi.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:e.description}),vi.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1 italic",children:["Function: ",e.functionDefinition.name]})]})})]})})},`${e.id}-${F}`)}))]})},update_pipeline_stage:function({id:e,data:t,selected:n,isConnectable:a}){!function(){const e=FK();ci.useCallback((t=>{const{domNode:n,updateNodeDimensions:a}=e.getState(),r=(Array.isArray(t)?t:[t]).reduce(((e,t)=>{const a=null==n?void 0:n.querySelector(`.react-flow__node[data-id="${t}"]`);return a&&e.push({id:t,nodeElement:a,forceUpdate:!0}),e}),[]);requestAnimationFrame((()=>a(r)))}),[])}();const{onDeleteNode:r,onDuplicateNode:i}=J5(),{getNodes:s,setNodes:o}=H0(),[l,c]=ci.useState(!1),{data:d,isLoading:u}=ky({queryKey:["/api/pipeline/stages"],staleTime:6e4});ci.useEffect((()=>{if(t&&!t.dealIdVariable){const n={...t,dealIdVariable:"{{contact.id}}"},a=s().map((t=>t.id===e?{...t,data:n}:t));o(a)}}),[t,e,s,o]);const f=ci.useCallback((()=>{r(e)}),[e,r]),m=ci.useCallback((()=>{i(e)}),[e,i]),p=ci.useCallback((t=>{const n=s().map((n=>n.id===e?{...n,data:{...n.data,stageId:t}}:n));o(n)}),[e,s,o]),h=ci.useCallback((t=>{const n=t.target.value,a=s().map((t=>t.id===e?{...t,data:{...t.data,dealIdVariable:n}}:t));o(a)}),[e,s,o]);return vi.jsxs("div",{className:"group relative",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[l&&vi.jsxs("div",{className:"absolute -top-10 right-0 flex space-x-2 z-50 bg-background p-1 rounded-md shadow-sm",children:[vi.jsx(tk,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:m,children:vi.jsx(Wb,{className:"h-4 w-4"})}),vi.jsx(tk,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:f,children:vi.jsx(Yw,{className:"h-4 w-4"})})]}),vi.jsx(l0,{type:"target",position:jX.Left,isConnectable:a,className:"w-2 h-2 border-2 bg-background border-primary",id:"target"}),vi.jsxs(qS,{className:"w-[280px] "+(n?"border-primary border-2":""),children:[vi.jsx(QS,{className:"p-4 pb-2 flex flex-row items-center justify-between space-y-0",children:vi.jsxs("div",{children:[vi.jsxs(ZS,{className:"text-md flex items-center",children:[vi.jsx(Db,{className:"w-4 h-4 mr-2"}),"Update Pipeline Stage"]}),vi.jsx(JS,{children:"Move contact to a new stage"})]})}),vi.jsxs(KS,{className:"p-4 pt-0 space-y-3",children:[vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:`${e}-stage-select`,children:"Move to Stage"}),vi.jsxs(AU,{value:t.stageId||"",onValueChange:p,children:[vi.jsx(PU,{id:`${e}-stage-select`,children:vi.jsx(DU,{placeholder:"Select a stage"})}),vi.jsx(zU,{children:u?vi.jsx(FU,{value:"loading",children:"Loading stages..."}):null==d?void 0:d.map((e=>vi.jsx(FU,{value:e.id.toString(),className:"flex items-center",children:vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),e.name]})},e.id)))})]})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:`${e}-deal-variable`,children:"Deal ID Variable"}),vi.jsx(fB,{id:`${e}-deal-variable`,value:t.dealIdVariable||"",onChange:h,placeholder:"Enter variable name"}),vi.jsx("p",{className:"text-xs text-muted-foreground",children:"Variable that contains the deal/contact ID (default: {{contact.id}})"})]})]})]})]})},webhook:function({id:e,data:t,isConnectable:n}){var a;const{t:r}=sk(),[i,s]=ci.useState(!1),[o,l]=ci.useState(t.url||""),[c,d]=ci.useState(t.method||"POST"),[u,f]=ci.useState(t.headers||[]),[m,p]=ci.useState(t.body||""),[h,g]=ci.useState(t.authType||"none"),[x,y]=ci.useState(t.authToken||""),[v,b]=ci.useState(t.authUsername||""),[w,j]=ci.useState(t.authPassword||""),[N,C]=ci.useState(t.authApiKey||""),[S,k]=ci.useState(t.authApiKeyHeader||"X-API-Key"),[M,_]=ci.useState(t.timeout||30),[E,I]=ci.useState(void 0===t.followRedirects||t.followRedirects),[L,A]=ci.useState(!1),[T,D]=ci.useState(null),[P,O]=ci.useState(!1),[R,z]=ci.useState(!1),{setNodes:F}=H0(),{onDeleteNode:B,onDuplicateNode:U}=J5(),W=ci.useCallback((t=>{F((n=>n.map((n=>n.id===e?{...n,data:{...n.data,...t}}:n))))}),[e,F]);ci.useEffect((()=>{W({url:o,method:c,headers:u,body:m,authType:h,authToken:x,authUsername:v,authPassword:w,authApiKey:N,authApiKeyHeader:S,timeout:M,followRedirects:E})}),[W,o,c,u,m,h,x,v,w,N,S,M,E]);const G=(e,t,n)=>{const a=[...u];a[e][t]=n,f(a)},V=e=>{switch(e){case"GET":return"text-blue-600";case"POST":return"text-green-600";case"PUT":return"text-orange-600";case"DELETE":return"text-red-600";case"PATCH":return"text-purple-600";default:return"text-gray-600"}},$=e=>{const t={"contact.name":"Test Contact","contact.phone":"+1234567890","contact.email":"test@example.com","message.content":"This is a test message","date.today":(new Date).toISOString().split("T")[0],"time.now":(new Date).toLocaleTimeString(),"user.name":"Test User","user.id":"123"};let n=e;return Object.entries(t).forEach((([e,t])=>{const a=new RegExp(`\\{\\{${e}\\}\\}`,"g");n=n.replace(a,t)})),n};return vi.jsxs("div",{className:"node-webhook p-3 rounded-lg bg-white border border-blue-200 shadow-sm max-w-[320px] group",children:[vi.jsxs("div",{className:"absolute -top-8 -right-2 bg-background border rounded-md shadow-sm flex z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[vi.jsx(VS,{children:vi.jsxs($S,{children:[vi.jsx(HS,{asChild:!0,children:vi.jsx(tk,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>U(e),children:vi.jsx(Wb,{className:"h-3.5 w-3.5"})})}),vi.jsx(YS,{side:"top",children:vi.jsx("p",{className:"text-xs",children:r("flow_builder.duplicate_node","Duplicate node")})})]})}),vi.jsx(VS,{children:vi.jsxs($S,{children:[vi.jsx(HS,{asChild:!0,children:vi.jsx(tk,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive hover:text-destructive",onClick:()=>B(e),children:vi.jsx(Yw,{className:"h-3.5 w-3.5"})})}),vi.jsx(YS,{side:"top",children:vi.jsx("p",{className:"text-xs",children:r("flow_builder.delete_node","Delete node")})})]})})]}),vi.jsxs("div",{className:"font-medium flex items-center gap-2 mb-2",children:[vi.jsx(aw,{className:"h-4 w-4 text-blue-600"}),vi.jsx("span",{children:r("flow_builder.webhook","Webhook")}),vi.jsx("button",{className:"ml-auto text-xs text-muted-foreground hover:text-foreground",onClick:()=>s(!i),children:i?r("common.hide","Hide"):r("common.edit","Edit")})]}),vi.jsxs("div",{className:"text-sm p-2 bg-secondary/40 rounded border border-border",children:[vi.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[vi.jsx(zw,{className:"h-3.5 w-3.5 text-muted-foreground"}),vi.jsx("span",{className:iN("font-medium",V(c)),children:c}),vi.jsx("span",{className:"text-muted-foreground",children:"•"}),vi.jsx("span",{className:"text-xs text-muted-foreground truncate",children:o||r("flow_builder.webhook_no_url","No URL configured")})]}),vi.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:["none"!==h&&vi.jsxs("span",{className:"text-[10px] bg-blue-100 text-blue-800 px-1 py-0.5 rounded",children:["Auth: ",null==(a=E5.find((e=>e.id===h)))?void 0:a.name]}),u.length>0&&vi.jsxs("span",{className:"text-[10px] bg-purple-100 text-purple-800 px-1 py-0.5 rounded",children:[u.length," header",1!==u.length?"s":""]}),m&&("POST"===c||"PUT"===c||"PATCH"===c)&&vi.jsx("span",{className:"text-[10px] bg-green-100 text-green-800 px-1 py-0.5 rounded",children:r("flow_builder.webhook_body_configured","Body configured")})]})]}),i&&vi.jsxs("div",{className:"mt-3 text-xs space-y-3 border rounded p-2 bg-secondary/10",children:[vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 font-medium",children:r("flow_builder.webhook_method","HTTP Method")}),vi.jsxs(AU,{value:c,onValueChange:d,children:[vi.jsx(PU,{className:"text-xs h-7",children:vi.jsx(DU,{placeholder:r("flow_builder.webhook_select_method","Select method")})}),vi.jsx(zU,{children:_5.map((e=>vi.jsx(FU,{value:e.id,children:vi.jsx("span",{className:V(e.id),children:e.name})},e.id)))})]})]}),vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 font-medium",children:r("flow_builder.webhook_url","Webhook URL")}),vi.jsxs("div",{className:"flex gap-2",children:[vi.jsx(fB,{type:"url",placeholder:r("flow_builder.webhook_url_placeholder","https://api.example.com/webhook"),value:o,onChange:e=>l(e.target.value),className:"text-xs h-7 flex-1"}),vi.jsx(tk,{variant:"outline",size:"sm",className:"h-7 px-2",onClick:async()=>{if(!o.trim())return D({success:!1,error:"Please enter a webhook URL"}),void O(!0);if(!(e=>{try{return new URL(e),!0}catch{return!1}})(o))return D({success:!1,error:"Please enter a valid URL (must include http:// or https://)"}),void O(!0);A(!0),D(null),O(!0);const e=Date.now();try{const n={"Content-Type":"application/json"};if(u.forEach((e=>{e.key&&e.value&&(n[e.key]=$(e.value))})),"bearer"===h&&x)n.Authorization=`Bearer ${x}`;else if("basic"===h&&v&&w){const e=btoa(`${v}:${w}`);n.Authorization=`Basic ${e}`}else"apikey"===h&&N&&S&&(n[S]=N);const a={method:c,headers:n,redirect:E?"follow":"manual"};if(("POST"===c||"PUT"===c||"PATCH"===c)&&m)try{const e=$(m);JSON.parse(e),a.body=e}catch(t){return void D({success:!1,error:"Invalid JSON in request body"})}const r=new AbortController,i=window.setTimeout((()=>r.abort()),1e3*M);a.signal=r.signal;const s=await fetch(o,a);window.clearTimeout(i);const l=Date.now()-e;let d;const f=s.headers.get("content-type");try{d=(null==f?void 0:f.includes("application/json"))?await s.json():await s.text()}catch{d="Unable to parse response body"}const p={};s.headers.forEach(((e,t)=>{p[t]=e})),D({success:s.ok,status:s.status,statusText:s.statusText,headers:p,data:d,duration:l})}catch(n){const t=Date.now()-e;let a="Unknown error occurred";"AbortError"===n.name?a=`Request timed out after ${M} seconds`:n.message&&(a=n.message),D({success:!1,error:a,duration:t})}finally{A(!1)}},disabled:L||!o.trim(),title:r("flow_builder.webhook_test_tooltip","Test webhook with current configuration"),children:L?vi.jsx(uw,{className:"h-3 w-3 animate-spin"}):vi.jsx(Mw,{className:"h-3 w-3"})})]})]}),vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 font-medium",children:r("flow_builder.webhook_authentication","Authentication")}),vi.jsxs(AU,{value:h,onValueChange:g,children:[vi.jsx(PU,{className:"text-xs h-7",children:vi.jsx(DU,{placeholder:r("flow_builder.webhook_select_auth","Select auth type")})}),vi.jsx(zU,{children:E5.map((e=>vi.jsx(FU,{value:e.id,children:e.name},e.id)))})]}),"bearer"===h&&vi.jsx("div",{className:"mt-2",children:vi.jsx(fB,{type:"password",placeholder:r("flow_builder.webhook_bearer_token","Bearer token"),value:x,onChange:e=>y(e.target.value),className:"text-xs h-7"})}),"basic"===h&&vi.jsxs("div",{className:"mt-2 space-y-2",children:[vi.jsx(fB,{placeholder:r("flow_builder.webhook_username","Username"),value:v,onChange:e=>b(e.target.value),className:"text-xs h-7"}),vi.jsx(fB,{type:"password",placeholder:r("flow_builder.webhook_password","Password"),value:w,onChange:e=>j(e.target.value),className:"text-xs h-7"})]}),"apikey"===h&&vi.jsxs("div",{className:"mt-2 space-y-2",children:[vi.jsx(fB,{placeholder:"Header name (e.g., X-API-Key)",value:S,onChange:e=>k(e.target.value),className:"text-xs h-7"}),vi.jsx(fB,{type:"password",placeholder:"API key value",value:N,onChange:e=>C(e.target.value),className:"text-xs h-7"})]})]}),vi.jsxs("div",{children:[vi.jsxs("div",{className:"flex items-center justify-between mb-2",children:[vi.jsx(uB,{className:"font-medium",children:"Custom Headers"}),vi.jsxs(tk,{variant:"outline",size:"sm",className:"h-6 text-xs",onClick:()=>{f([...u,{key:"",value:""}])},children:[vi.jsx(_w,{className:"h-3 w-3 mr-1"}),"Add"]})]}),u.map(((e,t)=>vi.jsxs("div",{className:"flex gap-2 mb-2",children:[vi.jsx(fB,{placeholder:"Header name",value:e.key,onChange:e=>G(t,"key",e.target.value),className:"text-xs h-7 flex-1"}),vi.jsx(fB,{placeholder:"Header value",value:e.value,onChange:e=>G(t,"value",e.target.value),className:"text-xs h-7 flex-1"}),vi.jsx(tk,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>(e=>{f(u.filter(((t,n)=>n!==e)))})(t),children:vi.jsx(fj,{className:"h-3 w-3"})})]},t)))]}),("POST"===c||"PUT"===c||"PATCH"===c)&&vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 font-medium",children:"Request Body (JSON)"}),vi.jsx(mB,{placeholder:'{"key": "value", "data": "{{contact.name}}"}',value:m,onChange:e=>p(e.target.value),className:"text-xs min-h-[80px] resize-y font-mono"}),vi.jsx("div",{className:"text-[10px] text-muted-foreground mt-1",children:"Use {{variable}} syntax for dynamic values"})]}),vi.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsx(uB,{className:"text-xs font-medium",children:"Timeout (seconds)"}),vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx(tk,{variant:"outline",size:"sm",className:"h-6 w-6 p-0",onClick:()=>_(Math.max(1,M-5)),disabled:M<=1,children:"-"}),vi.jsx("span",{className:"text-xs w-8 text-center",children:M}),vi.jsx(tk,{variant:"outline",size:"sm",className:"h-6 w-6 p-0",onClick:()=>_(Math.min(300,M+5)),disabled:M>=300,children:"+"})]})]}),vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsx(uB,{className:"text-xs font-medium cursor-pointer",children:"Follow redirects"}),vi.jsx(f4,{checked:E,onCheckedChange:I})]})]}),vi.jsx("div",{className:"text-[10px] text-muted-foreground mt-2",children:vi.jsx("p",{children:"The webhook node will make an HTTP request to the specified URL. Response data will be available as variables in subsequent nodes."})}),P&&T&&vi.jsxs("div",{className:"mt-3 border rounded p-2 bg-secondary/5",children:[vi.jsxs("div",{className:"flex items-center justify-between mb-2",children:[vi.jsxs("div",{className:"flex items-center gap-2",children:[T.success?vi.jsx(Pb,{className:"h-4 w-4 text-green-600"}):vi.jsx(Fb,{className:"h-4 w-4 text-red-600"}),vi.jsx("span",{className:"text-xs font-medium",children:T.success?"Test Successful":"Test Failed"}),T.duration&&vi.jsxs("span",{className:"text-[10px] text-muted-foreground",children:["(",T.duration,"ms)"]})]}),vi.jsx(tk,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0",onClick:()=>O(!1),children:vi.jsx(fj,{className:"h-3 w-3"})})]}),T.error?vi.jsx("div",{className:"text-xs text-red-600 bg-red-50 p-2 rounded",children:T.error}):vi.jsxs("div",{className:"space-y-2",children:[vi.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[vi.jsx("span",{className:"font-medium",children:"Status:"}),vi.jsxs("span",{className:"px-1 py-0.5 rounded text-[10px] "+(T.success?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[T.status," ",T.statusText]})]}),T.headers&&Object.keys(T.headers).length>0&&vi.jsxs("div",{children:[vi.jsxs("button",{className:"text-xs font-medium text-muted-foreground hover:text-foreground flex items-center gap-1",onClick:()=>z(!R),children:["Response Headers",R?vi.jsx(Lb,{className:"h-3 w-3"}):vi.jsx(_b,{className:"h-3 w-3"})]}),R&&vi.jsx("div",{className:"mt-1 text-[10px] bg-gray-50 p-2 rounded font-mono max-h-20 overflow-y-auto",children:Object.entries(T.headers).map((([e,t])=>vi.jsxs("div",{className:"truncate",children:[vi.jsxs("span",{className:"text-gray-600",children:[e,":"]})," ",t]},e)))})]}),T.data&&vi.jsxs("div",{children:[vi.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Response Body:"}),vi.jsx("div",{className:"text-[10px] bg-gray-50 p-2 rounded font-mono max-h-32 overflow-y-auto",children:"string"==typeof T.data?T.data:JSON.stringify(T.data,null,2)})]})]})]})]}),vi.jsx(l0,{type:"target",position:jX.Left,style:p4,isConnectable:n}),vi.jsx(l0,{type:"source",position:jX.Right,style:p4,isConnectable:n})]})},http_request:function({id:e,data:t,isConnectable:n}){var a,r;const{t:i}=sk(),[s,o]=ci.useState(!1),[l,c]=ci.useState(t.url||""),[d,u]=ci.useState(t.method||"GET"),[f,m]=ci.useState(t.headers||[]),[p,h]=ci.useState(t.body||""),[g,x]=ci.useState(t.authType||"none"),[y,v]=ci.useState(t.authToken||""),[b,w]=ci.useState(t.authUsername||""),[j,N]=ci.useState(t.authPassword||""),[C,S]=ci.useState(t.authApiKey||""),[k,M]=ci.useState(t.authApiKeyHeader||"X-API-Key"),[_,E]=ci.useState(t.timeout||30),[I,L]=ci.useState(void 0===t.followRedirects||t.followRedirects),[A,T]=ci.useState(t.responseType||"auto"),[D,P]=ci.useState(t.retryCount||0),[O,R]=ci.useState(t.retryDelay||1e3),[z,F]=ci.useState(t.variableMappings||[]),[B,U]=ci.useState(!1),[W,G]=ci.useState(null),[V,$]=ci.useState(!1),[H,Y]=ci.useState(!1),[q,Q]=ci.useState(!1),{setNodes:Z}=H0(),{onDeleteNode:J,onDuplicateNode:K}=J5(),X=ci.useCallback((t=>{Z((n=>n.map((n=>n.id===e?{...n,data:{...n.data,...t}}:n))))}),[e,Z]);ci.useEffect((()=>{X({url:l,method:d,headers:f,body:p,authType:g,authToken:y,authUsername:b,authPassword:j,authApiKey:C,authApiKeyHeader:k,timeout:_,followRedirects:I,responseType:A,retryCount:D,retryDelay:O,variableMappings:z})}),[X,l,d,f,p,g,y,b,j,C,k,_,I,A,D,O,z]);const ee=(e,t,n)=>{const a=[...f];a[e][t]=n,m(a)},te=(e,t,n)=>{const a=[...z];a[e][t]=n,F(a)},ne=e=>{switch(e){case"GET":return"text-blue-600";case"POST":return"text-green-600";case"PUT":return"text-orange-600";case"DELETE":return"text-red-600";case"PATCH":return"text-purple-600";default:return"text-gray-600"}},ae=e=>{const t={"contact.name":"Test Contact","contact.phone":"+1234567890","contact.email":"test@example.com","contact.id":"12345","message.content":"This is a test message","date.today":(new Date).toISOString().split("T")[0],"date.now":(new Date).toISOString(),"time.now":(new Date).toLocaleTimeString(),"user.name":"Test User","user.id":"123","record.id":"456"};let n=e;return Object.entries(t).forEach((([e,t])=>{const a=new RegExp(`\\{\\{${e}\\}\\}`,"g");n=n.replace(a,t)})),n},re=async(e,t)=>{const n=e.headers.get("content-type")||"";try{if("json"===t||"auto"===t&&n.includes("application/json"))return await e.json();if("xml"===t||"auto"===t&&n.includes("xml")){return await e.text()}return await e.text()}catch{return await e.text()}};return vi.jsxs("div",{className:"node-http-request rounded-lg bg-white border border-purple-200 shadow-sm max-w-[360px] group relative",children:[vi.jsxs("div",{className:"absolute -top-8 -right-2 bg-background border rounded-md shadow-sm flex z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[vi.jsx(VS,{children:vi.jsxs($S,{children:[vi.jsx(HS,{asChild:!0,children:vi.jsx(tk,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>K(e),children:vi.jsx(Wb,{className:"h-3.5 w-3.5"})})}),vi.jsx(YS,{side:"top",children:vi.jsx("p",{className:"text-xs",children:i("flow_builder.duplicate_node","Duplicate node")})})]})}),vi.jsx(VS,{children:vi.jsxs($S,{children:[vi.jsx(HS,{asChild:!0,children:vi.jsx(tk,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive hover:text-destructive",onClick:()=>J(e),children:vi.jsx(Yw,{className:"h-3.5 w-3.5"})})}),vi.jsx(YS,{side:"top",children:vi.jsx("p",{className:"text-xs",children:i("flow_builder.delete_node","Delete node")})})]})})]}),vi.jsx("div",{className:"p-3 border-b border-purple-100 bg-purple-50/30",children:vi.jsxs("div",{className:"font-medium flex items-center gap-2",children:[vi.jsx(ww,{className:"h-4 w-4 text-purple-600"}),vi.jsx("span",{children:i("flow_builder.http_request","HTTP Request")}),vi.jsx("button",{className:"ml-auto text-xs text-muted-foreground hover:text-foreground transition-colors",onClick:()=>o(!s),children:s?i("common.hide","Hide"):i("common.edit","Edit")})]})}),vi.jsx("div",{className:(s?"max-h-[500px]":"max-h-[200px]")+" overflow-y-auto custom-scrollbar",children:vi.jsxs("div",{className:"p-3 space-y-3",children:[vi.jsxs("div",{className:"text-sm p-3 bg-secondary/40 rounded border border-border",children:[vi.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[vi.jsx(zw,{className:"h-3.5 w-3.5 text-muted-foreground"}),vi.jsx("span",{className:iN("font-medium",ne(d)),children:d}),vi.jsx("span",{className:"text-xs text-muted-foreground",children:l?l.length>30?`${l.substring(0,30)}...`:l:"No URL configured"})]}),vi.jsxs("div",{className:"text-xs text-muted-foreground mb-2",children:["none"!==g&&`Auth: ${null==(a=y5.find((e=>e.id===g)))?void 0:a.name} • `,f.length>0&&`${f.length} header${1!==f.length?"s":""} • `,p&&("POST"===d||"PUT"===d||"PATCH"===d)&&"Body configured • ",D>0&&`${D} retries • `,z.length>0&&`${z.length} mapping${1!==z.length?"s":""}`]}),vi.jsxs("div",{className:"flex flex-wrap gap-1",children:["none"!==g&&vi.jsxs("span",{className:"text-[10px] bg-purple-100 text-purple-800 px-1 py-0.5 rounded shrink-0",children:[i("flow_builder.http_auth","Auth"),": ",null==(r=y5.find((e=>e.id===g)))?void 0:r.name]}),f.length>0&&vi.jsxs("span",{className:"text-[10px] bg-blue-100 text-blue-800 px-1 py-0.5 rounded shrink-0",children:[f.length," ",i("flow_builder.http_header","header"),1!==f.length?"s":""]}),p&&("POST"===d||"PUT"===d||"PATCH"===d)&&vi.jsx("span",{className:"text-[10px] bg-green-100 text-green-800 px-1 py-0.5 rounded shrink-0",children:i("flow_builder.http_body_configured","Body configured")}),D>0&&vi.jsxs("span",{className:"text-[10px] bg-orange-100 text-orange-800 px-1 py-0.5 rounded shrink-0",children:[i("flow_builder.http_retry","Retry"),": ",D,"x"]}),z.length>0&&vi.jsxs("span",{className:"text-[10px] bg-indigo-100 text-indigo-800 px-1 py-0.5 rounded shrink-0",children:[z.length," ",i("flow_builder.http_mapping","mapping"),1!==z.length?"s":""]})]})]}),s&&vi.jsxs("div",{className:"text-xs space-y-3 border rounded p-2 bg-secondary/10",children:[vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 font-medium",children:i("flow_builder.http_quick_templates","Quick Templates")}),vi.jsxs(AU,{value:"",onValueChange:e=>{const t=b5.find((t=>t.id===e));t&&(u(t.method),c(t.url),m(t.headers),h(t.body))},children:[vi.jsx(PU,{className:"text-xs h-7",children:vi.jsx(DU,{placeholder:i("flow_builder.http_choose_template","Choose a template...")})}),vi.jsx(zU,{className:"w-64 max-h-60 overflow-y-auto z-50",side:"top",align:"end",sideOffset:8,avoidCollisions:!0,children:b5.map((e=>vi.jsx(FU,{value:e.id,className:"text-xs p-2",children:vi.jsxs("div",{className:"flex flex-col items-start space-y-1 max-w-full",children:[vi.jsx("span",{className:"font-medium text-xs truncate max-w-full",children:e.name}),vi.jsxs("span",{className:"text-[9px] text-muted-foreground leading-tight",children:[e.method," • ",e.url.length>30?`${e.url.substring(0,30)}...`:e.url]})]})},e.id)))})]})]}),vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 font-medium",children:i("flow_builder.http_method","HTTP Method")}),vi.jsxs(AU,{value:d,onValueChange:u,children:[vi.jsx(PU,{className:"text-xs h-7",children:vi.jsx(DU,{placeholder:i("flow_builder.http_select_method","Select method")})}),vi.jsx(zU,{className:"w-40 z-50",side:"top",align:"start",sideOffset:8,avoidCollisions:!0,children:x5.map((e=>vi.jsx(FU,{value:e.id,children:vi.jsx("span",{className:ne(e.id),children:e.name})},e.id)))})]})]}),vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 font-medium",children:i("flow_builder.http_request_url","Request URL")}),vi.jsxs("div",{className:"flex gap-2",children:[vi.jsx(fB,{type:"url",placeholder:"https://api.example.com/endpoint",value:l,onChange:e=>c(e.target.value),className:"text-xs h-7 flex-1"}),vi.jsx(tk,{variant:"outline",size:"sm",className:"h-7 px-2",onClick:async()=>{var e;if(!l.trim())return G({success:!1,error:"Please enter a request URL"}),void $(!0);if(!(e=>{try{return new URL(e),!0}catch{return!1}})(l))return G({success:!1,error:"Please enter a valid URL (must include http:// or https://)"}),void $(!0);U(!0),G(null),$(!0);const t=Date.now();let n=null,a=0;const r=D+1;for(;a<r;)try{a++;const n={};if("POST"!==d&&"PUT"!==d&&"PATCH"!==d||!p||(n["Content-Type"]="application/json"),f.forEach((e=>{e.key&&e.value&&(n[e.key]=ae(e.value))})),"bearer"===g&&y)n.Authorization=`Bearer ${y}`;else if("basic"===g&&b&&j){const e=btoa(`${b}:${j}`);n.Authorization=`Basic ${e}`}else"apikey"===g&&C&&k&&(n[k]=C);const r={method:d,headers:n,redirect:I?"follow":"manual"};if(("POST"===d||"PUT"===d||"PATCH"===d)&&p)try{const t=ae(p);(null==(e=n["Content-Type"])?void 0:e.includes("application/json"))&&JSON.parse(t),r.body=t}catch(o){return G({success:!1,error:"Invalid JSON in request body"}),void U(!1)}const i=new AbortController,s=window.setTimeout((()=>i.abort()),1e3*_);r.signal=i.signal;const c=await fetch(ae(l),r);window.clearTimeout(s);const u=Date.now()-t,m=await re(c,A),h={};return c.headers.forEach(((e,t)=>{h[t]=e})),G({success:c.ok,status:c.status,statusText:c.statusText,headers:h,data:m,duration:u,retryAttempts:a-1}),void U(!1)}catch(c){n=c,a<r&&await new Promise((e=>setTimeout(e,O)))}const i=Date.now()-t;let s="Unknown error occurred";"AbortError"===(null==n?void 0:n.name)?s=`Request timed out after ${_} seconds`:(null==n?void 0:n.message)&&(s=n.message),G({success:!1,error:s,duration:i,retryAttempts:a-1}),U(!1)},disabled:B||!l.trim(),title:"Test request with current configuration",children:B?vi.jsx(uw,{className:"h-3 w-3 animate-spin"}):vi.jsx(Mw,{className:"h-3 w-3"})})]})]}),vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 font-medium",children:"Authentication"}),vi.jsxs(AU,{value:g,onValueChange:x,children:[vi.jsx(PU,{className:"text-xs h-7",children:vi.jsx(DU,{placeholder:"Select auth type"})}),vi.jsx(zU,{className:"w-48 z-50",side:"top",align:"start",sideOffset:8,avoidCollisions:!0,children:y5.map((e=>vi.jsx(FU,{value:e.id,children:e.name},e.id)))})]}),"bearer"===g&&vi.jsx("div",{className:"mt-2",children:vi.jsx(fB,{type:"password",placeholder:"Bearer token",value:y,onChange:e=>v(e.target.value),className:"text-xs h-7"})}),"basic"===g&&vi.jsxs("div",{className:"mt-2 space-y-2",children:[vi.jsx(fB,{placeholder:"Username",value:b,onChange:e=>w(e.target.value),className:"text-xs h-7"}),vi.jsx(fB,{type:"password",placeholder:"Password",value:j,onChange:e=>N(e.target.value),className:"text-xs h-7"})]}),"apikey"===g&&vi.jsxs("div",{className:"mt-2 space-y-2",children:[vi.jsx(fB,{placeholder:"Header name (e.g., X-API-Key)",value:k,onChange:e=>M(e.target.value),className:"text-xs h-7"}),vi.jsx(fB,{type:"password",placeholder:"API key value",value:C,onChange:e=>S(e.target.value),className:"text-xs h-7"})]})]}),vi.jsxs("div",{children:[vi.jsxs("div",{className:"flex items-center justify-between mb-2",children:[vi.jsx(uB,{className:"font-medium",children:"Custom Headers"}),vi.jsxs(tk,{variant:"outline",size:"sm",className:"h-6 text-xs",onClick:()=>{m([...f,{key:"",value:""}])},children:[vi.jsx(_w,{className:"h-3 w-3 mr-1"}),"Add"]})]}),f.map(((e,t)=>vi.jsxs("div",{className:"flex gap-2 mb-2",children:[vi.jsx(fB,{placeholder:"Header name",value:e.key,onChange:e=>ee(t,"key",e.target.value),className:"text-xs h-7 flex-1"}),vi.jsx(fB,{placeholder:"Header value",value:e.value,onChange:e=>ee(t,"value",e.target.value),className:"text-xs h-7 flex-1"}),vi.jsx(tk,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>(e=>{m(f.filter(((t,n)=>n!==e)))})(t),children:vi.jsx(fj,{className:"h-3 w-3"})})]},t)))]}),("POST"===d||"PUT"===d||"PATCH"===d)&&vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 font-medium",children:"Request Body (JSON)"}),vi.jsx(mB,{placeholder:'{"key": "value", "data": "{{contact.name}}"}',value:p,onChange:e=>h(e.target.value),className:"text-xs min-h-[80px] resize-y font-mono"}),vi.jsx("div",{className:"text-[10px] text-muted-foreground mt-1",children:"Use {{variable}} syntax for dynamic values"})]}),vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 font-medium",children:"Response Type"}),vi.jsxs(AU,{value:A,onValueChange:T,children:[vi.jsx(PU,{className:"text-xs h-7",children:vi.jsx(DU,{placeholder:"Select response type"})}),vi.jsx(zU,{className:"w-40 z-50",side:"top",align:"start",sideOffset:8,avoidCollisions:!0,children:v5.map((e=>vi.jsx(FU,{value:e.id,children:e.name},e.id)))})]})]}),vi.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsx(uB,{className:"text-xs font-medium",children:"Retry on Failure"}),vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx(tk,{variant:"outline",size:"sm",className:"h-6 w-6 p-0",onClick:()=>P(Math.max(0,D-1)),disabled:D<=0,children:"-"}),vi.jsx("span",{className:"text-xs w-8 text-center",children:D}),vi.jsx(tk,{variant:"outline",size:"sm",className:"h-6 w-6 p-0",onClick:()=>P(Math.min(5,D+1)),disabled:D>=5,children:"+"})]})]}),D>0&&vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsx(uB,{className:"text-xs font-medium",children:"Retry Delay (ms)"}),vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx(tk,{variant:"outline",size:"sm",className:"h-6 w-6 p-0",onClick:()=>R(Math.max(100,O-500)),disabled:O<=100,children:"-"}),vi.jsx("span",{className:"text-xs w-12 text-center",children:O}),vi.jsx(tk,{variant:"outline",size:"sm",className:"h-6 w-6 p-0",onClick:()=>R(Math.min(1e4,O+500)),disabled:O>=1e4,children:"+"})]})]}),vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsx(uB,{className:"text-xs font-medium",children:"Timeout (seconds)"}),vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx(tk,{variant:"outline",size:"sm",className:"h-6 w-6 p-0",onClick:()=>E(Math.max(1,_-5)),disabled:_<=1,children:"-"}),vi.jsx("span",{className:"text-xs w-8 text-center",children:_}),vi.jsx(tk,{variant:"outline",size:"sm",className:"h-6 w-6 p-0",onClick:()=>E(Math.min(300,_+5)),disabled:_>=300,children:"+"})]})]}),vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsx(uB,{className:"text-xs font-medium cursor-pointer",children:"Follow redirects"}),vi.jsx(f4,{checked:I,onCheckedChange:L})]})]}),vi.jsxs("div",{className:"pt-2 border-t",children:[vi.jsxs("div",{className:"flex items-center justify-between mb-3",children:[vi.jsx("div",{className:"flex items-center gap-2",children:vi.jsx(uB,{className:"font-medium text-sm",children:"Response Variable Mapping"})}),vi.jsxs(tk,{variant:"outline",size:"sm",className:"h-7 px-2 text-xs",onClick:()=>{F([...z,{responseField:"",variableName:""}])},children:[vi.jsx(_w,{className:"h-3 w-3 mr-1"}),"Add Mapping"]})]}),0===z.length?vi.jsxs("div",{className:"text-center py-4 border-2 border-dashed border-gray-200 rounded-lg bg-gray-50/50",children:[vi.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"No variable mappings configured"}),vi.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Map response fields to flow variables for use in subsequent nodes"})]}):vi.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto custom-scrollbar",children:z.map(((e,t)=>vi.jsxs("div",{className:"group border rounded-lg p-2 bg-white hover:bg-gray-50/50 transition-colors",children:[vi.jsxs("div",{className:"flex gap-2 items-center",children:[vi.jsxs("div",{className:"flex-1",children:[vi.jsx(uB,{className:"text-[10px] font-medium text-gray-600 mb-1 block",children:"Response Field"}),vi.jsx(fB,{placeholder:"response.data.id",value:e.responseField,onChange:e=>te(t,"responseField",e.target.value),className:"text-xs h-6 border-gray-200"})]}),vi.jsx("div",{className:"flex items-center justify-center mt-4",children:vi.jsx("div",{className:"bg-indigo-100 text-indigo-600 rounded-full p-1",children:vi.jsx("span",{className:"text-xs font-medium",children:"→"})})}),vi.jsxs("div",{className:"flex-1",children:[vi.jsx(uB,{className:"text-[10px] font-medium text-gray-600 mb-1 block",children:"Variable Name"}),vi.jsx(fB,{placeholder:"http.user_id",value:e.variableName,onChange:e=>te(t,"variableName",e.target.value),className:"text-xs h-6 border-gray-200"})]}),vi.jsx(tk,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 mt-4 text-destructive hover:text-destructive opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>(e=>{F(z.filter(((t,n)=>n!==e)))})(t),children:vi.jsx(fj,{className:"h-3 w-3"})})]}),e.responseField&&e.variableName&&vi.jsxs("div",{className:"mt-2 text-[9px] text-muted-foreground bg-gray-50 px-2 py-1 rounded",children:[vi.jsxs("code",{className:"text-blue-600",children:["{{",e.variableName,"}}"]})," will contain data from ",vi.jsx("code",{className:"text-green-600",children:e.responseField})]})]},t)))}),vi.jsx("div",{className:"mt-3 p-2 bg-blue-50 border border-blue-200 rounded-md",children:vi.jsxs("p",{className:"text-[10px] text-blue-700",children:["💡 ",vi.jsx("strong",{children:"Tip:"})," Use dot notation for nested fields (e.g., ",vi.jsx("code",{children:"response.data.user.id"}),") and create meaningful variable names for easy reference in subsequent nodes."]})})]}),vi.jsxs("div",{className:"pt-3 border-t",children:[vi.jsxs("button",{className:"text-xs font-medium text-muted-foreground hover:text-foreground flex items-center justify-between w-full p-2 rounded hover:bg-gray-50 transition-colors",onClick:()=>Q(!q),children:[vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx("span",{children:"Available Output Variables"}),vi.jsxs("span",{className:"text-[10px] bg-gray-100 text-gray-600 px-1.5 py-0.5 rounded-full",children:[5+z.filter((e=>e.variableName)).length," variables"]})]}),q?vi.jsx(Lb,{className:"h-3 w-3"}):vi.jsx(_b,{className:"h-3 w-3"})]}),q&&vi.jsxs("div",{className:"mt-2 space-y-2",children:[vi.jsxs("div",{className:"text-[10px] bg-purple-50 border border-purple-200 p-2 rounded",children:[vi.jsx("div",{className:"font-medium text-purple-800 mb-2",children:"Built-in Variables"}),vi.jsxs("div",{className:"space-y-1",children:[vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsx("code",{className:"text-purple-600 bg-white px-1 py-0.5 rounded",children:"{{http.response.status}}"}),vi.jsx("span",{className:"text-purple-700",children:"HTTP status code"})]}),vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsx("code",{className:"text-purple-600 bg-white px-1 py-0.5 rounded",children:"{{http.response.data}}"}),vi.jsx("span",{className:"text-purple-700",children:"Response body data"})]}),vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsx("code",{className:"text-purple-600 bg-white px-1 py-0.5 rounded",children:"{{http.response.headers}}"}),vi.jsx("span",{className:"text-purple-700",children:"Response headers"})]}),vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsx("code",{className:"text-purple-600 bg-white px-1 py-0.5 rounded",children:"{{http.duration}}"}),vi.jsx("span",{className:"text-purple-700",children:"Request duration (ms)"})]}),vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsx("code",{className:"text-purple-600 bg-white px-1 py-0.5 rounded",children:"{{http.success}}"}),vi.jsx("span",{className:"text-purple-700",children:"Request success status"})]})]})]}),z.filter((e=>e.variableName)).length>0&&vi.jsxs("div",{className:"text-[10px] bg-indigo-50 border border-indigo-200 p-2 rounded",children:[vi.jsx("div",{className:"font-medium text-indigo-800 mb-2",children:"Custom Mapped Variables"}),vi.jsx("div",{className:"space-y-1",children:z.map(((e,t)=>e.variableName&&vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsxs("code",{className:"text-indigo-600 bg-white px-1 py-0.5 rounded",children:["{{",e.variableName,"}}"]}),vi.jsx("span",{className:"text-indigo-700 truncate ml-2",children:e.responseField||"Custom mapping"})]},t)))})]})]})]}),vi.jsx("div",{className:"text-[10px] text-muted-foreground mt-2",children:vi.jsx("p",{children:"The HTTP Request node will fetch data from the specified URL. Response data will be available as variables in subsequent nodes."})}),V&&W&&vi.jsxs("div",{className:"mt-3 border rounded p-2 bg-secondary/5",children:[vi.jsxs("div",{className:"flex items-center justify-between mb-2",children:[vi.jsxs("div",{className:"flex items-center gap-2",children:[W.success?vi.jsx(Pb,{className:"h-4 w-4 text-green-600"}):vi.jsx(Fb,{className:"h-4 w-4 text-red-600"}),vi.jsx("span",{className:"text-xs font-medium",children:W.success?"Request Successful":"Request Failed"}),W.duration&&vi.jsxs("span",{className:"text-[10px] text-muted-foreground",children:["(",W.duration,"ms)"]}),void 0!==W.retryAttempts&&W.retryAttempts>0&&vi.jsxs("span",{className:"text-[10px] text-orange-600 flex items-center gap-1",children:[vi.jsx(Tw,{className:"h-2.5 w-2.5"}),W.retryAttempts," retries"]})]}),vi.jsx(tk,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0",onClick:()=>$(!1),children:vi.jsx(fj,{className:"h-3 w-3"})})]}),W.error?vi.jsx("div",{className:"text-xs text-red-600 bg-red-50 p-2 rounded",children:W.error}):vi.jsxs("div",{className:"space-y-2",children:[vi.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[vi.jsx("span",{className:"font-medium",children:"Status:"}),vi.jsxs("span",{className:"px-1 py-0.5 rounded text-[10px] "+(W.success?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[W.status," ",W.statusText]})]}),W.headers&&Object.keys(W.headers).length>0&&vi.jsxs("div",{children:[vi.jsxs("button",{className:"text-xs font-medium text-muted-foreground hover:text-foreground flex items-center gap-1",onClick:()=>Y(!H),children:["Response Headers",H?vi.jsx(Lb,{className:"h-3 w-3"}):vi.jsx(_b,{className:"h-3 w-3"})]}),H&&vi.jsx("div",{className:"mt-1 text-[10px] bg-gray-50 p-2 rounded font-mono max-h-20 overflow-y-auto",children:Object.entries(W.headers).map((([e,t])=>vi.jsxs("div",{className:"break-words leading-tight",children:[vi.jsxs("span",{className:"text-gray-600",children:[e,":"]})," ","string"==typeof t&&t.length>50?`${t.substring(0,50)}...`:t]},e)))})]}),W.data&&vi.jsxs("div",{children:[vi.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Response Data:"}),vi.jsx("div",{className:"text-[10px] bg-gray-50 p-2 rounded font-mono max-h-32 overflow-y-auto",children:"string"==typeof W.data?W.data:JSON.stringify(W.data,null,2)})]})]})]})]})]})}),vi.jsx(l0,{type:"target",position:jX.Left,style:p4,isConnectable:n}),vi.jsx(l0,{type:"source",position:jX.Right,style:p4,isConnectable:n})]})},shopify:function({id:e,data:t,isConnectable:n}){var a,r,i;const[s,o]=ci.useState(!1),[l,c]=ci.useState(t.shopDomain||""),[d,u]=ci.useState(t.apiKey||""),[f,m]=ci.useState(t.apiPassword||""),[p,h]=ci.useState(t.resource||"orders"),[g,x]=ci.useState(t.action||"get"),[y,v]=ci.useState(t.filters||{}),[b,w]=ci.useState(t.variableMappings||[]),[j,N]=ci.useState(t.rateLimitDelay||500),[C,S]=ci.useState(!1),[k,M]=ci.useState(null),[_,E]=ci.useState(!1),[I,L]=ci.useState(!1),{setNodes:A}=H0(),{onDeleteNode:T,onDuplicateNode:D}=J5(),P=ci.useCallback((t=>{A((n=>n.map((n=>n.id===e?{...n,data:{...n.data,...t}}:n))))}),[e,A]);ci.useEffect((()=>{P({shopDomain:l,apiKey:d,apiPassword:f,resource:p,action:g,filters:y,variableMappings:b,rateLimitDelay:j})}),[P,l,d,f,p,g,y,b,j]);const O=(e,t,n)=>{const a=[...b];a[e][t]=n,w(a)},R=(e,t)=>{v((n=>({...n,[e]:t})))},z=e=>{const t=new URLSearchParams;return Object.entries(e).forEach((([e,n])=>{if(n&&n.trim()){const a=(e=>{const t={"contact.email":"test@example.com","contact.first_name":"John","contact.last_name":"Doe","contact.phone":"+1234567890","order.id":"12345","product.id":"67890","product.inventory_item_id":"11111","inventory.new_quantity":"100","shipping.tracking":"TRACK123456","date.last_week":new Date(Date.now()-6048e5).toISOString(),"date.today":(new Date).toISOString().split("T")[0],"date.now":(new Date).toISOString()};let n=e;return Object.entries(t).forEach((([e,t])=>{const a=new RegExp(`\\{\\{${e}\\}\\}`,"g");n=n.replace(a,t)})),n})(n);t.append(e,a)}})),t.toString()},F=e=>{switch(e){case"get":return"text-blue-600";case"post":return"text-green-600";case"put":return"text-orange-600";case"delete":return"text-red-600";default:return"text-gray-600"}};return vi.jsxs("div",{className:"node-shopify p-3 rounded-lg bg-white border border-green-200 shadow-sm max-w-[320px] group",children:[vi.jsxs("div",{className:"absolute -top-8 -right-2 bg-background border rounded-md shadow-sm flex z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[vi.jsx(VS,{children:vi.jsxs($S,{children:[vi.jsx(HS,{asChild:!0,children:vi.jsx(tk,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>D(e),children:vi.jsx(Wb,{className:"h-3.5 w-3.5"})})}),vi.jsx(YS,{side:"top",children:vi.jsx("p",{className:"text-xs",children:"Duplicate node"})})]})}),vi.jsx(VS,{children:vi.jsxs($S,{children:[vi.jsx(HS,{asChild:!0,children:vi.jsx(tk,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive hover:text-destructive",onClick:()=>T(e),children:vi.jsx(Yw,{className:"h-3.5 w-3.5"})})}),vi.jsx(YS,{side:"top",children:vi.jsx("p",{className:"text-xs",children:"Delete node"})})]})})]}),vi.jsxs("div",{className:"font-medium flex items-center gap-2 mb-2",children:[vi.jsx(Bw,{className:"h-4 w-4 text-green-600"}),vi.jsx("span",{children:"Shopify"}),vi.jsx("button",{className:"ml-auto text-xs text-muted-foreground hover:text-foreground",onClick:()=>o(!s),children:s?"Hide":"Edit"})]}),vi.jsxs("div",{className:"text-sm p-2 bg-secondary/40 rounded border border-border",children:[vi.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[vi.jsx($w,{className:"h-3.5 w-3.5 text-muted-foreground"}),vi.jsx("span",{className:iN("font-medium",F(g)),children:g.toUpperCase()}),vi.jsx("span",{className:"text-muted-foreground",children:"•"}),vi.jsx("span",{className:"text-xs text-muted-foreground truncate",children:(null==(a=w5.find((e=>e.id===p)))?void 0:a.name)||p})]}),vi.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[l&&vi.jsx("span",{className:"text-[10px] bg-green-100 text-green-800 px-1 py-0.5 rounded",children:l.replace(".myshopify.com","")}),Object.keys(y).length>0&&vi.jsxs("span",{className:"text-[10px] bg-blue-100 text-blue-800 px-1 py-0.5 rounded",children:[Object.keys(y).length," filter",1!==Object.keys(y).length?"s":""]}),b.length>0&&vi.jsxs("span",{className:"text-[10px] bg-purple-100 text-purple-800 px-1 py-0.5 rounded",children:[b.length," mapping",1!==b.length?"s":""]}),d&&vi.jsx("span",{className:"text-[10px] bg-orange-100 text-orange-800 px-1 py-0.5 rounded",children:"API Connected"})]})]}),s&&vi.jsxs("div",{className:"mt-3 text-xs space-y-3 border rounded p-2 bg-secondary/10",children:[vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 font-medium",children:"Quick Templates"}),vi.jsxs(AU,{value:"",onValueChange:e=>{const t=N5.find((t=>t.id===e));if(t){h(t.resource),x(t.action);const e=Object.entries(t.filters).reduce(((e,[t,n])=>(void 0!==n&&(e[t]=String(n)),e)),{});v(e)}},children:[vi.jsx(PU,{className:"text-xs h-7",children:vi.jsx(DU,{placeholder:"Choose a Shopify operation..."})}),vi.jsx(zU,{children:N5.map((e=>vi.jsx(FU,{value:e.id,children:e.name},e.id)))})]})]}),vi.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[vi.jsx(uB,{className:"block font-medium",children:"Shop Configuration"}),vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 text-xs",children:"Shop Domain"}),vi.jsx(fB,{placeholder:"mystore.myshopify.com",value:l,onChange:e=>c(e.target.value),className:"text-xs h-7"})]}),vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 text-xs",children:"API Key"}),vi.jsx(fB,{placeholder:"Your Shopify API key",value:d,onChange:e=>u(e.target.value),className:"text-xs h-7"})]}),vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 text-xs",children:"API Password"}),vi.jsx(fB,{type:"password",placeholder:"Your Shopify API password",value:f,onChange:e=>m(e.target.value),className:"text-xs h-7"})]}),vi.jsx("div",{className:"flex gap-2",children:vi.jsxs(tk,{variant:"outline",size:"sm",className:"h-7 px-2 flex-1",onClick:async()=>{var e,t,n;if(!l.trim())return M({success:!1,error:"Please enter your shop domain (e.g., mystore.myshopify.com)"}),void E(!0);if(!/^[a-zA-Z0-9][a-zA-Z0-9\-]*\.myshopify\.com$/.test(t=l)&&!t.includes(".myshopify.com"))return M({success:!1,error:"Please enter a valid Shopify domain (e.g., mystore.myshopify.com)"}),void E(!0);if(!d.trim()||!f.trim())return M({success:!1,error:"Please enter both API key and password"}),void E(!0);S(!0),M(null),E(!0);try{const t=(null==(e=w5.find((e=>e.id===p)))?void 0:e.endpoint)||p,a=(n=t,`https://${l.replace(/^https?:\/\//,"")}/admin/api/2025-06/${n}.json`),r=z(y),i=r?`${a}?${r}`:a,s=btoa(`${d}:${f}`),o=await fetch(i,{method:g.toUpperCase(),headers:{Authorization:`Basic ${s}`,"Content-Type":"application/json",Accept:"application/json"}});let c;try{c=await o.json()}catch{c=await o.text()}const u=o.headers.get("X-Shopify-Shop-Api-Call-Limit");if(o.ok){let e=0;if(c&&"object"==typeof c){const t=Object.keys(c)[0];Array.isArray(c[t])?e=c[t].length:c[t]&&(e=1)}M({success:!0,data:c,rateLimitRemaining:u?parseInt(u.split("/")[0]):void 0,responseCount:e})}else{let e="Request failed";(null==c?void 0:c.errors)?e=Array.isArray(c.errors)?c.errors.join(", "):c.errors:(null==c?void 0:c.error)?e=c.error:401===o.status?e="Authentication failed. Please check your API credentials.":403===o.status?e="Access denied. Please check your API permissions.":404===o.status?e="Resource not found. Please check your shop domain and resource selection.":429===o.status&&(e="Rate limit exceeded. Please wait before making more requests."),M({success:!1,error:e,rateLimitRemaining:u?parseInt(u.split("/")[0]):void 0})}}catch(a){let e="Connection failed";a.message&&(e=a.message),M({success:!1,error:e})}finally{S(!1)}},disabled:C||!l.trim()||!d.trim()||!f.trim(),title:"Test connection to your Shopify store",children:[C?vi.jsx(uw,{className:"h-3 w-3 animate-spin mr-1"}):vi.jsx(Mw,{className:"h-3 w-3 mr-1"}),"Test Connection"]})})]}),vi.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 font-medium",children:"Shopify Resource"}),vi.jsxs(AU,{value:p,onValueChange:h,children:[vi.jsx(PU,{className:"text-xs h-7",children:vi.jsx(DU,{placeholder:"Select resource"})}),vi.jsx(zU,{children:w5.map((e=>vi.jsx(FU,{value:e.id,children:e.name},e.id)))})]})]}),vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 font-medium",children:"Action Type"}),vi.jsxs(AU,{value:g,onValueChange:x,children:[vi.jsx(PU,{className:"text-xs h-7",children:vi.jsx(DU,{placeholder:"Select action"})}),vi.jsx(zU,{children:j5.map((e=>vi.jsx(FU,{value:e.id,children:vi.jsx("span",{className:F(e.id),children:e.name})},e.id)))})]})]})]}),C5[p]&&vi.jsxs("div",{className:"pt-2 border-t",children:[vi.jsx(uB,{className:"block mb-2 font-medium",children:"Filters & Parameters"}),vi.jsx("div",{className:"space-y-2",children:C5[p].map((e=>vi.jsxs("div",{className:"flex gap-2 items-center",children:[vi.jsxs("div",{className:"flex-1",children:[vi.jsxs(uB,{className:"block mb-1 text-[10px] text-muted-foreground",children:[e.label,e.required&&vi.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),"select"===e.type?vi.jsxs(AU,{value:y[e.key]||"",onValueChange:t=>R(e.key,t),children:[vi.jsx(PU,{className:"text-xs h-6",children:vi.jsx(DU,{placeholder:`Select ${e.label.toLowerCase()}`})}),vi.jsx(zU,{children:"select"===e.type&&"options"in e&&Array.isArray(e.options)&&e.options.map((e=>vi.jsx(FU,{value:e,children:e},e)))})]}):vi.jsx(fB,{type:e.type,placeholder:e.placeholder||`Enter ${e.label.toLowerCase()}`,value:y[e.key]||e.default||"",onChange:t=>R(e.key,t.target.value),className:"text-xs h-6"})]}),y[e.key]&&vi.jsx(tk,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 mt-4",onClick:()=>{return t=e.key,void v((e=>{const n={...e};return delete n[t],n}));var t},children:vi.jsx(fj,{className:"h-3 w-3"})})]},e.key)))}),vi.jsx("div",{className:"text-[10px] text-muted-foreground mt-2",children:"Use {{variable}} syntax for dynamic values"})]}),vi.jsxs("div",{className:"pt-2 border-t",children:[vi.jsxs("div",{className:"flex items-center justify-between mb-2",children:[vi.jsx(uB,{className:"font-medium",children:"Response Variable Mapping"}),vi.jsxs(tk,{variant:"outline",size:"sm",className:"h-6 text-xs",onClick:()=>{w([...b,{responseField:"",variableName:""}])},children:[vi.jsx(_w,{className:"h-3 w-3 mr-1"}),"Add"]})]}),b.map(((e,t)=>vi.jsxs("div",{className:"flex gap-2 mb-2",children:[vi.jsx(fB,{placeholder:"orders.0.id",value:e.responseField,onChange:e=>O(t,"responseField",e.target.value),className:"text-xs h-7 flex-1"}),vi.jsx("span",{className:"text-xs text-muted-foreground self-center",children:"→"}),vi.jsx(fB,{placeholder:"shopify.order_id",value:e.variableName,onChange:e=>O(t,"variableName",e.target.value),className:"text-xs h-7 flex-1"}),vi.jsx(tk,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>(e=>{w(b.filter(((t,n)=>n!==e)))})(t),children:vi.jsx(fj,{className:"h-3 w-3"})})]},t))),vi.jsx("div",{className:"text-[10px] text-muted-foreground",children:"Map Shopify response fields to flow variables for use in subsequent nodes"})]}),vi.jsxs("div",{className:"pt-2 border-t",children:[vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsx(uB,{className:"text-xs font-medium",children:"Rate Limit Delay (ms)"}),vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx(tk,{variant:"outline",size:"sm",className:"h-6 w-6 p-0",onClick:()=>N(Math.max(100,j-100)),disabled:j<=100,children:"-"}),vi.jsx("span",{className:"text-xs w-12 text-center",children:j}),vi.jsx(tk,{variant:"outline",size:"sm",className:"h-6 w-6 p-0",onClick:()=>N(Math.min(5e3,j+100)),disabled:j>=5e3,children:"+"})]})]}),vi.jsx("div",{className:"text-[10px] text-muted-foreground mt-1",children:"Delay between requests to respect Shopify's rate limits"})]}),vi.jsxs("div",{className:"pt-2 border-t",children:[vi.jsxs("button",{className:"text-xs font-medium text-muted-foreground hover:text-foreground flex items-center gap-1 w-full",onClick:()=>L(!I),children:["Available Output Variables",I?vi.jsx(Lb,{className:"h-3 w-3"}):vi.jsx(_b,{className:"h-3 w-3"})]}),I&&vi.jsxs("div",{className:"mt-2 text-[10px] bg-gray-50 p-2 rounded space-y-1",children:[vi.jsxs("div",{children:[vi.jsxs("code",{children:["{{shopify.",p,".data}}"]})," - ",null==(r=w5.find((e=>e.id===p)))?void 0:r.name," data"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{shopify.response.count}}"})," - Number of results returned"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{shopify.api.rate_limit_remaining}}"})," - API calls remaining"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{shopify.success}}"})," - Request success status"]}),"orders"===p&&vi.jsxs(vi.Fragment,{children:[vi.jsxs("div",{children:[vi.jsx("code",{children:"{{shopify.order.id}}"})," - Order ID"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{shopify.order.total_price}}"})," - Order total"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{shopify.order.customer.email}}"})," - Customer email"]})]}),"products"===p&&vi.jsxs(vi.Fragment,{children:[vi.jsxs("div",{children:[vi.jsx("code",{children:"{{shopify.product.id}}"})," - Product ID"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{shopify.product.title}}"})," - Product title"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{shopify.product.vendor}}"})," - Product vendor"]})]}),"customers"===p&&vi.jsxs(vi.Fragment,{children:[vi.jsxs("div",{children:[vi.jsx("code",{children:"{{shopify.customer.id}}"})," - Customer ID"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{shopify.customer.email}}"})," - Customer email"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{shopify.customer.first_name}}"})," - First name"]})]}),b.map(((e,t)=>e.variableName&&vi.jsxs("div",{children:[vi.jsxs("code",{children:["{{",e.variableName,"}}"]})," - ",e.responseField||"Custom mapping"]},t)))]})]}),vi.jsx("div",{className:"text-[10px] text-muted-foreground mt-2",children:vi.jsx("p",{children:"The Shopify Integration node connects to your Shopify store's Admin API. Response data will be available as variables in subsequent nodes."})}),_&&k&&vi.jsxs("div",{className:"mt-3 border rounded p-2 bg-secondary/5",children:[vi.jsxs("div",{className:"flex items-center justify-between mb-2",children:[vi.jsxs("div",{className:"flex items-center gap-2",children:[k.success?vi.jsx(Pb,{className:"h-4 w-4 text-green-600"}):vi.jsx(Fb,{className:"h-4 w-4 text-red-600"}),vi.jsx("span",{className:"text-xs font-medium",children:k.success?"Connection Successful":"Connection Failed"}),void 0!==k.responseCount&&vi.jsxs("span",{className:"text-[10px] text-muted-foreground",children:["(",k.responseCount," result",1!==k.responseCount?"s":"",")"]}),void 0!==k.rateLimitRemaining&&vi.jsxs("span",{className:"text-[10px] text-orange-600",children:[k.rateLimitRemaining," API calls remaining"]})]}),vi.jsx(tk,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0",onClick:()=>E(!1),children:vi.jsx(fj,{className:"h-3 w-3"})})]}),k.error?vi.jsx("div",{className:"text-xs text-red-600 bg-red-50 p-2 rounded",children:k.error}):vi.jsxs("div",{className:"space-y-2",children:[vi.jsxs("div",{className:"text-xs text-green-600 bg-green-50 p-2 rounded",children:["Successfully connected to Shopify store and retrieved ",null==(i=w5.find((e=>e.id===p)))?void 0:i.name.toLowerCase()," data."]}),k.data&&vi.jsxs("div",{children:[vi.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Sample Response Data:"}),vi.jsx("div",{className:"text-[10px] bg-gray-50 p-2 rounded font-mono max-h-32 overflow-y-auto",children:JSON.stringify(k.data,null,2)})]})]})]})]}),vi.jsx(l0,{type:"target",position:jX.Left,style:p4,isConnectable:n}),vi.jsx(l0,{type:"source",position:jX.Right,style:p4,isConnectable:n})]})},woocommerce:function({id:e,data:t,isConnectable:n}){var a,r,i,s,o,l;const[c,d]=ci.useState(!1),[u,f]=ci.useState(t.siteUrl||""),[m,p]=ci.useState(t.consumerKey||""),[h,g]=ci.useState(t.consumerSecret||""),[x,y]=ci.useState(t.resource||"orders"),[v,b]=ci.useState(t.action||"get"),[w,j]=ci.useState(t.filters||{}),[N,C]=ci.useState(t.variableMappings||[]),[S,k]=ci.useState(t.apiVersion||"v3"),[M,_]=ci.useState(!1),[E,I]=ci.useState(null),[L,A]=ci.useState(!1),[T,D]=ci.useState(!1),{setNodes:P}=H0(),{onDeleteNode:O,onDuplicateNode:R}=J5(),z=ci.useCallback((t=>{P((n=>n.map((n=>n.id===e?{...n,data:{...n.data,...t}}:n))))}),[e,P]);ci.useEffect((()=>{z({siteUrl:u,consumerKey:m,consumerSecret:h,resource:x,action:v,filters:w,variableMappings:N,apiVersion:S})}),[z,u,m,h,x,v,w,N,S]);const F=(e,t,n)=>{const a=[...N];a[e][t]=n,C(a)},B=(e,t)=>{j((n=>({...n,[e]:t})))},U=(e,t,n)=>`${`${e.replace(/\/$/,"")}/wp-json/wc/${S}/`}${t}`,W=e=>{const t=new URLSearchParams;return Object.entries(e).forEach((([e,n])=>{if(n&&n.trim()){const a=(e=>{const t={"contact.email":"test@example.com","contact.first_name":"John","contact.last_name":"Doe","contact.phone":"+1234567890","order.id":"123","product.id":"456","customer.id":"789","coupon.code":"SAVE10","coupon.amount":"10","inventory.new_quantity":"50","date.last_week":new Date(Date.now()-6048e5).toISOString().split("T")[0],"date.today":(new Date).toISOString().split("T")[0],"date.now":(new Date).toISOString()};let n=e;return Object.entries(t).forEach((([e,t])=>{const a=new RegExp(`\\{\\{${e}\\}\\}`,"g");n=n.replace(a,t)})),n})(n);t.append(e,a)}})),t.toString()},G=e=>{switch(e){case"get":return"text-blue-600";case"post":return"text-green-600";case"put":return"text-orange-600";case"delete":return"text-red-600";default:return"text-gray-600"}};return vi.jsxs("div",{className:"node-woocommerce p-3 rounded-lg bg-white border border-purple-200 shadow-sm max-w-[320px] group",children:[vi.jsxs("div",{className:"absolute -top-8 -right-2 bg-background border rounded-md shadow-sm flex z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[vi.jsx(VS,{children:vi.jsxs($S,{children:[vi.jsx(HS,{asChild:!0,children:vi.jsx(tk,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>R(e),children:vi.jsx(Wb,{className:"h-3.5 w-3.5"})})}),vi.jsx(YS,{side:"top",children:vi.jsx("p",{className:"text-xs",children:"Duplicate node"})})]})}),vi.jsx(VS,{children:vi.jsxs($S,{children:[vi.jsx(HS,{asChild:!0,children:vi.jsx(tk,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive hover:text-destructive",onClick:()=>O(e),children:vi.jsx(Yw,{className:"h-3.5 w-3.5"})})}),vi.jsx(YS,{side:"top",children:vi.jsx("p",{className:"text-xs",children:"Delete node"})})]})})]}),vi.jsxs("div",{className:"font-medium flex items-center gap-2 mb-2",children:[vi.jsx(Uw,{className:"h-4 w-4 text-purple-600"}),vi.jsx("span",{children:"WooCommerce"}),vi.jsx("button",{className:"ml-auto text-xs text-muted-foreground hover:text-foreground",onClick:()=>d(!c),children:c?"Hide":"Edit"})]}),vi.jsxs("div",{className:"text-sm p-2 bg-secondary/40 rounded border border-border",children:[vi.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[vi.jsx($w,{className:"h-3.5 w-3.5 text-muted-foreground"}),vi.jsx("span",{className:iN("font-medium",G(v)),children:v.toUpperCase()}),vi.jsx("span",{className:"text-muted-foreground",children:"•"}),vi.jsx("span",{className:"text-xs text-muted-foreground truncate",children:(null==(a=I5.find((e=>e.id===x)))?void 0:a.name)||x})]}),vi.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[u&&vi.jsx("span",{className:"text-[10px] bg-purple-100 text-purple-800 px-1 py-0.5 rounded",children:new URL(u).hostname}),Object.keys(w).length>0&&vi.jsxs("span",{className:"text-[10px] bg-blue-100 text-blue-800 px-1 py-0.5 rounded",children:[Object.keys(w).length," filter",1!==Object.keys(w).length?"s":""]}),N.length>0&&vi.jsxs("span",{className:"text-[10px] bg-indigo-100 text-indigo-800 px-1 py-0.5 rounded",children:[N.length," mapping",1!==N.length?"s":""]}),m&&vi.jsx("span",{className:"text-[10px] bg-orange-100 text-orange-800 px-1 py-0.5 rounded",children:"API Connected"}),vi.jsxs("span",{className:"text-[10px] bg-gray-100 text-gray-800 px-1 py-0.5 rounded",children:["API ",S]})]})]}),c&&vi.jsxs("div",{className:"mt-3 text-xs space-y-3 border rounded p-2 bg-secondary/10",children:[vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 font-medium",children:"Quick Templates"}),vi.jsxs(AU,{value:"",onValueChange:e=>{const t=A5.find((t=>t.id===e));t&&(y(t.resource),b(t.action),j(Object.fromEntries(Object.entries(t.filters).filter((([e,t])=>void 0!==t)))))},children:[vi.jsx(PU,{className:"text-xs h-7",children:vi.jsx(DU,{placeholder:"Choose a WooCommerce operation..."})}),vi.jsx(zU,{children:A5.map((e=>vi.jsx(FU,{value:e.id,children:e.name},e.id)))})]})]}),vi.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[vi.jsx(uB,{className:"block font-medium",children:"WordPress Site Configuration"}),vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 text-xs",children:"Site URL"}),vi.jsx(fB,{placeholder:"https://mystore.com",value:u,onChange:e=>f(e.target.value),className:"text-xs h-7"})]}),vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 text-xs",children:"Consumer Key"}),vi.jsx(fB,{placeholder:"ck_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",value:m,onChange:e=>p(e.target.value),className:"text-xs h-7"})]}),vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 text-xs",children:"Consumer Secret"}),vi.jsx(fB,{type:"password",placeholder:"cs_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",value:h,onChange:e=>g(e.target.value),className:"text-xs h-7"})]}),vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 text-xs",children:"API Version"}),vi.jsxs(AU,{value:S,onValueChange:k,children:[vi.jsx(PU,{className:"text-xs h-7",children:vi.jsx(DU,{placeholder:"Select API version"})}),vi.jsxs(zU,{children:[vi.jsx(FU,{value:"v3",children:"v3 (Latest)"}),vi.jsx(FU,{value:"v2",children:"v2 (Legacy)"}),vi.jsx(FU,{value:"v1",children:"v1 (Deprecated)"})]})]})]}),vi.jsx("div",{className:"flex gap-2",children:vi.jsxs(tk,{variant:"outline",size:"sm",className:"h-7 px-2 flex-1",onClick:async()=>{var e;if(!u.trim())return I({success:!1,error:"Please enter your WordPress site URL (e.g., https://mystore.com)"}),void A(!0);if(!(e=>{try{const t=new URL(e);return"http:"===t.protocol||"https:"===t.protocol}catch{return!1}})(u))return I({success:!1,error:"Please enter a valid URL (must include http:// or https://)"}),void A(!0);if(!m.trim()||!h.trim())return I({success:!1,error:"Please enter both Consumer Key and Consumer Secret"}),void A(!0);_(!0),I(null),A(!0);try{const t=(null==(e=I5.find((e=>e.id===x)))?void 0:e.endpoint)||x,n=U(u,t),a=W(w),r=a?`${n}?${a}`:n,i=btoa(`${m}:${h}`),s=await fetch(r,{method:v.toUpperCase(),headers:{Authorization:`Basic ${i}`,"Content-Type":"application/json",Accept:"application/json"}});let o;try{o=await s.json()}catch{o=await s.text()}if(s.ok){let e=0;Array.isArray(o)?e=o.length:o&&"object"==typeof o&&(e=1);let t=null;try{const e=U(u,"system_status"),n=await fetch(e,{headers:{Authorization:`Basic ${i}`,Accept:"application/json"}});n.ok&&(t=await n.json())}catch{}I({success:!0,data:o,responseCount:e,apiVersion:S,siteInfo:t})}else{let e="Request failed";(null==o?void 0:o.message)?e=o.message:(null==o?void 0:o.error)?e=o.error:401===s.status?e="Authentication failed. Please check your Consumer Key and Secret.":403===s.status?e="Access denied. Please check your API permissions.":404===s.status?e="Resource not found. Please check your site URL and WooCommerce installation.":400===s.status&&(e="Bad request. Please check your filters and parameters."),I({success:!1,error:e})}}catch(t){let e="Connection failed";t.message&&(e=t.message.includes("CORS")?"CORS error. Please ensure your WordPress site allows API access.":t.message.includes("SSL")?"SSL certificate error. Please check your site's SSL configuration.":t.message),I({success:!1,error:e})}finally{_(!1)}},disabled:M||!u.trim()||!m.trim()||!h.trim(),title:"Test connection to your WooCommerce store",children:[M?vi.jsx(uw,{className:"h-3 w-3 animate-spin mr-1"}):vi.jsx(Mw,{className:"h-3 w-3 mr-1"}),"Test Connection"]})})]}),vi.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 font-medium",children:"WooCommerce Resource"}),vi.jsxs(AU,{value:x,onValueChange:y,children:[vi.jsx(PU,{className:"text-xs h-7",children:vi.jsx(DU,{placeholder:"Select resource"})}),vi.jsx(zU,{children:I5.map((e=>vi.jsx(FU,{value:e.id,children:e.name},e.id)))})]})]}),vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 font-medium",children:"Action Type"}),vi.jsxs(AU,{value:v,onValueChange:b,children:[vi.jsx(PU,{className:"text-xs h-7",children:vi.jsx(DU,{placeholder:"Select action"})}),vi.jsx(zU,{children:L5.map((e=>vi.jsx(FU,{value:e.id,children:vi.jsx("span",{className:G(e.id),children:e.name})},e.id)))})]})]})]}),T5[x]&&vi.jsxs("div",{className:"pt-2 border-t",children:[vi.jsx(uB,{className:"block mb-2 font-medium",children:"Filters & Parameters"}),vi.jsx("div",{className:"space-y-2",children:T5[x].map((e=>{var t;return vi.jsxs("div",{className:"flex gap-2 items-center",children:[vi.jsxs("div",{className:"flex-1",children:[vi.jsx(uB,{className:"block mb-1 text-[10px] text-muted-foreground",children:e.label}),"select"===e.type?vi.jsxs(AU,{value:w[e.key]||"",onValueChange:t=>B(e.key,t),children:[vi.jsx(PU,{className:"text-xs h-6",children:vi.jsx(DU,{placeholder:`Select ${e.label.toLowerCase()}`})}),vi.jsx(zU,{children:"select"===e.type&&"options"in e&&(null==(t=e.options)?void 0:t.map((e=>vi.jsx(FU,{value:e,children:e},e))))})]}):vi.jsx(fB,{type:e.type,placeholder:`Enter ${e.label.toLowerCase()}`,value:w[e.key]||e.default||"",onChange:t=>B(e.key,t.target.value),className:"text-xs h-6"})]}),w[e.key]&&vi.jsx(tk,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 mt-4",onClick:()=>{return t=e.key,void j((e=>{const n={...e};return delete n[t],n}));var t},children:vi.jsx(fj,{className:"h-3 w-3"})})]},e.key)}))}),vi.jsx("div",{className:"text-[10px] text-muted-foreground mt-2",children:"Use {{variable}} syntax for dynamic values"})]}),vi.jsxs("div",{className:"pt-2 border-t",children:[vi.jsxs("div",{className:"flex items-center justify-between mb-2",children:[vi.jsx(uB,{className:"font-medium",children:"Response Variable Mapping"}),vi.jsxs(tk,{variant:"outline",size:"sm",className:"h-6 text-xs",onClick:()=>{C([...N,{responseField:"",variableName:""}])},children:[vi.jsx(_w,{className:"h-3 w-3 mr-1"}),"Add"]})]}),N.map(((e,t)=>vi.jsxs("div",{className:"flex gap-2 mb-2",children:[vi.jsx(fB,{placeholder:"0.id or name",value:e.responseField,onChange:e=>F(t,"responseField",e.target.value),className:"text-xs h-7 flex-1"}),vi.jsx("span",{className:"text-xs text-muted-foreground self-center",children:"→"}),vi.jsx(fB,{placeholder:"woocommerce.order_id",value:e.variableName,onChange:e=>F(t,"variableName",e.target.value),className:"text-xs h-7 flex-1"}),vi.jsx(tk,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>(e=>{C(N.filter(((t,n)=>n!==e)))})(t),children:vi.jsx(fj,{className:"h-3 w-3"})})]},t))),vi.jsx("div",{className:"text-[10px] text-muted-foreground",children:"Map WooCommerce response fields to flow variables for use in subsequent nodes"})]}),vi.jsxs("div",{className:"pt-2 border-t",children:[vi.jsxs("button",{className:"text-xs font-medium text-muted-foreground hover:text-foreground flex items-center gap-1 w-full",onClick:()=>D(!T),children:["Available Output Variables",T?vi.jsx(Lb,{className:"h-3 w-3"}):vi.jsx(_b,{className:"h-3 w-3"})]}),T&&vi.jsxs("div",{className:"mt-2 text-[10px] bg-gray-50 p-2 rounded space-y-1",children:[vi.jsxs("div",{children:[vi.jsxs("code",{children:["{{woocommerce.",x,".data}}"]})," - ",null==(r=I5.find((e=>e.id===x)))?void 0:r.name," data"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{woocommerce.response.count}}"})," - Number of results returned"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{woocommerce.api.version}}"})," - API version used"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{woocommerce.site.url}}"})," - WordPress site URL"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{woocommerce.success}}"})," - Request success status"]}),"orders"===x&&vi.jsxs(vi.Fragment,{children:[vi.jsxs("div",{children:[vi.jsx("code",{children:"{{woocommerce.order.id}}"})," - Order ID"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{woocommerce.order.total}}"})," - Order total"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{woocommerce.order.status}}"})," - Order status"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{woocommerce.order.customer_id}}"})," - Customer ID"]})]}),"products"===x&&vi.jsxs(vi.Fragment,{children:[vi.jsxs("div",{children:[vi.jsx("code",{children:"{{woocommerce.product.id}}"})," - Product ID"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{woocommerce.product.name}}"})," - Product name"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{woocommerce.product.price}}"})," - Product price"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{woocommerce.product.stock_quantity}}"})," - Stock quantity"]})]}),"customers"===x&&vi.jsxs(vi.Fragment,{children:[vi.jsxs("div",{children:[vi.jsx("code",{children:"{{woocommerce.customer.id}}"})," - Customer ID"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{woocommerce.customer.email}}"})," - Customer email"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{woocommerce.customer.first_name}}"})," - First name"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{woocommerce.customer.last_name}}"})," - Last name"]})]}),N.map(((e,t)=>e.variableName&&vi.jsxs("div",{children:[vi.jsxs("code",{children:["{{",e.variableName,"}}"]})," - ",e.responseField||"Custom mapping"]},t)))]})]}),vi.jsx("div",{className:"text-[10px] text-muted-foreground mt-2",children:vi.jsx("p",{children:"The WooCommerce Integration node connects to your WordPress/WooCommerce store's REST API. Response data will be available as variables in subsequent nodes."})}),L&&E&&vi.jsxs("div",{className:"mt-3 border rounded p-2 bg-secondary/5",children:[vi.jsxs("div",{className:"flex items-center justify-between mb-2",children:[vi.jsxs("div",{className:"flex items-center gap-2",children:[E.success?vi.jsx(Pb,{className:"h-4 w-4 text-green-600"}):vi.jsx(Fb,{className:"h-4 w-4 text-red-600"}),vi.jsx("span",{className:"text-xs font-medium",children:E.success?"Connection Successful":"Connection Failed"}),void 0!==E.responseCount&&vi.jsxs("span",{className:"text-[10px] text-muted-foreground",children:["(",E.responseCount," result",1!==E.responseCount?"s":"",")"]}),E.apiVersion&&vi.jsxs("span",{className:"text-[10px] text-blue-600",children:["API ",E.apiVersion]})]}),vi.jsx(tk,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0",onClick:()=>A(!1),children:vi.jsx(fj,{className:"h-3 w-3"})})]}),E.error?vi.jsx("div",{className:"text-xs text-red-600 bg-red-50 p-2 rounded",children:E.error}):vi.jsxs("div",{className:"space-y-2",children:[vi.jsxs("div",{className:"text-xs text-green-600 bg-green-50 p-2 rounded",children:["Successfully connected to WooCommerce store and retrieved ",null==(i=I5.find((e=>e.id===x)))?void 0:i.name.toLowerCase()," data."]}),E.siteInfo&&vi.jsxs("div",{children:[vi.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Store Information:"}),vi.jsxs("div",{className:"text-[10px] bg-gray-50 p-2 rounded",children:[vi.jsxs("div",{children:["WooCommerce Version: ",(null==(s=E.siteInfo.environment)?void 0:s.wc_version)||"Unknown"]}),vi.jsxs("div",{children:["WordPress Version: ",(null==(o=E.siteInfo.environment)?void 0:o.wp_version)||"Unknown"]}),vi.jsxs("div",{children:["PHP Version: ",(null==(l=E.siteInfo.environment)?void 0:l.php_version)||"Unknown"]})]})]}),E.data&&vi.jsxs("div",{children:[vi.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Sample Response Data:"}),vi.jsx("div",{className:"text-[10px] bg-gray-50 p-2 rounded font-mono max-h-32 overflow-y-auto",children:JSON.stringify(E.data,null,2)})]})]})]})]}),vi.jsx(l0,{type:"target",position:jX.Left,style:p4,isConnectable:n}),vi.jsx(l0,{type:"source",position:jX.Right,style:p4,isConnectable:n})]})},typebot:function({id:e,data:t,isConnectable:n}){var a,r;const[i,s]=ci.useState(!1),[o,l]=ci.useState(t.apiToken||""),[c,d]=ci.useState(t.workspaceId||""),[u,f]=ci.useState(t.typebotId||""),[m,p]=ci.useState(t.botName||""),[h,g]=ci.useState(t.operation||"start_conversation"),[x,y]=ci.useState(t.config||{}),[v,b]=ci.useState(t.variableMappings||[]),[w,j]=ci.useState(t.sessionTimeout||3600),[N,C]=ci.useState(!1),[S,k]=ci.useState(null),[M,_]=ci.useState(!1),[E,I]=ci.useState(!1),{setNodes:L}=H0(),{onDeleteNode:A,onDuplicateNode:T}=J5(),D=ci.useCallback((t=>{L((n=>n.map((n=>n.id===e?{...n,data:{...n.data,...t}}:n))))}),[e,L]);ci.useEffect((()=>{D({apiToken:o,workspaceId:c,typebotId:u,botName:m,operation:h,config:x,variableMappings:v,sessionTimeout:w})}),[D,o,c,u,m,h,x,v,w]);const P=(e,t,n)=>{const a=[...v];a[e][t]=n,b(a)},O=(e,t)=>{y((n=>({...n,[e]:t})))},R=e=>{let t=e;return Object.entries({"contact.first_name":"John","contact.last_name":"Doe","contact.email":"john.doe@example.com","contact.phone":"+1234567890","message.content":"Hello, I need help with my order","typebot.session.id":"session_123456789","typebot.response.text":"How can I help you today?","user.id":"user_987654321","conversation.id":"conv_456789123"}).forEach((([e,n])=>{const a=new RegExp(`\\{\\{${e}\\}\\}`,"g");t=t.replace(a,n)})),t},z=e=>{switch(e){case"start_conversation":return"text-green-600";case"send_message":return"text-blue-600";case"get_response":return"text-purple-600";case"manage_session":return"text-orange-600";case"webhook_event":return"text-indigo-600";case"get_analytics":return"text-pink-600";default:return"text-gray-600"}};return vi.jsxs("div",{className:"node-typebot p-3 rounded-lg bg-white border border-blue-200 shadow-sm max-w-[320px] group",children:[vi.jsx("div",{className:"absolute -top-8 -right-2 bg-background border rounded-md shadow-sm flex z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:vi.jsx(VS,{children:vi.jsxs($S,{children:[vi.jsx(HS,{asChild:!0,children:vi.jsx(tk,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive hover:text-destructive",onClick:()=>A(e),children:vi.jsx(Yw,{className:"h-3.5 w-3.5"})})}),vi.jsx(YS,{side:"top",children:vi.jsx("p",{className:"text-xs",children:"Delete node"})})]})})}),vi.jsxs("div",{className:"font-medium flex items-center gap-2 mb-2",children:[vi.jsx(xw,{className:"h-4 w-4 text-blue-600"}),vi.jsx("span",{children:"Typebot Integration"}),vi.jsx("button",{className:"ml-auto text-xs text-muted-foreground hover:text-foreground",onClick:()=>s(!i),children:i?"Hide":"Edit"})]}),vi.jsxs("div",{className:"text-sm p-2 bg-secondary/40 rounded border border-border",children:[vi.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[vi.jsx(jb,{className:"h-3.5 w-3.5 text-muted-foreground"}),vi.jsx("span",{className:iN("font-medium",z(h)),children:(null==(a=S5.find((e=>e.id===h)))?void 0:a.name)||h}),vi.jsx("span",{className:"text-muted-foreground",children:"•"}),vi.jsx("span",{className:"text-xs text-muted-foreground truncate",children:m||"No bot selected"})]}),vi.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[u&&vi.jsxs("span",{className:"text-[10px] bg-blue-100 text-blue-800 px-1 py-0.5 rounded",children:["Bot: ",u.slice(0,8),"..."]}),Object.keys(x).length>0&&vi.jsxs("span",{className:"text-[10px] bg-purple-100 text-purple-800 px-1 py-0.5 rounded",children:[Object.keys(x).length," config",1!==Object.keys(x).length?"s":""]}),v.length>0&&vi.jsxs("span",{className:"text-[10px] bg-indigo-100 text-indigo-800 px-1 py-0.5 rounded",children:[v.length," mapping",1!==v.length?"s":""]}),o&&vi.jsx("span",{className:"text-[10px] bg-green-100 text-green-800 px-1 py-0.5 rounded",children:"API Connected"}),vi.jsxs("span",{className:"text-[10px] bg-gray-100 text-gray-800 px-1 py-0.5 rounded",children:["Timeout: ",w,"s"]})]})]}),i&&vi.jsxs("div",{className:"mt-3 text-xs space-y-3 border rounded p-2 bg-secondary/10",children:[vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 font-medium",children:"Quick Templates"}),vi.jsxs(AU,{value:"",onValueChange:e=>{const t=k5.find((t=>t.id===e));if(t){g(t.operation);const e=Object.fromEntries(Object.entries(t.config).filter((([e,t])=>void 0!==t)));y(e)}},children:[vi.jsx(PU,{className:"text-xs h-7",children:vi.jsx(DU,{placeholder:"Choose a Typebot operation..."})}),vi.jsx(zU,{children:k5.map((e=>vi.jsx(FU,{value:e.id,children:e.name},e.id)))})]})]}),vi.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[vi.jsx(uB,{className:"block font-medium",children:"Typebot API Configuration"}),vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 text-xs",children:"API Token"}),vi.jsx(fB,{type:"password",placeholder:"tb_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",value:o,onChange:e=>l(e.target.value),className:"text-xs h-7"})]}),vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 text-xs",children:"Workspace ID (Optional)"}),vi.jsx(fB,{placeholder:"workspace_123456789",value:c,onChange:e=>d(e.target.value),className:"text-xs h-7"})]}),vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 text-xs",children:"Typebot ID"}),vi.jsx(fB,{placeholder:"typebot_987654321",value:u,onChange:e=>f(e.target.value),className:"text-xs h-7"})]}),vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 text-xs",children:"Session Timeout (seconds)"}),vi.jsx(fB,{type:"number",placeholder:"3600",value:w,onChange:e=>j(parseInt(e.target.value)||3600),className:"text-xs h-7"})]}),vi.jsx("div",{className:"flex gap-2",children:vi.jsxs(tk,{variant:"outline",size:"sm",className:"h-7 px-2 flex-1",onClick:async()=>{var e,t;if(!o.trim())return k({success:!1,error:"Please enter your Typebot API token"}),void _(!0);if(!((t=o).startsWith("tb_")&&t.length>=35))return k({success:!1,error:'Please enter a valid Typebot API token (should start with "tb_")'}),void _(!0);if(!u.trim())return k({success:!1,error:"Please enter your Typebot ID"}),void _(!0);C(!0),k(null),_(!0);const n=Date.now();try{const t=`https://typebot.io/api/v1/typebots/${u}`,a=await fetch(t,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});let r=null;a.ok&&(r=await a.json(),p(r.name||"Unknown Bot"));const i=((e,t,n)=>{const a="https://typebot.io/api/v1";switch(e){case"start_conversation":return`${a}/typebots/${t}/startChat`;case"send_message":return`${a}/sessions/${n}/continueChat`;case"get_response":return`${a}/sessions/${n}`;case"manage_session":return`${a}/sessions/${n||"new"}`;case"get_analytics":return`${a}/typebots/${t}/analytics`;case"webhook_event":return`${a}/typebots/${t}/webhooks`;default:return`${a}/typebots/${t}`}})(h,u,x.sessionId);let s={},l="GET";switch(h){case"start_conversation":l="POST",s={isStreamEnabled:x.isStreamEnabled||!1,prefilledVariables:x.prefilledVariables||{},isOnlyRegisteredResults:x.isOnlyRegisteredResults||!1};break;case"send_message":l="POST",s={message:R(x.message||"Test message"),sessionId:x.sessionId||"test_session"};break;case"get_response":case"get_analytics":l="GET";break;case"manage_session":l="create"===x.action?"POST":"PUT",s={variables:x.variables||{}}}const c=await fetch(i,{method:l,headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"},..."GET"!==l&&{body:JSON.stringify(s)}}),d=Date.now()-n;let f;try{f=await c.json()}catch{f=await c.text()}if(c.ok){let t=null;f.sessionId?t=f.sessionId:(null==(e=f.session)?void 0:e.id)&&(t=f.session.id),k({success:!0,data:f,botInfo:r,sessionId:t,responseTime:d})}else{let e="Request failed";(null==f?void 0:f.message)?e=f.message:(null==f?void 0:f.error)?e=f.error:401===c.status?e="Authentication failed. Please check your API token.":403===c.status?e="Access denied. Please check your permissions.":404===c.status?e="Typebot not found. Please check your Typebot ID.":429===c.status&&(e="Rate limit exceeded. Please try again later."),k({success:!1,error:e,responseTime:d})}}catch(a){const e=Date.now()-n;let t="Connection failed";a.message&&(t=a.message.includes("CORS")?"CORS error. Please ensure your domain is allowed in Typebot settings.":a.message.includes("network")?"Network error. Please check your internet connection.":a.message),k({success:!1,error:t,responseTime:e})}finally{C(!1)}},disabled:N||!o.trim()||!u.trim(),title:"Test connection to your Typebot",children:[N?vi.jsx(uw,{className:"h-3 w-3 animate-spin mr-1"}):vi.jsx(Mw,{className:"h-3 w-3 mr-1"}),"Test Connection"]})})]}),vi.jsx("div",{className:"space-y-2 pt-2 border-t",children:vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 font-medium",children:"Typebot Operation"}),vi.jsxs(AU,{value:h,onValueChange:g,children:[vi.jsx(PU,{className:"text-xs h-7",children:vi.jsx(DU,{placeholder:"Select operation"})}),vi.jsx(zU,{children:S5.map((e=>vi.jsx(FU,{value:e.id,children:vi.jsxs("div",{children:[vi.jsx("div",{className:iN("font-medium",z(e.id)),children:e.name}),vi.jsx("div",{className:"text-[10px] text-muted-foreground",children:e.description})]})},e.id)))})]})]})}),M5[h]&&vi.jsxs("div",{className:"pt-2 border-t",children:[vi.jsx(uB,{className:"block mb-2 font-medium",children:"Operation Configuration"}),vi.jsx("div",{className:"space-y-2",children:M5[h].map((e=>{var t;return vi.jsxs("div",{className:"flex gap-2 items-center",children:[vi.jsxs("div",{className:"flex-1",children:[vi.jsxs(uB,{className:"block mb-1 text-[10px] text-muted-foreground",children:[e.label,e.required&&vi.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),"select"===e.type?vi.jsxs(AU,{value:x[e.key]||"",onValueChange:t=>O(e.key,t),children:[vi.jsx(PU,{className:"text-xs h-6",children:vi.jsx(DU,{placeholder:`Select ${e.label.toLowerCase()}`})}),vi.jsx(zU,{children:null==(t=e.options)?void 0:t.map((e=>vi.jsx(FU,{value:e,children:e},e)))})]}):"boolean"===e.type?vi.jsxs("div",{className:"flex items-center space-x-2",children:[vi.jsx(f4,{checked:x[e.key]||e.default||!1,onCheckedChange:t=>O(e.key,t)}),vi.jsx("span",{className:"text-xs text-muted-foreground",children:x[e.key]?"Enabled":"Disabled"})]}):"object"===e.type?vi.jsx(mB,{placeholder:'{"key": "value"}',value:"object"==typeof x[e.key]?JSON.stringify(x[e.key],null,2):x[e.key]||"",onChange:t=>{try{const n=JSON.parse(t.target.value);O(e.key,n)}catch{O(e.key,t.target.value)}},className:"text-xs h-16 font-mono"}):vi.jsx(fB,{type:e.type,placeholder:e.description||`Enter ${e.label.toLowerCase()}`,value:String(x[e.key]??e.default??""),onChange:t=>O(e.key,"number"===e.type?parseInt(t.target.value)||0:t.target.value),className:"text-xs h-6"})]}),void 0!==x[e.key]&&!e.required&&vi.jsx(tk,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 mt-4",onClick:()=>{return t=e.key,void y((e=>{const n={...e};return delete n[t],n}));var t},children:vi.jsx(fj,{className:"h-3 w-3"})})]},e.key)}))}),vi.jsx("div",{className:"text-[10px] text-muted-foreground mt-2",children:"Use {{variable}} syntax for dynamic values"})]}),vi.jsxs("div",{className:"pt-2 border-t",children:[vi.jsxs("div",{className:"flex items-center justify-between mb-2",children:[vi.jsx(uB,{className:"font-medium",children:"Response Variable Mapping"}),vi.jsxs(tk,{variant:"outline",size:"sm",className:"h-6 text-xs",onClick:()=>{b([...v,{responseField:"",variableName:""}])},children:[vi.jsx(_w,{className:"h-3 w-3 mr-1"}),"Add"]})]}),v.map(((e,t)=>vi.jsxs("div",{className:"flex gap-2 mb-2",children:[vi.jsx(fB,{placeholder:"response.text or sessionId",value:e.responseField,onChange:e=>P(t,"responseField",e.target.value),className:"text-xs h-7 flex-1"}),vi.jsx("span",{className:"text-xs text-muted-foreground self-center",children:"→"}),vi.jsx(fB,{placeholder:"typebot.response_text",value:e.variableName,onChange:e=>P(t,"variableName",e.target.value),className:"text-xs h-7 flex-1"}),vi.jsx(tk,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>(e=>{b(v.filter(((t,n)=>n!==e)))})(t),children:vi.jsx(fj,{className:"h-3 w-3"})})]},t))),vi.jsx("div",{className:"text-[10px] text-muted-foreground",children:"Map Typebot response fields to flow variables for use in subsequent nodes"})]}),vi.jsxs("div",{className:"pt-2 border-t",children:[vi.jsxs("button",{className:"text-xs font-medium text-muted-foreground hover:text-foreground flex items-center gap-1 w-full",onClick:()=>I(!E),children:["Available Output Variables",E?vi.jsx(Lb,{className:"h-3 w-3"}):vi.jsx(_b,{className:"h-3 w-3"})]}),E&&vi.jsxs("div",{className:"mt-2 text-[10px] bg-gray-50 p-2 rounded space-y-1",children:[vi.jsxs("div",{children:[vi.jsx("code",{children:"{{typebot.response.text}}"})," - Bot response message"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{typebot.session.id}}"})," - Conversation session ID"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{typebot.bot.name}}"})," - Bot name"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{typebot.conversation.status}}"})," - Conversation status"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{typebot.timestamp}}"})," - Response timestamp"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{typebot.success}}"})," - Operation success status"]}),"start_conversation"===h&&vi.jsxs(vi.Fragment,{children:[vi.jsxs("div",{children:[vi.jsx("code",{children:"{{typebot.session.new}}"})," - New session created"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{typebot.variables}}"})," - Prefilled variables"]})]}),"send_message"===h&&vi.jsxs(vi.Fragment,{children:[vi.jsxs("div",{children:[vi.jsx("code",{children:"{{typebot.message.sent}}"})," - Message sent status"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{typebot.input.type}}"})," - Input type used"]})]}),"get_response"===h&&vi.jsxs(vi.Fragment,{children:[vi.jsxs("div",{children:[vi.jsx("code",{children:"{{typebot.response.blocks}}"})," - Response blocks array"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{typebot.response.input}}"})," - Expected input type"]})]}),"get_analytics"===h&&vi.jsxs(vi.Fragment,{children:[vi.jsxs("div",{children:[vi.jsx("code",{children:"{{typebot.analytics.views}}"})," - Total views"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{typebot.analytics.completions}}"})," - Completion rate"]})]}),v.map(((e,t)=>e.variableName&&vi.jsxs("div",{children:[vi.jsxs("code",{children:["{{",e.variableName,"}}"]})," - ",e.responseField||"Custom mapping"]},t)))]})]}),vi.jsx("div",{className:"text-[10px] text-muted-foreground mt-2",children:vi.jsx("p",{children:"The Typebot Integration node connects to your Typebot chatbot via API. Response data will be available as variables in subsequent nodes."})}),M&&S&&vi.jsxs("div",{className:"mt-3 border rounded p-2 bg-secondary/5",children:[vi.jsxs("div",{className:"flex items-center justify-between mb-2",children:[vi.jsxs("div",{className:"flex items-center gap-2",children:[S.success?vi.jsx(Pb,{className:"h-4 w-4 text-green-600"}):vi.jsx(Fb,{className:"h-4 w-4 text-red-600"}),vi.jsx("span",{className:"text-xs font-medium",children:S.success?"Connection Successful":"Connection Failed"}),S.responseTime&&vi.jsxs("span",{className:"text-[10px] text-muted-foreground",children:["(",S.responseTime,"ms)"]}),S.sessionId&&vi.jsxs("span",{className:"text-[10px] text-blue-600",children:["Session: ",S.sessionId.slice(0,8),"..."]})]}),vi.jsx(tk,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0",onClick:()=>_(!1),children:vi.jsx(fj,{className:"h-3 w-3"})})]}),S.error?vi.jsx("div",{className:"text-xs text-red-600 bg-red-50 p-2 rounded",children:S.error}):vi.jsxs("div",{className:"space-y-2",children:[vi.jsxs("div",{className:"text-xs text-green-600 bg-green-50 p-2 rounded",children:["Successfully connected to Typebot and executed ",null==(r=S5.find((e=>e.id===h)))?void 0:r.name.toLowerCase()," operation."]}),S.botInfo&&vi.jsxs("div",{children:[vi.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Bot Information:"}),vi.jsxs("div",{className:"text-[10px] bg-gray-50 p-2 rounded",children:[vi.jsxs("div",{children:["Name: ",S.botInfo.name||"Unknown"]}),vi.jsxs("div",{children:["ID: ",S.botInfo.id||u]}),vi.jsxs("div",{children:["Status: ",S.botInfo.isPublished?"Published":"Draft"]})]})]}),S.data&&vi.jsxs("div",{children:[vi.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Sample Response Data:"}),vi.jsx("div",{className:"text-[10px] bg-gray-50 p-2 rounded font-mono max-h-32 overflow-y-auto",children:JSON.stringify(S.data,null,2)})]})]})]})]}),vi.jsx(l0,{type:"target",position:jX.Left,style:p4,isConnectable:n}),vi.jsx(l0,{type:"source",position:jX.Right,style:p4,isConnectable:n})]})},flowise:function({id:e,data:t,isConnectable:n}){var a,r;const[i,s]=ci.useState(!1),[o,l]=ci.useState(t.instanceUrl||""),[c,d]=ci.useState(t.apiKey||""),[u,f]=ci.useState(t.chatflowId||""),[m,p]=ci.useState(t.chatflowName||""),[h,g]=ci.useState(t.operation||"start_chatflow"),[x,y]=ci.useState(t.config||{}),[v,b]=ci.useState(t.variableMappings||[]),[w,j]=ci.useState(t.sessionTimeout||3600),[N,C]=ci.useState(!1),[S,k]=ci.useState(null),[M,_]=ci.useState(!1),[E,I]=ci.useState(!1),{setNodes:L}=H0(),{onDeleteNode:A,onDuplicateNode:T}=J5(),D=ci.useCallback((t=>{L((n=>n.map((n=>n.id===e?{...n,data:{...n.data,...t}}:n))))}),[e,L]);ci.useEffect((()=>{D({instanceUrl:o,apiKey:c,chatflowId:u,chatflowName:m,operation:h,config:x,variableMappings:v,sessionTimeout:w})}),[D,o,c,u,m,h,x,v,w]);const P=(e,t,n)=>{const a=[...v];a[e][t]=n,b(a)},O=(e,t)=>{y((n=>({...n,[e]:t})))},R=e=>{const t={"contact.id":"contact_123456789","contact.first_name":"John","contact.email":"john.doe@example.com","message.content":"Hello, I need help with my account","user.query":"What are your business hours?","flowise.session.id":"session_987654321","flowise.response.text":"I can help you with that!",timestamp:Date.now().toString(),"user.id":"user_456789123"};let n=e;return Object.entries(t).forEach((([e,t])=>{const a=new RegExp(`\\{\\{${e}\\}\\}`,"g");n=n.replace(a,t)})),n},z=(e,t,n)=>{const a=o.replace(/\/$/,"");switch(e){case"start_chatflow":case"send_message":case"stream_response":default:return`${a}/api/v1/prediction/${t}`;case"get_response":case"manage_session":return`${a}/api/v1/chatmessage/${t}`;case"get_chatflow_info":return`${a}/api/v1/chatflows/${t}`}},F=e=>{switch(e){case"start_chatflow":return"text-green-600";case"send_message":return"text-blue-600";case"get_response":return"text-purple-600";case"manage_session":return"text-orange-600";case"stream_response":return"text-indigo-600";case"get_chatflow_info":return"text-pink-600";default:return"text-gray-600"}};return vi.jsxs("div",{className:"node-flowise p-3 rounded-lg bg-white border border-purple-200 shadow-sm max-w-[320px] group",children:[vi.jsx("div",{className:"absolute -top-8 -right-2 bg-background border rounded-md shadow-sm flex z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:vi.jsx(VS,{children:vi.jsxs($S,{children:[vi.jsx(HS,{asChild:!0,children:vi.jsx(tk,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive hover:text-destructive",onClick:()=>A(e),children:vi.jsx(Yw,{className:"h-3.5 w-3.5"})})}),vi.jsx(YS,{side:"top",children:vi.jsx("p",{className:"text-xs",children:"Delete node"})})]})})}),vi.jsxs("div",{className:"font-medium flex items-center gap-2 mb-2",children:[vi.jsx(Nb,{className:"h-4 w-4 text-purple-600"}),vi.jsx("span",{children:"Flowise Integration"}),vi.jsx("button",{className:"ml-auto text-xs text-muted-foreground hover:text-foreground",onClick:()=>s(!i),children:i?"Hide":"Edit"})]}),vi.jsxs("div",{className:"text-sm p-2 bg-secondary/40 rounded border border-border",children:[vi.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[vi.jsx(uj,{className:"h-3.5 w-3.5 text-muted-foreground"}),vi.jsx("span",{className:iN("font-medium",F(h)),children:(null==(a=q4.find((e=>e.id===h)))?void 0:a.name)||h}),vi.jsx("span",{className:"text-muted-foreground",children:"•"}),vi.jsx("span",{className:"text-xs text-muted-foreground truncate",children:m||"No chatflow selected"})]}),vi.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[u&&vi.jsxs("span",{className:"text-[10px] bg-purple-100 text-purple-800 px-1 py-0.5 rounded",children:["Flow: ",u.slice(0,8),"..."]}),Object.keys(x).length>0&&vi.jsxs("span",{className:"text-[10px] bg-blue-100 text-blue-800 px-1 py-0.5 rounded",children:[Object.keys(x).length," config",1!==Object.keys(x).length?"s":""]}),v.length>0&&vi.jsxs("span",{className:"text-[10px] bg-indigo-100 text-indigo-800 px-1 py-0.5 rounded",children:[v.length," mapping",1!==v.length?"s":""]}),c&&vi.jsx("span",{className:"text-[10px] bg-green-100 text-green-800 px-1 py-0.5 rounded",children:"API Connected"}),vi.jsxs("span",{className:"text-[10px] bg-gray-100 text-gray-800 px-1 py-0.5 rounded",children:["Timeout: ",w,"s"]})]})]}),i&&vi.jsxs("div",{className:"mt-3 text-xs space-y-3 border rounded p-2 bg-secondary/10",children:[vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 font-medium",children:"Quick Templates"}),vi.jsxs(AU,{value:"",onValueChange:e=>{const t=Q4.find((t=>t.id===e));if(t){g(t.operation);const e=Object.fromEntries(Object.entries(t.config).filter((([e,t])=>void 0!==t)));y(e)}},children:[vi.jsx(PU,{className:"text-xs h-7",children:vi.jsx(DU,{placeholder:"Choose a Flowise operation..."})}),vi.jsx(zU,{children:Q4.map((e=>vi.jsx(FU,{value:e.id,children:e.name},e.id)))})]})]}),vi.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[vi.jsx(uB,{className:"block font-medium",children:"Flowise API Configuration"}),vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 text-xs",children:"Instance URL"}),vi.jsx(fB,{placeholder:"https://your-flowise-instance.com",value:o,onChange:e=>l(e.target.value),className:"text-xs h-7"})]}),vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 text-xs",children:"API Key (Optional)"}),vi.jsx(fB,{type:"password",placeholder:"your-api-key-here",value:c,onChange:e=>d(e.target.value),className:"text-xs h-7"})]}),vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 text-xs",children:"Chatflow ID"}),vi.jsx(fB,{placeholder:"chatflow-uuid-here",value:u,onChange:e=>f(e.target.value),className:"text-xs h-7"})]}),vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 text-xs",children:"Session Timeout (seconds)"}),vi.jsx(fB,{type:"number",placeholder:"3600",value:w,onChange:e=>j(parseInt(e.target.value)||3600),className:"text-xs h-7"})]}),vi.jsx("div",{className:"flex gap-2",children:vi.jsxs(tk,{variant:"outline",size:"sm",className:"h-7 px-2 flex-1",onClick:async()=>{if(!o.trim())return k({success:!1,error:"Please enter your Flowise instance URL"}),void _(!0);if(!(e=>{try{const t=new URL(e);return"http:"===t.protocol||"https:"===t.protocol}catch{return!1}})(o))return k({success:!1,error:"Please enter a valid URL (must include http:// or https://)"}),void _(!0);if(!u.trim())return k({success:!1,error:"Please enter your Chatflow ID"}),void _(!0);C(!0),k(null),_(!0);const e=Date.now();try{const t=z("get_chatflow_info",u),n={"Content-Type":"application/json"};c.trim()&&(n.Authorization=`Bearer ${c}`);const a=await fetch(t,{headers:n});let r=null;a.ok&&(r=await a.json(),p(r.name||"Unknown Chatflow"));const i=z(h,u,x.sessionId);let s={},o="GET";switch(h){case"start_chatflow":case"send_message":o="POST",s={question:R(x.question||"Hello, this is a test message"),sessionId:x.sessionId||`test_session_${Date.now()}`,streaming:x.streaming||!1,overrideConfig:x.overrideConfig||{}};break;case"stream_response":o="POST",s={question:R(x.question||"Test streaming message"),sessionId:x.sessionId||`stream_session_${Date.now()}`,streaming:!0};break;case"get_response":case"get_chatflow_info":o="GET";break;case"manage_session":o="create"===x.action?"POST":"PUT",s={sessionId:x.sessionId||`managed_session_${Date.now()}`,memory:x.memory||{}}}const l=await fetch(i,{method:o,headers:n,..."GET"!==o&&{body:JSON.stringify(s)}}),d=Date.now()-e;let f;try{f=await l.json()}catch{f=await l.text()}if(l.ok){let e=null;f.sessionId?e=f.sessionId:s.sessionId&&(e=s.sessionId),k({success:!0,data:f,chatflowInfo:r,sessionId:e,responseTime:d})}else{let e="Request failed";(null==f?void 0:f.message)?e=f.message:(null==f?void 0:f.error)?e=f.error:401===l.status?e="Authentication failed. Please check your API key.":403===l.status?e="Access denied. Please check your permissions.":404===l.status?e="Chatflow not found. Please check your Chatflow ID.":429===l.status&&(e="Rate limit exceeded. Please try again later."),k({success:!1,error:e,responseTime:d})}}catch(t){const n=Date.now()-e;let a="Connection failed";t.message&&(a=t.message.includes("CORS")?"CORS error. Please ensure your Flowise instance allows cross-origin requests.":t.message.includes("network")?"Network error. Please check your internet connection.":t.message),k({success:!1,error:a,responseTime:n})}finally{C(!1)}},disabled:N||!o.trim()||!u.trim(),title:"Test connection to your Flowise instance",children:[N?vi.jsx(uw,{className:"h-3 w-3 animate-spin mr-1"}):vi.jsx(Mw,{className:"h-3 w-3 mr-1"}),"Test Connection"]})})]}),vi.jsx("div",{className:"space-y-2 pt-2 border-t",children:vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 font-medium",children:"Flowise Operation"}),vi.jsxs(AU,{value:h,onValueChange:g,children:[vi.jsx(PU,{className:"text-xs h-7",children:vi.jsx(DU,{placeholder:"Select operation"})}),vi.jsx(zU,{children:q4.map((e=>vi.jsx(FU,{value:e.id,children:vi.jsxs("div",{children:[vi.jsx("div",{className:iN("font-medium",F(e.id)),children:e.name}),vi.jsx("div",{className:"text-[10px] text-muted-foreground",children:e.description})]})},e.id)))})]})]})}),Z4[h]&&vi.jsxs("div",{className:"pt-2 border-t",children:[vi.jsx(uB,{className:"block mb-2 font-medium",children:"Operation Configuration"}),vi.jsx("div",{className:"space-y-2",children:Z4[h].map((e=>{var t;return vi.jsxs("div",{className:"flex gap-2 items-center",children:[vi.jsxs("div",{className:"flex-1",children:[vi.jsxs(uB,{className:"block mb-1 text-[10px] text-muted-foreground",children:[e.label,e.required&&vi.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),"select"===e.type?vi.jsxs(AU,{value:x[e.key]||"",onValueChange:t=>O(e.key,t),children:[vi.jsx(PU,{className:"text-xs h-6",children:vi.jsx(DU,{placeholder:`Select ${e.label.toLowerCase()}`})}),vi.jsx(zU,{children:null==(t=e.options)?void 0:t.map((e=>vi.jsx(FU,{value:e,children:e},e)))})]}):"boolean"===e.type?vi.jsxs("div",{className:"flex items-center space-x-2",children:[vi.jsx(f4,{checked:x[e.key]||e.default||!1,onCheckedChange:t=>O(e.key,t)}),vi.jsx("span",{className:"text-xs text-muted-foreground",children:x[e.key]?"Enabled":"Disabled"})]}):"object"===e.type?vi.jsx(mB,{placeholder:'{"key": "value"}',value:"object"==typeof x[e.key]?JSON.stringify(x[e.key],null,2):x[e.key]||"",onChange:t=>{try{const n=JSON.parse(t.target.value);O(e.key,n)}catch{O(e.key,t.target.value)}},className:"text-xs h-16 font-mono"}):vi.jsx(fB,{type:e.type,placeholder:e.description||`Enter ${e.label.toLowerCase()}`,value:x[e.key]||e.default||"",onChange:t=>O(e.key,"number"===e.type?parseInt(t.target.value)||0:t.target.value),className:"text-xs h-6"})]}),void 0!==x[e.key]&&!e.required&&vi.jsx(tk,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 mt-4",onClick:()=>{return t=e.key,void y((e=>{const n={...e};return delete n[t],n}));var t},children:vi.jsx(fj,{className:"h-3 w-3"})})]},e.key)}))}),vi.jsx("div",{className:"text-[10px] text-muted-foreground mt-2",children:"Use {{variable}} syntax for dynamic values"})]}),vi.jsxs("div",{className:"pt-2 border-t",children:[vi.jsxs("div",{className:"flex items-center justify-between mb-2",children:[vi.jsx(uB,{className:"font-medium",children:"Response Variable Mapping"}),vi.jsxs(tk,{variant:"outline",size:"sm",className:"h-6 text-xs",onClick:()=>{b([...v,{responseField:"",variableName:""}])},children:[vi.jsx(_w,{className:"h-3 w-3 mr-1"}),"Add"]})]}),v.map(((e,t)=>vi.jsxs("div",{className:"flex gap-2 mb-2",children:[vi.jsx(fB,{placeholder:"text or sessionId",value:e.responseField,onChange:e=>P(t,"responseField",e.target.value),className:"text-xs h-7 flex-1"}),vi.jsx("span",{className:"text-xs text-muted-foreground self-center",children:"→"}),vi.jsx(fB,{placeholder:"flowise.ai_response",value:e.variableName,onChange:e=>P(t,"variableName",e.target.value),className:"text-xs h-7 flex-1"}),vi.jsx(tk,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>(e=>{b(v.filter(((t,n)=>n!==e)))})(t),children:vi.jsx(fj,{className:"h-3 w-3"})})]},t))),vi.jsx("div",{className:"text-[10px] text-muted-foreground",children:"Map Flowise response fields to flow variables for use in subsequent nodes"})]}),vi.jsxs("div",{className:"pt-2 border-t",children:[vi.jsxs("button",{className:"text-xs font-medium text-muted-foreground hover:text-foreground flex items-center gap-1 w-full",onClick:()=>I(!E),children:["Available Output Variables",E?vi.jsx(Lb,{className:"h-3 w-3"}):vi.jsx(_b,{className:"h-3 w-3"})]}),E&&vi.jsxs("div",{className:"mt-2 text-[10px] bg-gray-50 p-2 rounded space-y-1",children:[vi.jsxs("div",{children:[vi.jsx("code",{children:"{{flowise.response.text}}"})," - AI response text"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{flowise.session.id}}"})," - Conversation session ID"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{flowise.chatflow.name}}"})," - Chatflow name"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{flowise.conversation.status}}"})," - Conversation status"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{flowise.timestamp}}"})," - Response timestamp"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{flowise.success}}"})," - Operation success status"]}),"start_chatflow"===h&&vi.jsxs(vi.Fragment,{children:[vi.jsxs("div",{children:[vi.jsx("code",{children:"{{flowise.session.new}}"})," - New session created"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{flowise.config.override}}"})," - Override configuration"]})]}),"send_message"===h&&vi.jsxs(vi.Fragment,{children:[vi.jsxs("div",{children:[vi.jsx("code",{children:"{{flowise.message.sent}}"})," - Message sent status"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{flowise.streaming.enabled}}"})," - Streaming status"]})]}),"get_response"===h&&vi.jsxs(vi.Fragment,{children:[vi.jsxs("div",{children:[vi.jsx("code",{children:"{{flowise.response.format}}"})," - Response format"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{flowise.response.complete}}"})," - Response completion status"]})]}),"stream_response"===h&&vi.jsxs(vi.Fragment,{children:[vi.jsxs("div",{children:[vi.jsx("code",{children:"{{flowise.stream.chunks}}"})," - Stream chunks array"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{flowise.stream.complete}}"})," - Stream completion status"]})]}),"get_chatflow_info"===h&&vi.jsxs(vi.Fragment,{children:[vi.jsxs("div",{children:[vi.jsx("code",{children:"{{flowise.chatflow.nodes}}"})," - Chatflow nodes"]}),vi.jsxs("div",{children:[vi.jsx("code",{children:"{{flowise.chatflow.version}}"})," - Chatflow version"]})]}),v.map(((e,t)=>e.variableName&&vi.jsxs("div",{children:[vi.jsxs("code",{children:["{{",e.variableName,"}}"]})," - ",e.responseField||"Custom mapping"]},t)))]})]}),vi.jsx("div",{className:"text-[10px] text-muted-foreground mt-2",children:vi.jsx("p",{children:"The Flowise Integration node connects to your Flowise AI workflows via API. Response data will be available as variables in subsequent nodes."})}),M&&S&&vi.jsxs("div",{className:"mt-3 border rounded p-2 bg-secondary/5",children:[vi.jsxs("div",{className:"flex items-center justify-between mb-2",children:[vi.jsxs("div",{className:"flex items-center gap-2",children:[S.success?vi.jsx(Pb,{className:"h-4 w-4 text-green-600"}):vi.jsx(Fb,{className:"h-4 w-4 text-red-600"}),vi.jsx("span",{className:"text-xs font-medium",children:S.success?"Connection Successful":"Connection Failed"}),S.responseTime&&vi.jsxs("span",{className:"text-[10px] text-muted-foreground",children:["(",S.responseTime,"ms)"]}),S.sessionId&&vi.jsxs("span",{className:"text-[10px] text-purple-600",children:["Session: ",S.sessionId.slice(0,8),"..."]})]}),vi.jsx(tk,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0",onClick:()=>_(!1),children:vi.jsx(fj,{className:"h-3 w-3"})})]}),S.error?vi.jsx("div",{className:"text-xs text-red-600 bg-red-50 p-2 rounded",children:S.error}):vi.jsxs("div",{className:"space-y-2",children:[vi.jsxs("div",{className:"text-xs text-green-600 bg-green-50 p-2 rounded",children:["Successfully connected to Flowise and executed ",null==(r=q4.find((e=>e.id===h)))?void 0:r.name.toLowerCase()," operation."]}),S.chatflowInfo&&vi.jsxs("div",{children:[vi.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Chatflow Information:"}),vi.jsxs("div",{className:"text-[10px] bg-gray-50 p-2 rounded",children:[vi.jsxs("div",{children:["Name: ",S.chatflowInfo.name||"Unknown"]}),vi.jsxs("div",{children:["ID: ",S.chatflowInfo.id||u]}),vi.jsxs("div",{children:["Status: ",S.chatflowInfo.deployed?"Deployed":"Draft"]}),vi.jsxs("div",{children:["Category: ",S.chatflowInfo.category||"General"]})]})]}),S.data&&vi.jsxs("div",{children:[vi.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Sample Response Data:"}),vi.jsx("div",{className:"text-[10px] bg-gray-50 p-2 rounded font-mono max-h-32 overflow-y-auto",children:JSON.stringify(S.data,null,2)})]})]})]})]}),vi.jsx(l0,{type:"target",position:jX.Left,style:p4,isConnectable:n}),vi.jsx(l0,{type:"source",position:jX.Right,style:p4,isConnectable:n})]})},bot_disable:function({id:e,data:t,isConnectable:n}){var a;const[r,i]=ci.useState(!1),[s,o]=ci.useState(t.disableDuration||"30"),[l,c]=ci.useState(t.customDuration||60),[d,u]=ci.useState(t.customDurationUnit||"minutes"),[f,m]=ci.useState(t.triggerMethod||"always"),[p,h]=ci.useState(t.keyword||"agent"),[g,x]=ci.useState(t.caseSensitive||!1),[y,v]=ci.useState(t.assignToAgent||""),[b,w]=ci.useState(void 0===t.notifyAgent||t.notifyAgent),[j,N]=ci.useState(t.handoffMessage||"A customer is requesting human assistance."),{setNodes:C}=H0(),{onDeleteNode:S,onDuplicateNode:k}=J5(),{data:M=[],isLoading:_,error:E}=ky({queryKey:["/api/agents"],queryFn:async()=>{const e=await Ey("GET","/api/agents");if(!e.ok){const t=await e.text();throw new Error(`Failed to fetch agents: ${e.status} ${t}`)}return e.json()},retry:1,staleTime:3e5}),I=[{id:"auto",name:"Auto-assign to available agent"},...M.map((e=>({id:e.id.toString(),name:`${e.fullName} (${e.role})`})))],L=ci.useCallback((t=>{C((n=>n.map((n=>n.id===e?{...n,data:{...n.data,...t}}:n))))}),[e,C]);return ci.useEffect((()=>{L({disableDuration:s,customDuration:l,customDurationUnit:d,triggerMethod:f,keyword:p,caseSensitive:g,assignToAgent:y,notifyAgent:b,handoffMessage:j})}),[L,s,l,d,f,p,g,y,b,j]),vi.jsxs("div",{className:"node-bot-disable p-3 rounded-lg bg-white border border-orange-200 shadow-sm max-w-[320px] group",children:[vi.jsxs("div",{className:"absolute -top-8 -right-2 bg-background border rounded-md shadow-sm flex z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[vi.jsx(VS,{children:vi.jsxs($S,{children:[vi.jsx(HS,{asChild:!0,children:vi.jsx(tk,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>k(e),children:vi.jsx(Wb,{className:"h-3.5 w-3.5"})})}),vi.jsx(YS,{side:"top",children:vi.jsx("p",{className:"text-xs",children:"Duplicate node"})})]})}),vi.jsx(VS,{children:vi.jsxs($S,{children:[vi.jsx(HS,{asChild:!0,children:vi.jsx(tk,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive hover:text-destructive",onClick:()=>S(e),children:vi.jsx(Yw,{className:"h-3.5 w-3.5"})})}),vi.jsx(YS,{side:"top",children:vi.jsx("p",{className:"text-xs",children:"Delete node"})})]})})]}),vi.jsxs("div",{className:"font-medium flex items-center gap-2 mb-2",children:[vi.jsx(tj,{className:"h-4 w-4 text-orange-600"}),vi.jsx("span",{children:"Agent Handoff"}),vi.jsx("button",{className:"ml-auto text-xs text-muted-foreground hover:text-foreground",onClick:()=>i(!r),children:r?"Hide":"Edit"})]}),vi.jsxs("div",{className:"text-sm p-2 bg-secondary/40 rounded border border-border",children:[vi.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[vi.jsx(Nw,{className:"h-3.5 w-3.5 text-muted-foreground"}),vi.jsx("span",{className:"font-medium text-orange-600",children:"Disable Bot"}),vi.jsx("span",{className:"text-muted-foreground",children:"•"}),vi.jsx("span",{className:"text-xs text-muted-foreground truncate",children:(()=>{if("manual"===s)return"Until manually re-enabled";if("custom"===s)return`${l} ${d}`;{const e=H4.find((e=>e.value===s));return(null==e?void 0:e.label)||"30 minutes"}})()})]}),vi.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[vi.jsx("span",{className:"text-[10px] bg-orange-100 text-orange-800 px-1 py-0.5 rounded",children:"keyword"===f?`When "${p}" detected`:"Always when executed"}),y&&vi.jsx("span",{className:"text-[10px] bg-blue-100 text-blue-800 px-1 py-0.5 rounded",children:(null==(a=I.find((e=>e.id===y)))?void 0:a.name.split(" ")[0])||"Agent"}),b&&vi.jsx("span",{className:"text-[10px] bg-green-100 text-green-800 px-1 py-0.5 rounded",children:"Notify Agent"})]})]}),r&&vi.jsxs("div",{className:"mt-3 text-xs space-y-3 border rounded p-2 bg-secondary/10",children:[vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-2 font-medium",children:"Trigger Method"}),vi.jsxs(V4,{value:f,onValueChange:m,className:"space-y-2",children:[vi.jsxs("div",{className:"flex items-center space-x-2",children:[vi.jsx($4,{value:"always",id:"always"}),vi.jsx(uB,{htmlFor:"always",className:"text-xs",children:"Always disable when this node executes"})]}),vi.jsxs("div",{className:"flex items-center space-x-2",children:[vi.jsx($4,{value:"keyword",id:"keyword"}),vi.jsx(uB,{htmlFor:"keyword",className:"text-xs",children:"Disable only when specific keyword is detected"})]})]})]}),"keyword"===f&&vi.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 text-xs",children:"Trigger Keyword"}),vi.jsx(fB,{placeholder:"e.g., agent, human, help",value:p,onChange:e=>h(e.target.value),className:"text-xs h-7"})]}),vi.jsxs("div",{className:"flex items-center space-x-2",children:[vi.jsx(f4,{id:"case-sensitive",checked:g,onCheckedChange:x}),vi.jsx(uB,{htmlFor:"case-sensitive",className:"text-xs",children:"Case sensitive matching"})]})]}),vi.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[vi.jsx(uB,{className:"block mb-1 font-medium",children:"Disable Duration"}),vi.jsxs(AU,{value:s,onValueChange:o,children:[vi.jsx(PU,{className:"text-xs h-7",children:vi.jsx(DU,{placeholder:"Select duration..."})}),vi.jsx(zU,{children:H4.map((e=>vi.jsx(FU,{value:e.value,children:e.label},e.value)))})]}),"custom"===s&&vi.jsxs("div",{className:"flex gap-2",children:[vi.jsx(fB,{type:"number",placeholder:"Duration",value:l,onChange:e=>c(Number(e.target.value)),className:"text-xs h-7 flex-1",min:"1"}),vi.jsxs(AU,{value:d,onValueChange:u,children:[vi.jsx(PU,{className:"text-xs h-7 w-20",children:vi.jsx(DU,{})}),vi.jsxs(zU,{children:[vi.jsx(FU,{value:"minutes",children:"min"}),vi.jsx(FU,{value:"hours",children:"hrs"}),vi.jsx(FU,{value:"days",children:"days"})]})]})]})]}),vi.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[vi.jsx(uB,{className:"block mb-1 font-medium",children:"Agent Assignment"}),vi.jsxs(AU,{value:y,onValueChange:v,disabled:_,children:[vi.jsx(PU,{className:"text-xs h-7",children:vi.jsx(DU,{placeholder:_?"Loading agents...":"Select agent..."})}),vi.jsx(zU,{children:_?vi.jsx(FU,{value:"loading",disabled:!0,children:vi.jsxs("div",{className:"flex items-center",children:[vi.jsx(uw,{className:"h-3 w-3 mr-2 animate-spin"}),"Loading agents..."]})}):E?vi.jsx(FU,{value:"error",disabled:!0,children:vi.jsxs("div",{className:"flex items-center",children:[vi.jsx(oj,{className:"h-3 w-3 mr-2"}),"Error loading agents"]})}):0===I.length?vi.jsx(FU,{value:"empty",disabled:!0,children:vi.jsxs("div",{className:"flex items-center",children:[vi.jsx(oj,{className:"h-3 w-3 mr-2"}),"No agents available"]})}):I.map((e=>vi.jsx(FU,{value:e.id,children:e.name},e.id)))})]})]}),vi.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[vi.jsxs("div",{className:"flex items-center space-x-2",children:[vi.jsx(f4,{id:"notify-agent",checked:b,onCheckedChange:w}),vi.jsx(uB,{htmlFor:"notify-agent",className:"text-xs font-medium",children:"Notify assigned agent"})]}),b&&vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 text-xs",children:"Handoff Message"}),vi.jsx(fB,{placeholder:"Message to send to agent",value:j,onChange:e=>N(e.target.value),className:"text-xs h-7"})]})]})]}),vi.jsx(l0,{type:"target",position:jX.Left,style:p4,isConnectable:n})]})},bot_reset:function({id:e,data:t,isConnectable:n}){const[a,r]=ci.useState(!1),[i,s]=ci.useState(t.resetScope||"bot_only"),[o,l]=ci.useState(t.confirmationMessage||"Bot assistance has been re-enabled. How can I help you?"),[c,d]=ci.useState(void 0===t.sendConfirmation||t.sendConfirmation),[u,f]=ci.useState(void 0!==t.clearVariables&&t.clearVariables),[m,p]=ci.useState(void 0!==t.resetFlowPosition&&t.resetFlowPosition),[h,g]=ci.useState(void 0===t.notifyAgent||t.notifyAgent),[x,y]=ci.useState(void 0!==t.autoReassign&&t.autoReassign),{setNodes:v}=H0(),{onDeleteNode:b,onDuplicateNode:w}=J5(),j=ci.useCallback((t=>{v((n=>n.map((n=>n.id===e?{...n,data:{...n.data,...t}}:n))))}),[e,v]);return ci.useEffect((()=>{j({resetScope:i,confirmationMessage:o,sendConfirmation:c,clearVariables:u,resetFlowPosition:m,notifyAgent:h,autoReassign:x})}),[j,i,o,c,u,m,h,x]),vi.jsxs("div",{className:"node-bot-reset p-3 rounded-lg bg-white border border-green-200 shadow-sm max-w-[320px] group",children:[vi.jsxs("div",{className:"absolute -top-8 -right-2 bg-background border rounded-md shadow-sm flex z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[vi.jsx(VS,{children:vi.jsxs($S,{children:[vi.jsx(HS,{asChild:!0,children:vi.jsx(tk,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>w(e),children:vi.jsx(Wb,{className:"h-3.5 w-3.5"})})}),vi.jsx(YS,{side:"top",children:vi.jsx("p",{className:"text-xs",children:"Duplicate node"})})]})}),vi.jsx(VS,{children:vi.jsxs($S,{children:[vi.jsx(HS,{asChild:!0,children:vi.jsx(tk,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive hover:text-destructive",onClick:()=>b(e),children:vi.jsx(Yw,{className:"h-3.5 w-3.5"})})}),vi.jsx(YS,{side:"top",children:vi.jsx("p",{className:"text-xs",children:"Delete node"})})]})})]}),vi.jsxs("div",{className:"font-medium flex items-center gap-2 mb-2",children:[vi.jsx(Lw,{className:"h-4 w-4 text-green-600"}),vi.jsx("span",{children:"Reset Bot"}),vi.jsx("button",{className:"ml-auto text-xs text-muted-foreground hover:text-foreground",onClick:()=>r(!a),children:a?"Hide":"Edit"})]}),vi.jsxs("div",{className:"text-sm p-2 bg-secondary/40 rounded border border-border",children:[vi.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[(()=>{switch(i){case"bot_only":return vi.jsx(Pb,{className:"h-3.5 w-3.5 text-green-600"});case"bot_and_context":return vi.jsx(Tw,{className:"h-3.5 w-3.5 text-blue-600"});case"full_reset":return vi.jsx(Tb,{className:"h-3.5 w-3.5 text-red-600"});default:return vi.jsx(Lw,{className:"h-3.5 w-3.5 text-muted-foreground"})}})(),vi.jsx("span",{className:"font-medium text-green-600",children:"Re-enable Bot"}),vi.jsx("span",{className:"text-muted-foreground",children:"•"}),vi.jsx("span",{className:"text-xs text-muted-foreground truncate",children:(()=>{const e=Y4.find((e=>e.value===i));return(null==e?void 0:e.label)||"Re-enable bot only"})()})]}),vi.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[c&&vi.jsx("span",{className:"text-[10px] bg-green-100 text-green-800 px-1 py-0.5 rounded",children:"Send Confirmation"}),u&&vi.jsx("span",{className:"text-[10px] bg-blue-100 text-blue-800 px-1 py-0.5 rounded",children:"Clear Variables"}),m&&vi.jsx("span",{className:"text-[10px] bg-purple-100 text-purple-800 px-1 py-0.5 rounded",children:"Reset Flow"}),h&&vi.jsx("span",{className:"text-[10px] bg-orange-100 text-orange-800 px-1 py-0.5 rounded",children:"Notify Agent"})]})]}),a&&vi.jsxs("div",{className:"mt-3 text-xs space-y-3 border rounded p-2 bg-secondary/10",children:[vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-2 font-medium",children:"Reset Scope"}),vi.jsxs(AU,{value:i,onValueChange:s,children:[vi.jsx(PU,{className:"text-xs h-7",children:vi.jsx(DU,{placeholder:"Select reset scope..."})}),vi.jsx(zU,{children:Y4.map((e=>vi.jsx(FU,{value:e.value,children:vi.jsxs("div",{children:[vi.jsx("div",{className:"font-medium",children:e.label}),vi.jsx("div",{className:"text-xs text-muted-foreground",children:e.description})]})},e.value)))})]})]}),"bot_only"!==i&&vi.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[vi.jsx(uB,{className:"block mb-1 font-medium",children:"Advanced Options"}),vi.jsxs("div",{className:"flex items-center space-x-2",children:[vi.jsx(f4,{id:"clear-variables",checked:u,onCheckedChange:f}),vi.jsx(uB,{htmlFor:"clear-variables",className:"text-xs",children:"Clear all flow variables"})]}),vi.jsxs("div",{className:"flex items-center space-x-2",children:[vi.jsx(f4,{id:"reset-flow-position",checked:m,onCheckedChange:p}),vi.jsx(uB,{htmlFor:"reset-flow-position",className:"text-xs",children:"Reset flow to beginning"})]})]}),vi.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[vi.jsxs("div",{className:"flex items-center space-x-2",children:[vi.jsx(f4,{id:"send-confirmation",checked:c,onCheckedChange:d}),vi.jsx(uB,{htmlFor:"send-confirmation",className:"text-xs font-medium",children:"Send confirmation message"})]}),c&&vi.jsxs("div",{children:[vi.jsx(uB,{className:"block mb-1 text-xs",children:"Confirmation Message"}),vi.jsx(mB,{placeholder:"Message to send when bot is re-enabled",value:o,onChange:e=>l(e.target.value),className:"text-xs min-h-[60px] resize-none"})]})]}),vi.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[vi.jsx(uB,{className:"block mb-1 font-medium",children:"Agent Notification"}),vi.jsxs("div",{className:"flex items-center space-x-2",children:[vi.jsx(f4,{id:"notify-agent",checked:h,onCheckedChange:g}),vi.jsx(uB,{htmlFor:"notify-agent",className:"text-xs",children:"Notify agent of bot re-enablement"})]}),vi.jsxs("div",{className:"flex items-center space-x-2",children:[vi.jsx(f4,{id:"auto-reassign",checked:x,onCheckedChange:y}),vi.jsx(uB,{htmlFor:"auto-reassign",className:"text-xs",children:"Auto-reassign conversation to bot"})]})]})]}),vi.jsx(l0,{type:"target",position:jX.Left,style:p4,isConnectable:n})]})}},H5=({id:e,sourceX:t,sourceY:n,targetX:a,targetY:r,sourcePosition:i,targetPosition:s,style:o={},markerEnd:l,selected:c})=>{const{setEdges:d}=H0(),[u,f,m]=IX({sourceX:t,sourceY:n,sourcePosition:i,targetX:a,targetY:r,targetPosition:s});return vi.jsxs(vi.Fragment,{children:[vi.jsx(lX,{path:u,markerEnd:l,style:o}),c&&vi.jsx(b2,{children:vi.jsx("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${f}px,${m}px)`,fontSize:12,pointerEvents:"all"},className:"nodrag nopan",children:vi.jsx("button",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white border border-red-500 text-red-500 hover:bg-red-50 transition-colors",onClick:()=>{d((t=>t.filter((t=>t.id!==e))))},children:vi.jsx(Yw,{size:12})})})})]})},Y5={custom:H5,smoothstep:H5};function q5({onAdd:e,nodes:t}){const{t:n}=sk(),[a,r]=ci.useState(""),i=t.some((e=>"trigger"===e.type)),s=t.some((e=>"ai_assistant"===e.type)),o=t.some((e=>"typebot"===e.type)),l=t.some((e=>"flowise"===e.type)),{data:c,isLoading:d}=ky({queryKey:["/api/google/calendar/status"],queryFn:async()=>{const e=await fetch("/api/google/calendar/status");return e.ok?e.json():{connected:!1}}}),u=(null==c?void 0:c.connected)||!1,f=e=>{switch(e){case"trigger":return{disabled:i,tooltip:i?n("flow_builder.trigger_node_exists","Only one Message Received trigger allowed per flow"):""};case"ai_assistant":return{disabled:s,tooltip:s?n("flow_builder.ai_assistant_node_exists","Only one AI Assistant node allowed per flow"):""};case"typebot":return{disabled:o,tooltip:o?n("flow_builder.typebot_node_exists","Only one Typebot node allowed per flow"):""};case"flowise":return{disabled:l,tooltip:l?n("flow_builder.flowise_node_exists","Only one Flowise node allowed per flow"):""};default:return{disabled:!1,tooltip:""}}},m=[{type:"trigger",name:"WhatsApp Message",section:"Triggers",icon:yw,color:"text-green-500",...f("trigger")},{type:"message",name:"Text Message",section:"Messages",icon:yw,color:"text-secondry",disabled:!1},{type:"quickreply",name:"Quick Reply Options",section:"Messages",icon:dw,color:"text-blue-500",disabled:!1},{type:"follow_up",name:"Follow-up Message",section:"Messages",icon:Ub,color:"text-orange-500",disabled:!1},{type:"image",name:"Image Message",section:"Messages",icon:ow,color:"text-blue-500",disabled:!1},{type:"video",name:"Video Message",section:"Messages",icon:ew,color:"text-red-500",disabled:!1},{type:"audio",name:"Audio Message",section:"Messages",icon:Jb,color:"text-purple-500",disabled:!1},{type:"document",name:"Document Message",section:"Messages",icon:tw,color:"text-amber-600",disabled:!1},{type:"google_calendar_event",name:"Create Calendar Event",section:"Google Calendar",icon:Sb,color:"text-green-600",disabled:!u},{type:"google_calendar_availability",name:"Check Availability",section:"Google Calendar",icon:Sb,color:"text-blue-600",disabled:!u},{type:"condition",name:"Condition",section:"Flow Control",icon:Tb,color:"text-amber-500",disabled:!1},{type:"wait",name:"Wait",section:"Flow Control",icon:Ub,color:"text-orange-500",disabled:!1},{type:"ai_assistant",name:"AI Assistant",section:"Flow Control",icon:yw,color:"text-violet-500",...f("ai_assistant")},{type:"update_pipeline_stage",name:"Update Pipeline Stage",section:"Flow Control",icon:Db,color:"text-teal-500",disabled:!1},{type:"bot_disable",name:"Agent Handoff",section:"Flow Control",icon:tj,color:"text-orange-600",disabled:!1},{type:"http_request",name:"HTTP Request",section:"Integrations",icon:ww,color:"text-purple-500",disabled:!1},{type:"webhook",name:"Webhook",section:"Integrations",icon:aw,color:"text-blue-500",disabled:!1},{type:"shopify",name:"Shopify",section:"Integrations",icon:Bw,color:"text-green-500",disabled:!1},{type:"woocommerce",name:"WooCommerce",section:"Integrations",icon:Uw,color:"text-purple-500",disabled:!1},{type:"typebot",name:"Typebot",section:"Integrations",icon:xw,color:"text-blue-600",...f("typebot")},{type:"flowise",name:"Flowise",section:"Integrations",icon:Nb,color:"text-purple-600",...f("flowise")}],p=""===a.trim()?m:m.filter((e=>{const t=a.toLowerCase();return e.name.toLowerCase().includes(t)||e.section.toLowerCase().includes(t)||e.type.toLowerCase().includes(t)})),h=p.reduce(((e,t)=>(e[t.section]||(e[t.section]=[]),e[t.section].push(t),e)),{}),g=()=>{r("")};return vi.jsxs("div",{className:"w-full flex flex-col h-full",children:[vi.jsxs("div",{className:"relative mb-3 flex-shrink-0",children:[vi.jsx(Pw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),vi.jsx(fB,{type:"text",placeholder:n("flow_builder.search_nodes","Search nodes..."),value:a,onChange:e=>r(e.target.value),onKeyDown:t=>{"Escape"===t.key?g():"Enter"===t.key&&1===p.length&&e(p[0].type)},className:"pl-10 pr-10 h-9 text-sm"}),a&&vi.jsx(tk,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-7 w-7 p-0 hover:bg-muted",onClick:g,children:vi.jsx(fj,{className:"h-3 w-3"})})]}),vi.jsx("h3",{className:"font-medium mb-3 flex-shrink-0",children:n("flow_builder.add_node","Add Node")}),vi.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar",style:{scrollbarWidth:"thin",scrollbarColor:"#cbd5e1 #f1f5f9",maxHeight:"calc(100vh - 200px)",overflowY:"auto",paddingRight:"4px"},children:[a&&0===p.length&&vi.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[vi.jsx(Pw,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),vi.jsx("p",{className:"text-sm",children:n("flow_builder.no_nodes_found","No nodes found")}),vi.jsx("p",{className:"text-xs",children:n("flow_builder.try_different_search","Try a different search term")})]}),p.length>0&&vi.jsx("div",{className:"grid gap-4 pr-2",children:Object.entries(h).map((([t,a])=>vi.jsxs("div",{children:["Google Calendar"===t?vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsx("h4",{className:"text-xs font-medium text-muted-foreground mb-2",children:t}),d?vi.jsx("span",{className:"text-xs text-muted-foreground mb-2",children:n("flow_builder.checking","Checking...")}):u?vi.jsxs("span",{className:"text-xs text-green-600 mb-2 flex items-center",children:[vi.jsx(Mb,{className:"h-3 w-3 mr-1"}),n("flow_builder.connected","Connected")]}):vi.jsx("a",{href:"/api/google/auth",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-800 mb-2",children:n("flow_builder.connect","Connect")})]}):vi.jsx("h4",{className:"text-xs font-medium text-muted-foreground mb-2",children:t}),vi.jsx("div",{className:"Triggers"===t?"w-full":"grid gap-2",children:a.map((a=>{const r=a.icon;return vi.jsxs(tk,{variant:"outline",className:`${"Triggers"===t?"justify-start w-full":"justify-start"} ${a.disabled?"opacity-50 cursor-not-allowed":""}`,onClick:()=>e(a.type),disabled:a.disabled,title:a.tooltip?a.tooltip:a.disabled&&"Google Calendar"===t?n("flow_builder.connect_google_calendar_first","Connect to Google Calendar first"):"",children:[vi.jsx(r,{className:`h-4 w-4 mr-2 ${a.disabled?"text-muted-foreground":a.color}`}),a.name]},a.type)}))})]},t)))})]})]})}function Q5(){const{t:e}=sk(),[t,n]=hx("/flows/:id"),a=t?parseInt(n.id):null,r=null!==a,{toast:i}=By(),[,s]=mx(),o=ci.useRef(null),l=H0(),c=r?[]:[{id:"trigger-node",type:"trigger",position:{x:250,y:50},data:{label:"WhatsApp Message Trigger",channel:"WhatsApp",conditionType:"any",conditionValue:""}}],[d,u,f]=j2(c),[m,p,h]=N2([]),[g,x]=ci.useState(""),[y,v]=ci.useState(!1),{data:b,isLoading:w}=ky({queryKey:["/api/flows",a],queryFn:async()=>{if(!a)return null;const e=await fetch(`/api/flows/${a}`);if(!e.ok)throw new Error("Failed to load flow");return e.json()},enabled:r});ci.useEffect((()=>{if(b){x(b.name);try{const e="string"==typeof b.nodes?JSON.parse(b.nodes):b.nodes,t="string"==typeof b.edges?JSON.parse(b.edges):b.edges;u(e||[]),p(t||[])}catch(t){i({title:e("flow_builder.error_loading_flow","Error loading flow"),description:e("flow_builder.could_not_parse_flow_data","Could not parse flow data"),variant:"destructive"})}}}),[b,u,p,i]);const j=My({mutationFn:async e=>(await Ey("POST","/api/flows",e)).json(),onSuccess:t=>{Ly.invalidateQueries({queryKey:["/api/flows"]}),s(`/flows/${t.id}`),i({title:e("flow_builder.flow_created","Flow created"),description:e("flow_builder.flow_created_successfully","Your flow has been created successfully.")})},onError:t=>{i({title:e("flow_builder.error_creating_flow","Error creating flow"),description:t.message||e("flow_builder.something_went_wrong","Something went wrong"),variant:"destructive"})}}),N=My({mutationFn:async({id:e,data:t})=>(await Ey("PATCH",`/api/flows/${e}`,t)).json(),onSuccess:()=>{Ly.invalidateQueries({queryKey:["/api/flows",a]}),i({title:e("flow_builder.flow_updated","Flow updated"),description:e("flow_builder.flow_updated_successfully","Your flow has been updated successfully.")})},onError:t=>{i({title:e("flow_builder.error_updating_flow","Error updating flow"),description:t.message||e("flow_builder.something_went_wrong","Something went wrong"),variant:"destructive"})}}),C=ci.useCallback((e=>{p((t=>WX({...e,animated:!0,type:"smoothstep"},t)))}),[p]),S=ci.useCallback((t=>{u((e=>e.filter((e=>e.id!==t)))),p((e=>e.filter((e=>e.source!==t&&e.target!==t)))),i({title:e("flow_builder.node_deleted","Node deleted"),description:e("flow_builder.node_connections_removed","Node and its connections have been removed.")})}),[u,p,i]),k=ci.useCallback((t=>{const n=d.find((e=>e.id===t));if(!n)return;if(["trigger","ai_assistant","typebot","flowise"].includes(n.type||"")){const t={trigger:e("flow_builder.message_received_trigger","Message Received trigger"),ai_assistant:e("flow_builder.ai_assistant","AI Assistant"),typebot:e("flow_builder.typebot","Typebot"),flowise:e("flow_builder.flowise","Flowise")}[n.type||""]||"This";return void i({title:e("flow_builder.cannot_duplicate_singleton","Cannot Duplicate Node"),description:e("flow_builder.singleton_node_unique",`${t} nodes cannot be duplicated. Only one instance is allowed per flow.`),variant:"destructive"})}const a=`node_${D5()}`,r={...n,id:a,position:{x:n.position.x+30,y:n.position.y+30}};u((e=>e.concat(r))),i({title:e("flow_builder.node_duplicated","Node duplicated"),description:e("flow_builder.node_copy_created","A copy of the node has been created.")})}),[d,u,i]),M=ci.useCallback((t=>{if(!o.current)return;if(["trigger","ai_assistant","typebot","flowise"].includes(t)){if(d.find((e=>e.type===t))){const n={trigger:e("flow_builder.message_received_trigger","Message Received trigger"),ai_assistant:e("flow_builder.ai_assistant","AI Assistant"),typebot:e("flow_builder.typebot","Typebot"),flowise:e("flow_builder.flowise","Flowise")}[t]||"This";return void i({title:e("flow_builder.singleton_node_exists_title",`${n} Already Exists`),description:e("flow_builder.singleton_node_exists_description",`Only one ${n} node is allowed per flow. Please use the existing node.`),variant:"destructive"})}}const n=d.find((e=>"trigger"===e.type)),a=(null==n?void 0:n.id)||"",r=m.some((e=>e.source===a)),s=`node_${D5()}`;let c={label:`${t.charAt(0).toUpperCase()+t.slice(1)} Node`};switch(t){case"message":c={...c,message:"Hello! How can I help you?"};break;case"quickreply":c={...c,message:"Please select an option to continue:",options:["I have a question about my order.","I have a question about a product.","I have another question."]};break;case"follow_up":c={...c,messageType:"text",messageContent:"Thank you for your interest! How can we help you further?",mediaUrl:"",caption:"",templateId:void 0,triggerEvent:"conversation_start",delayAmount:24,delayUnit:"hours",specificDatetime:"",maxRetries:3};break;case"condition":c={...c,condition:"Contains('help')"};break;case"action":c={...c,action:"Create ticket"};break;case"image":c={...c,mediaUrl:"",caption:e("flow_builder.default_image_caption","Check out this image!")};break;case"video":c={...c,mediaUrl:"",caption:e("flow_builder.default_video_caption","Watch this video!")};break;case"audio":c={...c,mediaUrl:"",caption:e("flow_builder.default_audio_caption","Listen to this audio!")};break;case"document":c={...c,mediaUrl:"",fileName:"document.pdf",caption:e("flow_builder.default_document_caption_full","Here is the document you requested.")};break;case"wait":c={...c,timeValue:5,timeUnit:"minutes"};break;case"google_calendar_event":c={...c,summary:"Meeting with customer",description:"Discuss product requirements and timeline",startDateTime:new Date(Date.now()+864e5).toISOString(),endDateTime:new Date(Date.now()+864e5+36e5).toISOString(),attendees:[],onDeleteNode:S,onDuplicateNode:k};break;case"google_calendar_availability":c={...c,date:(new Date).toISOString(),durationMinutes:60,onDeleteNode:S,onDuplicateNode:k};break;case"ai_assistant":c={...c,provider:"openai",model:"gpt-4o",apiKey:"",prompt:"You are a helpful assistant. Answer user questions concisely and accurately.",enableHistory:!0,enableAudio:!1,enableTaskExecution:!1,tasks:[],onDeleteNode:S,onDuplicateNode:k};break;case"update_pipeline_stage":c={...c,stageId:null,dealIdVariable:"{{contact.id}}",type:"update_pipeline_stage"};break;case"webhook":c={...c,url:"",method:"POST",headers:[],body:'{"message": "{{message.content}}", "contact": "{{contact.name}}"}',authType:"none",authToken:"",authUsername:"",authPassword:"",authApiKey:"",authApiKeyHeader:"X-API-Key",timeout:30,followRedirects:!0,onDeleteNode:S,onDuplicateNode:k};break;case"http_request":c={...c,url:"",method:"GET",headers:[{key:"Accept",value:"application/json"}],body:"",authType:"none",authToken:"",authUsername:"",authPassword:"",authApiKey:"",authApiKeyHeader:"X-API-Key",timeout:30,followRedirects:!0,responseType:"auto",retryCount:0,retryDelay:1e3,variableMappings:[],onDeleteNode:S,onDuplicateNode:k};break;case"shopify":c={...c,shopDomain:"",apiKey:"",apiPassword:"",resource:"orders",action:"get",filters:{limit:"10"},variableMappings:[],rateLimitDelay:500,onDeleteNode:S,onDuplicateNode:k};break;case"woocommerce":c={...c,siteUrl:"",consumerKey:"",consumerSecret:"",resource:"orders",action:"get",filters:{per_page:"10"},variableMappings:[],apiVersion:"v3",onDeleteNode:S,onDuplicateNode:k};break;case"typebot":c={...c,apiToken:"",workspaceId:"",typebotId:"",botName:"",operation:"start_conversation",config:{},variableMappings:[],sessionTimeout:3600,onDeleteNode:S,onDuplicateNode:k};break;case"flowise":c={...c,instanceUrl:"",apiKey:"",chatflowId:"",chatflowName:"",operation:"start_chatflow",config:{},variableMappings:[],sessionTimeout:3600,onDeleteNode:S,onDuplicateNode:k};break;case"bot_disable":c={...c,disableDuration:"30",customDuration:60,customDurationUnit:"minutes",triggerMethod:"always",keyword:"agent",caseSensitive:!1,assignToAgent:"auto",notifyAgent:!0,handoffMessage:"A customer is requesting human assistance."};break;case"bot_reset":c={...c,resetScope:"bot_only",confirmationMessage:"Bot assistance has been re-enabled. How can I help you?",sendConfirmation:!0,clearVariables:!1,resetFlowPosition:!1,notifyAgent:!0,autoReassign:!1}}const f={id:s,type:t,position:{x:n?n.position.x:250,y:n?n.position.y+150:150},data:c};if(u((e=>e.concat(f))),n&&!r&&"trigger"!==t){const e={id:`edge-${a}-${s}`,source:a,target:s,animated:!0,type:"smoothstep"};p((t=>t.concat(e)))}setTimeout((()=>{try{l.fitView({nodes:[{id:s}],duration:800,padding:.3,maxZoom:1.2,minZoom:.5})}catch(e){console.warn("Could not focus on new node:",e)}}),100)}),[d,m,u,p,l]),[_,E]=ci.useState(!1);return ci.useEffect((()=>{const e=()=>{window.innerWidth>=768?E(!0):E(!1)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),r&&w?vi.jsx("div",{className:"flex justify-center items-center h-full",children:vi.jsx(uw,{className:"h-8 w-8 animate-spin text-primary"})}):vi.jsxs("div",{className:"flow-builder h-full flex flex-col",children:[vi.jsx("div",{className:"flow-header p-4 border-b flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:vi.jsxs("div",{className:"flex flex-col sm:flex-row w-full sm:w-auto gap-4 items-start sm:items-center",children:[vi.jsx(fB,{placeholder:e("flow_builder.flow_name","Flow name"),value:g,onChange:e=>x(e.target.value),className:"w-full sm:w-64"}),vi.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[vi.jsxs(tk,{variant:"outline",onClick:async()=>{if(g.trim()){v(!0);try{const e={name:g,nodes:JSON.stringify(d),edges:JSON.stringify(m),status:"draft"};r&&a?await N.mutateAsync({id:a,data:e}):await j.mutateAsync(e)}finally{v(!1)}}else i({title:e("flow_builder.name_required","Name required"),description:e("flow_builder.provide_flow_name","Please provide a name for your flow"),variant:"destructive"})},disabled:y,className:"flex-1 sm:flex-none btn-brand-primary",children:[y?vi.jsx(uw,{className:"h-4 w-4 mr-2 animate-spin"}):vi.jsx(Dw,{className:"h-4 w-4 mr-2"}),e("common.save","Save")]}),vi.jsx(vx,{href:"/flows",className:"flex-1 sm:flex-none",children:vi.jsx(tk,{variant:"outline",className:"w-full",children:e("common.cancel","Cancel")})}),vi.jsx(tk,{variant:"outline",size:"icon",className:"md:hidden",onClick:()=>E(!_),children:_?vi.jsx(Db,{}):vi.jsx(yw,{})})]})]})}),vi.jsxs("div",{className:"flex-1 flex relative min-h-0",children:[_&&vi.jsx("div",{className:"fixed inset-0 bg-black/50 z-10 md:hidden",onClick:()=>E(!1)}),vi.jsxs("div",{className:"flow-sidebar border-r bg-background shadow-lg md:shadow-none z-20 transition-all duration-300 ease-in-out "+(_?"absolute md:relative h-full w-full sm:w-80 md:w-auto md:min-w-[280px] md:max-w-[320px] lg:min-w-[300px] lg:max-w-[350px]":"hidden md:flex md:min-w-[280px] md:max-w-[320px] lg:min-w-[300px] lg:max-w-[350px]"),children:[vi.jsxs("div",{className:"flex justify-between items-center p-4 border-b md:hidden",children:[vi.jsx("h3",{className:"font-medium",children:e("flow_builder.node_selection","Node Selection")}),vi.jsx(tk,{variant:"outline",size:"icon",onClick:()=>E(!1),children:vi.jsx(Db,{})})]}),vi.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:vi.jsx(q5,{nodes:d,onAdd:e=>{M(e),window.innerWidth<768&&E(!1)}})})]}),vi.jsx("div",{className:"flow-container flex-1 relative "+(_?"hidden md:flex":"flex"),ref:o,style:{minHeight:"90vh"},children:vi.jsx(Z5,{onDeleteNode:S,onDuplicateNode:k,children:vi.jsxs(y2,{nodes:d,edges:m,onNodesChange:f,onEdgesChange:h,onConnect:C,nodeTypes:$5,edgeTypes:Y5,proOptions:{hideAttribution:!0},defaultEdgeOptions:{animated:!0,type:"smoothstep",style:{stroke:"#64748b"}},children:[vi.jsx(X2,{}),vi.jsx($2,{}),vi.jsx(T2,{}),vi.jsx(UK,{position:"top-right",className:"bg-background p-2 rounded-md shadow-sm border",children:vi.jsx(VS,{children:vi.jsxs($S,{children:[vi.jsx(HS,{asChild:!0,children:vi.jsxs("div",{className:"text-xs flex items-center gap-1",children:[vi.jsx("div",{className:"w-2 h-2 rounded-full "+(r?"active"===(null==b?void 0:b.status)?"bg-green-500":"bg-amber-500":"bg-blue-500")}),r?"active"===(null==b?void 0:b.status)?e("flow_builder.active","Active"):e("flow_builder.draft","Draft"):e("flow_builder.creating_new_flow","Creating New Flow")]})}),vi.jsx(YS,{children:vi.jsx("p",{children:e("flow_builder.current_flow_status","Current flow status")})})]})})})]})})})]})]})}function Z5({children:e,onDeleteNode:t,onDuplicateNode:n}){return vi.jsx(B5.Provider,{value:{onDeleteNode:t,onDuplicateNode:n},children:e})}function J5(){const e=ci.useContext(B5);if(!e)throw new Error("useFlowContext must be used within a FlowProvider");return e}function K5(){return vi.jsx(d2,{children:vi.jsx(Q5,{})})}function X5({currentPage:e,totalPages:t,onPageChange:n}){return t<=1?null:vi.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-6",children:[vi.jsx("button",{onClick:()=>n(Math.max(1,e-1)),disabled:1===e,className:"px-3 py-1 rounded-md "+(1===e?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-300 text-gray-600 hover:bg-gray-50"),children:vi.jsx("i",{className:"ri-arrow-left-s-line"})}),(()=>{const n=[];n.push(1),e>3&&n.push("...");for(let a=Math.max(2,e-1);a<=Math.min(t-1,e+1);a++)a<t&&n.push(a);return e<t-2&&n.push("..."),t>1&&n.push(t),n})().map(((t,a)=>vi.jsx("button",{onClick:()=>"number"==typeof t?n(t):null,className:"px-3 py-1 rounded-md "+(t===e?"bg-primary-500 text-white":"..."===t?"bg-white text-gray-600 cursor-default":"bg-white border border-gray-300 text-gray-600 hover:bg-gray-50"),children:t},a))),vi.jsx("button",{onClick:()=>n(Math.min(t,e+1)),disabled:e===t,className:"px-3 py-1 rounded-md "+(e===t?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-300 text-gray-600 hover:bg-gray-50"),children:vi.jsx("i",{className:"ri-arrow-right-s-line"})})]})}function e9({contact:e,isOpen:t,onClose:n}){const[a,r]=ci.useState({name:"",email:"",phone:"",company:"",identifierType:"",identifier:"",notes:"",tags:""}),[i,s]=ci.useState(!1),o=by(),{toast:l}=By(),{t:c}=sk();ci.useEffect((()=>{e&&r({name:e.name||"",email:e.email||"",phone:e.phone||"",company:e.company||"",identifierType:e.identifierType||"",identifier:e.identifier||"",notes:e.notes||"",tags:Array.isArray(e.tags)?e.tags.join(", "):""})}),[e]);const d=My({mutationFn:async t=>{if(!(null==e?void 0:e.id))throw new Error(c("contacts.edit.contact_id_missing","Contact ID is missing"));const n=await Ey("PATCH",`/api/contacts/${e.id}`,t);if(!n.ok){const e=await n.json();throw new Error(e.message||c("contacts.edit.update_failed","Failed to update contact"))}return n.json()},onSuccess:()=>{l({title:c("contacts.edit.success_title","Contact updated"),description:c("contacts.edit.success_description","The contact has been successfully updated.")}),o.invalidateQueries({queryKey:["/api/contacts"]}),n()},onError:e=>{l({title:c("contacts.edit.error_title","Update failed"),description:e.message,variant:"destructive"})},onSettled:()=>{s(!1)}}),u=e=>{const{name:t,value:n}=e.target;r((e=>({...e,[t]:n})))};return vi.jsx(KF,{open:t,onOpenChange:n,children:vi.jsxs(aB,{className:"sm:max-w-[500px]",children:[vi.jsxs(rB,{children:[vi.jsx(sB,{children:c("contacts.edit.title","Edit Contact")}),vi.jsx(oB,{children:c("contacts.edit.description","Make changes to the contact information below.")})]}),vi.jsxs("form",{onSubmit:e=>{e.preventDefault(),s(!0);const t=a.tags?a.tags.split(",").map((e=>e.trim())).filter(Boolean):[];d.mutate({...a,tags:t})},className:"space-y-4 pt-4",children:[vi.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[vi.jsxs("div",{className:"space-y-2",children:[vi.jsxs(uB,{htmlFor:"name",children:[c("contacts.edit.name_label","Name")," *"]}),vi.jsx(fB,{id:"name",name:"name",value:a.name,onChange:u,required:!0})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"email",children:c("contacts.edit.email_label","Email")}),vi.jsx(fB,{id:"email",name:"email",type:"email",value:a.email,onChange:u})]})]}),vi.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"phone",children:c("contacts.edit.phone_label","Phone")}),vi.jsx(fB,{id:"phone",name:"phone",value:a.phone,onChange:u})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"company",children:c("contacts.edit.company_label","Company")}),vi.jsx(fB,{id:"company",name:"company",value:a.company,onChange:u})]})]}),vi.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"identifierType",children:c("contacts.edit.channel_label","Channel")}),vi.jsxs(AU,{value:a.identifierType,onValueChange:e=>((e,t)=>{r((n=>({...n,[e]:t})))})("identifierType",e),children:[vi.jsx(PU,{children:vi.jsx(DU,{placeholder:c("contacts.edit.select_channel_placeholder","Select channel")})}),vi.jsxs(zU,{children:[vi.jsx(FU,{value:"whatsapp",children:c("contacts.edit.channel.whatsapp_official","WhatsApp Official")}),vi.jsx(FU,{value:"whatsapp_unofficial",children:c("contacts.edit.channel.whatsapp_unofficial","WhatsApp Unofficial")}),vi.jsx(FU,{value:"messenger",children:c("contacts.edit.channel.messenger","Facebook Messenger")}),vi.jsx(FU,{value:"instagram",children:c("contacts.edit.channel.instagram","Instagram")})]})]})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"identifier",children:c("contacts.edit.channel_identifier_label","Channel Identifier")}),vi.jsx(fB,{id:"identifier",name:"identifier",value:a.identifier,onChange:u,placeholder:c("contacts.edit.channel_identifier_placeholder","Phone number or ID")})]})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"tags",children:c("contacts.edit.tags_label","Tags (comma separated)")}),vi.jsx(fB,{id:"tags",name:"tags",value:a.tags,onChange:u,placeholder:c("contacts.edit.tags_placeholder","lead, customer, etc.")})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"notes",children:c("contacts.edit.notes_label","Notes")}),vi.jsx(mB,{id:"notes",name:"notes",value:a.notes,onChange:u,rows:3})]}),vi.jsxs(iB,{children:[vi.jsx(tk,{type:"button",variant:"outline",onClick:n,disabled:i,children:c("common.cancel","Cancel")}),vi.jsx(tk,{type:"submit",disabled:i,variant:"brand",className:"btn-brand-primary",children:i?c("contacts.edit.saving","Saving..."):c("contacts.edit.save_changes","Save Changes")})]})]})]})})}var t9="AlertDialog",[n9,a9]=$y(t9,[mF]),r9=mF(),i9=e=>{const{__scopeAlertDialog:t,...n}=e,a=r9(t);return vi.jsx(VF,{...a,...n,modal:!0})};i9.displayName=t9;var s9=ci.forwardRef(((e,t)=>{const{__scopeAlertDialog:n,...a}=e,r=r9(n);return vi.jsx($F,{...r,...a,ref:t})}));s9.displayName="AlertDialogTrigger";var o9=e=>{const{__scopeAlertDialog:t,...n}=e,a=r9(t);return vi.jsx(HF,{...a,...n})};o9.displayName="AlertDialogPortal";var l9=ci.forwardRef(((e,t)=>{const{__scopeAlertDialog:n,...a}=e,r=r9(n);return vi.jsx(YF,{...r,...a,ref:t})}));l9.displayName="AlertDialogOverlay";var c9="AlertDialogContent",[d9,u9]=n9(c9),f9=Jy("AlertDialogContent"),m9=ci.forwardRef(((e,t)=>{const{__scopeAlertDialog:n,children:a,...r}=e,i=r9(n),s=ci.useRef(null),o=Vy(t,s),l=ci.useRef(null);return vi.jsx(BF,{contentName:c9,titleName:p9,docsSlug:"alert-dialog",children:vi.jsx(d9,{scope:n,cancelRef:l,children:vi.jsxs(qF,{role:"alertdialog",...i,...r,ref:o,onOpenAutoFocus:Uy(r.onOpenAutoFocus,(e=>{var t;e.preventDefault(),null==(t=l.current)||t.focus({preventScroll:!0})})),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[vi.jsx(f9,{children:a}),vi.jsx(w9,{contentRef:s})]})})})}));m9.displayName=c9;var p9="AlertDialogTitle",h9=ci.forwardRef(((e,t)=>{const{__scopeAlertDialog:n,...a}=e,r=r9(n);return vi.jsx(QF,{...r,...a,ref:t})}));h9.displayName=p9;var g9="AlertDialogDescription",x9=ci.forwardRef(((e,t)=>{const{__scopeAlertDialog:n,...a}=e,r=r9(n);return vi.jsx(ZF,{...r,...a,ref:t})}));x9.displayName=g9;var y9=ci.forwardRef(((e,t)=>{const{__scopeAlertDialog:n,...a}=e,r=r9(n);return vi.jsx(JF,{...r,...a,ref:t})}));y9.displayName="AlertDialogAction";var v9="AlertDialogCancel",b9=ci.forwardRef(((e,t)=>{const{__scopeAlertDialog:n,...a}=e,{cancelRef:r}=u9(v9,n),i=r9(n),s=Vy(t,r);return vi.jsx(JF,{...i,...a,ref:s})}));b9.displayName=v9;var w9=({contentRef:e})=>{const t=`\`${c9}\` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the \`${c9}\` by passing a \`${g9}\` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${c9}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return ci.useEffect((()=>{var n;document.getElementById(null==(n=e.current)?void 0:n.getAttribute("aria-describedby"))||console.warn(t)}),[t,e]),null},j9=l9,N9=m9,C9=y9,S9=b9,k9=h9,M9=x9;const _9=i9,E9=s9,I9=o9,L9=ci.forwardRef((({className:e,...t},n)=>vi.jsx(j9,{className:iN("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n})));L9.displayName=j9.displayName;const A9=ci.forwardRef((({className:e,children:t,...n},a)=>vi.jsxs(I9,{children:[vi.jsx(L9,{}),vi.jsx(N9,{ref:a,className:iN("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg max-h-[85vh] translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg overflow-y-auto",e),...n,children:vi.jsx("div",{className:"overflow-y-auto pr-1",children:t})})]})));A9.displayName=N9.displayName;const T9=({className:e,...t})=>vi.jsx("div",{className:iN("flex flex-col space-y-2 text-center sm:text-left",e),...t});T9.displayName="AlertDialogHeader";const D9=({className:e,...t})=>vi.jsx("div",{className:iN("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});D9.displayName="AlertDialogFooter";const P9=ci.forwardRef((({className:e,...t},n)=>vi.jsx(k9,{ref:n,className:iN("text-lg ",e),...t})));P9.displayName=k9.displayName;const O9=ci.forwardRef((({className:e,...t},n)=>vi.jsx(M9,{ref:n,className:iN("text-sm text-muted-foreground",e),...t})));O9.displayName=M9.displayName;const R9=ci.forwardRef((({className:e,...t},n)=>vi.jsx(C9,{ref:n,className:iN(ek(),e),...t})));R9.displayName=C9.displayName;const z9=ci.forwardRef((({className:e,...t},n)=>vi.jsx(S9,{ref:n,className:iN(ek({variant:"outline"}),"mt-2 sm:mt-0",e),...t})));z9.displayName=S9.displayName;var F9="Checkbox",[B9,U9]=$y(F9),[W9,G9]=B9(F9);function V9(e){const{__scopeCheckbox:t,checked:n,children:a,defaultChecked:r,disabled:i,form:s,name:o,onCheckedChange:l,required:c,value:d="on",internal_do_not_use_render:u}=e,[f,m]=vv({prop:n,defaultProp:r??!1,onChange:l,caller:F9}),[p,h]=ci.useState(null),[g,x]=ci.useState(null),y=ci.useRef(!1),v=!p||(!!s||!!p.closest("form")),b={checked:f,disabled:i,setChecked:m,control:p,setControl:h,name:o,form:s,value:d,hasConsumerStoppedPropagationRef:y,required:c,defaultChecked:!X9(r)&&r,isFormControl:v,bubbleInput:g,setBubbleInput:x};return vi.jsx(W9,{scope:t,...b,children:K9(u)?u(b):a})}var $9="CheckboxTrigger",H9=ci.forwardRef((({__scopeCheckbox:e,onKeyDown:t,onClick:n,...a},r)=>{const{control:i,value:s,disabled:o,checked:l,required:c,setControl:d,setChecked:u,hasConsumerStoppedPropagationRef:f,isFormControl:m,bubbleInput:p}=G9($9,e),h=Vy(r,d),g=ci.useRef(l);return ci.useEffect((()=>{const e=null==i?void 0:i.form;if(e){const t=()=>u(g.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}}),[i,u]),vi.jsx(ev.button,{type:"button",role:"checkbox","aria-checked":X9(l)?"mixed":l,"aria-required":c,"data-state":e8(l),"data-disabled":o?"":void 0,disabled:o,value:s,...a,ref:h,onKeyDown:Uy(t,(e=>{"Enter"===e.key&&e.preventDefault()})),onClick:Uy(n,(e=>{u((e=>!!X9(e)||!e)),p&&m&&(f.current=e.isPropagationStopped(),f.current||e.stopPropagation())}))})}));H9.displayName=$9;var Y9=ci.forwardRef(((e,t)=>{const{__scopeCheckbox:n,name:a,checked:r,defaultChecked:i,required:s,disabled:o,value:l,onCheckedChange:c,form:d,...u}=e;return vi.jsx(V9,{__scopeCheckbox:n,checked:r,defaultChecked:i,disabled:o,required:s,onCheckedChange:c,name:a,form:d,value:l,internal_do_not_use_render:({isFormControl:e})=>vi.jsxs(vi.Fragment,{children:[vi.jsx(H9,{...u,ref:t,__scopeCheckbox:n}),e&&vi.jsx(J9,{__scopeCheckbox:n})]})})}));Y9.displayName=F9;var q9="CheckboxIndicator",Q9=ci.forwardRef(((e,t)=>{const{__scopeCheckbox:n,forceMount:a,...r}=e,i=G9(q9,n);return vi.jsx(gv,{present:a||X9(i.checked)||!0===i.checked,children:vi.jsx(ev.span,{"data-state":e8(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t,style:{pointerEvents:"none",...e.style}})})}));Q9.displayName=q9;var Z9="CheckboxBubbleInput",J9=ci.forwardRef((({__scopeCheckbox:e,...t},n)=>{const{control:a,hasConsumerStoppedPropagationRef:r,checked:i,defaultChecked:s,required:o,disabled:l,name:c,value:d,form:u,bubbleInput:f,setBubbleInput:m}=G9(Z9,e),p=Vy(n,m),h=hB(i),g=QC(a);ci.useEffect((()=>{const e=f;if(!e)return;const t=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(t,"checked").set,a=!r.current;if(h!==i&&n){const t=new Event("click",{bubbles:a});e.indeterminate=X9(i),n.call(e,!X9(i)&&i),e.dispatchEvent(t)}}),[f,h,i,r]);const x=ci.useRef(!X9(i)&&i);return vi.jsx(ev.input,{type:"checkbox","aria-hidden":!0,defaultChecked:s??x.current,required:o,disabled:l,name:c,value:d,form:u,...t,tabIndex:-1,ref:p,style:{...t.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})}));function K9(e){return"function"==typeof e}function X9(e){return"indeterminate"===e}function e8(e){return X9(e)?"indeterminate":e?"checked":"unchecked"}J9.displayName=Z9;const t8=ci.forwardRef((({className:e,...t},n)=>vi.jsx(Y9,{ref:n,className:iN("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:vi.jsx(Q9,{className:iN("flex items-center justify-center text-current"),children:vi.jsx(Mb,{className:"h-4 w-4"})})})));function n8(){const[e,t]=ci.useState(1),[n,a]=ci.useState(""),[r,i]=ci.useState(""),[s,o]=ci.useState(""),[l]=ci.useState(10),[c,d]=ci.useState(null),[u,f]=ci.useState(!1),[m,p]=ci.useState(null),[h,g]=ci.useState(!1),[x,y]=ci.useState(!1),[v,b]=ci.useState({name:"",email:"",phone:"",company:"",identifierType:"",identifier:"",notes:"",tags:""}),[w,j]=ci.useState(!1),[N,C]=ci.useState(!1),[S,k]=ci.useState(null),[M,_]=ci.useState(0),[E,I]=ci.useState(!1),[L,A]=ci.useState(null),[T,D]=ci.useState("skip"),[P,O]=ci.useState([]),[R,z]=ci.useState(!1),[F,B]=ci.useState(new Set),[U,W]=ci.useState(!1),[G,V]=ci.useState(!1),$=by(),{toast:H}=By(),{t:Y}=sk(),[,q]=mx();ci.useEffect((()=>{const e=setTimeout((()=>{i(n),t(1)}),300);return()=>clearTimeout(e)}),[n]);const{data:Q,isLoading:Z}=ky({queryKey:["/api/contacts",e,r,s,l],queryFn:async()=>{const t=new URLSearchParams;t.append("page",e.toString()),t.append("limit",l.toString()),r&&t.append("search",r),s&&t.append("channel",s);const n=await fetch(`/api/contacts?${t.toString()}`);if(!n.ok)throw new Error("Failed to fetch contacts");return n.json()},refetchOnWindowFocus:!1}),J=Array.isArray(null==Q?void 0:Q.contacts)?Q.contacts:[],K=(null==Q?void 0:Q.total)||0,X=Math.ceil(K/l),ee=My({mutationFn:async e=>{const t=await Ey("DELETE",`/api/contacts/${e}`);if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to delete contact")}return t.json()},onSuccess:()=>{H({title:"Contact deleted",description:"The contact has been successfully deleted."}),$.invalidateQueries({queryKey:["/api/contacts"]})},onError:e=>{H({title:"Delete failed",description:e.message,variant:"destructive"})}}),te=My({mutationFn:async e=>{const t=await Ey("POST","/api/contacts",e);if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to create contact")}return t.json()},onMutate:()=>{j(!0)},onSuccess:()=>{H({title:Y("contacts.add.success_title","Contact created"),description:Y("contacts.add.success_description","The contact has been successfully created.")}),$.invalidateQueries({queryKey:["/api/contacts"]}),y(!1),re()},onError:e=>{H({title:Y("contacts.add.error_title","Creation failed"),description:e.message,variant:"destructive"})},onSettled:()=>{j(!1)}}),ne=My({mutationFn:async({file:e,duplicateHandling:t})=>{const n=new FormData;return n.append("csvFile",e),n.append("duplicateHandling",t),new Promise(((e,t)=>{const a=new XMLHttpRequest;a.upload.onprogress=e=>{if(e.lengthComputable){const t=Math.round(e.loaded/e.total*100);_(t)}},a.onload=()=>{if(200===a.status)try{const t=JSON.parse(a.responseText);e(t)}catch(n){t(new Error("Invalid response format"))}else try{const e=JSON.parse(a.responseText);t(new Error(e.error||"Import failed"))}catch(n){t(new Error(`Import failed with status ${a.status}`))}},a.onerror=()=>t(new Error("Network error during import")),a.open("POST","/api/contacts/import"),a.send(n)}))},onMutate:()=>{I(!0),_(0),A(null)},onSuccess:e=>{A(e),H({title:Y("contacts.import.success_title","Import completed"),description:Y("contacts.import.success_description","Successfully imported {{count}} contacts",{count:e.successful})}),$.invalidateQueries({queryKey:["/api/contacts"]})},onError:e=>{H({title:Y("contacts.import.error_title","Import failed"),description:e.message,variant:"destructive"})},onSettled:()=>{I(!1),_(0)}}),ae=My({mutationFn:async e=>{const t=await Ey("DELETE","/api/contacts/bulk",{contactIds:e});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to delete contacts")}return t.json()},onMutate:()=>{V(!0)},onSuccess:e=>{const{successful:t,failed:n,total:a}=e;t.length>0&&H({title:Y("contacts.bulk_delete.success_title","Contacts deleted"),description:Y("contacts.bulk_delete.success_description","Successfully deleted {{count}} of {{total}} contacts",{count:t.length,total:a})}),n.length>0&&H({title:Y("contacts.bulk_delete.partial_failure_title","Some deletions failed"),description:Y("contacts.bulk_delete.partial_failure_description","{{count}} contacts could not be deleted",{count:n.length}),variant:"destructive"}),$.invalidateQueries({queryKey:["/api/contacts"]}),B(new Set),W(!1)},onError:e=>{H({title:Y("contacts.bulk_delete.error_title","Bulk delete failed"),description:e.message,variant:"destructive"})},onSettled:()=>{V(!1)}}),re=()=>{b({name:"",email:"",phone:"",company:"",identifierType:"",identifier:"",notes:"",tags:""})},ie=e=>{const t=new FileReader;t.onload=e=>{var t,n;const a=(null==(t=e.target)?void 0:t.result).split("\n").filter((e=>e.trim())),r=null==(n=a[0])?void 0:n.split(",").map((e=>e.trim())),i=a.slice(1,6).map((e=>{const t=e.split(",").map((e=>e.trim())),n={};return null==r||r.forEach(((e,a)=>{n[e]=t[a]||""})),n}));O(i),z(!0)},t.readAsText(e)},se=J.length>0&&F.size===J.length,oe=F.size>0&&F.size<J.length,le=e=>{e.id&&e.identifierType&&(localStorage.setItem("selectedContactId",e.id.toString()),localStorage.setItem("selectedChannelType",e.identifierType),q("/"),H({title:Y("contacts.redirecting_to_inbox","Redirecting to inbox"),description:Y("contacts.opening_conversation_with","Opening conversation with {{name}}",{name:e.name})}))};return vi.jsxs("div",{className:"h-screen flex flex-col overflow-hidden font-sans text-gray-800",children:[vi.jsx(WO,{}),vi.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[vi.jsx(XO,{}),vi.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[vi.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[vi.jsx("h1",{className:"text-2xl",children:Y("nav.contacts","Contacts")}),vi.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[vi.jsxs(tk,{onClick:()=>y(!0),className:"flex items-center gap-2",variant:"default",children:[vi.jsx(_w,{className:"h-4 w-4"}),Y("contacts.add_contact","Add Contact")]}),vi.jsxs(tk,{onClick:()=>C(!0),variant:"outline",className:"flex items-center gap-2",children:[vi.jsx(ej,{className:"h-4 w-4"}),Y("contacts.import.button","Import CSV")]})]})]}),F.size>0&&vi.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[vi.jsxs("div",{className:"flex items-center gap-3",children:[vi.jsx("span",{className:"text-sm font-medium text-blue-900",children:Y("contacts.bulk_actions.selected_count","{{count}} contacts selected",{count:F.size})}),vi.jsx(tk,{variant:"outline",size:"sm",onClick:()=>{B(new Set)},className:"text-blue-700 border-blue-300 hover:bg-blue-100",children:Y("contacts.bulk_actions.clear_selection","Clear Selection")})]}),vi.jsx("div",{className:"flex items-center gap-2",children:vi.jsx(tk,{variant:"destructive",size:"sm",onClick:()=>{0!==F.size&&W(!0)},disabled:G,className:"flex items-center gap-2",children:G?vi.jsxs(vi.Fragment,{children:[vi.jsx(uw,{className:"h-4 w-4 animate-spin"}),Y("contacts.bulk_actions.deleting","Deleting...")]}):vi.jsxs(vi.Fragment,{children:[vi.jsx(Yw,{className:"h-4 w-4"}),Y("contacts.bulk_actions.delete_selected","Delete Selected")]})})})]}),vi.jsxs("div",{className:"flex mb-6",children:[vi.jsxs("div",{className:"relative flex-1 max-w-md",children:[vi.jsx("input",{type:"search",placeholder:Y("contacts.search_placeholder","Search contacts..."),className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300",value:n,onChange:e=>a(e.target.value)}),vi.jsx("i",{className:"ri-search-line absolute left-3 top-2.5 text-gray-400"})]}),vi.jsx("div",{className:"ml-4",children:vi.jsxs("select",{className:"p-2 border border-gray-300 rounded-lg",value:s,onChange:e=>{o(e.target.value),t(1)},children:[vi.jsx("option",{value:"",children:Y("contacts.all_channels","All Channels")}),vi.jsx("option",{value:"whatsapp",children:Y("contacts.whatsapp_official","WhatsApp Official")}),vi.jsx("option",{value:"whatsapp_unofficial",children:Y("contacts.whatsapp_unofficial","WhatsApp Unofficial")}),vi.jsx("option",{value:"messenger",children:Y("contacts.facebook_messenger","Facebook Messenger")}),vi.jsx("option",{value:"instagram",children:Y("contacts.instagram","Instagram")})]})})]}),Z?vi.jsxs("div",{className:"animate-pulse space-y-4",children:[vi.jsx("div",{className:"h-8 bg-gray-200 rounded w-full"}),vi.jsx("div",{className:"h-8 bg-gray-200 rounded w-full"}),vi.jsx("div",{className:"h-8 bg-gray-200 rounded w-full"}),vi.jsx("div",{className:"h-8 bg-gray-200 rounded w-full"}),vi.jsx("div",{className:"h-8 bg-gray-200 rounded w-full"})]}):0===J.length?vi.jsxs("div",{className:"text-center py-10",children:[vi.jsx("div",{className:"text-5xl text-gray-300 mb-3",children:vi.jsx("i",{className:"ri-user-search-line"})}),vi.jsx("h3",{className:"text-lg font-medium text-gray-700",children:Y("contacts.no_contacts_found","No contacts found")}),vi.jsx("p",{className:"text-gray-500",children:n||s?Y("contacts.try_adjusting_filters","Try adjusting your search or filters"):Y("contacts.add_first_contact","Add your first contact to get started")})]}):vi.jsxs(vi.Fragment,{children:[vi.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:vi.jsxs(dq,{children:[vi.jsx(uq,{children:vi.jsxs(mq,{children:[vi.jsx(pq,{className:"w-12",children:vi.jsx(t8,{checked:se,onCheckedChange:e=>{if(e){const e=new Set(J.map((e=>"string"==typeof e.id?parseInt(e.id,10):e.id)).filter((e=>!isNaN(e))));B(e)}else B(new Set)},"aria-label":Y("contacts.bulk_actions.select_all","Select all contacts"),className:"data-[state=indeterminate]:bg-primary data-[state=indeterminate]:text-primary-foreground",...oe&&{"data-state":"indeterminate"}})}),vi.jsx(pq,{children:Y("contacts.table.name","Name")}),vi.jsx(pq,{children:Y("contacts.table.contact_info","Contact Info")}),vi.jsx(pq,{children:Y("contacts.table.company","Company")}),vi.jsx(pq,{children:Y("contacts.table.channel","Channel")}),vi.jsx(pq,{children:Y("contacts.table.tags","Tags")}),vi.jsx(pq,{children:Y("contacts.table.last_updated","Last Updated")}),vi.jsx(pq,{children:Y("contacts.table.actions","Actions")})]})}),vi.jsx(fq,{children:J.map((e=>{var t;const n="string"==typeof e.id?parseInt(e.id,10):e.id;return vi.jsxs(mq,{className:F.has(n)?"bg-blue-50 border-blue-200":"",children:[vi.jsx(hq,{children:vi.jsx(t8,{checked:F.has(n),onCheckedChange:e=>((e,t)=>{const n=new Set(F),a="string"==typeof e?parseInt(e,10):e;isNaN(a)?console.error("Invalid contact ID detected:",e):(t?n.add(a):n.delete(a),B(n))})(n,e),"aria-label":Y("contacts.bulk_actions.select_contact","Select contact {{name}}",{name:e.name})})}),vi.jsx(hq,{className:"font-medium",children:vi.jsxs("div",{className:"flex items-center",children:[vi.jsxs("div",{className:"relative mr-3",children:[vi.jsx("img",{src:e.avatarUrl||`https://ui-avatars.com/api/?name=${encodeURIComponent(e.name)}&background=random`,alt:e.name,className:"w-8 h-8 rounded-full"}),vi.jsx("span",{className:`absolute bottom-0 right-0 block h-2 w-2 rounded-full ${e.isActive?"bg-green-500":"bg-gray-300"} border border-white`})]}),e.name]})}),vi.jsx(hq,{children:vi.jsxs("div",{children:[e.email&&vi.jsx("div",{className:"text-sm",children:e.email}),e.phone&&vi.jsx("div",{className:"text-sm text-gray-500",children:e.phone})]})}),vi.jsx(hq,{children:e.company||"-"}),vi.jsx(hq,{children:vi.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 cursor-pointer hover:bg-gray-200",onClick:()=>le(e),children:["whatsapp"===e.identifierType&&vi.jsx("i",{className:"ri-whatsapp-line text-green-600 mr-1"}),"whatsapp_unofficial"===e.identifierType&&vi.jsx("i",{className:"ri-whatsapp-line text-green-600 mr-1"}),"messenger"===e.identifierType&&vi.jsx("i",{className:"ri-messenger-line text-blue-600 mr-1"}),"instagram"===e.identifierType&&vi.jsx("i",{className:"ri-instagram-line text-pink-600 mr-1"}),e.identifierType||"Unknown"]})}),vi.jsx(hq,{children:vi.jsx("div",{className:"flex flex-wrap gap-1",children:null==(t=e.tags)?void 0:t.map(((e,t)=>vi.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full bg-blue-100 text-blue-800",children:e},t)))})}),vi.jsx(hq,{children:(a=e.updatedAt,a?yz(new Date(a),{addSuffix:!0}):"Never")}),vi.jsx(hq,{children:vi.jsxs("div",{className:"flex space-x-2",children:[vi.jsx("button",{className:"p-1 rounded-md hover:bg-gray-100",title:Y("contacts.message","Message"),onClick:()=>(e=>{le(e)})(e),children:vi.jsx("i",{className:"ri-message-3-line text-blue-500"})}),vi.jsx("button",{className:"p-1 rounded-md hover:bg-gray-100",title:Y("common.edit","Edit"),onClick:()=>(e=>{p(e),g(!0)})(e),children:vi.jsx("i",{className:"ri-edit-line text-gray-500"})}),vi.jsx("button",{className:"p-1 rounded-md hover:bg-gray-100",title:Y("common.delete","Delete"),onClick:()=>{return t=e.id,d(t),void f(!0);var t},children:vi.jsx("i",{className:"ri-delete-bin-line text-red-500"})})]})})]},e.id);var a}))})]})}),vi.jsx(X5,{currentPage:e,totalPages:X,onPageChange:t})]})]})]}),vi.jsx(_9,{open:u,onOpenChange:f,children:vi.jsxs(A9,{children:[vi.jsxs(T9,{children:[vi.jsx(P9,{children:Y("contacts.delete_contact","Delete Contact")}),vi.jsx(O9,{children:Y("contacts.delete_warning","This will permanently delete this contact and all associated conversations, messages, and notes. This action cannot be undone.")})]}),vi.jsxs(D9,{children:[vi.jsx(z9,{children:Y("common.cancel","Cancel")}),vi.jsx(R9,{onClick:()=>{c&&ee.mutate(c),f(!1)},className:"bg-red-500 hover:bg-red-600",children:Y("common.delete","Delete")})]})]})}),vi.jsx(_9,{open:U,onOpenChange:W,children:vi.jsxs(A9,{children:[vi.jsxs(T9,{children:[vi.jsx(P9,{children:Y("contacts.bulk_delete.title","Delete {{count}} Contacts",{count:F.size})}),vi.jsx(O9,{children:Y("contacts.bulk_delete.warning","This will permanently delete these contacts and all associated conversations, messages, and notes. This action cannot be undone.")})]}),vi.jsxs(D9,{children:[vi.jsx(z9,{disabled:G,children:Y("common.cancel","Cancel")}),vi.jsx(R9,{onClick:()=>{const e=Array.from(F).map((e=>{const t="string"==typeof e?parseInt(e,10):Number(e);return isNaN(t)?null:t})).filter((e=>null!==e));0!==e.length?ae.mutate(e):H({title:Y("common.error","Error"),description:"No valid contact IDs selected for deletion",variant:"destructive"})},disabled:G,className:"bg-red-500 hover:bg-red-600",children:G?vi.jsxs(vi.Fragment,{children:[vi.jsx(uw,{className:"mr-2 h-4 w-4 animate-spin"}),Y("contacts.bulk_delete.deleting","Deleting...")]}):Y("contacts.bulk_delete.confirm","Delete {{count}} Contacts",{count:F.size})})]})]})}),vi.jsx(e9,{contact:m,isOpen:h,onClose:()=>{g(!1),p(null)}}),vi.jsx(KF,{open:x,onOpenChange:y,children:vi.jsxs(aB,{className:"sm:max-w-[500px]",children:[vi.jsxs(rB,{children:[vi.jsx(sB,{children:Y("contacts.add.title","Add New Contact")}),vi.jsx(oB,{children:Y("contacts.add.description","Create a new contact with the information below.")})]}),vi.jsxs("div",{className:"space-y-4 pt-4",children:[vi.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[vi.jsxs("div",{className:"space-y-2",children:[vi.jsxs(uB,{htmlFor:"add-name",children:[Y("contacts.add.name_label","Name")," *"]}),vi.jsx(fB,{id:"add-name",value:v.name,onChange:e=>b((t=>({...t,name:e.target.value}))),placeholder:Y("contacts.add.name_placeholder","Enter contact name"),disabled:w})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"add-email",children:Y("contacts.add.email_label","Email")}),vi.jsx(fB,{id:"add-email",type:"email",value:v.email,onChange:e=>b((t=>({...t,email:e.target.value}))),placeholder:Y("contacts.add.email_placeholder","Enter email address"),disabled:w})]})]}),vi.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"add-phone",children:Y("contacts.add.phone_label","Phone")}),vi.jsx(fB,{id:"add-phone",value:v.phone,onChange:e=>b((t=>({...t,phone:e.target.value}))),placeholder:Y("contacts.add.phone_placeholder","Enter phone number"),disabled:w})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"add-company",children:Y("contacts.add.company_label","Company")}),vi.jsx(fB,{id:"add-company",value:v.company,onChange:e=>b((t=>({...t,company:e.target.value}))),placeholder:Y("contacts.add.company_placeholder","Enter company name"),disabled:w})]})]}),vi.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"add-channel",children:Y("contacts.add.channel_label","Channel")}),vi.jsxs(AU,{value:v.identifierType,onValueChange:e=>b((t=>({...t,identifierType:e}))),disabled:w,children:[vi.jsx(PU,{children:vi.jsx(DU,{placeholder:Y("contacts.add.select_channel_placeholder","Select channel")})}),vi.jsxs(zU,{children:[vi.jsx(FU,{value:"whatsapp",children:Y("contacts.add.channel.whatsapp_official","WhatsApp Official")}),vi.jsx(FU,{value:"whatsapp_unofficial",children:Y("contacts.add.channel.whatsapp_unofficial","WhatsApp Unofficial")}),vi.jsx(FU,{value:"messenger",children:Y("contacts.add.channel.messenger","Facebook Messenger")}),vi.jsx(FU,{value:"instagram",children:Y("contacts.add.channel.instagram","Instagram")})]})]})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"add-identifier",children:Y("contacts.add.channel_identifier_label","Channel Identifier")}),vi.jsx(fB,{id:"add-identifier",value:v.identifier,onChange:e=>b((t=>({...t,identifier:e.target.value}))),placeholder:Y("contacts.add.channel_identifier_placeholder","Phone number or ID"),disabled:w})]})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"add-tags",children:Y("contacts.add.tags_label","Tags (comma separated)")}),vi.jsx(fB,{id:"add-tags",value:v.tags,onChange:e=>b((t=>({...t,tags:e.target.value}))),placeholder:Y("contacts.add.tags_placeholder","lead, customer, etc."),disabled:w})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"add-notes",children:Y("contacts.add.notes_label","Notes")}),vi.jsx(mB,{id:"add-notes",value:v.notes,onChange:e=>b((t=>({...t,notes:e.target.value}))),placeholder:Y("contacts.add.notes_placeholder","Additional notes about this contact..."),rows:3,disabled:w})]})]}),vi.jsxs(iB,{children:[vi.jsx(tk,{variant:"outline",onClick:()=>{y(!1),re()},disabled:w,children:Y("common.cancel","Cancel")}),vi.jsx(tk,{onClick:()=>{if(!v.name.trim())return void H({title:Y("common.error","Error"),description:Y("contacts.add.name_required","Contact name is required"),variant:"destructive"});const e=v.tags?v.tags.split(",").map((e=>e.trim())).filter(Boolean):[];te.mutate({...v,tags:e})},disabled:w,children:w?vi.jsxs(vi.Fragment,{children:[vi.jsx(uw,{className:"mr-2 h-4 w-4 animate-spin"}),Y("contacts.add.creating","Creating...")]}):vi.jsxs(vi.Fragment,{children:[vi.jsx(_w,{className:"mr-2 h-4 w-4"}),Y("contacts.add.create_button","Create Contact")]})})]})]})}),vi.jsx(KF,{open:N,onOpenChange:C,children:vi.jsxs(aB,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[vi.jsxs(rB,{children:[vi.jsx(sB,{children:Y("contacts.import.title","Import Contacts from CSV")}),vi.jsx(oB,{children:Y("contacts.import.description","Upload a CSV file to import multiple contacts at once. Download the template to see the required format.")})]}),vi.jsxs("div",{className:"space-y-4",children:[vi.jsx("div",{className:"flex justify-between items-center",children:vi.jsxs(tk,{variant:"outline",onClick:()=>{const e=[["name","email","phone","company","identifierType","identifier","notes","tags"].join(","),'Abid,admin@pointer.pk,+923059002132,Pointer Software,whatsapp,+923059020132,Sales lead,"lead,customer"','Niamat,niamat@pointer.pk,+923000052443,Pointer Software,messenger,niamat.shakran,Marketing contact,"prospect,vip"'].join("\n"),t=new Blob([e],{type:"text/csv"}),n=window.URL.createObjectURL(t),a=document.createElement("a");a.href=n,a.download="contacts_template.csv",a.click(),window.URL.revokeObjectURL(n)},className:"flex items-center gap-2",children:[vi.jsx(Hb,{className:"h-4 w-4"}),Y("contacts.import.download_template","Download Template")]})}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{children:Y("contacts.import.file_label","CSV File")}),vi.jsx(p3,{onFileSelected:e=>{k(e),ie(e)},fileType:".csv",maxSize:10,className:"w-full",showProgress:E,progress:M}),vi.jsx("p",{className:"text-xs text-muted-foreground",children:Y("contacts.import.file_help","Maximum file size: 10MB. Only CSV files are supported.")})]}),R&&P.length>0&&vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{children:Y("contacts.import.preview_label","Preview (first 5 rows)")}),vi.jsx("div",{className:"border rounded-md overflow-x-auto",children:vi.jsxs("table",{className:"w-full text-sm",children:[vi.jsx("thead",{className:"bg-gray-50",children:vi.jsx("tr",{children:Object.keys(P[0]||{}).map((e=>vi.jsx("th",{className:"px-3 py-2 text-left font-medium",children:e},e)))})}),vi.jsx("tbody",{children:P.map(((e,t)=>vi.jsx("tr",{className:"border-t",children:Object.values(e).map(((e,t)=>vi.jsx("td",{className:"px-3 py-2",children:e},t)))},t)))})]})})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{children:Y("contacts.import.duplicate_handling_label","Duplicate Handling")}),vi.jsxs(AU,{value:T,onValueChange:e=>D(e),disabled:E,children:[vi.jsx(PU,{children:vi.jsx(DU,{})}),vi.jsxs(zU,{children:[vi.jsx(FU,{value:"skip",children:Y("contacts.import.duplicate.skip","Skip duplicates")}),vi.jsx(FU,{value:"update",children:Y("contacts.import.duplicate.update","Update existing")}),vi.jsx(FU,{value:"create",children:Y("contacts.import.duplicate.create","Create new")})]})]}),vi.jsx("p",{className:"text-xs text-muted-foreground",children:Y("contacts.import.duplicate_help","How to handle contacts with duplicate email addresses")})]}),E&&vi.jsxs("div",{className:"space-y-2",children:[vi.jsxs("div",{className:"flex justify-between text-sm",children:[vi.jsx("span",{children:Y("contacts.import.importing","Importing...")}),vi.jsxs("span",{children:[M,"%"]})]}),vi.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:vi.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${M}%`}})})]}),L&&vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{children:Y("contacts.import.results_label","Import Results")}),vi.jsxs("div",{className:"p-4 border rounded-md bg-gray-50",children:[vi.jsxs("div",{className:"flex items-center gap-2 text-green-600 mb-2",children:[vi.jsx(Pb,{className:"h-4 w-4"}),vi.jsx("span",{children:Y("contacts.import.successful","Successfully imported: {{count}}",{count:L.successful})})]}),L.failed>0&&vi.jsxs("div",{className:"flex items-center gap-2 text-red-600 mb-2",children:[vi.jsx(Tb,{className:"h-4 w-4"}),vi.jsx("span",{children:Y("contacts.import.failed","Failed to import: {{count}}",{count:L.failed})})]}),L.errors.length>0&&vi.jsxs("div",{className:"mt-2",children:[vi.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:Y("contacts.import.errors","Errors:")}),vi.jsxs("ul",{className:"text-xs text-gray-600 space-y-1",children:[L.errors.slice(0,5).map(((e,t)=>vi.jsxs("li",{children:["• ",e]},t))),L.errors.length>5&&vi.jsxs("li",{children:["• ",Y("contacts.import.more_errors","And {{count}} more errors...",{count:L.errors.length-5})]})]})]})]})]})]}),vi.jsxs(iB,{children:[vi.jsx(tk,{variant:"outline",onClick:()=>{C(!1),k(null),_(0),A(null),O([]),z(!1),D("skip")},disabled:E,children:L?Y("common.close","Close"):Y("common.cancel","Cancel")}),!L&&vi.jsx(tk,{onClick:()=>{S?ne.mutate({file:S,duplicateHandling:T}):H({title:Y("common.error","Error"),description:Y("contacts.import.no_file_selected","Please select a CSV file to import"),variant:"destructive"})},disabled:!S||E,children:E?vi.jsxs(vi.Fragment,{children:[vi.jsx(uw,{className:"mr-2 h-4 w-4 animate-spin"}),Y("contacts.import.importing","Importing...")]}):vi.jsxs(vi.Fragment,{children:[vi.jsx(ej,{className:"mr-2 h-4 w-4"}),Y("contacts.import.import_button","Import Contacts")]})})]})]})})]})}t8.displayName=Y9.displayName;const a8={1:{name:"Work",color:"bg-blue-500"},2:{name:"Personal",color:"bg-green-500"},3:{name:"Family",color:"bg-red-500"},4:{name:"Health",color:"bg-purple-500"},5:{name:"Projects",color:"bg-amber-500"},default:{name:"Default",color:"bg-slate-500"}},r8={1:"bg-blue-500",2:"bg-green-500",3:"bg-purple-500",4:"bg-red-500",5:"bg-yellow-500",6:"bg-orange-500",7:"bg-pink-500",8:"bg-indigo-500",9:"bg-teal-500",10:"bg-lime-500",11:"bg-amber-500",default:"bg-gray-500"},i8={blue:"bg-blue-500",green:"bg-green-500",purple:"bg-purple-500",red:"bg-red-500",yellow:"bg-yellow-500",orange:"bg-orange-500",pink:"bg-pink-500",indigo:"bg-indigo-500",teal:"bg-teal-500",lime:"bg-lime-500",amber:"bg-amber-500"};function s8(){var e;const[t,n]=ci.useState(new Date),[a,r]=ci.useState(new Date),[i,s]=ci.useState("month"),[o,l]=ci.useState(null),[c,d]=ci.useState(!1),[u,f]=ci.useState(!1),[m,p]=ci.useState(!1),[h,g]=ci.useState(!1),[x,y]=ci.useState(!1),[v,b]=ci.useState(!1),[w,j]=ci.useState(!1),[N,C]=ci.useState(""),[S,k]=ci.useState("blue"),[M,_]=ci.useState(null),[E,I]=ci.useState(null),[L,A]=ci.useState("60"),[T,D]=ci.useState([]),[P,O]=ci.useState([{id:"1",name:"Work",selected:!0,color:"blue"},{id:"2",name:"Personal",selected:!0,color:"green"},{id:"3",name:"Family",selected:!0,color:"red"},{id:"4",name:"Health",selected:!0,color:"purple"},{id:"5",name:"Projects",selected:!0,color:"amber"}]),[R,z]=ci.useState([]),{toast:F}=By(),{t:B}=sk(),[U,W]=ci.useState({summary:"",description:"",location:"",startDateTime:vz(new Date),endDateTime:vz(cR(new Date,1)),attendees:[],attendeeInput:"",colorId:"1"}),G=ci.useMemo((()=>{let e,n;if("month"===i){const a=new Date(t.getFullYear(),t.getMonth(),1),r=new Date(t.getFullYear(),t.getMonth()+1,0);e=fR(a),n=LR(r)}else"week"===i?(e=fR(t),n=LR(t)):(e=t,n=t);return{start:hz(e,"yyyy-MM-dd"),end:hz(n,"yyyy-MM-dd")}}),[t,i]),V=hz(a,"yyyy-MM-dd"),{data:$,isLoading:H,isError:Y,refetch:q}=ky({queryKey:["/api/google/calendar/events",G.start,G.end],queryFn:async()=>{const e=`${G.start}T00:00:00Z`,t=`${G.end}T23:59:59Z`;return(await Ey("GET",`/api/google/calendar/events?timeMin=${encodeURIComponent(e)}&timeMax=${encodeURIComponent(t)}&maxResults=100`)).json()},enabled:!0});ci.useEffect((()=>{if(null==$?void 0:$.items){const e={};$.items.forEach((t=>{const n=t.colorId||"default",a=a8[n]||a8.default,r=a.name,i=a.color;e[n]||(e[n]={count:0,name:r,color:i}),e[n].count++}));const t=Object.entries(e).map((([e,t])=>({id:e,name:t.name,color:t.color,count:t.count,selected:!0})));z(t)}}),[null==$?void 0:$.items]);const{data:Q}=ky({queryKey:["/api/google/calendar/status"],queryFn:async()=>(await Ey("GET","/api/google/calendar/status")).json()}),{data:Z,isLoading:J,refetch:K}=ky({queryKey:["/api/google/calendar/availability",V,L],queryFn:async()=>(await Ey("GET",`/api/google/calendar/availability?date=${V}&duration=${L}`)).json(),enabled:!1}),X=My({mutationFn:async e=>(await Ey("POST","/api/google/calendar/events",e)).json(),onSuccess:()=>{F({title:B("calendar.event_created","Event Created"),description:B("calendar.appointment_created_success","Your appointment has been successfully created")}),d(!1),g(!1),Ly.invalidateQueries({queryKey:["/api/google/calendar/events"]}),q(),ne()},onError:e=>{F({title:B("common.error","Error"),description:B("calendar.event_create_failed","Failed to create event: {{error}}",{error:e.message}),variant:"destructive"})}}),ee=My({mutationFn:async e=>(await Ey("PATCH",`/api/google/calendar/events/${e.eventId}`,e.eventData)).json(),onSuccess:()=>{F({title:B("calendar.event_updated","Event Updated"),description:B("calendar.appointment_updated_success","Your appointment has been successfully updated")}),f(!1),Ly.invalidateQueries({queryKey:["/api/google/calendar/events"]}),q(),l(null)},onError:e=>{F({title:B("common.error","Error"),description:B("calendar.event_update_failed","Failed to update event: {{error}}",{error:e.message}),variant:"destructive"})}}),te=My({mutationFn:async e=>{if((await Ey("DELETE",`/api/google/calendar/events/${e}`)).ok)return{success:!0};throw new Error("Failed to delete event")},onSuccess:()=>{F({title:B("calendar.event_canceled","Event Canceled"),description:B("calendar.appointment_canceled_success","Your appointment has been successfully canceled")}),p(!1),Ly.invalidateQueries({queryKey:["/api/google/calendar/events"]}),q(),l(null)},onError:e=>{F({title:B("common.error","Error"),description:B("calendar.event_cancel_failed","Failed to cancel event: {{error}}",{error:e.message}),variant:"destructive"})}}),ne=()=>{W({summary:"",description:"",location:"",startDateTime:vz(a||new Date),endDateTime:vz(cR(a||new Date,1)),attendees:[],attendeeInput:"",colorId:"1"}),I(null)};ci.useEffect((()=>{o&&u&&W({summary:o.summary||"",description:o.description||"",location:o.location||"",startDateTime:o.start.dateTime,endDateTime:o.end.dateTime,attendees:o.attendees?o.attendees.map((e=>e.email)):[],attendeeInput:"",colorId:o.colorId||"1"})}),[o,u]),ci.useEffect((()=>{(null==Z?void 0:Z.success)&&Z.timeSlots&&D(Z.timeSlots)}),[Z]);const ae=()=>{U.attendeeInput.trim()&&!U.attendees.includes(U.attendeeInput.trim())&&W({...U,attendees:[...U.attendees,U.attendeeInput.trim()],attendeeInput:""})},re=e=>{W({...U,attendees:U.attendees.filter((t=>t!==e))})},ie=ci.useMemo((()=>{if("month"===i){const e=new Date(t.getFullYear(),t.getMonth(),1),n=Sz(e,tR(e).getDay()),a=_R({start:n,end:aR(n,41)}),r=[];for(let t=0;t<6;t++)r.push(a.slice(7*t,7*(t+1)));return r}if("week"===i){const e=fR(t);return _R({start:e,end:aR(e,6)})}return[t]}),[t,i]),se=ci.useMemo((()=>{if(!(null==$?void 0:$.items))return[];const e=R.filter((e=>e.selected)).map((e=>e.id)),t=P.filter((e=>e.selected)).map((e=>e.id));let n=$.items;return e.length!==R.length&&(n=$.items.filter((t=>!t.colorId||e.includes(t.colorId)))),t.length>0&&t.length!==P.length?n.filter((e=>{for(const n of t){const t=P.find((e=>e.id===n));if(!t)continue;const a=(e.summary||"").toLowerCase(),r=(e.description||"").toLowerCase(),i=t.name.toLowerCase();if(a.includes(i)||r.includes(i))return!0}return!1})):n}),[$,R,P]);ci.useMemo((()=>se.length?se.filter((e=>jR(new Date(e.start.dateTime),a))).sort(((e,t)=>new Date(e.start.dateTime).getTime()-new Date(t.start.dateTime).getTime())):[]),[se,a]);const oe=ci.useMemo((()=>{if(!se.length)return new Map;const e=new Map;return se.forEach((t=>{const n=hz(new Date(t.start.dateTime),"yyyy-MM-dd");e.has(n)||e.set(n,[]),e.get(n).push(t)})),e}),[se]),le=e=>{const t=hz(e,"yyyy-MM-dd");return oe.get(t)||[]},ce=(e,t)=>{const n=le(e);return vi.jsxs("div",{className:"flex-1 flex flex-col min-h-[800px]",children:[vi.jsxs("div",{className:"text-center py-2 font-medium "+(Cz(e)?"bg-blue-100":"bg-gray-50"),children:[vi.jsx("div",{children:hz(e,"EEE")}),vi.jsx("div",{className:"text-lg "+(Cz(e)?"text-blue-600":""),children:hz(e,"d")})]}),vi.jsx("div",{className:"flex-1 flex flex-col border-l",children:t.map(((e,t)=>vi.jsxs("div",{className:"border-b py-2 px-1 flex-1 min-h-[60px] relative",children:[vi.jsx("div",{className:"text-xs text-gray-400 absolute top-0 left-1",children:e}),n.filter((t=>hz(kz(t.start.dateTime),"h a")===e)).map((e=>vi.jsxs("div",{className:`mt-4 p-1 rounded-sm text-xs text-white ${r8[e.colorId||"default"]}`,onClick:()=>{l(e),f(!0)},children:[hz(kz(e.start.dateTime),"h:mm a")," - ",e.summary]},e.id)))]},e)))})]})},de=["8 am","9 am","10 am","11 am","12 pm","1 pm","2 pm","3 pm","4 pm","5 pm","6 pm"];return vi.jsxs("div",{className:"h-screen flex flex-col overflow-hidden font-poppins text-gray-800 bg-gray-50",children:[vi.jsx(WO,{}),vi.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[vi.jsx(XO,{}),vi.jsx("div",{className:"flex-1 overflow-y-auto",children:vi.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[vi.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[vi.jsxs("div",{className:"border-b p-4 flex justify-between items-center",children:[vi.jsxs("div",{className:"flex items-center space-x-2",children:[vi.jsx("div",{className:"text-xl ",children:B("nav.calendar","Calendar")}),vi.jsx("div",{className:"text-sm text-gray-500",children:B("calendar.personal_teams","Personal, Teams")})]}),vi.jsxs("div",{className:"flex items-center space-x-4",children:[vi.jsx(tk,{variant:"outline",size:"sm",onClick:()=>{n(new Date),r(new Date)},children:B("calendar.today","Today")}),vi.jsxs("div",{className:"flex",children:[vi.jsx(tk,{variant:"ghost",size:"icon",onClick:()=>{n("month"===i?Rz(t):"week"===i?yR(t,-1):Sz(t,1))},children:vi.jsx(Eb,{className:"h-4 w-4"})}),vi.jsx(tk,{variant:"ghost",size:"icon",onClick:()=>{n("month"===i?rR(t,1):"week"===i?yR(t,1):aR(t,1))},children:vi.jsx(Ib,{className:"h-4 w-4"})})]}),vi.jsxs("div",{className:"text-lg ",children:["month"===i&&hz(t,"MMMM yyyy"),"week"===i&&`Week of ${hz(fR(t),"MMM d")} - ${hz(LR(t),"MMM d, yyyy")}`,"day"===i&&hz(t,"MMMM d, yyyy")]}),vi.jsxs("div",{className:"ml-4 flex items-center space-x-2",children:[vi.jsxs(AU,{value:i,onValueChange:e=>s(e),children:[vi.jsx(PU,{className:"w-[100px]",children:vi.jsx(DU,{})}),vi.jsxs(zU,{children:[vi.jsx(FU,{value:"month",children:B("calendar.month","Month")}),vi.jsx(FU,{value:"week",children:B("calendar.week","Week")}),vi.jsx(FU,{value:"day",children:B("calendar.day","Day")})]})]}),vi.jsx(tk,{size:"icon",variant:"ghost",children:vi.jsx(Pw,{className:"h-4 w-4"})})]})]})]}),vi.jsxs("div",{className:"flex flex-1 h-full",children:[vi.jsxs("div",{className:"w-[260px] border-r p-4",children:[vi.jsxs("div",{className:"mb-6",children:[vi.jsxs("div",{className:"flex justify-between items-center mb-2",children:[vi.jsx("span",{className:"text-sm font-medium",children:hz(t,"MMMM yyyy")}),vi.jsxs("div",{className:"flex",children:[vi.jsx(tk,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>n(Rz(t)),children:vi.jsx(Eb,{className:"h-3 w-3"})}),vi.jsx(tk,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>n(rR(t,1)),children:vi.jsx(Ib,{className:"h-3 w-3"})})]})]}),vi.jsx("div",{className:"grid grid-cols-7 text-center text-xs mb-1",children:["S","M","T","W","T","F","S"].map(((e,t)=>vi.jsx("div",{className:"py-1",children:e},t)))}),vi.jsx("div",{className:"grid grid-cols-7 gap-1 text-center text-sm",children:_R({start:fR(new Date(t.getFullYear(),t.getMonth(),1)),end:LR(new Date(t.getFullYear(),t.getMonth()+1,0))}).map((e=>{const n=Nz(e,t),i=jR(e,a);return vi.jsx("button",{className:"h-7 w-7 flex items-center justify-center rounded-full "+(i?"bg-blue-600 text-white":Cz(e)?"bg-blue-100 text-blue-700":n?"":"text-gray-400"),onClick:()=>r(e),children:hz(e,"d")},e.toString())}))})]}),vi.jsxs("div",{className:"mb-6",children:[vi.jsxs("div",{className:"flex justify-between items-center mb-4",children:[vi.jsx("span",{className:"text-base ",children:B("calendar.my_schedules","My Schedules")}),vi.jsxs("div",{className:"flex",children:[vi.jsx(tk,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>y(!0),children:vi.jsx(zb,{className:"h-4 w-4"})}),vi.jsx(tk,{variant:"ghost",size:"icon",className:"h-6 w-6",children:vi.jsx(_b,{className:"h-4 w-4"})})]})]}),vi.jsx("div",{className:"space-y-3",children:P.map((e=>vi.jsxs("div",{className:"flex items-center justify-between group",children:[vi.jsxs("div",{className:"flex items-center cursor-pointer",onClick:()=>{return t=e.id,void O(P.map((e=>e.id===t?{...e,selected:!e.selected}:e)));var t},children:[vi.jsx("div",{className:`w-5 h-5 rounded flex items-center justify-center ${e.selected?i8[e.color||"blue"]:"border-2 border-gray-300"}`,children:e.selected&&vi.jsx(Mb,{className:"h-3 w-3 text-white"})}),vi.jsx("span",{className:"ml-2 text-sm font-medium",children:e.name})]}),vi.jsxs("div",{className:"flex items-center opacity-0 group-hover:opacity-100 transition-opacity",children:[vi.jsx(tk,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:t=>{t.stopPropagation(),_(e),b(!0)},children:vi.jsx(Sw,{className:"h-3 w-3"})}),vi.jsx(tk,{variant:"ghost",size:"icon",className:"h-6 w-6 text-red-500",onClick:t=>{t.stopPropagation(),_(e),j(!0)},children:vi.jsx(qw,{className:"h-3 w-3"})})]})]},e.id)))})]}),vi.jsxs("div",{children:[vi.jsxs("div",{className:"flex justify-between items-center mb-4",children:[vi.jsx("span",{className:"text-base ",children:B("calendar.categories","Categories")}),vi.jsx(tk,{variant:"ghost",size:"icon",className:"h-6 w-6",children:vi.jsx(_b,{className:"h-4 w-4"})})]}),vi.jsx("div",{className:"space-y-3",children:R.map((e=>vi.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>{return t=e.id,void z(R.map((e=>e.id===t?{...e,selected:!e.selected}:e)));var t},children:[vi.jsxs("div",{className:"flex items-center",children:[vi.jsx("div",{className:`w-4 h-4 rounded-full ${e.color}`}),vi.jsx("span",{className:"ml-2 text-sm font-medium",children:e.name})]}),vi.jsxs("div",{className:"flex items-center space-x-2",children:[vi.jsx("span",{className:"text-xs bg-gray-100 rounded-full px-2 py-0.5",children:e.count}),vi.jsx("div",{className:"w-5 h-5 rounded flex items-center justify-center "+(e.selected?"bg-indigo-600":"border-2 border-gray-300"),children:e.selected&&vi.jsx(Mb,{className:"h-3 w-3 text-white"})})]})]},e.id)))})]})]}),vi.jsxs("div",{className:"flex-1 overflow-auto",children:["month"===i&&vi.jsxs("div",{children:[vi.jsx("div",{className:"grid grid-cols-7 text-center border-b py-2 bg-gray-50",children:[B("calendar.sun","Sun"),B("calendar.mon","Mon"),B("calendar.tue","Tue"),B("calendar.wed","Wed"),B("calendar.thu","Thu"),B("calendar.fri","Fri"),B("calendar.sat","Sat")].map((e=>vi.jsx("div",{className:"text-sm font-medium text-gray-600",children:e},e)))}),vi.jsx("div",{className:"grid grid-cols-7",children:ie.flat().map((e=>(e=>{const n=le(e),i=Nz(e,t),s=jR(e,a),o=hz(e,"d");return vi.jsxs("div",{className:"border border-gray-200 min-h-[100px] p-1 transition-colors "+(Cz(e)?"bg-blue-50":i?s?"bg-blue-100":"":"bg-gray-50 text-gray-400"),onClick:()=>r(e),children:[vi.jsx("div",{className:"flex justify-between items-start",children:vi.jsx("span",{className:"text-sm font-medium "+(Cz(e)?"text-blue-700 w-6 h-6 rounded-full bg-blue-200 flex items-center justify-center":""),children:o})}),vi.jsxs("div",{className:"mt-1 space-y-1 max-h-[80px] overflow-hidden",children:[n.slice(0,3).map(((e,t)=>vi.jsxs("div",{className:`text-xs px-1 py-0.5 rounded truncate ${r8[e.colorId||"default"]} text-white`,onClick:t=>{t.stopPropagation(),l(e),f(!0)},children:[hz(kz(e.start.dateTime),"h:mm a")," ",e.summary]},e.id||t))),n.length>3&&vi.jsxs("div",{className:"text-xs text-gray-500 pl-1",children:["+",n.length-3," ",B("calendar.more","more")]})]})]},e.toString())})(e)))})]}),"week"===i&&vi.jsxs("div",{className:"flex h-full",children:[vi.jsx("div",{className:"w-16 pt-10 bg-gray-50 border-r",children:de.map((e=>vi.jsx("div",{className:"h-[60px] border-b px-2 text-xs text-gray-500",children:e},e)))}),vi.jsx("div",{className:"flex-1 flex",children:ie.map((e=>ce(e,de)))})]}),"day"===i&&vi.jsxs("div",{className:"flex h-full",children:[vi.jsx("div",{className:"w-16 pt-10 bg-gray-50 border-r",children:de.map((e=>vi.jsx("div",{className:"h-[60px] border-b px-2 text-xs text-gray-500",children:e},e)))}),vi.jsx("div",{className:"flex-1",children:ce(t,de)})]})]})]})]}),vi.jsxs("div",{className:"fixed bottom-8 right-8 flex space-x-2",children:[vi.jsxs(tk,{variant:"outline",onClick:()=>{(null==Q?void 0:Q.connected)?(g(!0),K()):F({title:B("calendar.not_connected","Google Calendar Not Connected"),description:B("calendar.connect_first","Please connect your Google Calendar in Settings first"),variant:"destructive"})},className:"rounded-full shadow-sm",children:[vi.jsx(Ub,{className:"h-4 w-4 mr-2"})," ",B("calendar.check_availability","Check Availability")]}),vi.jsxs(tk,{onClick:()=>{(null==Q?void 0:Q.connected)?(ne(),d(!0)):F({title:B("calendar.not_connected","Google Calendar Not Connected"),description:B("calendar.connect_first","Please connect your Google Calendar in Settings first"),variant:"destructive"})},className:"rounded-full shadow-sm text-green-600 btn-brand-primary",children:[vi.jsx(Sb,{className:"h-4 w-4 mr-2 "})," ",B("calendar.schedule_appointment","Schedule Appointment")]})]})]})})]}),vi.jsx(KF,{open:c,onOpenChange:d,children:vi.jsxs(aB,{className:"sm:max-w-[600px]",children:[vi.jsxs(rB,{children:[vi.jsx(sB,{children:B("calendar.schedule_new_appointment","Schedule New Appointment")}),vi.jsx(oB,{children:B("calendar.create_new_event","Create a new event on your calendar.")})]}),vi.jsxs("div",{className:"grid gap-4 py-4",children:[vi.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[vi.jsxs(uB,{htmlFor:"summary",className:"text-right",children:[B("calendar.title","Title"),"*"]}),vi.jsx(fB,{id:"summary",value:U.summary,onChange:e=>W({...U,summary:e.target.value}),className:"col-span-3"})]}),vi.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[vi.jsx(uB,{htmlFor:"description",className:"text-right",children:B("calendar.description","Description")}),vi.jsx(mB,{id:"description",value:U.description,onChange:e=>W({...U,description:e.target.value}),className:"col-span-3"})]}),vi.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[vi.jsx(uB,{htmlFor:"location",className:"text-right",children:B("calendar.location","Location")}),vi.jsx(fB,{id:"location",value:U.location,onChange:e=>W({...U,location:e.target.value}),className:"col-span-3"})]}),vi.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[vi.jsx(uB,{htmlFor:"colorId",className:"text-right",children:B("calendar.category","Category")}),vi.jsxs(AU,{value:U.colorId,onValueChange:e=>W({...U,colorId:e}),children:[vi.jsx(PU,{className:"col-span-3",children:vi.jsx(DU,{placeholder:B("calendar.select_category","Select category")})}),vi.jsxs(zU,{children:[vi.jsx(FU,{value:"1",children:vi.jsxs("div",{className:"flex items-center",children:[vi.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500 mr-2"}),vi.jsx("span",{children:"Blue"})]})}),vi.jsx(FU,{value:"2",children:vi.jsxs("div",{className:"flex items-center",children:[vi.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-2"}),vi.jsx("span",{children:"Green"})]})}),vi.jsx(FU,{value:"3",children:vi.jsxs("div",{className:"flex items-center",children:[vi.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-500 mr-2"}),vi.jsx("span",{children:"Purple"})]})}),vi.jsx(FU,{value:"4",children:vi.jsxs("div",{className:"flex items-center",children:[vi.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 mr-2"}),vi.jsx("span",{children:"Red"})]})}),vi.jsx(FU,{value:"5",children:vi.jsxs("div",{className:"flex items-center",children:[vi.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500 mr-2"}),vi.jsx("span",{children:"Yellow"})]})}),vi.jsx(FU,{value:"6",children:vi.jsxs("div",{className:"flex items-center",children:[vi.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500 mr-2"}),vi.jsx("span",{children:"Orange"})]})}),vi.jsx(FU,{value:"7",children:vi.jsxs("div",{className:"flex items-center",children:[vi.jsx("div",{className:"w-3 h-3 rounded-full bg-cyan-500 mr-2"}),vi.jsx("span",{children:"Turquoise"})]})}),vi.jsx(FU,{value:"8",children:vi.jsxs("div",{className:"flex items-center",children:[vi.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-500 mr-2"}),vi.jsx("span",{children:"Gray"})]})})]})]})]}),vi.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[vi.jsx(uB,{htmlFor:"startDateTime",className:"text-right",children:"Start Time*"}),vi.jsx(fB,{id:"startDateTime",type:"datetime-local",value:U.startDateTime.slice(0,16),onChange:e=>W({...U,startDateTime:e.target.value}),className:"col-span-3"})]}),vi.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[vi.jsx(uB,{htmlFor:"endDateTime",className:"text-right",children:"End Time*"}),vi.jsx(fB,{id:"endDateTime",type:"datetime-local",value:U.endDateTime.slice(0,16),onChange:e=>W({...U,endDateTime:e.target.value}),className:"col-span-3"})]}),vi.jsxs("div",{className:"grid grid-cols-4 items-start gap-4",children:[vi.jsx(uB,{htmlFor:"attendees",className:"text-right pt-2",children:"Attendees"}),vi.jsxs("div",{className:"col-span-3 space-y-2",children:[vi.jsxs("div",{className:"flex space-x-2",children:[vi.jsx(fB,{id:"attendees",placeholder:"Enter email address",value:U.attendeeInput,onChange:e=>W({...U,attendeeInput:e.target.value}),className:"flex-1"}),vi.jsx(tk,{type:"button",className:"btn-brand-primary",onClick:ae,children:"Add"})]}),vi.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:U.attendees.map((e=>vi.jsxs(ak,{variant:"secondary",className:"gap-1",children:[e,vi.jsx("button",{type:"button",onClick:()=>re(e),className:"ml-1 text-blue-600 hover:text-blue-800",children:vi.jsx(fj,{className:"h-3 w-3"})})]},e)))})]})]})]}),vi.jsxs(iB,{children:[vi.jsx(tk,{type:"button",variant:"outline",className:"btn-brand-primary",onClick:()=>d(!1),children:"Cancel"}),vi.jsx(tk,{type:"button",onClick:()=>{if(!U.summary||!U.startDateTime||!U.endDateTime)return void F({title:B("common.missing_information","Missing Information"),description:B("common.fill_required_fields","Please fill in all required fields"),variant:"destructive"});const e={summary:U.summary,description:U.description,location:U.location,startDateTime:U.startDateTime,endDateTime:U.endDateTime,attendees:U.attendees,colorId:U.colorId};X.mutate(e)},disabled:X.isPending,children:X.isPending?vi.jsxs(vi.Fragment,{children:[vi.jsx(uw,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create Appointment"})]})]})}),vi.jsx(KF,{open:u,onOpenChange:f,children:vi.jsxs(aB,{className:"sm:max-w-[600px]",children:[vi.jsxs(rB,{children:[vi.jsx(sB,{children:"Edit Appointment"}),vi.jsx(oB,{children:"Update the details of your appointment."})]}),vi.jsxs("div",{className:"grid gap-4 py-4",children:[vi.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[vi.jsx(uB,{htmlFor:"edit-summary",className:"text-right",children:"Title*"}),vi.jsx(fB,{id:"edit-summary",value:U.summary,onChange:e=>W({...U,summary:e.target.value}),className:"col-span-3"})]}),vi.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[vi.jsx(uB,{htmlFor:"edit-description",className:"text-right",children:"Description"}),vi.jsx(mB,{id:"edit-description",value:U.description,onChange:e=>W({...U,description:e.target.value}),className:"col-span-3"})]}),vi.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[vi.jsx(uB,{htmlFor:"edit-location",className:"text-right",children:"Location"}),vi.jsx(fB,{id:"edit-location",value:U.location,onChange:e=>W({...U,location:e.target.value}),className:"col-span-3"})]}),vi.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[vi.jsx(uB,{htmlFor:"edit-colorId",className:"text-right",children:"Category"}),vi.jsxs(AU,{value:U.colorId,onValueChange:e=>W({...U,colorId:e}),children:[vi.jsx(PU,{className:"col-span-3",children:vi.jsx(DU,{placeholder:"Select category"})}),vi.jsxs(zU,{children:[vi.jsx(FU,{value:"1",children:vi.jsxs("div",{className:"flex items-center",children:[vi.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500 mr-2"}),vi.jsx("span",{children:"Blue"})]})}),vi.jsx(FU,{value:"2",children:vi.jsxs("div",{className:"flex items-center",children:[vi.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-2"}),vi.jsx("span",{children:"Green"})]})}),vi.jsx(FU,{value:"3",children:vi.jsxs("div",{className:"flex items-center",children:[vi.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-500 mr-2"}),vi.jsx("span",{children:"Purple"})]})}),vi.jsx(FU,{value:"4",children:vi.jsxs("div",{className:"flex items-center",children:[vi.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 mr-2"}),vi.jsx("span",{children:"Red"})]})}),vi.jsx(FU,{value:"5",children:vi.jsxs("div",{className:"flex items-center",children:[vi.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500 mr-2"}),vi.jsx("span",{children:"Yellow"})]})}),vi.jsx(FU,{value:"6",children:vi.jsxs("div",{className:"flex items-center",children:[vi.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500 mr-2"}),vi.jsx("span",{children:"Orange"})]})}),vi.jsx(FU,{value:"7",children:vi.jsxs("div",{className:"flex items-center",children:[vi.jsx("div",{className:"w-3 h-3 rounded-full bg-cyan-500 mr-2"}),vi.jsx("span",{children:"Turquoise"})]})}),vi.jsx(FU,{value:"8",children:vi.jsxs("div",{className:"flex items-center",children:[vi.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-500 mr-2"}),vi.jsx("span",{children:"Gray"})]})})]})]})]}),vi.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[vi.jsx(uB,{htmlFor:"edit-startDateTime",className:"text-right",children:"Start Time*"}),vi.jsx(fB,{id:"edit-startDateTime",type:"datetime-local",value:U.startDateTime.slice(0,16),onChange:e=>W({...U,startDateTime:e.target.value}),className:"col-span-3"})]}),vi.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[vi.jsx(uB,{htmlFor:"edit-endDateTime",className:"text-right",children:"End Time*"}),vi.jsx(fB,{id:"edit-endDateTime",type:"datetime-local",value:U.endDateTime.slice(0,16),onChange:e=>W({...U,endDateTime:e.target.value}),className:"col-span-3"})]}),vi.jsxs("div",{className:"grid grid-cols-4 items-start gap-4",children:[vi.jsx(uB,{htmlFor:"edit-attendees",className:"text-right pt-2",children:"Attendees"}),vi.jsxs("div",{className:"col-span-3 space-y-2",children:[vi.jsxs("div",{className:"flex space-x-2",children:[vi.jsx(fB,{id:"edit-attendees",placeholder:"Enter email address",value:U.attendeeInput,onChange:e=>W({...U,attendeeInput:e.target.value}),className:"flex-1"}),vi.jsx(tk,{type:"button",className:"btn-brand-primary",onClick:ae,children:"Add"})]}),vi.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:U.attendees.map((e=>vi.jsxs(ak,{variant:"secondary",className:"gap-1",children:[e,vi.jsx("button",{type:"button",onClick:()=>re(e),className:"ml-1 text-blue-600 hover:text-blue-800",children:vi.jsx(fj,{className:"h-3 w-3"})})]},e)))})]})]})]}),vi.jsxs(iB,{className:"flex justify-between",children:[vi.jsx(tk,{type:"button",variant:"destructive",onClick:()=>{f(!1),p(!0)},children:"Delete"}),vi.jsxs("div",{className:"flex space-x-2",children:[vi.jsx(tk,{type:"button",variant:"outline",className:"btn-brand-primary",onClick:()=>f(!1),children:"Cancel"}),vi.jsx(tk,{type:"button",onClick:()=>{if(!(o&&U.summary&&U.startDateTime&&U.endDateTime))return void F({title:B("common.missing_information","Missing Information"),description:B("common.fill_required_fields","Please fill in all required fields"),variant:"destructive"});const e={summary:U.summary,description:U.description,location:U.location,startDateTime:U.startDateTime,endDateTime:U.endDateTime,attendees:U.attendees.map((e=>({email:e}))),colorId:U.colorId};ee.mutate({eventId:o.id,eventData:e})},disabled:ee.isPending,children:ee.isPending?vi.jsxs(vi.Fragment,{children:[vi.jsx(uw,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):"Update Appointment"})]})]})]})}),vi.jsx(_9,{open:m,onOpenChange:p,children:vi.jsxs(A9,{children:[vi.jsxs(T9,{children:[vi.jsx(P9,{children:"Cancel Appointment"}),vi.jsxs(O9,{children:["Are you sure you want to cancel this appointment? This action cannot be undone.",o&&vi.jsxs("div",{className:"mt-2 font-medium",children:[o.summary," on ",(e=>{try{return hz(kz(e),"MMM d, yyyy h:mm a")}catch(t){return e}})(o.start.dateTime)]})]})]}),vi.jsxs(D9,{children:[vi.jsx(z9,{children:"No, Keep It"}),vi.jsx(R9,{onClick:()=>{(null==o?void 0:o.id)&&te.mutate(o.id)},className:"bg-red-600 focus:ring-red-600",children:te.isPending?vi.jsxs(vi.Fragment,{children:[vi.jsx(uw,{className:"mr-2 h-4 w-4 animate-spin"}),"Canceling..."]}):"Yes, Cancel Appointment"})]})]})}),vi.jsx(KF,{open:x,onOpenChange:y,children:vi.jsxs(aB,{className:"sm:max-w-[425px]",children:[vi.jsxs(rB,{children:[vi.jsx(sB,{children:"Add New Schedule"}),vi.jsx(oB,{children:"Create a new schedule to organize your events."})]}),vi.jsxs("div",{className:"grid gap-4 py-4",children:[vi.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[vi.jsx(uB,{htmlFor:"scheduleName",className:"text-right",children:"Name"}),vi.jsx(fB,{id:"scheduleName",placeholder:"Enter schedule name",value:N,onChange:e=>C(e.target.value),className:"col-span-3"})]}),vi.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[vi.jsx(uB,{htmlFor:"scheduleColor",className:"text-right",children:"Color"}),vi.jsxs(AU,{value:S,onValueChange:k,children:[vi.jsx(PU,{className:"col-span-3",children:vi.jsx(DU,{placeholder:"Select color",children:S&&vi.jsxs("div",{className:"flex items-center",children:[vi.jsx("div",{className:`w-3 h-3 rounded-full ${i8[S]} mr-2`}),vi.jsx("span",{children:S.charAt(0).toUpperCase()+S.slice(1)})]})})}),vi.jsx(zU,{children:Object.entries(i8).map((([e,t])=>vi.jsx(FU,{value:e,children:vi.jsxs("div",{className:"flex items-center",children:[vi.jsx("div",{className:`w-3 h-3 rounded-full ${t} mr-2`}),vi.jsx("span",{children:e.charAt(0).toUpperCase()+e.slice(1)})]})},e)))})]})]})]}),vi.jsxs(iB,{children:[vi.jsx(tk,{type:"button",variant:"outline",className:"btn-brand-primary",onClick:()=>y(!1),children:"Cancel"}),vi.jsx(tk,{type:"button",onClick:()=>{if(!N.trim())return void F({title:B("common.missing_information","Missing Information"),description:B("calendar.enter_schedule_name","Please enter a schedule name"),variant:"destructive"});const e=(Math.max(...P.map((e=>parseInt(e.id))),0)+1).toString();O((t=>[...t,{id:e,name:N.trim(),selected:!0,color:S}])),C(""),k("blue"),y(!1),F({title:B("calendar.schedule_added","Schedule Added"),description:B("calendar.schedule_added_success",'New schedule "{{name}}" has been added',{name:N.trim()})})},children:"Add Schedule"})]})]})}),vi.jsx(KF,{open:v,onOpenChange:b,children:vi.jsxs(aB,{className:"sm:max-w-[425px]",children:[vi.jsxs(rB,{children:[vi.jsx(sB,{children:"Edit Schedule"}),vi.jsx(oB,{children:"Update your schedule details."})]}),vi.jsxs("div",{className:"grid gap-4 py-4",children:[vi.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[vi.jsx(uB,{htmlFor:"editScheduleName",className:"text-right",children:"Name"}),vi.jsx(fB,{id:"editScheduleName",value:N,onChange:e=>C(e.target.value),className:"col-span-3",placeholder:"Work, Personal, etc."})]}),vi.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[vi.jsx(uB,{htmlFor:"editScheduleColor",className:"text-right",children:"Color"}),vi.jsxs(AU,{value:S,onValueChange:k,children:[vi.jsx(PU,{className:"col-span-3",children:vi.jsx(DU,{placeholder:"Select color",children:S&&vi.jsxs("div",{className:"flex items-center",children:[vi.jsx("div",{className:`w-3 h-3 rounded-full ${i8[S]} mr-2`}),vi.jsx("span",{children:S.charAt(0).toUpperCase()+S.slice(1)})]})})}),vi.jsx(zU,{children:Object.entries(i8).map((([e,t])=>vi.jsx(FU,{value:e,children:vi.jsxs("div",{className:"flex items-center",children:[vi.jsx("div",{className:`w-3 h-3 rounded-full ${t} mr-2`}),vi.jsx("span",{children:e.charAt(0).toUpperCase()+e.slice(1)})]})},e)))})]})]})]}),vi.jsxs(iB,{children:[vi.jsx(tk,{type:"button",variant:"outline",className:"btn-brand-primary",onClick:()=>b(!1),children:"Cancel"}),vi.jsx(tk,{variant:"brand",className:"btn-brand-primary",type:"button",onClick:()=>{M&&N.trim()?(O((e=>e.map((e=>e.id===M.id?{...e,name:N.trim(),color:S}:e)))),C(""),k("blue"),b(!1),_(null),F({title:B("calendar.schedule_updated","Schedule Updated"),description:B("calendar.schedule_updated_success",'Schedule "{{name}}" has been updated',{name:N.trim()})})):F({title:B("common.missing_information","Missing Information"),description:B("calendar.enter_schedule_name","Please enter a schedule name"),variant:"destructive"})},children:"Save Changes"})]})]})}),vi.jsx(_9,{open:w,onOpenChange:j,children:vi.jsxs(A9,{children:[vi.jsxs(T9,{children:[vi.jsx(P9,{children:"Delete Schedule"}),vi.jsxs(O9,{children:["Are you sure you want to delete this schedule? This action cannot be undone.",M&&vi.jsxs("div",{className:"mt-2 font-medium flex items-center",children:[vi.jsx("div",{className:`w-3 h-3 rounded-full ${i8[M.color||"blue"]} mr-2`}),M.name]})]})]}),vi.jsxs(D9,{children:[vi.jsx(z9,{children:"Cancel"}),vi.jsx(R9,{className:"bg-red-600 hover:bg-red-700",onClick:()=>{M&&(O((e=>e.filter((e=>e.id!==M.id)))),j(!1),_(null),F({title:B("calendar.schedule_deleted","Schedule Deleted"),description:B("calendar.schedule_deleted_success",'Schedule "{{name}}" has been deleted',{name:M.name})}))},children:"Delete"})]})]})}),vi.jsx(KF,{open:h,onOpenChange:g,children:vi.jsxs(aB,{className:"sm:max-w-[600px]",children:[vi.jsxs(rB,{children:[vi.jsx(sB,{children:"Available Time Slots"}),vi.jsx(oB,{children:"Select a time slot to create a new appointment."})]}),vi.jsxs("div",{className:"py-4",children:[vi.jsxs("div",{className:"flex items-center justify-between mb-4",children:[vi.jsx("div",{className:"text-sm text-gray-500",children:a?hz(a,"MMMM d, yyyy"):""}),vi.jsxs(AU,{value:L,onValueChange:A,children:[vi.jsx(PU,{className:"w-[180px]",children:vi.jsx(DU,{placeholder:"Duration"})}),vi.jsxs(zU,{children:[vi.jsx(FU,{value:"15",children:"15 minutes"}),vi.jsx(FU,{value:"30",children:"30 minutes"}),vi.jsx(FU,{value:"60",children:"60 minutes"}),vi.jsx(FU,{value:"90",children:"90 minutes"})]})]})]}),J?vi.jsx("div",{className:"flex justify-center p-6",children:vi.jsx(uw,{className:"h-6 w-6 animate-spin"})}):vi.jsx(vi.Fragment,{children:(null==T?void 0:T.length)>0&&(null==(e=T[0].slots)?void 0:e.length)>0?vi.jsx("div",{className:"grid grid-cols-3 gap-2",children:T[0].slots.map(((e,t)=>vi.jsx(tk,{variant:"brand",className:"text-center",onClick:()=>(e=>{var t;I(e);const[n,r]=(null==(t=e.match(/(\d+):(\d+)/))?void 0:t.slice(1,3).map(Number))||[0,0],i=e.toLowerCase().includes("pm"),s=i&&12!==n?n+12:i||12!==n?n:0,o=new Date(a||new Date);o.setHours(s,r,0,0);const l=new Date(o);l.setMinutes(l.getMinutes()+Number(L)),W({...U,startDateTime:vz(o),endDateTime:vz(l)}),g(!1),d(!0)})(e),children:e},t)))}):vi.jsxs("div",{className:"text-center py-8",children:[vi.jsx("div",{className:"text-gray-400 mb-2",children:vi.jsx("i",{className:"ri-time-line text-4xl"})}),vi.jsx("p",{className:"text-gray-500",children:"No available time slots found for the selected date and duration"})]})})]}),vi.jsxs(iB,{children:[vi.jsx(tk,{type:"button",variant:"outline",onClick:()=>g(!1),children:"Cancel"}),vi.jsx(tk,{type:"button",onClick:()=>K(),disabled:J,children:J?vi.jsxs(vi.Fragment,{children:[vi.jsx(uw,{className:"mr-2 h-4 w-4 animate-spin"}),"Checking..."]}):"Refresh Availability"})]})]})})]})}var o8=Array.isArray,l8="object"==typeof Nr&&Nr&&Nr.Object===Object&&Nr,c8=l8,d8="object"==typeof self&&self&&self.Object===Object&&self,u8=c8||d8||Function("return this")(),f8=u8.Symbol,m8=f8,p8=Object.prototype,h8=p8.hasOwnProperty,g8=p8.toString,x8=m8?m8.toStringTag:void 0;var y8=function(e){var t=h8.call(e,x8),n=e[x8];try{e[x8]=void 0;var a=!0}catch(i){}var r=g8.call(e);return a&&(t?e[x8]=n:delete e[x8]),r},v8=Object.prototype.toString;var b8=y8,w8=function(e){return v8.call(e)},j8=f8?f8.toStringTag:void 0;var N8=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":j8&&j8 in Object(e)?b8(e):w8(e)};var C8=function(e){return null!=e&&"object"==typeof e},S8=N8,k8=C8;var M8=function(e){return"symbol"==typeof e||k8(e)&&"[object Symbol]"==S8(e)},_8=o8,E8=M8,I8=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,L8=/^\w*$/;var A8=function(e,t){if(_8(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!E8(e))||(L8.test(e)||!I8.test(e)||null!=t&&e in Object(t))};var T8=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const D8=Cr(T8);var P8=N8,O8=T8;var R8=function(e){if(!O8(e))return!1;var t=P8(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const z8=Cr(R8);var F8,B8=u8["__core-js_shared__"],U8=(F8=/[^.]+$/.exec(B8&&B8.keys&&B8.keys.IE_PROTO||""))?"Symbol(src)_1."+F8:"";var W8=function(e){return!!U8&&U8 in e},G8=Function.prototype.toString;var V8=function(e){if(null!=e){try{return G8.call(e)}catch(t){}try{return e+""}catch(t){}}return""},$8=R8,H8=W8,Y8=T8,q8=V8,Q8=/^\[object .+?Constructor\]$/,Z8=Function.prototype,J8=Object.prototype,K8=Z8.toString,X8=J8.hasOwnProperty,e7=RegExp("^"+K8.call(X8).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var t7=function(e){return!(!Y8(e)||H8(e))&&($8(e)?e7:Q8).test(q8(e))},n7=function(e,t){return null==e?void 0:e[t]};var a7=function(e,t){var n=n7(e,t);return t7(n)?n:void 0},r7=a7(Object,"create"),i7=r7;var s7=function(){this.__data__=i7?i7(null):{},this.size=0};var o7=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},l7=r7,c7=Object.prototype.hasOwnProperty;var d7=function(e){var t=this.__data__;if(l7){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return c7.call(t,e)?t[e]:void 0},u7=r7,f7=Object.prototype.hasOwnProperty;var m7=r7;var p7=s7,h7=o7,g7=d7,x7=function(e){var t=this.__data__;return u7?void 0!==t[e]:f7.call(t,e)},y7=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=m7&&void 0===t?"__lodash_hash_undefined__":t,this};function v7(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}v7.prototype.clear=p7,v7.prototype.delete=h7,v7.prototype.get=g7,v7.prototype.has=x7,v7.prototype.set=y7;var b7=v7;var w7=function(){this.__data__=[],this.size=0};var j7=function(e,t){return e===t||e!=e&&t!=t},N7=j7;var C7=function(e,t){for(var n=e.length;n--;)if(N7(e[n][0],t))return n;return-1},S7=C7,k7=Array.prototype.splice;var M7=C7;var _7=C7;var E7=C7;var I7=w7,L7=function(e){var t=this.__data__,n=S7(t,e);return!(n<0)&&(n==t.length-1?t.pop():k7.call(t,n,1),--this.size,!0)},A7=function(e){var t=this.__data__,n=M7(t,e);return n<0?void 0:t[n][1]},T7=function(e){return _7(this.__data__,e)>-1},D7=function(e,t){var n=this.__data__,a=E7(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this};function P7(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}P7.prototype.clear=I7,P7.prototype.delete=L7,P7.prototype.get=A7,P7.prototype.has=T7,P7.prototype.set=D7;var O7=P7,R7=a7(u8,"Map"),z7=b7,F7=O7,B7=R7;var U7=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var W7=function(e,t){var n=e.__data__;return U7(t)?n["string"==typeof t?"string":"hash"]:n.map},G7=W7;var V7=W7;var $7=W7;var H7=W7;var Y7=function(){this.size=0,this.__data__={hash:new z7,map:new(B7||F7),string:new z7}},q7=function(e){var t=G7(this,e).delete(e);return this.size-=t?1:0,t},Q7=function(e){return V7(this,e).get(e)},Z7=function(e){return $7(this,e).has(e)},J7=function(e,t){var n=H7(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this};function K7(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}K7.prototype.clear=Y7,K7.prototype.delete=q7,K7.prototype.get=Q7,K7.prototype.has=Z7,K7.prototype.set=J7;var X7=K7,eee=X7;function tee(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var a=arguments,r=t?t.apply(this,a):a[0],i=n.cache;if(i.has(r))return i.get(r);var s=e.apply(this,a);return n.cache=i.set(r,s)||i,s};return n.cache=new(tee.Cache||eee),n}tee.Cache=eee;var nee=tee;const aee=Cr(nee);var ree=nee;var iee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,see=/\\(\\)?/g,oee=function(e){var t=ree(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(iee,(function(e,n,a,r){t.push(a?r.replace(see,"$1"):n||e)})),t}));var lee=function(e,t){for(var n=-1,a=null==e?0:e.length,r=Array(a);++n<a;)r[n]=t(e[n],n,e);return r},cee=lee,dee=o8,uee=M8,fee=f8?f8.prototype:void 0,mee=fee?fee.toString:void 0;var pee=function e(t){if("string"==typeof t)return t;if(dee(t))return cee(t,e)+"";if(uee(t))return mee?mee.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},hee=pee;var gee=function(e){return null==e?"":hee(e)},xee=o8,yee=A8,vee=oee,bee=gee;var wee=function(e,t){return xee(e)?e:yee(e,t)?[e]:vee(bee(e))},jee=M8;var Nee=function(e){if("string"==typeof e||jee(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},Cee=wee,See=Nee;var kee=function(e,t){for(var n=0,a=(t=Cee(t,e)).length;null!=e&&n<a;)e=e[See(t[n++])];return n&&n==a?e:void 0},Mee=kee;var _ee=function(e,t,n){var a=null==e?void 0:Mee(e,t);return void 0===a?n:a};const Eee=Cr(_ee);const Iee=Cr((function(e){return null==e}));var Lee=N8,Aee=o8,Tee=C8;const Dee=Cr((function(e){return"string"==typeof e||!Aee(e)&&Tee(e)&&"[object String]"==Lee(e)}));var Pee,Oee={exports:{}},Ree={},zee=Symbol.for("react.element"),Fee=Symbol.for("react.portal"),Bee=Symbol.for("react.fragment"),Uee=Symbol.for("react.strict_mode"),Wee=Symbol.for("react.profiler"),Gee=Symbol.for("react.provider"),Vee=Symbol.for("react.context"),$ee=Symbol.for("react.server_context"),Hee=Symbol.for("react.forward_ref"),Yee=Symbol.for("react.suspense"),qee=Symbol.for("react.suspense_list"),Qee=Symbol.for("react.memo"),Zee=Symbol.for("react.lazy"),Jee=Symbol.for("react.offscreen");function Kee(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case zee:switch(e=e.type){case Bee:case Wee:case Uee:case Yee:case qee:return e;default:switch(e=e&&e.$$typeof){case $ee:case Vee:case Hee:case Zee:case Qee:case Gee:return e;default:return t}}case Fee:return t}}}Pee=Symbol.for("react.module.reference"),Ree.ContextConsumer=Vee,Ree.ContextProvider=Gee,Ree.Element=zee,Ree.ForwardRef=Hee,Ree.Fragment=Bee,Ree.Lazy=Zee,Ree.Memo=Qee,Ree.Portal=Fee,Ree.Profiler=Wee,Ree.StrictMode=Uee,Ree.Suspense=Yee,Ree.SuspenseList=qee,Ree.isAsyncMode=function(){return!1},Ree.isConcurrentMode=function(){return!1},Ree.isContextConsumer=function(e){return Kee(e)===Vee},Ree.isContextProvider=function(e){return Kee(e)===Gee},Ree.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===zee},Ree.isForwardRef=function(e){return Kee(e)===Hee},Ree.isFragment=function(e){return Kee(e)===Bee},Ree.isLazy=function(e){return Kee(e)===Zee},Ree.isMemo=function(e){return Kee(e)===Qee},Ree.isPortal=function(e){return Kee(e)===Fee},Ree.isProfiler=function(e){return Kee(e)===Wee},Ree.isStrictMode=function(e){return Kee(e)===Uee},Ree.isSuspense=function(e){return Kee(e)===Yee},Ree.isSuspenseList=function(e){return Kee(e)===qee},Ree.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===Bee||e===Wee||e===Uee||e===Yee||e===qee||e===Jee||"object"==typeof e&&null!==e&&(e.$$typeof===Zee||e.$$typeof===Qee||e.$$typeof===Gee||e.$$typeof===Vee||e.$$typeof===Hee||e.$$typeof===Pee||void 0!==e.getModuleId)},Ree.typeOf=Kee,Oee.exports=Ree;var Xee=Oee.exports,ete=N8,tte=C8;var nte=function(e){return"number"==typeof e||tte(e)&&"[object Number]"==ete(e)};const ate=Cr(nte);var rte=nte;const ite=Cr((function(e){return rte(e)&&e!=+e}));var ste=function(e){return 0===e?0:e>0?1:-1},ote=function(e){return Dee(e)&&e.indexOf("%")===e.length-1},lte=function(e){return ate(e)&&!ite(e)},cte=function(e){return lte(e)||Dee(e)},dte=0,ute=function(e){var t=++dte;return"".concat(e||"").concat(t)},fte=function(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!lte(e)&&!Dee(e))return a;if(ote(e)){var i=e.indexOf("%");n=t*parseFloat(e.slice(0,i))/100}else n=+e;return ite(n)&&(n=a),r&&n>t&&(n=t),n},mte=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},pte=function(e,t){return lte(e)&&lte(t)?function(n){return e+n*(t-e)}:function(){return t}};function hte(e,t,n){return e&&e.length?e.find((function(e){return e&&("function"==typeof t?t(e):Eee(e,t))===n})):null}var gte=function(e){if(!e||!e.length)return null;for(var t=e.length,n=0,a=0,r=0,i=0,s=1/0,o=-1/0,l=0,c=0,d=0;d<t;d++)n+=l=e[d].cx||0,a+=c=e[d].cy||0,r+=l*c,i+=l*l,s=Math.min(s,l),o=Math.max(o,l);var u=t*i!==n*n?(t*r-n*a)/(t*i-n*n):0;return{xmin:s,xmax:o,a:u,b:(a-u*n)/t}},xte=function(e,t){return lte(e)&&lte(t)?e-t:Dee(e)&&Dee(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))};function yte(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function vte(e){return(vte="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var bte=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],wte=["points","pathLength"],jte={svg:["viewBox","children"],polygon:wte,polyline:wte},Nte=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Cte=function(e,t){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var n=e;if(ci.isValidElement(e)&&(n=e.props),!D8(n))return null;var a={};return Object.keys(n).forEach((function(e){Nte.includes(e)&&(a[e]=t||function(t){return n[e](n,t)})})),a},Ste=function(e,t,n){if(!D8(e)||"object"!==vte(e))return null;var a=null;return Object.keys(e).forEach((function(r){var i=e[r];Nte.includes(r)&&"function"==typeof i&&(a||(a={}),a[r]=function(e,t,n){return function(a){return e(t,n,a),null}}(i,t,n))})),a},kte=["children"],Mte=["children"];function _te(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ete(e){return(Ete="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ite={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Lte=function(e){return"string"==typeof e?e:e?e.displayName||e.name||"Component":""},Ate=null,Tte=null,Dte=function e(t){if(t===Ate&&Array.isArray(Tte))return Tte;var n=[];return ci.Children.forEach(t,(function(t){Iee(t)||(Xee.isFragment(t)?n=n.concat(e(t.props.children)):n.push(t))})),Tte=n,Ate=t,n};function Pte(e,t){var n=[],a=[];return a=Array.isArray(t)?t.map((function(e){return Lte(e)})):[Lte(t)],Dte(e).forEach((function(e){var t=Eee(e,"type.displayName")||Eee(e,"type.name");-1!==a.indexOf(t)&&n.push(e)})),n}function Ote(e,t){var n=Pte(e,t);return n&&n[0]}var Rte=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,a=t.height;return!(!lte(n)||n<=0||!lte(a)||a<=0)},zte=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Fte=function(e){return e&&"object"===Ete(e)&&"clipDot"in e},Bte=function(e,t,n){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var a=e;if(ci.isValidElement(e)&&(a=e.props),!D8(a))return null;var r={};return Object.keys(a).forEach((function(e){var i;(function(e,t,n,a){var r,i=null!==(r=null==jte?void 0:jte[a])&&void 0!==r?r:[];return t.startsWith("data-")||!z8(e)&&(a&&i.includes(t)||bte.includes(t))||n&&Nte.includes(t)})(null===(i=a)||void 0===i?void 0:i[e],e,t,n)&&(r[e]=a[e])})),r},Ute=function e(t,n){if(t===n)return!0;var a=ci.Children.count(t);if(a!==ci.Children.count(n))return!1;if(0===a)return!0;if(1===a)return Wte(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var r=0;r<a;r++){var i=t[r],s=n[r];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!Wte(i,s))return!1}return!0},Wte=function(e,t){if(Iee(e)&&Iee(t))return!0;if(!Iee(e)&&!Iee(t)){var n=e.props||{},a=n.children,r=_te(n,kte),i=t.props||{},s=i.children,o=_te(i,Mte);return a&&s?yte(r,o)&&Ute(a,s):!a&&!s&&yte(r,o)}return!1},Gte=function(e,t){var n=[],a={};return Dte(e).forEach((function(e,r){if(function(e){return e&&e.type&&Dee(e.type)&&zte.indexOf(e.type)>=0}(e))n.push(e);else if(e){var i=Lte(e.type),s=t[i]||{},o=s.handler,l=s.once;if(o&&(!l||!a[i])){var c=o(e,i,r);n.push(c),a[i]=!0}}})),n},Vte=["children","width","height","viewBox","className","style","title","desc"];function $te(){return $te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},$te.apply(this,arguments)}function Hte(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yte(e){var t=e.children,n=e.width,a=e.height,r=e.viewBox,i=e.className,s=e.style,o=e.title,l=e.desc,c=Hte(e,Vte),d=r||{width:n,height:a,x:0,y:0},u=ub("recharts-surface",i);return di.createElement("svg",$te({},Bte(c,!0,"svg"),{className:u,width:n,height:a,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),di.createElement("title",null,o),di.createElement("desc",null,l),t)}var qte=["children","className"];function Qte(){return Qte=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Qte.apply(this,arguments)}function Zte(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Jte=di.forwardRef((function(e,t){var n=e.children,a=e.className,r=Zte(e,qte),i=ub("recharts-layer",a);return di.createElement("g",Qte({className:i},Bte(r,!0),{ref:t}),n)})),Kte=function(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),r=2;r<n;r++)a[r-2]=arguments[r]};var Xte=function(e,t,n){var a=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(r);++a<r;)i[a]=e[a+t];return i};var ene=function(e,t,n){var a=e.length;return n=void 0===n?a:n,!t&&n>=a?e:Xte(e,t,n)},tne=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var nne=function(e){return tne.test(e)};var ane=function(e){return e.split("")},rne="\\ud800-\\udfff",ine="["+rne+"]",sne="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",one="\\ud83c[\\udffb-\\udfff]",lne="[^"+rne+"]",cne="(?:\\ud83c[\\udde6-\\uddff]){2}",dne="[\\ud800-\\udbff][\\udc00-\\udfff]",une="(?:"+sne+"|"+one+")"+"?",fne="[\\ufe0e\\ufe0f]?",mne=fne+une+("(?:\\u200d(?:"+[lne,cne,dne].join("|")+")"+fne+une+")*"),pne="(?:"+[lne+sne+"?",sne,cne,dne,ine].join("|")+")",hne=RegExp(one+"(?="+one+")|"+pne+mne,"g");var gne=ane,xne=nne,yne=function(e){return e.match(hne)||[]};var vne=ene,bne=nne,wne=function(e){return xne(e)?yne(e):gne(e)},jne=gee;const Nne=Cr(function(e){return function(t){t=jne(t);var n=bne(t)?wne(t):void 0,a=n?n[0]:t.charAt(0),r=n?vne(n,1).join(""):t.slice(1);return a[e]()+r}}("toUpperCase"));function Cne(e){return function(){return e}}const Sne=Math.cos,kne=Math.sin,Mne=Math.sqrt,_ne=Math.PI,Ene=2*_ne,Ine=Math.PI,Lne=2*Ine,Ane=1e-6,Tne=Lne-Ane;function Dne(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class Pne{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?Dne:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Dne;const n=10**t;return function(e){this._+=e[0];for(let t=1,a=e.length;t<a;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,a){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,t,n,a,r,i){this._append`C${+e},${+t},${+n},${+a},${this._x1=+r},${this._y1=+i}`}arcTo(e,t,n,a,r){if(e=+e,t=+t,n=+n,a=+a,(r=+r)<0)throw new Error(`negative radius: ${r}`);let i=this._x1,s=this._y1,o=n-e,l=a-t,c=i-e,d=s-t,u=c*c+d*d;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(u>Ane)if(Math.abs(d*o-l*c)>Ane&&r){let f=n-i,m=a-s,p=o*o+l*l,h=f*f+m*m,g=Math.sqrt(p),x=Math.sqrt(u),y=r*Math.tan((Ine-Math.acos((p+u-h)/(2*g*x)))/2),v=y/x,b=y/g;Math.abs(v-1)>Ane&&this._append`L${e+v*c},${t+v*d}`,this._append`A${r},${r},0,0,${+(d*f>c*m)},${this._x1=e+b*o},${this._y1=t+b*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,n,a,r,i){if(e=+e,t=+t,i=!!i,(n=+n)<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),o=n*Math.sin(a),l=e+s,c=t+o,d=1^i,u=i?a-r:r-a;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Ane||Math.abs(this._y1-c)>Ane)&&this._append`L${l},${c}`,n&&(u<0&&(u=u%Lne+Lne),u>Tne?this._append`A${n},${n},0,1,${d},${e-s},${t-o}A${n},${n},0,1,${d},${this._x1=l},${this._y1=c}`:u>Ane&&this._append`A${n},${n},0,${+(u>=Ine)},${d},${this._x1=e+n*Math.cos(r)},${this._y1=t+n*Math.sin(r)}`)}rect(e,t,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function One(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new Pne(t)}function Rne(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function zne(e){this._context=e}function Fne(e){return new zne(e)}function Bne(e){return e[0]}function Une(e){return e[1]}function Wne(e,t){var n=Cne(!0),a=null,r=Fne,i=null,s=One(o);function o(o){var l,c,d,u=(o=Rne(o)).length,f=!1;for(null==a&&(i=r(d=s())),l=0;l<=u;++l)!(l<u&&n(c=o[l],l,o))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(c,l,o),+t(c,l,o));if(d)return i=null,d+""||null}return e="function"==typeof e?e:void 0===e?Bne:Cne(e),t="function"==typeof t?t:void 0===t?Une:Cne(t),o.x=function(t){return arguments.length?(e="function"==typeof t?t:Cne(+t),o):e},o.y=function(e){return arguments.length?(t="function"==typeof e?e:Cne(+e),o):t},o.defined=function(e){return arguments.length?(n="function"==typeof e?e:Cne(!!e),o):n},o.curve=function(e){return arguments.length?(r=e,null!=a&&(i=r(a)),o):r},o.context=function(e){return arguments.length?(null==e?a=i=null:i=r(a=e),o):a},o}function Gne(e,t,n){var a=null,r=Cne(!0),i=null,s=Fne,o=null,l=One(c);function c(c){var d,u,f,m,p,h=(c=Rne(c)).length,g=!1,x=new Array(h),y=new Array(h);for(null==i&&(o=s(p=l())),d=0;d<=h;++d){if(!(d<h&&r(m=c[d],d,c))===g)if(g=!g)u=d,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),f=d-1;f>=u;--f)o.point(x[f],y[f]);o.lineEnd(),o.areaEnd()}g&&(x[d]=+e(m,d,c),y[d]=+t(m,d,c),o.point(a?+a(m,d,c):x[d],n?+n(m,d,c):y[d]))}if(p)return o=null,p+""||null}function d(){return Wne().defined(r).curve(s).context(i)}return e="function"==typeof e?e:void 0===e?Bne:Cne(+e),t="function"==typeof t?t:Cne(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?Une:Cne(+n),c.x=function(t){return arguments.length?(e="function"==typeof t?t:Cne(+t),a=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:Cne(+t),c):e},c.x1=function(e){return arguments.length?(a=null==e?null:"function"==typeof e?e:Cne(+e),c):a},c.y=function(e){return arguments.length?(t="function"==typeof e?e:Cne(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:Cne(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:Cne(+e),c):n},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(n)},c.lineX1=function(){return d().x(a).y(t)},c.defined=function(e){return arguments.length?(r="function"==typeof e?e:Cne(!!e),c):r},c.curve=function(e){return arguments.length?(s=e,null!=i&&(o=s(i)),c):s},c.context=function(e){return arguments.length?(null==e?i=o=null:o=s(i=e),c):i},c}zne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};class Vne{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}const $ne={draw(e,t){const n=Mne(t/_ne);e.moveTo(n,0),e.arc(0,0,n,0,Ene)}},Hne={draw(e,t){const n=Mne(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Yne=Mne(1/3),qne=2*Yne,Qne={draw(e,t){const n=Mne(t/qne),a=n*Yne;e.moveTo(0,-n),e.lineTo(a,0),e.lineTo(0,n),e.lineTo(-a,0),e.closePath()}},Zne={draw(e,t){const n=Mne(t),a=-n/2;e.rect(a,a,n,n)}},Jne=kne(_ne/10)/kne(7*_ne/10),Kne=kne(Ene/10)*Jne,Xne=-Sne(Ene/10)*Jne,eae={draw(e,t){const n=Mne(.8908130915292852*t),a=Kne*n,r=Xne*n;e.moveTo(0,-n),e.lineTo(a,r);for(let i=1;i<5;++i){const t=Ene*i/5,s=Sne(t),o=kne(t);e.lineTo(o*n,-s*n),e.lineTo(s*a-o*r,o*a+s*r)}e.closePath()}},tae=Mne(3),nae={draw(e,t){const n=-Mne(t/(3*tae));e.moveTo(0,2*n),e.lineTo(-tae*n,-n),e.lineTo(tae*n,-n),e.closePath()}},aae=-.5,rae=Mne(3)/2,iae=1/Mne(12),sae=3*(iae/2+1),oae={draw(e,t){const n=Mne(t/sae),a=n/2,r=n*iae,i=a,s=n*iae+n,o=-i,l=s;e.moveTo(a,r),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(aae*a-rae*r,rae*a+aae*r),e.lineTo(aae*i-rae*s,rae*i+aae*s),e.lineTo(aae*o-rae*l,rae*o+aae*l),e.lineTo(aae*a+rae*r,aae*r-rae*a),e.lineTo(aae*i+rae*s,aae*s-rae*i),e.lineTo(aae*o+rae*l,aae*l-rae*o),e.closePath()}};function lae(){}function cae(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function dae(e){this._context=e}function uae(e){this._context=e}function fae(e){this._context=e}function mae(e){this._context=e}function pae(e){return e<0?-1:1}function hae(e,t,n){var a=e._x1-e._x0,r=t-e._x1,i=(e._y1-e._y0)/(a||r<0&&-0),s=(n-e._y1)/(r||a<0&&-0),o=(i*r+s*a)/(a+r);return(pae(i)+pae(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function gae(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function xae(e,t,n){var a=e._x0,r=e._y0,i=e._x1,s=e._y1,o=(i-a)/3;e._context.bezierCurveTo(a+o,r+o*t,i-o,s-o*n,i,s)}function yae(e){this._context=e}function vae(e){this._context=new bae(e)}function bae(e){this._context=e}function wae(e){this._context=e}function jae(e){var t,n,a=e.length-1,r=new Array(a),i=new Array(a),s=new Array(a);for(r[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<a-1;++t)r[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(r[a-1]=2,i[a-1]=7,s[a-1]=8*e[a-1]+e[a],t=1;t<a;++t)n=r[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(r[a-1]=s[a-1]/i[a-1],t=a-2;t>=0;--t)r[t]=(s[t]-r[t+1])/i[t];for(i[a-1]=(e[a]+r[a-1])/2,t=0;t<a-1;++t)i[t]=2*e[t+1]-r[t+1];return[r,i]}function Nae(e,t){this._context=e,this._t=t}function Cae(e,t){if((r=e.length)>1)for(var n,a,r,i=1,s=e[t[0]],o=s.length;i<r;++i)for(a=s,s=e[t[i]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Sae(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function kae(e,t){return e[t]}function Mae(e){const t=[];return t.key=e,t}function _ae(e){return(_ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}dae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cae(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cae(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},uae.prototype={areaStart:lae,areaEnd:lae,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:cae(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},fae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break;case 3:this._point=4;default:cae(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},mae.prototype={areaStart:lae,areaEnd:lae,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},yae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xae(this,this._t0,gae(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,xae(this,gae(this,n=hae(this,e,t)),n);break;default:xae(this,this._t0,n=hae(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(vae.prototype=Object.create(yae.prototype)).point=function(e,t){yae.prototype.point.call(this,t,e)},bae.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,a,r,i){this._context.bezierCurveTo(t,e,a,n,i,r)}},wae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var a=jae(e),r=jae(t),i=0,s=1;s<n;++i,++s)this._context.bezierCurveTo(a[0][i],r[0][i],a[1][i],r[1][i],e[s],t[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},Nae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var Eae=["type","size","sizeType"];function Iae(){return Iae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Iae.apply(this,arguments)}function Lae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Aae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lae(Object(n),!0).forEach((function(t){Tae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tae(e,t,n){var a;return a=function(e,t){if("object"!=_ae(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=_ae(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==_ae(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dae(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Pae={symbolCircle:$ne,symbolCross:Hne,symbolDiamond:Qne,symbolSquare:Zne,symbolStar:eae,symbolTriangle:nae,symbolWye:oae},Oae=Math.PI/180,Rae=function(e){var t,n,a=e.type,r=void 0===a?"circle":a,i=e.size,s=void 0===i?64:i,o=e.sizeType,l=void 0===o?"area":o,c=Aae(Aae({},Dae(e,Eae)),{},{type:r,size:s,sizeType:l}),d=c.className,u=c.cx,f=c.cy,m=Bte(c,!0);return u===+u&&f===+f&&s===+s?di.createElement("path",Iae({},m,{className:ub("recharts-symbols",d),transform:"translate(".concat(u,", ").concat(f,")"),d:(t=function(e){var t="symbol".concat(Nne(e));return Pae[t]||$ne}(r),n=function(e,t){let n=null,a=One(r);function r(){let r;if(n||(n=r=a()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return e="function"==typeof e?e:Cne(e||$ne),t="function"==typeof t?t:Cne(void 0===t?64:+t),r.type=function(t){return arguments.length?(e="function"==typeof t?t:Cne(t),r):e},r.size=function(e){return arguments.length?(t="function"==typeof e?e:Cne(+e),r):t},r.context=function(e){return arguments.length?(n=null==e?null:e,r):n},r}().type(t).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var a=18*Oae;return 1.25*e*e*(Math.tan(a)-Math.tan(2*a)*Math.pow(Math.tan(a),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(s,l,r)),n())})):null};function zae(e){return(zae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fae(){return Fae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Fae.apply(this,arguments)}function Bae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Uae(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Yae(a.key),a)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wae(e,t,n){return t=Vae(t),function(e,t){if(t&&("object"===zae(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Gae()?Reflect.construct(t,n||[],Vae(e).constructor):t.apply(e,n))}function Gae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Gae=function(){return!!e})()}function Vae(e){return(Vae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $ae(e,t){return($ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Hae(e,t,n){return(t=Yae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yae(e){var t=function(e,t){if("object"!=zae(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=zae(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==zae(t)?t:t+""}Rae.registerSymbol=function(e,t){Pae["symbol".concat(Nne(e))]=t};var qae=32,Qae=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Wae(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$ae(e,t)}(e,ci.PureComponent),Uae(e,[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,a=qae/6,r=qae/3,i=e.inactive?t:e.color;if("plainline"===e.type)return di.createElement("line",{strokeWidth:4,fill:"none",stroke:i,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:qae,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return di.createElement("path",{strokeWidth:4,fill:"none",stroke:i,d:"M0,".concat(n,"h").concat(r,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(2*r,",").concat(n,"\n            H").concat(qae,"M").concat(2*r,",").concat(n,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(r,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return di.createElement("path",{stroke:"none",fill:i,d:"M0,".concat(4,"h").concat(qae,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(di.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bae(Object(n),!0).forEach((function(t){Hae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete s.legendIcon,di.cloneElement(e.legendIcon,s)}return di.createElement(Rae,{fill:i,cx:n,cy:n,size:qae,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,a=t.iconSize,r=t.layout,i=t.formatter,s=t.inactiveColor,o={x:0,y:0,width:qae,height:qae},l={display:"horizontal"===r?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map((function(t,n){var r=t.formatter||i,d=ub(Hae(Hae({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",t.inactive));if("none"===t.type)return null;var u=z8(t.value)?null:t.value;Kte(!z8(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var f=t.inactive?s:t.color;return di.createElement("li",Fae({className:d,style:l,key:"legend-item-".concat(n)},Ste(e.props,t,n)),di.createElement(Yte,{width:a,height:a,viewBox:o,style:c},e.renderIcon(t)),di.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},r?r(u,t,n):u))}))}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,a=e.align;if(!t||!t.length)return null;var r={padding:0,margin:0,textAlign:"horizontal"===n?a:"left"};return di.createElement("ul",{className:"recharts-default-legend",style:r},this.renderItems())}}])}();Hae(Qae,"displayName","Legend"),Hae(Qae,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Zae=O7;var Jae=O7,Kae=R7,Xae=X7;var ere=O7,tre=function(){this.__data__=new Zae,this.size=0},nre=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},are=function(e){return this.__data__.get(e)},rre=function(e){return this.__data__.has(e)},ire=function(e,t){var n=this.__data__;if(n instanceof Jae){var a=n.__data__;if(!Kae||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new Xae(a)}return n.set(e,t),this.size=n.size,this};function sre(e){var t=this.__data__=new ere(e);this.size=t.size}sre.prototype.clear=tre,sre.prototype.delete=nre,sre.prototype.get=are,sre.prototype.has=rre,sre.prototype.set=ire;var ore=sre;var lre=X7,cre=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},dre=function(e){return this.__data__.has(e)};function ure(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new lre;++t<n;)this.add(e[t])}ure.prototype.add=ure.prototype.push=cre,ure.prototype.has=dre;var fre=ure;var mre=function(e,t){for(var n=-1,a=null==e?0:e.length;++n<a;)if(t(e[n],n,e))return!0;return!1};var pre=function(e,t){return e.has(t)},hre=fre,gre=mre,xre=pre;var yre=function(e,t,n,a,r,i){var s=1&n,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var c=i.get(e),d=i.get(t);if(c&&d)return c==t&&d==e;var u=-1,f=!0,m=2&n?new hre:void 0;for(i.set(e,t),i.set(t,e);++u<o;){var p=e[u],h=t[u];if(a)var g=s?a(h,p,u,t,e,i):a(p,h,u,e,t,i);if(void 0!==g){if(g)continue;f=!1;break}if(m){if(!gre(t,(function(e,t){if(!xre(m,t)&&(p===e||r(p,e,n,a,i)))return m.push(t)}))){f=!1;break}}else if(p!==h&&!r(p,h,n,a,i)){f=!1;break}}return i.delete(e),i.delete(t),f};var vre=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},bre=u8.Uint8Array,wre=j7,jre=yre,Nre=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,a){n[++t]=[a,e]})),n},Cre=vre,Sre=f8?f8.prototype:void 0,kre=Sre?Sre.valueOf:void 0;var Mre=function(e,t,n,a,r,i,s){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new bre(e),new bre(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return wre(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var o=Nre;case"[object Set]":var l=1&a;if(o||(o=Cre),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;a|=2,s.set(e,t);var d=jre(o(e),o(t),a,r,i,s);return s.delete(e),d;case"[object Symbol]":if(kre)return kre.call(e)==kre.call(t)}return!1};var _re=function(e,t){for(var n=-1,a=t.length,r=e.length;++n<a;)e[r+n]=t[n];return e},Ere=_re,Ire=o8;var Lre=function(e,t,n){var a=t(e);return Ire(e)?a:Ere(a,n(e))};var Are=function(e,t){for(var n=-1,a=null==e?0:e.length,r=0,i=[];++n<a;){var s=e[n];t(s,n,e)&&(i[r++]=s)}return i},Tre=function(){return[]},Dre=Object.prototype.propertyIsEnumerable,Pre=Object.getOwnPropertySymbols,Ore=Pre?function(e){return null==e?[]:(e=Object(e),Are(Pre(e),(function(t){return Dre.call(e,t)})))}:Tre;var Rre=function(e,t){for(var n=-1,a=Array(e);++n<e;)a[n]=t(n);return a},zre=N8,Fre=C8;var Bre,Ure,Wre,Gre,Vre,$re,Hre,Yre,qre=function(e){return Fre(e)&&"[object Arguments]"==zre(e)},Qre=C8,Zre=Object.prototype,Jre=Zre.hasOwnProperty,Kre=Zre.propertyIsEnumerable,Xre=qre(function(){return arguments}())?qre:function(e){return Qre(e)&&Jre.call(e,"callee")&&!Kre.call(e,"callee")},eie={exports:{}};Bre=eie,Wre=u8,Gre=function(){return!1},Vre=(Ure=eie.exports)&&!Ure.nodeType&&Ure,$re=Vre&&Bre&&!Bre.nodeType&&Bre,Hre=$re&&$re.exports===Vre?Wre.Buffer:void 0,Yre=(Hre?Hre.isBuffer:void 0)||Gre,Bre.exports=Yre;var tie=eie.exports,nie=/^(?:0|[1-9]\d*)$/;var aie=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&nie.test(e))&&e>-1&&e%1==0&&e<t};var rie=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},iie=N8,sie=rie,oie=C8,lie={};lie["[object Float32Array]"]=lie["[object Float64Array]"]=lie["[object Int8Array]"]=lie["[object Int16Array]"]=lie["[object Int32Array]"]=lie["[object Uint8Array]"]=lie["[object Uint8ClampedArray]"]=lie["[object Uint16Array]"]=lie["[object Uint32Array]"]=!0,lie["[object Arguments]"]=lie["[object Array]"]=lie["[object ArrayBuffer]"]=lie["[object Boolean]"]=lie["[object DataView]"]=lie["[object Date]"]=lie["[object Error]"]=lie["[object Function]"]=lie["[object Map]"]=lie["[object Number]"]=lie["[object Object]"]=lie["[object RegExp]"]=lie["[object Set]"]=lie["[object String]"]=lie["[object WeakMap]"]=!1;var cie=function(e){return oie(e)&&sie(e.length)&&!!lie[iie(e)]};var die=function(e){return function(t){return e(t)}},uie={exports:{}};!function(e,t){var n=l8,a=t&&!t.nodeType&&t,r=a&&e&&!e.nodeType&&e,i=r&&r.exports===a&&n.process,s=function(){try{var e=r&&r.require&&r.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=s}(uie,uie.exports);var fie=uie.exports,mie=cie,pie=die,hie=fie&&fie.isTypedArray,gie=hie?pie(hie):mie,xie=Rre,yie=Xre,vie=o8,bie=tie,wie=aie,jie=gie,Nie=Object.prototype.hasOwnProperty;var Cie=function(e,t){var n=vie(e),a=!n&&yie(e),r=!n&&!a&&bie(e),i=!n&&!a&&!r&&jie(e),s=n||a||r||i,o=s?xie(e.length,String):[],l=o.length;for(var c in e)!t&&!Nie.call(e,c)||s&&("length"==c||r&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||wie(c,l))||o.push(c);return o},Sie=Object.prototype;var kie=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Sie)};var Mie=function(e,t){return function(n){return e(t(n))}},_ie=Mie(Object.keys,Object),Eie=kie,Iie=_ie,Lie=Object.prototype.hasOwnProperty;var Aie=R8,Tie=rie;var Die=function(e){return null!=e&&Tie(e.length)&&!Aie(e)},Pie=Cie,Oie=function(e){if(!Eie(e))return Iie(e);var t=[];for(var n in Object(e))Lie.call(e,n)&&"constructor"!=n&&t.push(n);return t},Rie=Die;var zie=function(e){return Rie(e)?Pie(e):Oie(e)},Fie=Lre,Bie=Ore,Uie=zie;var Wie=function(e){return Fie(e,Uie,Bie)},Gie=Object.prototype.hasOwnProperty;var Vie=function(e,t,n,a,r,i){var s=1&n,o=Wie(e),l=o.length;if(l!=Wie(t).length&&!s)return!1;for(var c=l;c--;){var d=o[c];if(!(s?d in t:Gie.call(t,d)))return!1}var u=i.get(e),f=i.get(t);if(u&&f)return u==t&&f==e;var m=!0;i.set(e,t),i.set(t,e);for(var p=s;++c<l;){var h=e[d=o[c]],g=t[d];if(a)var x=s?a(g,h,d,t,e,i):a(h,g,d,e,t,i);if(!(void 0===x?h===g||r(h,g,n,a,i):x)){m=!1;break}p||(p="constructor"==d)}if(m&&!p){var y=e.constructor,v=t.constructor;y==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof v&&v instanceof v||(m=!1)}return i.delete(e),i.delete(t),m},$ie=a7(u8,"DataView"),Hie=a7(u8,"Promise"),Yie=a7(u8,"Set"),qie=$ie,Qie=R7,Zie=Hie,Jie=Yie,Kie=a7(u8,"WeakMap"),Xie=N8,ese=V8,tse="[object Map]",nse="[object Promise]",ase="[object Set]",rse="[object WeakMap]",ise="[object DataView]",sse=ese(qie),ose=ese(Qie),lse=ese(Zie),cse=ese(Jie),dse=ese(Kie),use=Xie;(qie&&use(new qie(new ArrayBuffer(1)))!=ise||Qie&&use(new Qie)!=tse||Zie&&use(Zie.resolve())!=nse||Jie&&use(new Jie)!=ase||Kie&&use(new Kie)!=rse)&&(use=function(e){var t=Xie(e),n="[object Object]"==t?e.constructor:void 0,a=n?ese(n):"";if(a)switch(a){case sse:return ise;case ose:return tse;case lse:return nse;case cse:return ase;case dse:return rse}return t});var fse=ore,mse=yre,pse=Mre,hse=Vie,gse=use,xse=o8,yse=tie,vse=gie,bse="[object Arguments]",wse="[object Array]",jse="[object Object]",Nse=Object.prototype.hasOwnProperty;var Cse=function(e,t,n,a,r,i){var s=xse(e),o=xse(t),l=s?wse:gse(e),c=o?wse:gse(t),d=(l=l==bse?jse:l)==jse,u=(c=c==bse?jse:c)==jse,f=l==c;if(f&&yse(e)){if(!yse(t))return!1;s=!0,d=!1}if(f&&!d)return i||(i=new fse),s||vse(e)?mse(e,t,n,a,r,i):pse(e,t,l,n,a,r,i);if(!(1&n)){var m=d&&Nse.call(e,"__wrapped__"),p=u&&Nse.call(t,"__wrapped__");if(m||p){var h=m?e.value():e,g=p?t.value():t;return i||(i=new fse),r(h,g,n,a,i)}}return!!f&&(i||(i=new fse),hse(e,t,n,a,r,i))},Sse=C8;var kse=function e(t,n,a,r,i){return t===n||(null==t||null==n||!Sse(t)&&!Sse(n)?t!=t&&n!=n:Cse(t,n,a,r,e,i))},Mse=ore,_se=kse;var Ese=T8;var Ise=function(e){return e==e&&!Ese(e)},Lse=Ise,Ase=zie;var Tse=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}},Dse=function(e,t,n,a){var r=n.length,i=r,s=!a;if(null==e)return!i;for(e=Object(e);r--;){var o=n[r];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++r<i;){var l=(o=n[r])[0],c=e[l],d=o[1];if(s&&o[2]){if(void 0===c&&!(l in e))return!1}else{var u=new Mse;if(a)var f=a(c,d,l,e,t,u);if(!(void 0===f?_se(d,c,3,a,u):f))return!1}}return!0},Pse=function(e){for(var t=Ase(e),n=t.length;n--;){var a=t[n],r=e[a];t[n]=[a,r,Lse(r)]}return t},Ose=Tse;var Rse=wee,zse=Xre,Fse=o8,Bse=aie,Use=rie,Wse=Nee;var Gse=function(e,t){return null!=e&&t in Object(e)},Vse=function(e,t,n){for(var a=-1,r=(t=Rse(t,e)).length,i=!1;++a<r;){var s=Wse(t[a]);if(!(i=null!=e&&n(e,s)))break;e=e[s]}return i||++a!=r?i:!!(r=null==e?0:e.length)&&Use(r)&&Bse(s,r)&&(Fse(e)||zse(e))};var $se=kse,Hse=_ee,Yse=function(e,t){return null!=e&&Vse(e,t,Gse)},qse=A8,Qse=Ise,Zse=Tse,Jse=Nee;var Kse=function(e){return e};var Xse=kee;var eoe=function(e){return function(t){return null==t?void 0:t[e]}},toe=function(e){return function(t){return Xse(t,e)}},noe=A8,aoe=Nee;var roe=function(e){var t=Pse(e);return 1==t.length&&t[0][2]?Ose(t[0][0],t[0][1]):function(n){return n===e||Dse(n,e,t)}},ioe=function(e,t){return qse(e)&&Qse(t)?Zse(Jse(e),t):function(n){var a=Hse(n,e);return void 0===a&&a===t?Yse(n,e):$se(t,a,3)}},soe=Kse,ooe=o8,loe=function(e){return noe(e)?eoe(aoe(e)):toe(e)};var coe=function(e){return"function"==typeof e?e:null==e?soe:"object"==typeof e?ooe(e)?ioe(e[0],e[1]):roe(e):loe(e)};var doe=function(e,t,n,a){for(var r=e.length,i=n+(a?1:-1);a?i--:++i<r;)if(t(e[i],i,e))return i;return-1};var uoe=doe,foe=function(e){return e!=e},moe=function(e,t,n){for(var a=n-1,r=e.length;++a<r;)if(e[a]===t)return a;return-1};var poe=function(e,t,n){return t==t?moe(e,t,n):uoe(e,foe,n)};var hoe=function(e,t){return!!(null==e?0:e.length)&&poe(e,t,0)>-1};var goe=function(e,t,n){for(var a=-1,r=null==e?0:e.length;++a<r;)if(n(t,e[a]))return!0;return!1};var xoe=Yie,yoe=function(){},voe=xoe&&1/vre(new xoe([,-0]))[1]==1/0?function(e){return new xoe(e)}:yoe,boe=fre,woe=hoe,joe=goe,Noe=pre,Coe=voe,Soe=vre;var koe=coe,Moe=function(e,t,n){var a=-1,r=woe,i=e.length,s=!0,o=[],l=o;if(n)s=!1,r=joe;else if(i>=200){var c=t?null:Coe(e);if(c)return Soe(c);s=!1,r=Noe,l=new boe}else l=t?[]:o;e:for(;++a<i;){var d=e[a],u=t?t(d):d;if(d=n||0!==d?d:0,s&&u==u){for(var f=l.length;f--;)if(l[f]===u)continue e;t&&l.push(u),o.push(d)}else r(l,u,n)||(l!==o&&l.push(u),o.push(d))}return o};const _oe=Cr((function(e,t){return e&&e.length?Moe(e,koe(t)):[]}));function Eoe(e,t,n){return!0===t?_oe(e,n):z8(t)?_oe(e,t):e}function Ioe(e){return(Ioe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Loe=["ref"];function Aoe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Toe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Aoe(Object(n),!0).forEach((function(t){Foe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aoe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Doe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Boe(a.key),a)}}function Poe(e,t,n){return t=Roe(t),function(e,t){if(t&&("object"===Ioe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ooe()?Reflect.construct(t,n||[],Roe(e).constructor):t.apply(e,n))}function Ooe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ooe=function(){return!!e})()}function Roe(e){return(Roe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zoe(e,t){return(zoe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Foe(e,t,n){return(t=Boe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Boe(e){var t=function(e,t){if("object"!=Ioe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=Ioe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Ioe(t)?t:t+""}function Uoe(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Woe(e){return e.value}var Goe=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return Foe(t=Poe(this,e,[].concat(a)),"lastBoundingBox",{width:-1,height:-1}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zoe(e,t)}(e,ci.PureComponent),t=e,a=[{key:"getWithHeight",value:function(e,t){var n=Toe(Toe({},this.defaultProps),e.props).layout;return"vertical"===n&&lte(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],(n=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Toe({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,a=this.props,r=a.layout,i=a.align,s=a.verticalAlign,o=a.margin,l=a.chartWidth,c=a.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===i&&"vertical"===r?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===i?{right:o&&o.right||0}:{left:o&&o.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===s?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===s?{bottom:o&&o.bottom||0}:{top:o&&o.top||0}),Toe(Toe({},t),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,a=t.width,r=t.height,i=t.wrapperStyle,s=t.payloadUniqBy,o=t.payload,l=Toe(Toe({position:"absolute",width:a||"auto",height:r||"auto"},this.getDefaultPosition(i)),i);return di.createElement("div",{className:"recharts-legend-wrapper",style:l,ref:function(t){e.wrapperNode=t}},function(e,t){if(di.isValidElement(e))return di.cloneElement(e,t);if("function"==typeof e)return di.createElement(e,t);t.ref;var n=Uoe(t,Loe);return di.createElement(Qae,n)}(n,Toe(Toe({},this.props),{},{payload:Eoe(o,s,Woe)})))}}])&&Doe(t.prototype,n),a&&Doe(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}();Foe(Goe,"displayName","Legend"),Foe(Goe,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Voe=Xre,$oe=o8,Hoe=f8?f8.isConcatSpreadable:void 0;var Yoe=_re,qoe=function(e){return $oe(e)||Voe(e)||!!(Hoe&&e&&e[Hoe])};var Qoe=function e(t,n,a,r,i){var s=-1,o=t.length;for(a||(a=qoe),i||(i=[]);++s<o;){var l=t[s];n>0&&a(l)?n>1?e(l,n-1,a,r,i):Yoe(i,l):r||(i[i.length]=l)}return i};var Zoe=function(e){return function(t,n,a){for(var r=-1,i=Object(t),s=a(t),o=s.length;o--;){var l=s[e?o:++r];if(!1===n(i[l],l,i))break}return t}}(),Joe=zie;var Koe=function(e,t){return e&&Zoe(e,t,Joe)},Xoe=Die;var ele=function(e,t){return function(n,a){if(null==n)return n;if(!Xoe(n))return e(n,a);for(var r=n.length,i=t?r:-1,s=Object(n);(t?i--:++i<r)&&!1!==a(s[i],i,s););return n}}(Koe),tle=ele,nle=Die;var ale=function(e,t){var n=-1,a=nle(e)?Array(e.length):[];return tle(e,(function(e,r,i){a[++n]=t(e,r,i)})),a};var rle=M8;var ile=function(e,t){if(e!==t){var n=void 0!==e,a=null===e,r=e==e,i=rle(e),s=void 0!==t,o=null===t,l=t==t,c=rle(t);if(!o&&!c&&!i&&e>t||i&&s&&l&&!o&&!c||a&&s&&l||!n&&l||!r)return 1;if(!a&&!i&&!c&&e<t||c&&n&&r&&!a&&!i||o&&n&&r||!s&&r||!l)return-1}return 0};var sle=lee,ole=kee,lle=coe,cle=ale,dle=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e},ule=die,fle=function(e,t,n){for(var a=-1,r=e.criteria,i=t.criteria,s=r.length,o=n.length;++a<s;){var l=ile(r[a],i[a]);if(l)return a>=o?l:l*("desc"==n[a]?-1:1)}return e.index-t.index},mle=Kse,ple=o8;var hle=function(e,t,n){t=t.length?sle(t,(function(e){return ple(e)?function(t){return ole(t,1===e.length?e[0]:e)}:e})):[mle];var a=-1;t=sle(t,ule(lle));var r=cle(e,(function(e,n,r){return{criteria:sle(t,(function(t){return t(e)})),index:++a,value:e}}));return dle(r,(function(e,t){return fle(e,t,n)}))};var gle=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},xle=gle,yle=Math.max;var vle=function(e,t,n){return t=yle(void 0===t?e.length-1:t,0),function(){for(var a=arguments,r=-1,i=yle(a.length-t,0),s=Array(i);++r<i;)s[r]=a[t+r];r=-1;for(var o=Array(t+1);++r<t;)o[r]=a[r];return o[t]=n(s),xle(e,this,o)}};var ble=function(e){return function(){return e}},wle=a7,jle=function(){try{var e=wle(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),Nle=ble,Cle=jle,Sle=Cle?function(e,t){return Cle(e,"toString",{configurable:!0,enumerable:!1,value:Nle(t),writable:!0})}:Kse,kle=Date.now;var Mle=function(e){var t=0,n=0;return function(){var a=kle(),r=16-(a-n);if(n=a,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Sle),_le=Kse,Ele=vle,Ile=Mle;var Lle=j7,Ale=Die,Tle=aie,Dle=T8;var Ple=function(e,t,n){if(!Dle(n))return!1;var a=typeof t;return!!("number"==a?Ale(n)&&Tle(t,n.length):"string"==a&&t in n)&&Lle(n[t],e)},Ole=Qoe,Rle=hle,zle=Ple;const Fle=Cr(function(e,t){return Ile(Ele(e,t,_le),e+"")}((function(e,t){if(null==e)return[];var n=t.length;return n>1&&zle(e,t[0],t[1])?t=[]:n>2&&zle(t[0],t[1],t[2])&&(t=[t[0]]),Rle(e,Ole(t,1),[])})));function Ble(e){return(Ble="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ule(){return Ule=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ule.apply(this,arguments)}function Wle(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(d){c=!0,r=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Gle(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gle(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gle(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Vle(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function $le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vle(Object(n),!0).forEach((function(t){Hle(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vle(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hle(e,t,n){var a;return a=function(e,t){if("object"!=Ble(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=Ble(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ble(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yle(e){return Array.isArray(e)&&cte(e[0])&&cte(e[1])?e.join(" ~ "):e}var qle=function(e){var t=e.separator,n=void 0===t?" : ":t,a=e.contentStyle,r=void 0===a?{}:a,i=e.itemStyle,s=void 0===i?{}:i,o=e.labelStyle,l=void 0===o?{}:o,c=e.payload,d=e.formatter,u=e.itemSorter,f=e.wrapperClassName,m=e.labelClassName,p=e.label,h=e.labelFormatter,g=e.accessibilityLayer,x=void 0!==g&&g,y=$le({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),v=$le({margin:0},l),b=!Iee(p),w=b?p:"",j=ub("recharts-default-tooltip",f),N=ub("recharts-tooltip-label",m);b&&h&&null!=c&&(w=h(p,c));var C=x?{role:"status","aria-live":"assertive"}:{};return di.createElement("div",Ule({className:j,style:y},C),di.createElement("p",{className:N,style:v},di.isValidElement(w)?w:"".concat(w)),function(){if(c&&c.length){var e=(u?Fle(c,u):c).map((function(e,t){if("none"===e.type)return null;var a=$le({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},s),r=e.formatter||d||Yle,i=e.value,o=e.name,l=i,u=o;if(r&&null!=l&&null!=u){var f=r(i,o,e,t,c);if(Array.isArray(f)){var m=Wle(f,2);l=m[0],u=m[1]}else l=f}return di.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:a},cte(u)?di.createElement("span",{className:"recharts-tooltip-item-name"},u):null,cte(u)?di.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,di.createElement("span",{className:"recharts-tooltip-item-value"},l),di.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))}));return di.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function Qle(e){return(Qle="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zle(e,t,n){var a;return a=function(e,t){if("object"!=Qle(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=Qle(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Qle(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jle="recharts-tooltip-wrapper",Kle={visibility:"hidden"};function Xle(e){var t=e.coordinate,n=e.translateX,a=e.translateY;return ub(Jle,Zle(Zle(Zle(Zle({},"".concat(Jle,"-right"),lte(n)&&t&&lte(t.x)&&n>=t.x),"".concat(Jle,"-left"),lte(n)&&t&&lte(t.x)&&n<t.x),"".concat(Jle,"-bottom"),lte(a)&&t&&lte(t.y)&&a>=t.y),"".concat(Jle,"-top"),lte(a)&&t&&lte(t.y)&&a<t.y))}function ece(e){var t=e.allowEscapeViewBox,n=e.coordinate,a=e.key,r=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&lte(i[a]))return i[a];var d=n[a]-o-r,u=n[a]+r;return t[a]?s[a]?d:u:s[a]?d<l[a]?Math.max(u,l[a]):Math.max(d,l[a]):u+o>l[a]+c?Math.max(d,l[a]):Math.max(u,l[a])}function tce(e){return(tce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ace(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nce(Object(n),!0).forEach((function(t){cce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rce(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,dce(a.key),a)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ice(e,t,n){return t=oce(t),function(e,t){if(t&&("object"===tce(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,sce()?Reflect.construct(t,n||[],oce(e).constructor):t.apply(e,n))}function sce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(sce=function(){return!!e})()}function oce(e){return(oce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lce(e,t){return(lce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function cce(e,t,n){return(t=dce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dce(e){var t=function(e,t){if("object"!=tce(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=tce(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==tce(t)?t:t+""}var uce=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return cce(t=ice(this,e,[].concat(a)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),cce(t,"handleKeyDown",(function(e){var n,a,r,i;"Escape"===e.key&&t.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(a=t.props.coordinate)||void 0===a?void 0:a.x)&&void 0!==n?n:0,y:null!==(r=null===(i=t.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==r?r:0}})})),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lce(e,t)}(e,ci.PureComponent),rce(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.active,a=t.allowEscapeViewBox,r=t.animationDuration,i=t.animationEasing,s=t.children,o=t.coordinate,l=t.hasPayload,c=t.isAnimationActive,d=t.offset,u=t.position,f=t.reverseDirection,m=t.useTranslate3d,p=t.viewBox,h=t.wrapperStyle,g=function(e){var t,n,a=e.allowEscapeViewBox,r=e.coordinate,i=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,d=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&r?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=ece({allowEscapeViewBox:a,coordinate:r,key:"x",offsetTopLeft:i,position:s,reverseDirection:o,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),translateY:n=ece({allowEscapeViewBox:a,coordinate:r,key:"y",offsetTopLeft:i,position:s,reverseDirection:o,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:c}):Kle,cssClasses:Xle({translateX:t,translateY:n,coordinate:r})}}({allowEscapeViewBox:a,coordinate:o,offsetTopLeft:d,position:u,reverseDirection:f,tooltipBox:this.state.lastBoundingBox,useTranslate3d:m,viewBox:p}),x=g.cssClasses,y=g.cssProperties,v=ace(ace({transition:c&&n?"transform ".concat(r,"ms ").concat(i):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&l?"visible":"hidden",position:"absolute",top:0,left:0},h);return di.createElement("div",{tabIndex:-1,className:x,style:v,ref:function(t){e.wrapperNode=t}},s)}}])}(),fce={isSsr:!("undefined"!=typeof window&&window.document&&window.document.createElement&&window.setTimeout)};function mce(e){return(mce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function hce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pce(Object(n),!0).forEach((function(t){wce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gce(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,jce(a.key),a)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xce(e,t,n){return t=vce(t),function(e,t){if(t&&("object"===mce(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,yce()?Reflect.construct(t,n||[],vce(e).constructor):t.apply(e,n))}function yce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(yce=function(){return!!e})()}function vce(e){return(vce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bce(e,t){return(bce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function wce(e,t,n){return(t=jce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jce(e){var t=function(e,t){if("object"!=mce(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=mce(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==mce(t)?t:t+""}function Nce(e){return e.dataKey}var Cce=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),xce(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bce(e,t)}(e,ci.PureComponent),gce(e,[{key:"render",value:function(){var e=this,t=this.props,n=t.active,a=t.allowEscapeViewBox,r=t.animationDuration,i=t.animationEasing,s=t.content,o=t.coordinate,l=t.filterNull,c=t.isAnimationActive,d=t.offset,u=t.payload,f=t.payloadUniqBy,m=t.position,p=t.reverseDirection,h=t.useTranslate3d,g=t.viewBox,x=t.wrapperStyle,y=null!=u?u:[];l&&y.length&&(y=Eoe(u.filter((function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)})),f,Nce));var v=y.length>0;return di.createElement(uce,{allowEscapeViewBox:a,animationDuration:r,animationEasing:i,isAnimationActive:c,active:n,coordinate:o,hasPayload:v,offset:d,position:m,reverseDirection:p,useTranslate3d:h,viewBox:g,wrapperStyle:x},function(e,t){return di.isValidElement(e)?di.cloneElement(e,t):"function"==typeof e?di.createElement(e,t):di.createElement(qle,t)}(s,hce(hce({},this.props),{},{payload:y})))}}])}();wce(Cce,"displayName","Tooltip"),wce(Cce,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!fce.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Sce=u8,kce=/\s/;var Mce=function(e){for(var t=e.length;t--&&kce.test(e.charAt(t)););return t},_ce=/^\s+/;var Ece=function(e){return e?e.slice(0,Mce(e)+1).replace(_ce,""):e},Ice=T8,Lce=M8,Ace=/^[-+]0x[0-9a-f]+$/i,Tce=/^0b[01]+$/i,Dce=/^0o[0-7]+$/i,Pce=parseInt;var Oce=function(e){if("number"==typeof e)return e;if(Lce(e))return NaN;if(Ice(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ice(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Ece(e);var n=Tce.test(e);return n||Dce.test(e)?Pce(e.slice(2),n?2:8):Ace.test(e)?NaN:+e},Rce=T8,zce=function(){return Sce.Date.now()},Fce=Oce,Bce=Math.max,Uce=Math.min;var Wce=function(e,t,n){var a,r,i,s,o,l,c=0,d=!1,u=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var n=a,i=r;return a=r=void 0,c=t,s=e.apply(i,n)}function p(e){var n=e-l;return void 0===l||n>=t||n<0||u&&e-c>=i}function h(){var e=zce();if(p(e))return g(e);o=setTimeout(h,function(e){var n=t-(e-l);return u?Uce(n,i-(e-c)):n}(e))}function g(e){return o=void 0,f&&a?m(e):(a=r=void 0,s)}function x(){var e=zce(),n=p(e);if(a=arguments,r=this,l=e,n){if(void 0===o)return function(e){return c=e,o=setTimeout(h,t),d?m(e):s}(l);if(u)return clearTimeout(o),o=setTimeout(h,t),m(l)}return void 0===o&&(o=setTimeout(h,t)),s}return t=Fce(t)||0,Rce(n)&&(d=!!n.leading,i=(u="maxWait"in n)?Bce(Fce(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f),x.cancel=function(){void 0!==o&&clearTimeout(o),c=0,a=l=r=o=void 0},x.flush=function(){return void 0===o?s:g(zce())},x},Gce=Wce,Vce=T8;var $ce=function(e,t,n){var a=!0,r=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Vce(n)&&(a="leading"in n?!!n.leading:a,r="trailing"in n?!!n.trailing:r),Gce(e,t,{leading:a,maxWait:t,trailing:r})};const Hce=Cr($ce);function Yce(e){return(Yce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Qce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qce(Object(n),!0).forEach((function(t){Zce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zce(e,t,n){var a;return a=function(e,t){if("object"!=Yce(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=Yce(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Yce(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(d){c=!0,r=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Kce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kce(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Xce=ci.forwardRef((function(e,t){var n=e.aspect,a=e.initialDimension,r=void 0===a?{width:-1,height:-1}:a,i=e.width,s=void 0===i?"100%":i,o=e.height,l=void 0===o?"100%":o,c=e.minWidth,d=void 0===c?0:c,u=e.minHeight,f=e.maxHeight,m=e.children,p=e.debounce,h=void 0===p?0:p,g=e.id,x=e.className,y=e.onResize,v=e.style,b=void 0===v?{}:v,w=ci.useRef(null),j=ci.useRef();j.current=y,ci.useImperativeHandle(t,(function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})}));var N=Jce(ci.useState({containerWidth:r.width,containerHeight:r.height}),2),C=N[0],S=N[1],k=ci.useCallback((function(e,t){S((function(n){var a=Math.round(e),r=Math.round(t);return n.containerWidth===a&&n.containerHeight===r?n:{containerWidth:a,containerHeight:r}}))}),[]);ci.useEffect((function(){var e=function(e){var t,n=e[0].contentRect,a=n.width,r=n.height;k(a,r),null===(t=j.current)||void 0===t||t.call(j,a,r)};h>0&&(e=Hce(e,h,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=w.current.getBoundingClientRect(),a=n.width,r=n.height;return k(a,r),t.observe(w.current),function(){t.disconnect()}}),[k,h]);var M=ci.useMemo((function(){var e=C.containerWidth,t=C.containerHeight;if(e<0||t<0)return null;Kte(ote(s)||ote(l),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,l),Kte(!n||n>0,"The aspect(%s) must be greater than zero.",n);var a=ote(s)?e:s,r=ote(l)?t:l;n&&n>0&&(a?r=a/n:r&&(a=r*n),f&&r>f&&(r=f)),Kte(a>0||r>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",a,r,s,l,d,u,n);var i=!Array.isArray(m)&&Lte(m.type).endsWith("Chart");return di.Children.map(m,(function(e){return di.isValidElement(e)?ci.cloneElement(e,Qce({width:a,height:r},i?{style:Qce({height:"100%",width:"100%",maxHeight:r,maxWidth:a},e.props.style)}:{})):e}))}),[n,m,l,f,u,d,C,s]);return di.createElement("div",{id:g?"".concat(g):void 0,className:ub("recharts-responsive-container",x),style:Qce(Qce({},b),{},{width:s,height:l,minWidth:d,minHeight:u,maxHeight:f}),ref:w},M)})),ede=function(e){return null};function tde(e){return(tde="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nde(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ade(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nde(Object(n),!0).forEach((function(t){rde(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nde(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rde(e,t,n){var a;return a=function(e,t){if("object"!=tde(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=tde(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==tde(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ede.displayName="Cell";var ide={widthCache:{},cacheCount:0},sde={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ode="recharts_measurement_span";var lde=function(e){if(null==e||fce.isSsr)return{width:0,height:0};var t,n=(t=ade({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),Object.keys(t).forEach((function(e){t[e]||delete t[e]})),t),a=JSON.stringify({text:e,copyStyle:n});if(ide.widthCache[a])return ide.widthCache[a];try{var r=document.getElementById(ode);r||((r=document.createElement("span")).setAttribute("id",ode),r.setAttribute("aria-hidden","true"),document.body.appendChild(r));var i=ade(ade({},sde),n);Object.assign(r.style,i),r.textContent="".concat(e);var s=r.getBoundingClientRect(),o={width:s.width,height:s.height};return ide.widthCache[a]=o,++ide.cacheCount>2e3&&(ide.cacheCount=0,ide.widthCache={}),o}catch(l){return{width:0,height:0}}};function cde(e){return(cde="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dde(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(d){c=!0,r=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ude(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ude(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ude(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function fde(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,mde(a.key),a)}}function mde(e){var t=function(e,t){if("object"!=cde(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=cde(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==cde(t)?t:t+""}var pde=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hde=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gde=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,xde=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,yde={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},vde=Object.keys(yde),bde="NaN";var wde=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||gde.test(n)||(this.num=NaN,this.unit=""),vde.includes(n)&&(this.num=function(e,t){return e*yde[t]}(t,n),this.unit="px")}return t=e,a=[{key:"parse",value:function(t){var n,a=dde(null!==(n=xde.exec(t))&&void 0!==n?n:[],3),r=a[1],i=a[2];return new e(parseFloat(r),null!=i?i:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&fde(t.prototype,n),a&&fde(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}();function jde(e){if(e.includes(bde))return bde;for(var t=e;t.includes("*")||t.includes("/");){var n,a=dde(null!==(n=pde.exec(t))&&void 0!==n?n:[],4),r=a[1],i=a[2],s=a[3],o=wde.parse(null!=r?r:""),l=wde.parse(null!=s?s:""),c="*"===i?o.multiply(l):o.divide(l);if(c.isNaN())return bde;t=t.replace(pde,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,u=dde(null!==(d=hde.exec(t))&&void 0!==d?d:[],4),f=u[1],m=u[2],p=u[3],h=wde.parse(null!=f?f:""),g=wde.parse(null!=p?p:""),x="+"===m?h.add(g):h.subtract(g);if(x.isNaN())return bde;t=t.replace(hde,x.toString())}return t}var Nde=/\(([^()]*)\)/;function Cde(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=dde(Nde.exec(t),2)[1];t=t.replace(Nde,jde(n))}return t}(t),t=jde(t)}function Sde(e){var t=function(e){try{return Cde(e)}catch(t){return bde}}(e.slice(5,-1));return t===bde?"":t}var kde=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Mde=["dx","dy","angle","className","breakAll"];function _de(){return _de=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_de.apply(this,arguments)}function Ede(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ide(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(d){c=!0,r=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Lde(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lde(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lde(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Ade=/[ \f\n\r\t\v\u2028\u2029]+/,Tde=function(e){var t=e.children,n=e.breakAll,a=e.style;try{var r=[];return Iee(t)||(r=n?t.toString().split(""):t.toString().split(Ade)),{wordsWithComputedWidth:r.map((function(e){return{word:e,width:lde(e,a).width}})),spaceWidth:n?0:lde(" ",a).width}}catch(i){return null}},Dde=function(e){return[{words:Iee(e)?[]:e.toString().split(Ade)}]},Pde=function(e){var t=e.width,n=e.scaleToFit,a=e.children,r=e.style,i=e.breakAll,s=e.maxLines;if((t||n)&&!fce.isSsr){var o=Tde({breakAll:i,children:a,style:r});return o?function(e,t,n,a,r){var i=e.maxLines,s=e.children,o=e.style,l=e.breakAll,c=lte(i),d=s,u=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var i=t.word,s=t.width,o=e[e.length-1];if(o&&(null==a||r||o.width+s+n<Number(a)))o.words.push(i),o.width+=s+n;else{var l={words:[i],width:s};e.push(l)}return e}),[])},f=u(t);if(!c)return f;for(var m,p=function(e){var t=d.slice(0,e),n=Tde({breakAll:l,style:o,children:t+"…"}).wordsWithComputedWidth,r=u(n),s=r.length>i||function(e){return e.reduce((function(e,t){return e.width>t.width?e:t}))}(r).width>Number(a);return[s,r]},h=0,g=d.length-1,x=0;h<=g&&x<=d.length-1;){var y=Math.floor((h+g)/2),v=Ide(p(y-1),2),b=v[0],w=v[1],j=Ide(p(y),1)[0];if(b||j||(h=y+1),b&&j&&(g=y-1),!b&&j){m=w;break}x++}return m||f}({breakAll:i,children:a,maxLines:s,style:r},o.wordsWithComputedWidth,o.spaceWidth,t,n):Dde(a)}return Dde(a)},Ode="#808080",Rde=function(e){var t=e.x,n=void 0===t?0:t,a=e.y,r=void 0===a?0:a,i=e.lineHeight,s=void 0===i?"1em":i,o=e.capHeight,l=void 0===o?"0.71em":o,c=e.scaleToFit,d=void 0!==c&&c,u=e.textAnchor,f=void 0===u?"start":u,m=e.verticalAnchor,p=void 0===m?"end":m,h=e.fill,g=void 0===h?Ode:h,x=Ede(e,kde),y=ci.useMemo((function(){return Pde({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:d,style:x.style,width:x.width})}),[x.breakAll,x.children,x.maxLines,d,x.style,x.width]),v=x.dx,b=x.dy,w=x.angle,j=x.className,N=x.breakAll,C=Ede(x,Mde);if(!cte(n)||!cte(r))return null;var S,k=n+(lte(v)?v:0),M=r+(lte(b)?b:0);switch(p){case"start":S=Sde("calc(".concat(l,")"));break;case"middle":S=Sde("calc(".concat((y.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:S=Sde("calc(".concat(y.length-1," * -").concat(s,")"))}var _=[];if(d){var E=y[0].width,I=x.width;_.push("scale(".concat((lte(I)?I/E:1)/E,")"))}return w&&_.push("rotate(".concat(w,", ").concat(k,", ").concat(M,")")),_.length&&(C.transform=_.join(" ")),di.createElement("text",_de({},Bte(C,!0),{x:k,y:M,className:ub("recharts-text",j),textAnchor:f,fill:g.includes("url")?Ode:g}),y.map((function(e,t){var n=e.words.join(N?"":" ");return di.createElement("tspan",{x:k,dy:0===t?S:s,key:"".concat(n,"-").concat(t)},n)})))};function zde(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Fde(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Bde(e){let t,n,a;function r(e,a,r=0,i=e.length){if(r<i){if(0!==t(a,a))return i;do{const t=r+i>>>1;n(e[t],a)<0?r=t+1:i=t}while(r<i)}return r}return 2!==e.length?(t=zde,n=(t,n)=>zde(e(t),n),a=(t,n)=>e(t)-n):(t=e===zde||e===Fde?e:Ude,n=e,a=e),{left:r,center:function(e,t,n=0,i=e.length){const s=r(e,t,n,i-1);return s>n&&a(e[s-1],t)>-a(e[s],t)?s-1:s},right:function(e,a,r=0,i=e.length){if(r<i){if(0!==t(a,a))return i;do{const t=r+i>>>1;n(e[t],a)<=0?r=t+1:i=t}while(r<i)}return r}}}function Ude(){return 0}function Wde(e){return null===e?NaN:+e}const Gde=Bde(zde).right;Bde(Wde).center;class Vde extends Map{constructor(e,t=Hde){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,a]of e)this.set(n,a)}get(e){return super.get($de(this,e))}has(e){return super.has($de(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},n){const a=t(n);return e.has(a)?e.get(a):(e.set(a,n),n)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},n){const a=t(n);e.has(a)&&(n=e.get(a),e.delete(a));return n}(this,e))}}function $de({_intern:e,_key:t},n){const a=t(n);return e.has(a)?e.get(a):n}function Hde(e){return null!==e&&"object"==typeof e?e.valueOf():e}function Yde(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}const qde=Math.sqrt(50),Qde=Math.sqrt(10),Zde=Math.sqrt(2);function Jde(e,t,n){const a=(t-e)/Math.max(0,n),r=Math.floor(Math.log10(a)),i=a/Math.pow(10,r),s=i>=qde?10:i>=Qde?5:i>=Zde?2:1;let o,l,c;return r<0?(c=Math.pow(10,-r)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,r)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=n&&n<2?Jde(e,t,2*n):[o,l,c]}function Kde(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const a=t<e,[r,i,s]=a?Jde(t,e,n):Jde(e,t,n);if(!(i>=r))return[];const o=i-r+1,l=new Array(o);if(a)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(r+c)/-s;else for(let c=0;c<o;++c)l[c]=(r+c)*s;return l}function Xde(e,t,n){return Jde(e=+e,t=+t,n=+n)[2]}function eue(e,t,n){n=+n;const a=(t=+t)<(e=+e),r=a?Xde(t,e,n):Xde(e,t,n);return(a?-1:1)*(r<0?1/-r:r)}function tue(e,t){let n;for(const a of e)null!=a&&(n<a||void 0===n&&a>=a)&&(n=a);return n}function nue(e,t){let n;for(const a of e)null!=a&&(n>a||void 0===n&&a>=a)&&(n=a);return n}function aue(e,t,n=0,a=1/0,r){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),a=Math.floor(Math.min(e.length-1,a)),!(n<=t&&t<=a))return e;for(r=void 0===r?Yde:function(e=zde){if(e===zde)return Yde;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const a=e(t,n);return a||0===a?a:(0===e(n,n))-(0===e(t,t))}}(r);a>n;){if(a-n>600){const i=a-n+1,s=t-n+1,o=Math.log(i),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(i-l)/i)*(s-i/2<0?-1:1);aue(e,t,Math.max(n,Math.floor(t-s*l/i+c)),Math.min(a,Math.floor(t+(i-s)*l/i+c)),r)}const i=e[t];let s=n,o=a;for(rue(e,n,t),r(e[a],i)>0&&rue(e,n,a);s<o;){for(rue(e,s,o),++s,--o;r(e[s],i)<0;)++s;for(;r(e[o],i)>0;)--o}0===r(e[n],i)?rue(e,n,o):(++o,rue(e,o,a)),o<=t&&(n=o+1),t<=o&&(a=o-1)}return e}function rue(e,t,n){const a=e[t];e[t]=e[n],e[n]=a}function iue(e,t,n=Wde){if((a=e.length)&&!isNaN(t=+t)){if(t<=0||a<2)return+n(e[0],0,e);if(t>=1)return+n(e[a-1],a-1,e);var a,r=(a-1)*t,i=Math.floor(r),s=+n(e[i],i,e);return s+(+n(e[i+1],i+1,e)-s)*(r-i)}}function sue(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function oue(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const lue=Symbol("implicit");function cue(){var e=new Vde,t=[],n=[],a=lue;function r(r){let i=e.get(r);if(void 0===i){if(a!==lue)return a;e.set(r,i=t.push(r)-1)}return n[i%n.length]}return r.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Vde;for(const a of n)e.has(a)||e.set(a,t.push(a)-1);return r},r.range=function(e){return arguments.length?(n=Array.from(e),r):n.slice()},r.unknown=function(e){return arguments.length?(a=e,r):a},r.copy=function(){return cue(t,n).unknown(a)},sue.apply(r,arguments),r}function due(){var e,t,n=cue().unknown(void 0),a=n.domain,r=n.range,i=0,s=1,o=!1,l=0,c=0,d=.5;function u(){var n=a().length,u=s<i,f=u?s:i,m=u?i:s;e=(m-f)/Math.max(1,n-l+2*c),o&&(e=Math.floor(e)),f+=(m-f-e*(n-l))*d,t=e*(1-l),o&&(f=Math.round(f),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var a=-1,r=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(r);++a<r;)i[a]=e+a*n;return i}(n).map((function(t){return f+e*t}));return r(u?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(a(e),u()):a()},n.range=function(e){return arguments.length?([i,s]=e,i=+i,s=+s,u()):[i,s]},n.rangeRound=function(e){return[i,s]=e,i=+i,s=+s,o=!0,u()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(o=!!e,u()):o},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),u()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),u()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,u()):c},n.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),u()):d},n.copy=function(){return due(a(),[i,s]).round(o).paddingInner(l).paddingOuter(c).align(d)},sue.apply(u(),arguments)}function uue(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return uue(t())},e}function fue(){return uue(due.apply(null,arguments).paddingInner(1))}function mue(e){return+e}var pue=[0,1];function hue(e){return e}function gue(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function xue(e,t,n){var a=e[0],r=e[1],i=t[0],s=t[1];return r<a?(a=gue(r,a),i=n(s,i)):(a=gue(a,r),i=n(i,s)),function(e){return i(a(e))}}function yue(e,t,n){var a=Math.min(e.length,t.length)-1,r=new Array(a),i=new Array(a),s=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<a;)r[s]=gue(e[s],e[s+1]),i[s]=n(t[s],t[s+1]);return function(t){var n=Gde(e,t,1,a)-1;return i[n](r[n](t))}}function vue(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function bue(){var e,t,n,a,r,i,s=pue,o=pue,l=lJ,c=hue;function d(){var e=Math.min(s.length,o.length);return c!==hue&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(s[0],s[e-1])),a=e>2?yue:xue,r=i=null,u}function u(t){return null==t||isNaN(t=+t)?n:(r||(r=a(s.map(e),o,l)))(e(c(t)))}return u.invert=function(n){return c(t((i||(i=a(o,s.map(e),aJ)))(n)))},u.domain=function(e){return arguments.length?(s=Array.from(e,mue),d()):s.slice()},u.range=function(e){return arguments.length?(o=Array.from(e),d()):o.slice()},u.rangeRound=function(e){return o=Array.from(e),l=cJ,d()},u.clamp=function(e){return arguments.length?(c=!!e||hue,d()):c!==hue},u.interpolate=function(e){return arguments.length?(l=e,d()):l},u.unknown=function(e){return arguments.length?(n=e,u):n},function(n,a){return e=n,t=a,d()}}function wue(){return bue()(hue,hue)}function jue(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,a=e.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+e.slice(n+1)]}function Nue(e){return(e=jue(Math.abs(e)))?e[1]:NaN}var Cue,Sue=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function kue(e){if(!(t=Sue.exec(e)))throw new Error("invalid format: "+e);var t;return new Mue({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Mue(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function _ue(e,t){var n=jue(e,t);if(!n)return e+"";var a=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+a:a.length>r+1?a.slice(0,r+1)+"."+a.slice(r+1):a+new Array(r-a.length+2).join("0")}kue.prototype=Mue.prototype,Mue.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Eue={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>_ue(100*e,t),r:_ue,s:function(e,t){var n=jue(e,t);if(!n)return e+"";var a=n[0],r=n[1],i=r-(Cue=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,s=a.length;return i===s?a:i>s?a+new Array(i-s+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+jue(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Iue(e){return e}var Lue,Aue,Tue,Due=Array.prototype.map,Pue=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Oue(e){var t,n,a=void 0===e.grouping||void 0===e.thousands?Iue:(t=Due.call(e.grouping,Number),n=e.thousands+"",function(e,a){for(var r=e.length,i=[],s=0,o=t[0],l=0;r>0&&o>0&&(l+o+1>a&&(o=Math.max(1,a-l)),i.push(e.substring(r-=o,r+o)),!((l+=o+1)>a));)o=t[s=(s+1)%t.length];return i.reverse().join(n)}),r=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?Iue:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(Due.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"−":e.minus+"",d=void 0===e.nan?"NaN":e.nan+"";function u(e){var t=(e=kue(e)).fill,n=e.align,u=e.sign,f=e.symbol,m=e.zero,p=e.width,h=e.comma,g=e.precision,x=e.trim,y=e.type;"n"===y?(h=!0,y="g"):Eue[y]||(void 0===g&&(g=12),x=!0,y="g"),(m||"0"===t&&"="===n)&&(m=!0,t="0",n="=");var v="$"===f?r:"#"===f&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===f?i:/[%p]/.test(y)?l:"",w=Eue[y],j=/[defgprs%]/.test(y);function N(e){var r,i,l,f=v,N=b;if("c"===y)N=w(e)+N,e="";else{var C=(e=+e)<0||1/e<0;if(e=isNaN(e)?d:w(Math.abs(e),g),x&&(e=function(e){e:for(var t,n=e.length,a=1,r=-1;a<n;++a)switch(e[a]){case".":r=t=a;break;case"0":0===r&&(r=a),t=a;break;default:if(!+e[a])break e;r>0&&(r=0)}return r>0?e.slice(0,r)+e.slice(t+1):e}(e)),C&&0===+e&&"+"!==u&&(C=!1),f=(C?"("===u?u:c:"-"===u||"("===u?"":u)+f,N=("s"===y?Pue[8+Cue/3]:"")+N+(C&&"("===u?")":""),j)for(r=-1,i=e.length;++r<i;)if(48>(l=e.charCodeAt(r))||l>57){N=(46===l?s+e.slice(r+1):e.slice(r))+N,e=e.slice(0,r);break}}h&&!m&&(e=a(e,1/0));var S=f.length+e.length+N.length,k=S<p?new Array(p-S+1).join(t):"";switch(h&&m&&(e=a(k+e,k.length?p-N.length:1/0),k=""),n){case"<":e=f+e+N+k;break;case"=":e=f+k+e+N;break;case"^":e=k.slice(0,S=k.length>>1)+f+e+N+k.slice(S);break;default:e=k+f+e+N}return o(e)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),N.toString=function(){return e+""},N}return{format:u,formatPrefix:function(e,t){var n=u(((e=kue(e)).type="f",e)),a=3*Math.max(-8,Math.min(8,Math.floor(Nue(t)/3))),r=Math.pow(10,-a),i=Pue[8+a/3];return function(e){return n(r*e)+i}}}}function Rue(e,t,n,a){var r,i=eue(e,t,n);switch((a=kue(null==a?",f":a)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=a.precision||isNaN(r=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Nue(t)/3)))-Nue(Math.abs(e)))}(i,s))||(a.precision=r),Tue(a,s);case"":case"e":case"g":case"p":case"r":null!=a.precision||isNaN(r=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Nue(t)-Nue(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(a.precision=r-("e"===a.type));break;case"f":case"%":null!=a.precision||isNaN(r=function(e){return Math.max(0,-Nue(Math.abs(e)))}(i))||(a.precision=r-2*("%"===a.type))}return Aue(a)}function zue(e){var t=e.domain;return e.ticks=function(e){var n=t();return Kde(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var a=t();return Rue(a[0],a[a.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var a,r,i=t(),s=0,o=i.length-1,l=i[s],c=i[o],d=10;for(c<l&&(r=l,l=c,c=r,r=s,s=o,o=r);d-- >0;){if((r=Xde(l,c,n))===a)return i[s]=l,i[o]=c,t(i);if(r>0)l=Math.floor(l/r)*r,c=Math.ceil(c/r)*r;else{if(!(r<0))break;l=Math.ceil(l*r)/r,c=Math.floor(c*r)/r}a=r}return e},e}function Fue(){var e=wue();return e.copy=function(){return vue(e,Fue())},sue.apply(e,arguments),zue(e)}function Bue(e,t){var n,a=0,r=(e=e.slice()).length-1,i=e[a],s=e[r];return s<i&&(n=a,a=r,r=n,n=i,i=s,s=n),e[a]=t.floor(i),e[r]=t.ceil(s),e}function Uue(e){return Math.log(e)}function Wue(e){return Math.exp(e)}function Gue(e){return-Math.log(-e)}function Vue(e){return-Math.exp(-e)}function $ue(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Hue(e){return(t,n)=>-e(-t,n)}function Yue(e){const t=e(Uue,Wue),n=t.domain;let a,r,i=10;function s(){return a=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(i),r=function(e){return 10===e?$ue:e===Math.E?Math.exp:t=>Math.pow(e,t)}(i),n()[0]<0?(a=Hue(a),r=Hue(r),e(Gue,Vue)):e(Uue,Wue),t}return t.base=function(e){return arguments.length?(i=+e,s()):i},t.domain=function(e){return arguments.length?(n(e),s()):n()},t.ticks=e=>{const t=n();let s=t[0],o=t[t.length-1];const l=o<s;l&&([s,o]=[o,s]);let c,d,u=a(s),f=a(o);const m=null==e?10:+e;let p=[];if(!(i%1)&&f-u<m){if(u=Math.floor(u),f=Math.ceil(f),s>0){for(;u<=f;++u)for(c=1;c<i;++c)if(d=u<0?c/r(-u):c*r(u),!(d<s)){if(d>o)break;p.push(d)}}else for(;u<=f;++u)for(c=i-1;c>=1;--c)if(d=u>0?c/r(-u):c*r(u),!(d<s)){if(d>o)break;p.push(d)}2*p.length<m&&(p=Kde(s,o,m))}else p=Kde(u,f,Math.min(f-u,m)).map(r);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===i?"s":","),"function"!=typeof n&&(i%1||null!=(n=kue(n)).precision||(n.trim=!0),n=Aue(n)),e===1/0)return n;const s=Math.max(1,i*e/t.ticks().length);return e=>{let t=e/r(Math.round(a(e)));return t*i<i-.5&&(t*=i),t<=s?n(e):""}},t.nice=()=>n(Bue(n(),{floor:e=>r(Math.floor(a(e))),ceil:e=>r(Math.ceil(a(e)))})),t}function que(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Que(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Zue(e){var t=1,n=e(que(t),Que(t));return n.constant=function(n){return arguments.length?e(que(t=+n),Que(t)):t},zue(n)}function Jue(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Kue(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Xue(e){return e<0?-e*e:e*e}function efe(e){var t=e(hue,hue),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(hue,hue):.5===n?e(Kue,Xue):e(Jue(n),Jue(1/n)):n},zue(t)}function tfe(){var e=efe(bue());return e.copy=function(){return vue(e,tfe()).exponent(e.exponent())},sue.apply(e,arguments),e}function nfe(e){return Math.sign(e)*e*e}Lue=Oue({thousands:",",grouping:[3],currency:["$",""]}),Aue=Lue.format,Tue=Lue.formatPrefix;const afe=new Date,rfe=new Date;function ife(e,t,n,a){function r(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return r.floor=t=>(e(t=new Date(+t)),t),r.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),r.round=e=>{const t=r(e),n=r.ceil(e);return e-t<n-e?t:n},r.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),r.range=(n,a,i)=>{const s=[];if(n=r.ceil(n),i=null==i?1:Math.floor(i),!(n<a&&i>0))return s;let o;do{s.push(o=new Date(+n)),t(n,i),e(n)}while(o<n&&n<a);return s},r.filter=n=>ife((t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),((e,a)=>{if(e>=e)if(a<0)for(;++a<=0;)for(;t(e,-1),!n(e););else for(;--a>=0;)for(;t(e,1),!n(e););})),n&&(r.count=(t,a)=>(afe.setTime(+t),rfe.setTime(+a),e(afe),e(rfe),Math.floor(n(afe,rfe))),r.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?r.filter(a?t=>a(t)%e===0:t=>r.count(0,t)%e===0):r:null)),r}const sfe=ife((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));sfe.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?ife((t=>{t.setTime(Math.floor(t/e)*e)}),((t,n)=>{t.setTime(+t+n*e)}),((t,n)=>(n-t)/e)):sfe:null),sfe.range;const ofe=1e3,lfe=6e4,cfe=36e5,dfe=864e5,ufe=6048e5,ffe=2592e6,mfe=31536e6,pfe=ife((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*ofe)}),((e,t)=>(t-e)/ofe),(e=>e.getUTCSeconds()));pfe.range;const hfe=ife((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ofe)}),((e,t)=>{e.setTime(+e+t*lfe)}),((e,t)=>(t-e)/lfe),(e=>e.getMinutes()));hfe.range;const gfe=ife((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*lfe)}),((e,t)=>(t-e)/lfe),(e=>e.getUTCMinutes()));gfe.range;const xfe=ife((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ofe-e.getMinutes()*lfe)}),((e,t)=>{e.setTime(+e+t*cfe)}),((e,t)=>(t-e)/cfe),(e=>e.getHours()));xfe.range;const yfe=ife((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*cfe)}),((e,t)=>(t-e)/cfe),(e=>e.getUTCHours()));yfe.range;const vfe=ife((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*lfe)/dfe),(e=>e.getDate()-1));vfe.range;const bfe=ife((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/dfe),(e=>e.getUTCDate()-1));bfe.range;const wfe=ife((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/dfe),(e=>Math.floor(e/dfe)));function jfe(e){return ife((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*lfe)/ufe))}wfe.range;const Nfe=jfe(0),Cfe=jfe(1),Sfe=jfe(2),kfe=jfe(3),Mfe=jfe(4),_fe=jfe(5),Efe=jfe(6);function Ife(e){return ife((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/ufe))}Nfe.range,Cfe.range,Sfe.range,kfe.range,Mfe.range,_fe.range,Efe.range;const Lfe=Ife(0),Afe=Ife(1),Tfe=Ife(2),Dfe=Ife(3),Pfe=Ife(4),Ofe=Ife(5),Rfe=Ife(6);Lfe.range,Afe.range,Tfe.range,Dfe.range,Pfe.range,Ofe.range,Rfe.range;const zfe=ife((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()));zfe.range;const Ffe=ife((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()));Ffe.range;const Bfe=ife((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear()));Bfe.every=e=>isFinite(e=Math.floor(e))&&e>0?ife((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n*e)})):null,Bfe.range;const Ufe=ife((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));function Wfe(e,t,n,a,r,i){const s=[[pfe,1,ofe],[pfe,5,5e3],[pfe,15,15e3],[pfe,30,3e4],[i,1,lfe],[i,5,3e5],[i,15,9e5],[i,30,18e5],[r,1,cfe],[r,3,108e5],[r,6,216e5],[r,12,432e5],[a,1,dfe],[a,2,1728e5],[n,1,ufe],[t,1,ffe],[t,3,7776e6],[e,1,mfe]];function o(t,n,a){const r=Math.abs(n-t)/a,i=Bde((([,,e])=>e)).right(s,r);if(i===s.length)return e.every(eue(t/mfe,n/mfe,a));if(0===i)return sfe.every(Math.max(eue(t,n,a),1));const[o,l]=s[r/s[i-1][2]<s[i][2]/r?i-1:i];return o.every(l)}return[function(e,t,n){const a=t<e;a&&([e,t]=[t,e]);const r=n&&"function"==typeof n.range?n:o(e,t,n),i=r?r.range(e,+t+1):[];return a?i.reverse():i},o]}Ufe.every=e=>isFinite(e=Math.floor(e))&&e>0?ife((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null,Ufe.range;const[Gfe,Vfe]=Wfe(Ufe,Ffe,Lfe,wfe,yfe,gfe),[$fe,Hfe]=Wfe(Bfe,zfe,Nfe,vfe,xfe,hfe);function Yfe(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function qfe(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Qfe(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Zfe,Jfe,Kfe,Xfe={"-":"",_:" ",0:"0"},eme=/^\s*\d+/,tme=/^%/,nme=/[\\^$*+?|[\]().{}]/g;function ame(e,t,n){var a=e<0?"-":"",r=(a?-e:e)+"",i=r.length;return a+(i<n?new Array(n-i+1).join(t)+r:r)}function rme(e){return e.replace(nme,"\\$&")}function ime(e){return new RegExp("^(?:"+e.map(rme).join("|")+")","i")}function sme(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function ome(e,t,n){var a=eme.exec(t.slice(n,n+1));return a?(e.w=+a[0],n+a[0].length):-1}function lme(e,t,n){var a=eme.exec(t.slice(n,n+1));return a?(e.u=+a[0],n+a[0].length):-1}function cme(e,t,n){var a=eme.exec(t.slice(n,n+2));return a?(e.U=+a[0],n+a[0].length):-1}function dme(e,t,n){var a=eme.exec(t.slice(n,n+2));return a?(e.V=+a[0],n+a[0].length):-1}function ume(e,t,n){var a=eme.exec(t.slice(n,n+2));return a?(e.W=+a[0],n+a[0].length):-1}function fme(e,t,n){var a=eme.exec(t.slice(n,n+4));return a?(e.y=+a[0],n+a[0].length):-1}function mme(e,t,n){var a=eme.exec(t.slice(n,n+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),n+a[0].length):-1}function pme(e,t,n){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),n+a[0].length):-1}function hme(e,t,n){var a=eme.exec(t.slice(n,n+1));return a?(e.q=3*a[0]-3,n+a[0].length):-1}function gme(e,t,n){var a=eme.exec(t.slice(n,n+2));return a?(e.m=a[0]-1,n+a[0].length):-1}function xme(e,t,n){var a=eme.exec(t.slice(n,n+2));return a?(e.d=+a[0],n+a[0].length):-1}function yme(e,t,n){var a=eme.exec(t.slice(n,n+3));return a?(e.m=0,e.d=+a[0],n+a[0].length):-1}function vme(e,t,n){var a=eme.exec(t.slice(n,n+2));return a?(e.H=+a[0],n+a[0].length):-1}function bme(e,t,n){var a=eme.exec(t.slice(n,n+2));return a?(e.M=+a[0],n+a[0].length):-1}function wme(e,t,n){var a=eme.exec(t.slice(n,n+2));return a?(e.S=+a[0],n+a[0].length):-1}function jme(e,t,n){var a=eme.exec(t.slice(n,n+3));return a?(e.L=+a[0],n+a[0].length):-1}function Nme(e,t,n){var a=eme.exec(t.slice(n,n+6));return a?(e.L=Math.floor(a[0]/1e3),n+a[0].length):-1}function Cme(e,t,n){var a=tme.exec(t.slice(n,n+1));return a?n+a[0].length:-1}function Sme(e,t,n){var a=eme.exec(t.slice(n));return a?(e.Q=+a[0],n+a[0].length):-1}function kme(e,t,n){var a=eme.exec(t.slice(n));return a?(e.s=+a[0],n+a[0].length):-1}function Mme(e,t){return ame(e.getDate(),t,2)}function _me(e,t){return ame(e.getHours(),t,2)}function Eme(e,t){return ame(e.getHours()%12||12,t,2)}function Ime(e,t){return ame(1+vfe.count(Bfe(e),e),t,3)}function Lme(e,t){return ame(e.getMilliseconds(),t,3)}function Ame(e,t){return Lme(e,t)+"000"}function Tme(e,t){return ame(e.getMonth()+1,t,2)}function Dme(e,t){return ame(e.getMinutes(),t,2)}function Pme(e,t){return ame(e.getSeconds(),t,2)}function Ome(e){var t=e.getDay();return 0===t?7:t}function Rme(e,t){return ame(Nfe.count(Bfe(e)-1,e),t,2)}function zme(e){var t=e.getDay();return t>=4||0===t?Mfe(e):Mfe.ceil(e)}function Fme(e,t){return e=zme(e),ame(Mfe.count(Bfe(e),e)+(4===Bfe(e).getDay()),t,2)}function Bme(e){return e.getDay()}function Ume(e,t){return ame(Cfe.count(Bfe(e)-1,e),t,2)}function Wme(e,t){return ame(e.getFullYear()%100,t,2)}function Gme(e,t){return ame((e=zme(e)).getFullYear()%100,t,2)}function Vme(e,t){return ame(e.getFullYear()%1e4,t,4)}function $me(e,t){var n=e.getDay();return ame((e=n>=4||0===n?Mfe(e):Mfe.ceil(e)).getFullYear()%1e4,t,4)}function Hme(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ame(t/60|0,"0",2)+ame(t%60,"0",2)}function Yme(e,t){return ame(e.getUTCDate(),t,2)}function qme(e,t){return ame(e.getUTCHours(),t,2)}function Qme(e,t){return ame(e.getUTCHours()%12||12,t,2)}function Zme(e,t){return ame(1+bfe.count(Ufe(e),e),t,3)}function Jme(e,t){return ame(e.getUTCMilliseconds(),t,3)}function Kme(e,t){return Jme(e,t)+"000"}function Xme(e,t){return ame(e.getUTCMonth()+1,t,2)}function epe(e,t){return ame(e.getUTCMinutes(),t,2)}function tpe(e,t){return ame(e.getUTCSeconds(),t,2)}function npe(e){var t=e.getUTCDay();return 0===t?7:t}function ape(e,t){return ame(Lfe.count(Ufe(e)-1,e),t,2)}function rpe(e){var t=e.getUTCDay();return t>=4||0===t?Pfe(e):Pfe.ceil(e)}function ipe(e,t){return e=rpe(e),ame(Pfe.count(Ufe(e),e)+(4===Ufe(e).getUTCDay()),t,2)}function spe(e){return e.getUTCDay()}function ope(e,t){return ame(Afe.count(Ufe(e)-1,e),t,2)}function lpe(e,t){return ame(e.getUTCFullYear()%100,t,2)}function cpe(e,t){return ame((e=rpe(e)).getUTCFullYear()%100,t,2)}function dpe(e,t){return ame(e.getUTCFullYear()%1e4,t,4)}function upe(e,t){var n=e.getUTCDay();return ame((e=n>=4||0===n?Pfe(e):Pfe.ceil(e)).getUTCFullYear()%1e4,t,4)}function fpe(){return"+0000"}function mpe(){return"%"}function ppe(e){return+e}function hpe(e){return Math.floor(+e/1e3)}function gpe(e){return new Date(e)}function xpe(e){return e instanceof Date?+e:+new Date(+e)}function ype(e,t,n,a,r,i,s,o,l,c){var d=wue(),u=d.invert,f=d.domain,m=c(".%L"),p=c(":%S"),h=c("%I:%M"),g=c("%I %p"),x=c("%a %d"),y=c("%b %d"),v=c("%B"),b=c("%Y");function w(e){return(l(e)<e?m:o(e)<e?p:s(e)<e?h:i(e)<e?g:a(e)<e?r(e)<e?x:y:n(e)<e?v:b)(e)}return d.invert=function(e){return new Date(u(e))},d.domain=function(e){return arguments.length?f(Array.from(e,xpe)):f().map(gpe)},d.ticks=function(t){var n=f();return e(n[0],n[n.length-1],null==t?10:t)},d.tickFormat=function(e,t){return null==t?w:c(t)},d.nice=function(e){var n=f();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?f(Bue(n,e)):d},d.copy=function(){return vue(d,ype(e,t,n,a,r,i,s,o,l,c))},d}function vpe(){var e,t,n,a,r,i=0,s=1,o=hue,l=!1;function c(t){return null==t||isNaN(t=+t)?r:o(0===n?.5:(t=(a(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function d(e){return function(t){var n,a;return arguments.length?([n,a]=t,o=e(n,a),c):[o(0),o(1)]}}return c.domain=function(r){return arguments.length?([i,s]=r,e=a(i=+i),t=a(s=+s),n=e===t?0:1/(t-e),c):[i,s]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=d(lJ),c.rangeRound=d(cJ),c.unknown=function(e){return arguments.length?(r=e,c):r},function(r){return a=r,e=r(i),t=r(s),n=e===t?0:1/(t-e),c}}function bpe(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function wpe(){var e=efe(vpe());return e.copy=function(){return bpe(e,wpe()).exponent(e.exponent())},oue.apply(e,arguments)}function jpe(){var e,t,n,a,r,i,s,o=0,l=.5,c=1,d=1,u=hue,f=!1;function m(e){return isNaN(e=+e)?s:(e=.5+((e=+i(e))-t)*(d*e<d*t?a:r),u(f?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,a,r;return arguments.length?([n,a,r]=t,u=function(e,t){void 0===t&&(t=e,e=lJ);for(var n=0,a=t.length-1,r=t[0],i=new Array(a<0?0:a);n<a;)i[n]=e(r,r=t[++n]);return function(e){var t=Math.max(0,Math.min(a-1,Math.floor(e*=a)));return i[t](e-t)}}(e,[n,a,r]),m):[u(0),u(.5),u(1)]}}return m.domain=function(s){return arguments.length?([o,l,c]=s,e=i(o=+o),t=i(l=+l),n=i(c=+c),a=e===t?0:.5/(t-e),r=t===n?0:.5/(n-t),d=t<e?-1:1,m):[o,l,c]},m.clamp=function(e){return arguments.length?(f=!!e,m):f},m.interpolator=function(e){return arguments.length?(u=e,m):u},m.range=p(lJ),m.rangeRound=p(cJ),m.unknown=function(e){return arguments.length?(s=e,m):s},function(s){return i=s,e=s(o),t=s(l),n=s(c),a=e===t?0:.5/(t-e),r=t===n?0:.5/(n-t),d=t<e?-1:1,m}}function Npe(){var e=efe(jpe());return e.copy=function(){return bpe(e,Npe()).exponent(e.exponent())},oue.apply(e,arguments)}!function(e){Zfe=function(e){var t=e.dateTime,n=e.date,a=e.time,r=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=ime(r),d=sme(r),u=ime(i),f=sme(i),m=ime(s),p=sme(s),h=ime(o),g=sme(o),x=ime(l),y=sme(l),v={a:function(e){return s[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:Mme,e:Mme,f:Ame,g:Gme,G:$me,H:_me,I:Eme,j:Ime,L:Lme,m:Tme,M:Dme,p:function(e){return r[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:ppe,s:hpe,S:Pme,u:Ome,U:Rme,V:Fme,w:Bme,W:Ume,x:null,X:null,y:Wme,Y:Vme,Z:Hme,"%":mpe},b={a:function(e){return s[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:Yme,e:Yme,f:Kme,g:cpe,G:upe,H:qme,I:Qme,j:Zme,L:Jme,m:Xme,M:epe,p:function(e){return r[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:ppe,s:hpe,S:tpe,u:npe,U:ape,V:ipe,w:spe,W:ope,x:null,X:null,y:lpe,Y:dpe,Z:fpe,"%":mpe},w={a:function(e,t,n){var a=m.exec(t.slice(n));return a?(e.w=p.get(a[0].toLowerCase()),n+a[0].length):-1},A:function(e,t,n){var a=u.exec(t.slice(n));return a?(e.w=f.get(a[0].toLowerCase()),n+a[0].length):-1},b:function(e,t,n){var a=x.exec(t.slice(n));return a?(e.m=y.get(a[0].toLowerCase()),n+a[0].length):-1},B:function(e,t,n){var a=h.exec(t.slice(n));return a?(e.m=g.get(a[0].toLowerCase()),n+a[0].length):-1},c:function(e,n,a){return C(e,t,n,a)},d:xme,e:xme,f:Nme,g:mme,G:fme,H:vme,I:vme,j:yme,L:jme,m:gme,M:bme,p:function(e,t,n){var a=c.exec(t.slice(n));return a?(e.p=d.get(a[0].toLowerCase()),n+a[0].length):-1},q:hme,Q:Sme,s:kme,S:wme,u:lme,U:cme,V:dme,w:ome,W:ume,x:function(e,t,a){return C(e,n,t,a)},X:function(e,t,n){return C(e,a,t,n)},y:mme,Y:fme,Z:pme,"%":Cme};function j(e,t){return function(n){var a,r,i,s=[],o=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++o<c;)37===e.charCodeAt(o)&&(s.push(e.slice(l,o)),null!=(r=Xfe[a=e.charAt(++o)])?a=e.charAt(++o):r="e"===a?" ":"0",(i=t[a])&&(a=i(n,r)),s.push(a),l=o+1);return s.push(e.slice(l,o)),s.join("")}}function N(e,t){return function(n){var a,r,i=Qfe(1900,void 0,1);if(C(i,e,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(r=(a=qfe(Qfe(i.y,0,1))).getUTCDay(),a=r>4||0===r?Afe.ceil(a):Afe(a),a=bfe.offset(a,7*(i.V-1)),i.y=a.getUTCFullYear(),i.m=a.getUTCMonth(),i.d=a.getUTCDate()+(i.w+6)%7):(r=(a=Yfe(Qfe(i.y,0,1))).getDay(),a=r>4||0===r?Cfe.ceil(a):Cfe(a),a=vfe.offset(a,7*(i.V-1)),i.y=a.getFullYear(),i.m=a.getMonth(),i.d=a.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),r="Z"in i?qfe(Qfe(i.y,0,1)).getUTCDay():Yfe(Qfe(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(r+5)%7:i.w+7*i.U-(r+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,qfe(i)):Yfe(i)}}function C(e,t,n,a){for(var r,i,s=0,o=t.length,l=n.length;s<o;){if(a>=l)return-1;if(37===(r=t.charCodeAt(s++))){if(r=t.charAt(s++),!(i=w[r in Xfe?t.charAt(s++):r])||(a=i(e,n,a))<0)return-1}else if(r!=n.charCodeAt(a++))return-1}return a}return v.x=j(n,v),v.X=j(a,v),v.c=j(t,v),b.x=j(n,b),b.X=j(a,b),b.c=j(t,b),{format:function(e){var t=j(e+="",v);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=j(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}(e),Jfe=Zfe.format,Zfe.parse,Kfe=Zfe.utcFormat,Zfe.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const Cpe=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:due,scaleDiverging:function e(){var t=zue(jpe()(hue));return t.copy=function(){return bpe(t,e())},oue.apply(t,arguments)},scaleDivergingLog:function e(){var t=Yue(jpe()).domain([.1,1,10]);return t.copy=function(){return bpe(t,e()).base(t.base())},oue.apply(t,arguments)},scaleDivergingPow:Npe,scaleDivergingSqrt:function(){return Npe.apply(null,arguments).exponent(.5)},scaleDivergingSymlog:function e(){var t=Zue(jpe());return t.copy=function(){return bpe(t,e()).constant(t.constant())},oue.apply(t,arguments)},scaleIdentity:function e(t){var n;function a(e){return null==e||isNaN(e=+e)?n:e}return a.invert=a,a.domain=a.range=function(e){return arguments.length?(t=Array.from(e,mue),a):t.slice()},a.unknown=function(e){return arguments.length?(n=e,a):n},a.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,mue):[0,1],zue(a)},scaleImplicit:lue,scaleLinear:Fue,scaleLog:function e(){const t=Yue(bue()).domain([1,10]);return t.copy=()=>vue(t,e()).base(t.base()),sue.apply(t,arguments),t},scaleOrdinal:cue,scalePoint:fue,scalePow:tfe,scaleQuantile:function e(){var t,n=[],a=[],r=[];function i(){var e=0,t=Math.max(1,a.length);for(r=new Array(t-1);++e<t;)r[e-1]=iue(n,e/t);return s}function s(e){return null==e||isNaN(e=+e)?t:a[Gde(r,e)]}return s.invertExtent=function(e){var t=a.indexOf(e);return t<0?[NaN,NaN]:[t>0?r[t-1]:n[0],t<r.length?r[t]:n[n.length-1]]},s.domain=function(e){if(!arguments.length)return n.slice();n=[];for(let t of e)null==t||isNaN(t=+t)||n.push(t);return n.sort(zde),i()},s.range=function(e){return arguments.length?(a=Array.from(e),i()):a.slice()},s.unknown=function(e){return arguments.length?(t=e,s):t},s.quantiles=function(){return r.slice()},s.copy=function(){return e().domain(n).range(a).unknown(t)},sue.apply(s,arguments)},scaleQuantize:function e(){var t,n=0,a=1,r=1,i=[.5],s=[0,1];function o(e){return null!=e&&e<=e?s[Gde(i,e,0,r)]:t}function l(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*a-(e-r)*n)/(r+1);return o}return o.domain=function(e){return arguments.length?([n,a]=e,n=+n,a=+a,l()):[n,a]},o.range=function(e){return arguments.length?(r=(s=Array.from(e)).length-1,l()):s.slice()},o.invertExtent=function(e){var t=s.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,i[0]]:t>=r?[i[r-1],a]:[i[t-1],i[t]]},o.unknown=function(e){return arguments.length?(t=e,o):o},o.thresholds=function(){return i.slice()},o.copy=function(){return e().domain([n,a]).range(s).unknown(t)},sue.apply(zue(o),arguments)},scaleRadial:function e(){var t,n=wue(),a=[0,1],r=!1;function i(e){var a=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(n(e));return isNaN(a)?t:r?Math.round(a):a}return i.invert=function(e){return n.invert(nfe(e))},i.domain=function(e){return arguments.length?(n.domain(e),i):n.domain()},i.range=function(e){return arguments.length?(n.range((a=Array.from(e,mue)).map(nfe)),i):a.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(n.clamp(e),i):n.clamp()},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return e(n.domain(),a).round(r).clamp(n.clamp()).unknown(t)},sue.apply(i,arguments),zue(i)},scaleSequential:function e(){var t=zue(vpe()(hue));return t.copy=function(){return bpe(t,e())},oue.apply(t,arguments)},scaleSequentialLog:function e(){var t=Yue(vpe()).domain([1,10]);return t.copy=function(){return bpe(t,e()).base(t.base())},oue.apply(t,arguments)},scaleSequentialPow:wpe,scaleSequentialQuantile:function e(){var t=[],n=hue;function a(e){if(null!=e&&!isNaN(e=+e))return n((Gde(t,e,1)-1)/(t.length-1))}return a.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(zde),a},a.interpolator=function(e){return arguments.length?(n=e,a):n},a.range=function(){return t.map(((e,a)=>n(a/(t.length-1))))},a.quantiles=function(e){return Array.from({length:e+1},((n,a)=>function(e,t){if((n=(e=Float64Array.from(function*(e){for(let t of e)null!=t&&(t=+t)>=t&&(yield t)}(e))).length)&&!isNaN(t=+t)){if(t<=0||n<2)return nue(e);if(t>=1)return tue(e);var n,a=(n-1)*t,r=Math.floor(a),i=tue(aue(e,r).subarray(0,r+1));return i+(nue(e.subarray(r+1))-i)*(a-r)}}(t,a/e)))},a.copy=function(){return e(n).domain(t)},oue.apply(a,arguments)},scaleSequentialSqrt:function(){return wpe.apply(null,arguments).exponent(.5)},scaleSequentialSymlog:function e(){var t=Zue(vpe());return t.copy=function(){return bpe(t,e()).constant(t.constant())},oue.apply(t,arguments)},scaleSqrt:function(){return tfe.apply(null,arguments).exponent(.5)},scaleSymlog:function e(){var t=Zue(bue());return t.copy=function(){return vue(t,e()).constant(t.constant())},sue.apply(t,arguments)},scaleThreshold:function e(){var t,n=[.5],a=[0,1],r=1;function i(e){return null!=e&&e<=e?a[Gde(n,e,0,r)]:t}return i.domain=function(e){return arguments.length?(n=Array.from(e),r=Math.min(n.length,a.length-1),i):n.slice()},i.range=function(e){return arguments.length?(a=Array.from(e),r=Math.min(n.length,a.length-1),i):a.slice()},i.invertExtent=function(e){var t=a.indexOf(e);return[n[t-1],n[t]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return e().domain(n).range(a).unknown(t)},sue.apply(i,arguments)},scaleTime:function(){return sue.apply(ype($fe,Hfe,Bfe,zfe,Nfe,vfe,xfe,hfe,pfe,Jfe).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},scaleUtc:function(){return sue.apply(ype(Gfe,Vfe,Ufe,Ffe,Lfe,bfe,yfe,gfe,pfe,Kfe).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},tickFormat:Rue},Symbol.toStringTag,{value:"Module"}));var Spe=M8;var kpe=function(e,t,n){for(var a=-1,r=e.length;++a<r;){var i=e[a],s=t(i);if(null!=s&&(void 0===o?s==s&&!Spe(s):n(s,o)))var o=s,l=i}return l};var Mpe=function(e,t){return e>t},_pe=kpe,Epe=Mpe,Ipe=Kse;const Lpe=Cr((function(e){return e&&e.length?_pe(e,Ipe,Epe):void 0}));var Ape=function(e,t){return e<t},Tpe=kpe,Dpe=Ape,Ppe=Kse;const Ope=Cr((function(e){return e&&e.length?Tpe(e,Ppe,Dpe):void 0}));var Rpe=lee,zpe=coe,Fpe=ale,Bpe=o8;var Upe=Qoe,Wpe=function(e,t){return(Bpe(e)?Rpe:Fpe)(e,zpe(t))};const Gpe=Cr((function(e,t){return Upe(Wpe(e,t),1)}));var Vpe=kse;const $pe=Cr((function(e,t){return Vpe(e,t)}));var Hpe,Ype=1e9,qpe=!0,Qpe="[DecimalError] ",Zpe=Qpe+"Invalid argument: ",Jpe=Qpe+"Exponent out of range: ",Kpe=Math.floor,Xpe=Math.pow,ehe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,the=1e7,nhe=9007199254740991,ahe=Kpe(1286742750677284.5),rhe={};function ihe(e,t){var n,a,r,i,s,o,l,c,d=e.constructor,u=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),qpe?hhe(t,u):t;if(l=e.d,c=t.d,s=e.e,r=t.e,l=l.slice(),i=s-r){for(i<0?(a=l,i=-i,o=c.length):(a=c,r=s,o=l.length),i>(o=(s=Math.ceil(u/7))>o?s+1:o+1)&&(i=o,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for((o=l.length)-(i=c.length)<0&&(i=o,a=c,c=l,l=a),n=0;i;)n=(l[--i]=l[i]+c[i]+n)/the|0,l[i]%=the;for(n&&(l.unshift(n),++r),o=l.length;0==l[--o];)l.pop();return t.d=l,t.e=r,qpe?hhe(t,u):t}function she(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Zpe+e)}function ohe(e){var t,n,a,r=e.length-1,i="",s=e[0];if(r>0){for(i+=s,t=1;t<r;t++)(n=7-(a=e[t]+"").length)&&(i+=fhe(n)),i+=a;(n=7-(a=(s=e[t])+"").length)&&(i+=fhe(n))}else if(0===s)return"0";for(;s%10==0;)s/=10;return i+s}rhe.absoluteValue=rhe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},rhe.comparedTo=rhe.cmp=function(e){var t,n,a,r,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(t=0,n=(a=i.d.length)<(r=e.d.length)?a:r;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return a===r?0:a>r^i.s<0?1:-1},rhe.decimalPlaces=rhe.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},rhe.dividedBy=rhe.div=function(e){return lhe(this,new this.constructor(e))},rhe.dividedToIntegerBy=rhe.idiv=function(e){var t=this.constructor;return hhe(lhe(this,new t(e),0,1),t.precision)},rhe.equals=rhe.eq=function(e){return!this.cmp(e)},rhe.exponent=function(){return dhe(this)},rhe.greaterThan=rhe.gt=function(e){return this.cmp(e)>0},rhe.greaterThanOrEqualTo=rhe.gte=function(e){return this.cmp(e)>=0},rhe.isInteger=rhe.isint=function(){return this.e>this.d.length-2},rhe.isNegative=rhe.isneg=function(){return this.s<0},rhe.isPositive=rhe.ispos=function(){return this.s>0},rhe.isZero=function(){return 0===this.s},rhe.lessThan=rhe.lt=function(e){return this.cmp(e)<0},rhe.lessThanOrEqualTo=rhe.lte=function(e){return this.cmp(e)<1},rhe.logarithm=rhe.log=function(e){var t,n=this,a=n.constructor,r=a.precision,i=r+5;if(void 0===e)e=new a(10);else if((e=new a(e)).s<1||e.eq(Hpe))throw Error(Qpe+"NaN");if(n.s<1)throw Error(Qpe+(n.s?"NaN":"-Infinity"));return n.eq(Hpe)?new a(0):(qpe=!1,t=lhe(mhe(n,i),mhe(e,i),i),qpe=!0,hhe(t,r))},rhe.minus=rhe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ghe(t,e):ihe(t,(e.s=-e.s,e))},rhe.modulo=rhe.mod=function(e){var t,n=this,a=n.constructor,r=a.precision;if(!(e=new a(e)).s)throw Error(Qpe+"NaN");return n.s?(qpe=!1,t=lhe(n,e,0,1).times(e),qpe=!0,n.minus(t)):hhe(new a(n),r)},rhe.naturalExponential=rhe.exp=function(){return che(this)},rhe.naturalLogarithm=rhe.ln=function(){return mhe(this)},rhe.negated=rhe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},rhe.plus=rhe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ihe(t,e):ghe(t,(e.s=-e.s,e))},rhe.precision=rhe.sd=function(e){var t,n,a,r=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(Zpe+e);if(t=dhe(r)+1,n=7*(a=r.d.length-1)+1,a=r.d[a]){for(;a%10==0;a/=10)n--;for(a=r.d[0];a>=10;a/=10)n++}return e&&t>n?t:n},rhe.squareRoot=rhe.sqrt=function(){var e,t,n,a,r,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Qpe+"NaN")}for(e=dhe(o),qpe=!1,0==(r=Math.sqrt(+o))||r==1/0?(((t=ohe(o.d)).length+e)%2==0&&(t+="0"),r=Math.sqrt(t),e=Kpe((e+1)/2)-(e<0||e%2),a=new l(t=r==1/0?"5e"+e:(t=r.toExponential()).slice(0,t.indexOf("e")+1)+e)):a=new l(r.toString()),r=s=(n=l.precision)+3;;)if(a=(i=a).plus(lhe(o,i,s+2)).times(.5),ohe(i.d).slice(0,s)===(t=ohe(a.d)).slice(0,s)){if(t=t.slice(s-3,s+1),r==s&&"4999"==t){if(hhe(i,n+1,0),i.times(i).eq(o)){a=i;break}}else if("9999"!=t)break;s+=4}return qpe=!0,hhe(a,n)},rhe.times=rhe.mul=function(e){var t,n,a,r,i,s,o,l,c,d=this,u=d.constructor,f=d.d,m=(e=new u(e)).d;if(!d.s||!e.s)return new u(0);for(e.s*=d.s,n=d.e+e.e,(l=f.length)<(c=m.length)&&(i=f,f=m,m=i,s=l,l=c,c=s),i=[],a=s=l+c;a--;)i.push(0);for(a=c;--a>=0;){for(t=0,r=l+a;r>a;)o=i[r]+m[a]*f[r-a-1]+t,i[r--]=o%the|0,t=o/the|0;i[r]=(i[r]+t)%the|0}for(;!i[--s];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,qpe?hhe(e,u.precision):e},rhe.toDecimalPlaces=rhe.todp=function(e,t){var n=this,a=n.constructor;return n=new a(n),void 0===e?n:(she(e,0,Ype),void 0===t?t=a.rounding:she(t,0,8),hhe(n,e+dhe(n)+1,t))},rhe.toExponential=function(e,t){var n,a=this,r=a.constructor;return void 0===e?n=xhe(a,!0):(she(e,0,Ype),void 0===t?t=r.rounding:she(t,0,8),n=xhe(a=hhe(new r(a),e+1,t),!0,e+1)),n},rhe.toFixed=function(e,t){var n,a,r=this,i=r.constructor;return void 0===e?xhe(r):(she(e,0,Ype),void 0===t?t=i.rounding:she(t,0,8),n=xhe((a=hhe(new i(r),e+dhe(r)+1,t)).abs(),!1,e+dhe(a)+1),r.isneg()&&!r.isZero()?"-"+n:n)},rhe.toInteger=rhe.toint=function(){var e=this,t=e.constructor;return hhe(new t(e),dhe(e)+1,t.rounding)},rhe.toNumber=function(){return+this},rhe.toPower=rhe.pow=function(e){var t,n,a,r,i,s,o=this,l=o.constructor,c=+(e=new l(e));if(!e.s)return new l(Hpe);if(!(o=new l(o)).s){if(e.s<1)throw Error(Qpe+"Infinity");return o}if(o.eq(Hpe))return o;if(a=l.precision,e.eq(Hpe))return hhe(o,a);if(s=(t=e.e)>=(n=e.d.length-1),i=o.s,s){if((n=c<0?-c:c)<=nhe){for(r=new l(Hpe),t=Math.ceil(a/7+4),qpe=!1;n%2&&yhe((r=r.times(o)).d,t),0!==(n=Kpe(n/2));)yhe((o=o.times(o)).d,t);return qpe=!0,e.s<0?new l(Hpe).div(r):hhe(r,a)}}else if(i<0)throw Error(Qpe+"NaN");return i=i<0&&1&e.d[Math.max(t,n)]?-1:1,o.s=1,qpe=!1,r=e.times(mhe(o,a+12)),qpe=!0,(r=che(r)).s=i,r},rhe.toPrecision=function(e,t){var n,a,r=this,i=r.constructor;return void 0===e?a=xhe(r,(n=dhe(r))<=i.toExpNeg||n>=i.toExpPos):(she(e,1,Ype),void 0===t?t=i.rounding:she(t,0,8),a=xhe(r=hhe(new i(r),e,t),e<=(n=dhe(r))||n<=i.toExpNeg,e)),a},rhe.toSignificantDigits=rhe.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(she(e,1,Ype),void 0===t?t=n.rounding:she(t,0,8)),hhe(new n(this),e,t)},rhe.toString=rhe.valueOf=rhe.val=rhe.toJSON=rhe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=dhe(e),n=e.constructor;return xhe(e,t<=n.toExpNeg||t>=n.toExpPos)};var lhe=function(){function e(e,t){var n,a=0,r=e.length;for(e=e.slice();r--;)n=e[r]*t+a,e[r]=n%the|0,a=n/the|0;return a&&e.unshift(a),e}function t(e,t,n,a){var r,i;if(n!=a)i=n>a?1:-1;else for(r=i=0;r<n;r++)if(e[r]!=t[r]){i=e[r]>t[r]?1:-1;break}return i}function n(e,t,n){for(var a=0;n--;)e[n]-=a,a=e[n]<t[n]?1:0,e[n]=a*the+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(a,r,i,s){var o,l,c,d,u,f,m,p,h,g,x,y,v,b,w,j,N,C,S=a.constructor,k=a.s==r.s?1:-1,M=a.d,_=r.d;if(!a.s)return new S(a);if(!r.s)throw Error(Qpe+"Division by zero");for(l=a.e-r.e,N=_.length,w=M.length,p=(m=new S(k)).d=[],c=0;_[c]==(M[c]||0);)++c;if(_[c]>(M[c]||0)&&--l,(y=null==i?i=S.precision:s?i+(dhe(a)-dhe(r))+1:i)<0)return new S(0);if(y=y/7+2|0,c=0,1==N)for(d=0,_=_[0],y++;(c<w||d)&&y--;c++)v=d*the+(M[c]||0),p[c]=v/_|0,d=v%_|0;else{for((d=the/(_[0]+1)|0)>1&&(_=e(_,d),M=e(M,d),N=_.length,w=M.length),b=N,g=(h=M.slice(0,N)).length;g<N;)h[g++]=0;(C=_.slice()).unshift(0),j=_[0],_[1]>=the/2&&++j;do{d=0,(o=t(_,h,N,g))<0?(x=h[0],N!=g&&(x=x*the+(h[1]||0)),(d=x/j|0)>1?(d>=the&&(d=the-1),1==(o=t(u=e(_,d),h,f=u.length,g=h.length))&&(d--,n(u,N<f?C:_,f))):(0==d&&(o=d=1),u=_.slice()),(f=u.length)<g&&u.unshift(0),n(h,u,g),-1==o&&(o=t(_,h,N,g=h.length))<1&&(d++,n(h,N<g?C:_,g)),g=h.length):0===o&&(d++,h=[0]),p[c++]=d,o&&h[0]?h[g++]=M[b]||0:(h=[M[b]],g=1)}while((b++<w||void 0!==h[0])&&y--)}return p[0]||p.shift(),m.e=l,hhe(m,s?i+dhe(m)+1:i)}}();function che(e,t){var n,a,r,i,s,o=0,l=0,c=e.constructor,d=c.precision;if(dhe(e)>16)throw Error(Jpe+dhe(e));if(!e.s)return new c(Hpe);for(qpe=!1,s=d,i=new c(.03125);e.abs().gte(.1);)e=e.times(i),l+=5;for(s+=Math.log(Xpe(2,l))/Math.LN10*2+5|0,n=a=r=new c(Hpe),c.precision=s;;){if(a=hhe(a.times(e),s),n=n.times(++o),ohe((i=r.plus(lhe(a,n,s))).d).slice(0,s)===ohe(r.d).slice(0,s)){for(;l--;)r=hhe(r.times(r),s);return c.precision=d,null==t?(qpe=!0,hhe(r,d)):r}r=i}}function dhe(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function uhe(e,t,n){if(t>e.LN10.sd())throw qpe=!0,n&&(e.precision=n),Error(Qpe+"LN10 precision limit exceeded");return hhe(new e(e.LN10),t)}function fhe(e){for(var t="";e--;)t+="0";return t}function mhe(e,t){var n,a,r,i,s,o,l,c,d,u=1,f=e,m=f.d,p=f.constructor,h=p.precision;if(f.s<1)throw Error(Qpe+(f.s?"NaN":"-Infinity"));if(f.eq(Hpe))return new p(0);if(null==t?(qpe=!1,c=h):c=t,f.eq(10))return null==t&&(qpe=!0),uhe(p,c);if(c+=10,p.precision=c,a=(n=ohe(m)).charAt(0),i=dhe(f),!(Math.abs(i)<15e14))return l=uhe(p,c+2,h).times(i+""),f=mhe(new p(a+"."+n.slice(1)),c-10).plus(l),p.precision=h,null==t?(qpe=!0,hhe(f,h)):f;for(;a<7&&1!=a||1==a&&n.charAt(1)>3;)a=(n=ohe((f=f.times(e)).d)).charAt(0),u++;for(i=dhe(f),a>1?(f=new p("0."+n),i++):f=new p(a+"."+n.slice(1)),o=s=f=lhe(f.minus(Hpe),f.plus(Hpe),c),d=hhe(f.times(f),c),r=3;;){if(s=hhe(s.times(d),c),ohe((l=o.plus(lhe(s,new p(r),c))).d).slice(0,c)===ohe(o.d).slice(0,c))return o=o.times(2),0!==i&&(o=o.plus(uhe(p,c+2,h).times(i+""))),o=lhe(o,new p(u),c),p.precision=h,null==t?(qpe=!0,hhe(o,h)):o;o=l,r+=2}}function phe(e,t){var n,a,r;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(n<0&&(n=a),n+=+t.slice(a+1),t=t.substring(0,a)):n<0&&(n=t.length),a=0;48===t.charCodeAt(a);)++a;for(r=t.length;48===t.charCodeAt(r-1);)--r;if(t=t.slice(a,r)){if(r-=a,n=n-a-1,e.e=Kpe(n/7),e.d=[],a=(n+1)%7,n<0&&(a+=7),a<r){for(a&&e.d.push(+t.slice(0,a)),r-=7;a<r;)e.d.push(+t.slice(a,a+=7));a=7-(t=t.slice(a)).length}else a-=r;for(;a--;)t+="0";if(e.d.push(+t),qpe&&(e.e>ahe||e.e<-ahe))throw Error(Jpe+n)}else e.s=0,e.e=0,e.d=[0];return e}function hhe(e,t,n){var a,r,i,s,o,l,c,d,u=e.d;for(s=1,i=u[0];i>=10;i/=10)s++;if((a=t-s)<0)a+=7,r=t,c=u[d=0];else{if((d=Math.ceil((a+1)/7))>=(i=u.length))return e;for(c=i=u[d],s=1;i>=10;i/=10)s++;r=(a%=7)-7+s}if(void 0!==n&&(o=c/(i=Xpe(10,s-r-1))%10|0,l=t<0||void 0!==u[d+1]||c%i,l=n<4?(o||l)&&(0==n||n==(e.s<0?3:2)):o>5||5==o&&(4==n||l||6==n&&(a>0?r>0?c/Xpe(10,s-r):0:u[d-1])%10&1||n==(e.s<0?8:7))),t<1||!u[0])return l?(i=dhe(e),u.length=1,t=t-i-1,u[0]=Xpe(10,(7-t%7)%7),e.e=Kpe(-t/7)||0):(u.length=1,u[0]=e.e=e.s=0),e;if(0==a?(u.length=d,i=1,d--):(u.length=d+1,i=Xpe(10,7-a),u[d]=r>0?(c/Xpe(10,s-r)%Xpe(10,r)|0)*i:0),l)for(;;){if(0==d){(u[0]+=i)==the&&(u[0]=1,++e.e);break}if(u[d]+=i,u[d]!=the)break;u[d--]=0,i=1}for(a=u.length;0===u[--a];)u.pop();if(qpe&&(e.e>ahe||e.e<-ahe))throw Error(Jpe+dhe(e));return e}function ghe(e,t){var n,a,r,i,s,o,l,c,d,u,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),qpe?hhe(t,m):t;if(l=e.d,u=t.d,a=t.e,c=e.e,l=l.slice(),s=c-a){for((d=s<0)?(n=l,s=-s,o=u.length):(n=u,a=c,o=l.length),s>(r=Math.max(Math.ceil(m/7),o)+2)&&(s=r,n.length=1),n.reverse(),r=s;r--;)n.push(0);n.reverse()}else{for((d=(r=l.length)<(o=u.length))&&(o=r),r=0;r<o;r++)if(l[r]!=u[r]){d=l[r]<u[r];break}s=0}for(d&&(n=l,l=u,u=n,t.s=-t.s),o=l.length,r=u.length-o;r>0;--r)l[o++]=0;for(r=u.length;r>s;){if(l[--r]<u[r]){for(i=r;i&&0===l[--i];)l[i]=the-1;--l[i],l[r]+=the}l[r]-=u[r]}for(;0===l[--o];)l.pop();for(;0===l[0];l.shift())--a;return l[0]?(t.d=l,t.e=a,qpe?hhe(t,m):t):new f(0)}function xhe(e,t,n){var a,r=dhe(e),i=ohe(e.d),s=i.length;return t?(n&&(a=n-s)>0?i=i.charAt(0)+"."+i.slice(1)+fhe(a):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(r<0?"e":"e+")+r):r<0?(i="0."+fhe(-r-1)+i,n&&(a=n-s)>0&&(i+=fhe(a))):r>=s?(i+=fhe(r+1-s),n&&(a=n-r-1)>0&&(i=i+"."+fhe(a))):((a=r+1)<s&&(i=i.slice(0,a)+"."+i.slice(a)),n&&(a=n-s)>0&&(r+1===s&&(i+="."),i+=fhe(a))),e.s<0?"-"+i:i}function yhe(e,t){if(e.length>t)return e.length=t,!0}function vhe(e){if(!e||"object"!=typeof e)throw Error(Qpe+"Object expected");var t,n,a,r=["precision",1,Ype,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<r.length;t+=3)if(void 0!==(a=e[n=r[t]])){if(!(Kpe(a)===a&&a>=r[t+1]&&a<=r[t+2]))throw Error(Zpe+n+": "+a);this[n]=a}if(void 0!==(a=e[n="LN10"])){if(a!=Math.LN10)throw Error(Zpe+n+": "+a);this[n]=new this(a)}return this}var bhe=function e(t){var n,a,r;function i(e){var t=this;if(!(t instanceof i))return new i(e);if(t.constructor=i,e instanceof i)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(Zpe+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):phe(t,e.toString())}if("string"!=typeof e)throw Error(Zpe+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!ehe.test(e))throw Error(Zpe+e);phe(t,e)}if(i.prototype=rhe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e,i.config=i.set=vhe,void 0===t&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<r.length;)t.hasOwnProperty(a=r[n++])||(t[a]=this[a]);return i.config(t),i}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});Hpe=new bhe(1);const whe=bhe;function jhe(e){return function(e){if(Array.isArray(e))return Nhe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Nhe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nhe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nhe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Che=function(e){return e},She={},khe=function(e){return e===She},Mhe=function(e){return function t(){return 0===arguments.length||1===arguments.length&&khe(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},_he=function e(t,n){return 1===t?n:Mhe((function(){for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];var s=r.filter((function(e){return e!==She})).length;return s>=t?n.apply(void 0,r):e(t-s,Mhe((function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var i=r.map((function(e){return khe(e)?t.shift():e}));return n.apply(void 0,jhe(i).concat(t))})))}))},Ehe=function(e){return _he(e.length,e)},Ihe=function(e,t){for(var n=[],a=e;a<t;++a)n[a-e]=a;return n},Lhe=Ehe((function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map((function(e){return t[e]})).map(e)})),Ahe=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},The=function(e){var t=null,n=null;return function(){for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return t&&r.every((function(e,n){return e===t[n]}))?n:(t=r,n=e.apply(void 0,r))}};var Dhe=Ehe((function(e,t,n){var a=+e;return a+n*(+t-a)})),Phe=Ehe((function(e,t,n){var a=t-+e;return(n-e)/(a=a||1/0)})),Ohe=Ehe((function(e,t,n){var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(n-e)/a))}));const Rhe={rangeStep:function(e,t,n){for(var a=new whe(e),r=0,i=[];a.lt(t)&&r<1e5;)i.push(a.toNumber()),a=a.add(n),r++;return i},getDigitCount:function(e){return 0===e?1:Math.floor(new whe(e).abs().log(10).toNumber())+1},interpolateNumber:Dhe,uninterpolateNumber:Phe,uninterpolateTruncation:Ohe};function zhe(e){return function(e){if(Array.isArray(e))return Uhe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Bhe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fhe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(a=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(Bze){r=!0,i=Bze}finally{try{a||null==o.return||o.return()}finally{if(r)throw i}}return n}(e,t)||Bhe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bhe(e,t){if(e){if("string"==typeof e)return Uhe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Uhe(e,t):void 0}}function Uhe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Whe(e){var t=Fhe(e,2),n=t[0],a=t[1],r=n,i=a;return n>a&&(r=a,i=n),[r,i]}function Ghe(e,t,n){if(e.lte(0))return new whe(0);var a=Rhe.getDigitCount(e.toNumber()),r=new whe(10).pow(a),i=e.div(r),s=1!==a?.05:.1,o=new whe(Math.ceil(i.div(s).toNumber())).add(n).mul(s).mul(r);return t?o:new whe(Math.ceil(o))}function Vhe(e,t,n){var a=1,r=new whe(e);if(!r.isint()&&n){var i=Math.abs(e);i<1?(a=new whe(10).pow(Rhe.getDigitCount(e)-1),r=new whe(Math.floor(r.div(a).toNumber())).mul(a)):i>1&&(r=new whe(Math.floor(e)))}else 0===e?r=new whe(Math.floor((t-1)/2)):n||(r=new whe(Math.floor(e)));var s=Math.floor((t-1)/2),o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return Che;var a=t.reverse(),r=a[0],i=a.slice(1);return function(){return i.reduce((function(e,t){return t(e)}),r.apply(void 0,arguments))}}(Lhe((function(e){return r.add(new whe(e-s).mul(a)).toNumber()})),Ihe);return o(0,t)}function $he(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new whe(0),tickMin:new whe(0),tickMax:new whe(0)};var i,s=Ghe(new whe(t).sub(e).div(n-1),a,r);i=e<=0&&t>=0?new whe(0):(i=new whe(e).add(t).div(2)).sub(new whe(i).mod(s));var o=Math.ceil(i.sub(e).div(s).toNumber()),l=Math.ceil(new whe(t).sub(i).div(s).toNumber()),c=o+l+1;return c>n?$he(e,t,n,a,r+1):(c<n&&(l=t>0?l+(n-c):l,o=t>0?o:o+(n-c)),{step:s,tickMin:i.sub(new whe(o).mul(s)),tickMax:i.add(new whe(l).mul(s))})}var Hhe=The((function(e){var t=Fhe(e,2),n=t[0],a=t[1],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=Math.max(r,2),o=Fhe(Whe([n,a]),2),l=o[0],c=o[1];if(l===-1/0||c===1/0){var d=c===1/0?[l].concat(zhe(Ihe(0,r-1).map((function(){return 1/0})))):[].concat(zhe(Ihe(0,r-1).map((function(){return-1/0}))),[c]);return n>a?Ahe(d):d}if(l===c)return Vhe(l,r,i);var u=$he(l,c,s,i),f=u.step,m=u.tickMin,p=u.tickMax,h=Rhe.rangeStep(m,p.add(new whe(.1).mul(f)),f);return n>a?Ahe(h):h})),Yhe=The((function(e,t){var n=Fhe(e,2),a=n[0],r=n[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=Fhe(Whe([a,r]),2),o=s[0],l=s[1];if(o===-1/0||l===1/0)return[a,r];if(o===l)return[o];var c=Math.max(t,2),d=Ghe(new whe(l).sub(o).div(c-1),i,0),u=[].concat(zhe(Rhe.rangeStep(new whe(o),new whe(l).sub(new whe(.99).mul(d)),d)),[l]);return a>r?Ahe(u):u}));function qhe(e,t){throw new Error("Invariant failed")}var Qhe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Zhe(e){return(Zhe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jhe(){return Jhe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Jhe.apply(this,arguments)}function Khe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(d){c=!0,r=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xhe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xhe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xhe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ege(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tge(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,oge(a.key),a)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nge(e,t,n){return t=rge(t),function(e,t){if(t&&("object"===Zhe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,age()?Reflect.construct(t,n||[],rge(e).constructor):t.apply(e,n))}function age(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(age=function(){return!!e})()}function rge(e){return(rge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ige(e,t){return(ige=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function sge(e,t,n){return(t=oge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oge(e){var t=function(e,t){if("object"!=Zhe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=Zhe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Zhe(t)?t:t+""}var lge=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),nge(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ige(e,t)}(e,di.Component),tge(e,[{key:"render",value:function(){var e=this.props,t=e.offset,n=e.layout,a=e.width,r=e.dataKey,i=e.data,s=e.dataPointFormatter,o=e.xAxis,l=e.yAxis,c=ege(e,Qhe),d=Bte(c,!1);"x"===this.props.direction&&"number"!==o.type&&qhe();var u=i.map((function(e){var i=s(e,r),c=i.x,u=i.y,f=i.value,m=i.errorVal;if(!m)return null;var p,h,g=[];if(Array.isArray(m)){var x=Khe(m,2);p=x[0],h=x[1]}else p=h=m;if("vertical"===n){var y=o.scale,v=u+t,b=v+a,w=v-a,j=y(f-p),N=y(f+h);g.push({x1:N,y1:b,x2:N,y2:w}),g.push({x1:j,y1:v,x2:N,y2:v}),g.push({x1:j,y1:b,x2:j,y2:w})}else if("horizontal"===n){var C=l.scale,S=c+t,k=S-a,M=S+a,_=C(f-p),E=C(f+h);g.push({x1:k,y1:E,x2:M,y2:E}),g.push({x1:S,y1:_,x2:S,y2:E}),g.push({x1:k,y1:_,x2:M,y2:_})}return di.createElement(Jte,Jhe({className:"recharts-errorBar",key:"bar-".concat(g.map((function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)})))},d),g.map((function(e){return di.createElement("line",Jhe({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))})))}));return di.createElement(Jte,{className:"recharts-errorBars"},u)}}])}();function cge(e){return(cge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function uge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dge(Object(n),!0).forEach((function(t){fge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fge(e,t,n){var a;return a=function(e,t){if("object"!=cge(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=cge(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==cge(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}sge(lge,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),sge(lge,"displayName","ErrorBar");var mge=function(e){var t=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,r=e.legendContent,i=Ote(t,Goe);if(!i)return null;var s,o=Goe.defaultProps,l=void 0!==o?uge(uge({},o),i.props):{};return s=i.props&&i.props.payload?i.props&&i.props.payload:"children"===r?(n||[]).reduce((function(e,t){var n=t.item,a=t.props,r=a.sectors||a.data||[];return e.concat(r.map((function(e){return{type:i.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}})))}),[]):(n||[]).map((function(e){var t=e.item,n=t.type.defaultProps,a=void 0!==n?uge(uge({},n),t.props):{},r=a.dataKey,i=a.name,s=a.legendType;return{inactive:a.hide,dataKey:r,type:l.iconType||s||"square",color:jge(t),value:i||r,payload:a}})),uge(uge(uge({},l),Goe.getWithHeight(i,a)),{},{payload:s,item:i})};function pge(e){return(pge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hge(e){return function(e){if(Array.isArray(e))return gge(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return gge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gge(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function xge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function yge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xge(Object(n),!0).forEach((function(t){vge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vge(e,t,n){var a;return a=function(e,t){if("object"!=pge(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=pge(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==pge(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bge(e,t,n){return Iee(e)||Iee(t)?n:cte(t)?Eee(e,t,n):z8(t)?t(e):n}function wge(e,t,n,a){var r=Gpe(e,(function(e){return bge(e,t)}));if("number"===n){var i=r.filter((function(e){return lte(e)||parseFloat(e)}));return i.length?[Ope(i),Lpe(i)]:[1/0,-1/0]}return(a?r.filter((function(e){return!Iee(e)})):r).map((function(e){return cte(e)||e instanceof Date?e:""}))}var jge=function(e){var t,n,a=e.type.displayName,r=null!==(t=e.type)&&void 0!==t&&t.defaultProps?yge(yge({},e.type.defaultProps),e.props):e.props,i=r.stroke,s=r.fill;switch(a){case"Line":n=i;break;case"Area":case"Radar":n=i&&"none"!==i?i:s;break;default:n=s}return n},Nge=function(e,t,n,a,r){var i=Pte(t.props.children,lge).filter((function(e){return function(e,t,n){return!!Iee(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(a,r,e.props.direction)}));if(i&&i.length){var s=i.map((function(e){return e.props.dataKey}));return e.reduce((function(e,t){var a=bge(t,n);if(Iee(a))return e;var r=Array.isArray(a)?[Ope(a),Lpe(a)]:[a,a],i=s.reduce((function(e,n){var a=bge(t,n,0),i=r[0]-Math.abs(Array.isArray(a)?a[0]:a),s=r[1]+Math.abs(Array.isArray(a)?a[1]:a);return[Math.min(i,e[0]),Math.max(s,e[1])]}),[1/0,-1/0]);return[Math.min(i[0],e[0]),Math.max(i[1],e[1])]}),[1/0,-1/0])}return null},Cge=function(e,t,n,a,r){var i=t.map((function(t){var i=t.props.dataKey;return"number"===n&&i&&Nge(e,t,i,a)||wge(e,i,n,r)}));if("number"===n)return i.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]);var s={};return i.reduce((function(e,t){for(var n=0,a=t.length;n<a;n++)s[t[n]]||(s[t[n]]=!0,e.push(t[n]));return e}),[])},Sge=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},kge=function(e,t,n,a){if(a)return e.map((function(e){return e.coordinate}));var r,i,s=e.map((function(e){return e.coordinate===t&&(r=!0),e.coordinate===n&&(i=!0),e.coordinate}));return r||s.push(t),i||s.push(n),s},Mge=function(e,t,n){if(!e)return null;var a=e.scale,r=e.duplicateDomain,i=e.type,s=e.range,o="scaleBand"===e.realScaleType?a.bandwidth()/2:2,l=(t||n)&&"category"===i&&a.bandwidth?a.bandwidth()/o:0;return l="angleAxis"===e.axisType&&(null==s?void 0:s.length)>=2?2*ste(s[0]-s[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map((function(e){var t=r?r.indexOf(e):e;return{coordinate:a(t)+l,value:e,offset:l}})).filter((function(e){return!ite(e.coordinate)})):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map((function(e,t){return{coordinate:a(e)+l,value:e,index:t,offset:l}})):a.ticks&&!n?a.ticks(e.tickCount).map((function(e){return{coordinate:a(e)+l,value:e,offset:l}})):a.domain().map((function(e,t){return{coordinate:a(e)+l,value:r?r[e]:e,index:t,offset:l}}))},_ge=new WeakMap,Ege=function(e,t){if("function"!=typeof t)return e;_ge.has(e)||_ge.set(e,new WeakMap);var n=_ge.get(e);if(n.has(t))return n.get(t);var a=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,a),a},Ige=function(e,t,n){var a=e.scale,r=e.type,i=e.layout,s=e.axisType;if("auto"===a)return"radial"===i&&"radiusAxis"===s?{scale:due(),realScaleType:"band"}:"radial"===i&&"angleAxis"===s?{scale:Fue(),realScaleType:"linear"}:"category"===r&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!n)?{scale:fue(),realScaleType:"point"}:"category"===r?{scale:due(),realScaleType:"band"}:{scale:Fue(),realScaleType:"linear"};if(Dee(a)){var o="scale".concat(Nne(a));return{scale:(Cpe[o]||fue)(),realScaleType:Cpe[o]?o:"point"}}return z8(a)?{scale:a}:{scale:fue(),realScaleType:"point"}},Lge=1e-4,Age=function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,a=e.range(),r=Math.min(a[0],a[1])-Lge,i=Math.max(a[0],a[1])+Lge,s=e(t[0]),o=e(t[n-1]);(s<r||s>i||o<r||o>i)&&e.domain([t[0],t[n-1]])}},Tge={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,a=e[0].length;n<a;++n)for(var r=0,i=0,s=0;s<t;++s){var o=ite(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=r,e[s][n][1]=r+o,r=e[s][n][1]):(e[s][n][0]=i,e[s][n][1]=i+o,i=e[s][n][1])}},expand:function(e,t){if((a=e.length)>0){for(var n,a,r,i=0,s=e[0].length;i<s;++i){for(r=n=0;n<a;++n)r+=e[n][i][1]||0;if(r)for(n=0;n<a;++n)e[n][i][1]/=r}Cae(e,t)}},none:Cae,silhouette:function(e,t){if((n=e.length)>0){for(var n,a=0,r=e[t[0]],i=r.length;a<i;++a){for(var s=0,o=0;s<n;++s)o+=e[s][a][1]||0;r[a][1]+=r[a][0]=-o/2}Cae(e,t)}},wiggle:function(e,t){if((r=e.length)>0&&(a=(n=e[t[0]]).length)>0){for(var n,a,r,i=0,s=1;s<a;++s){for(var o=0,l=0,c=0;o<r;++o){for(var d=e[t[o]],u=d[s][1]||0,f=(u-(d[s-1][1]||0))/2,m=0;m<o;++m){var p=e[t[m]];f+=(p[s][1]||0)-(p[s-1][1]||0)}l+=u,c+=f*u}n[s-1][1]+=n[s-1][0]=i,l&&(i-=c/l)}n[s-1][1]+=n[s-1][0]=i,Cae(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,a=e[0].length;n<a;++n)for(var r=0,i=0;i<t;++i){var s=ite(e[i][n][1])?e[i][n][0]:e[i][n][1];s>=0?(e[i][n][0]=r,e[i][n][1]=r+s,r=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}}},Dge=function(e,t,n){var a=t.map((function(e){return e.props.dataKey})),r=Tge[n],i=function(){var e=Cne([]),t=Sae,n=Cae,a=kae;function r(r){var i,s,o=Array.from(e.apply(this,arguments),Mae),l=o.length,c=-1;for(const e of r)for(i=0,++c;i<l;++i)(o[i][c]=[0,+a(e,o[i].key,c,r)]).data=e;for(i=0,s=Rne(t(o));i<l;++i)o[s[i]].index=i;return n(o,s),o}return r.keys=function(t){return arguments.length?(e="function"==typeof t?t:Cne(Array.from(t)),r):e},r.value=function(e){return arguments.length?(a="function"==typeof e?e:Cne(+e),r):a},r.order=function(e){return arguments.length?(t=null==e?Sae:"function"==typeof e?e:Cne(Array.from(e)),r):t},r.offset=function(e){return arguments.length?(n=null==e?Cae:e,r):n},r}().keys(a).value((function(e,t){return+bge(e,t,0)})).order(Sae).offset(r);return i(e)},Pge=function(e,t){var n=t.realScaleType,a=t.type,r=t.tickCount,i=t.originalDomain,s=t.allowDecimals,o=n||t.scale;if("auto"!==o&&"linear"!==o)return null;if(r&&"number"===a&&i&&("auto"===i[0]||"auto"===i[1])){var l=e.domain();if(!l.length)return null;var c=Hhe(l,r,s);return e.domain([Ope(c),Lpe(c)]),{niceTicks:c}}if(r&&"number"===a){var d=e.domain();return{niceTicks:Yhe(d,r,s)}}return null};function Oge(e){var t=e.axis,n=e.ticks,a=e.bandSize,r=e.entry,i=e.index,s=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!Iee(r[t.dataKey])){var o=hte(n,"value",r[t.dataKey]);if(o)return o.coordinate+a/2}return n[i]?n[i].coordinate+a/2:null}var l=bge(r,Iee(s)?t.dataKey:s);return Iee(l)?null:t.scale(l)}var Rge=function(e){var t=e.axis,n=e.ticks,a=e.offset,r=e.bandSize,i=e.entry,s=e.index;if("category"===t.type)return n[s]?n[s].coordinate+a:null;var o=bge(i,t.dataKey,t.domain[s]);return Iee(o)?null:t.scale(o)-r/2+a},zge=function(e,t,n){return Object.keys(e).reduce((function(a,r){var i=e[r].stackedData.reduce((function(e,a){var r=a.slice(t,n+1).reduce((function(e,t){return[Ope(t.concat([e[0]]).filter(lte)),Lpe(t.concat([e[1]]).filter(lte))]}),[1/0,-1/0]);return[Math.min(e[0],r[0]),Math.max(e[1],r[1])]}),[1/0,-1/0]);return[Math.min(i[0],a[0]),Math.max(i[1],a[1])]}),[1/0,-1/0]).map((function(e){return e===1/0||e===-1/0?0:e}))},Fge=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Bge=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Uge=function(e,t,n){if(z8(e))return e(t,n);if(!Array.isArray(e))return t;var a=[];if(lte(e[0]))a[0]=n?e[0]:Math.min(e[0],t[0]);else if(Fge.test(e[0])){var r=+Fge.exec(e[0])[1];a[0]=t[0]-r}else z8(e[0])?a[0]=e[0](t[0]):a[0]=t[0];if(lte(e[1]))a[1]=n?e[1]:Math.max(e[1],t[1]);else if(Bge.test(e[1])){var i=+Bge.exec(e[1])[1];a[1]=t[1]+i}else z8(e[1])?a[1]=e[1](t[1]):a[1]=t[1];return a},Wge=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&t&&t.length>=2){for(var r=Fle(t,(function(e){return e.coordinate})),i=1/0,s=1,o=r.length;s<o;s++){var l=r[s],c=r[s-1];i=Math.min((l.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},Gge=function(e,t,n){return e&&e.length?$pe(e,Eee(n,"type.defaultProps.domain"))?t:e:t},Vge=function(e,t){var n=e.type.defaultProps?yge(yge({},e.type.defaultProps),e.props):e.props,a=n.dataKey,r=n.name,i=n.unit,s=n.formatter,o=n.tooltipType,l=n.chartType,c=n.hide;return yge(yge({},Bte(e,!1)),{},{dataKey:a,unit:i,formatter:s,name:r||a,color:jge(e),value:bge(t,a),type:o,payload:t,chartType:l,hide:c})};function $ge(e){return($ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Yge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hge(Object(n),!0).forEach((function(t){qge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qge(e,t,n){var a;return a=function(e,t){if("object"!=$ge(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=$ge(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==$ge(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(d){c=!0,r=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Zge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zge(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Jge=Math.PI/180,Kge=function(e){return 180*e/Math.PI},Xge=function(e,t,n,a){return{x:e+Math.cos(-Jge*a)*n,y:t+Math.sin(-Jge*a)*n}},exe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},txe=function(e,t){var n=e.x,a=e.y,r=t.cx,i=t.cy,s=function(e,t){var n=e.x,a=e.y,r=t.x,i=t.y;return Math.sqrt(Math.pow(n-r,2)+Math.pow(a-i,2))}({x:n,y:a},{x:r,y:i});if(s<=0)return{radius:s};var o=(n-r)/s,l=Math.acos(o);return a>i&&(l=2*Math.PI-l),{radius:s,angle:Kge(l),angleInRadian:l}},nxe=function(e,t){var n=t.startAngle,a=t.endAngle,r=Math.floor(n/360),i=Math.floor(a/360);return e+360*Math.min(r,i)},axe=function(e,t){var n=e.x,a=e.y,r=txe({x:n,y:a},t),i=r.radius,s=r.angle,o=t.innerRadius,l=t.outerRadius;if(i<o||i>l)return!1;if(0===i)return!0;var c,d=function(e){var t=e.startAngle,n=e.endAngle,a=Math.floor(t/360),r=Math.floor(n/360),i=Math.min(a,r);return{startAngle:t-360*i,endAngle:n-360*i}}(t),u=d.startAngle,f=d.endAngle,m=s;if(u<=f){for(;m>f;)m-=360;for(;m<u;)m+=360;c=m>=u&&m<=f}else{for(;m>u;)m-=360;for(;m<f;)m+=360;c=m>=f&&m<=u}return c?Yge(Yge({},t),{},{radius:i,angle:nxe(m,t)}):null},rxe=function(e){return ci.isValidElement(e)||z8(e)||"boolean"==typeof e?"":e.className};function ixe(e){return(ixe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var sxe=["offset"];function oxe(e){return function(e){if(Array.isArray(e))return lxe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return lxe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lxe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lxe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function cxe(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dxe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function uxe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dxe(Object(n),!0).forEach((function(t){fxe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dxe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fxe(e,t,n){var a;return a=function(e,t){if("object"!=ixe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=ixe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ixe(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mxe(){return mxe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},mxe.apply(this,arguments)}var pxe=function(e,t,n){var a,r,i=e.position,s=e.viewBox,o=e.offset,l=e.className,c=s,d=c.cx,u=c.cy,f=c.innerRadius,m=c.outerRadius,p=c.startAngle,h=c.endAngle,g=c.clockWise,x=(f+m)/2,y=function(e,t){return ste(t-e)*Math.min(Math.abs(t-e),360)}(p,h),v=y>=0?1:-1;"insideStart"===i?(a=p+v*o,r=g):"insideEnd"===i?(a=h-v*o,r=!g):"end"===i&&(a=h+v*o,r=g),r=y<=0?r:!r;var b=Xge(d,u,x,a),w=Xge(d,u,x,a+359*(r?1:-1)),j="M".concat(b.x,",").concat(b.y,"\n    A").concat(x,",").concat(x,",0,1,").concat(r?0:1,",\n    ").concat(w.x,",").concat(w.y),N=Iee(e.id)?ute("recharts-radial-line-"):e.id;return di.createElement("text",mxe({},n,{dominantBaseline:"central",className:ub("recharts-radial-bar-label",l)}),di.createElement("defs",null,di.createElement("path",{id:N,d:j})),di.createElement("textPath",{xlinkHref:"#".concat(N)},t))};function hxe(e){var t,n=e.offset,a=uxe({offset:void 0===n?5:n},cxe(e,sxe)),r=a.viewBox,i=a.position,s=a.value,o=a.children,l=a.content,c=a.className,d=void 0===c?"":c,u=a.textBreakAll;if(!r||Iee(s)&&Iee(o)&&!ci.isValidElement(l)&&!z8(l))return null;if(ci.isValidElement(l))return ci.cloneElement(l,a);if(z8(l)){if(t=ci.createElement(l,a),ci.isValidElement(t))return t}else t=function(e){var t=e.value,n=e.formatter,a=Iee(e.children)?t:e.children;return z8(n)?n(a):a}(a);var f=function(e){return"cx"in e&&lte(e.cx)}(r),m=Bte(a,!0);if(f&&("insideStart"===i||"insideEnd"===i||"end"===i))return pxe(a,t,m);var p=f?function(e){var t=e.viewBox,n=e.offset,a=e.position,r=t,i=r.cx,s=r.cy,o=r.innerRadius,l=r.outerRadius,c=(r.startAngle+r.endAngle)/2;if("outside"===a){var d=Xge(i,s,l+n,c),u=d.x;return{x:u,y:d.y,textAnchor:u>=i?"start":"end",verticalAnchor:"middle"}}if("center"===a)return{x:i,y:s,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===a)return{x:i,y:s,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===a)return{x:i,y:s,textAnchor:"middle",verticalAnchor:"end"};var f=Xge(i,s,(o+l)/2,c);return{x:f.x,y:f.y,textAnchor:"middle",verticalAnchor:"middle"}}(a):function(e){var t=e.viewBox,n=e.parentViewBox,a=e.offset,r=e.position,i=t,s=i.x,o=i.y,l=i.width,c=i.height,d=c>=0?1:-1,u=d*a,f=d>0?"end":"start",m=d>0?"start":"end",p=l>=0?1:-1,h=p*a,g=p>0?"end":"start",x=p>0?"start":"end";if("top"===r)return uxe(uxe({},{x:s+l/2,y:o-d*a,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(o-n.y,0),width:l}:{});if("bottom"===r)return uxe(uxe({},{x:s+l/2,y:o+c+u,textAnchor:"middle",verticalAnchor:m}),n?{height:Math.max(n.y+n.height-(o+c),0),width:l}:{});if("left"===r){var y={x:s-h,y:o+c/2,textAnchor:g,verticalAnchor:"middle"};return uxe(uxe({},y),n?{width:Math.max(y.x-n.x,0),height:c}:{})}if("right"===r){var v={x:s+l+h,y:o+c/2,textAnchor:x,verticalAnchor:"middle"};return uxe(uxe({},v),n?{width:Math.max(n.x+n.width-v.x,0),height:c}:{})}var b=n?{width:l,height:c}:{};return"insideLeft"===r?uxe({x:s+h,y:o+c/2,textAnchor:x,verticalAnchor:"middle"},b):"insideRight"===r?uxe({x:s+l-h,y:o+c/2,textAnchor:g,verticalAnchor:"middle"},b):"insideTop"===r?uxe({x:s+l/2,y:o+u,textAnchor:"middle",verticalAnchor:m},b):"insideBottom"===r?uxe({x:s+l/2,y:o+c-u,textAnchor:"middle",verticalAnchor:f},b):"insideTopLeft"===r?uxe({x:s+h,y:o+u,textAnchor:x,verticalAnchor:m},b):"insideTopRight"===r?uxe({x:s+l-h,y:o+u,textAnchor:g,verticalAnchor:m},b):"insideBottomLeft"===r?uxe({x:s+h,y:o+c-u,textAnchor:x,verticalAnchor:f},b):"insideBottomRight"===r?uxe({x:s+l-h,y:o+c-u,textAnchor:g,verticalAnchor:f},b):D8(r)&&(lte(r.x)||ote(r.x))&&(lte(r.y)||ote(r.y))?uxe({x:s+fte(r.x,l),y:o+fte(r.y,c),textAnchor:"end",verticalAnchor:"end"},b):uxe({x:s+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},b)}(a);return di.createElement(Rde,mxe({className:ub("recharts-label",d)},m,p,{breakAll:u}),t)}hxe.displayName="Label";var gxe=function(e){var t=e.cx,n=e.cy,a=e.angle,r=e.startAngle,i=e.endAngle,s=e.r,o=e.radius,l=e.innerRadius,c=e.outerRadius,d=e.x,u=e.y,f=e.top,m=e.left,p=e.width,h=e.height,g=e.clockWise,x=e.labelViewBox;if(x)return x;if(lte(p)&&lte(h)){if(lte(d)&&lte(u))return{x:d,y:u,width:p,height:h};if(lte(f)&&lte(m))return{x:f,y:m,width:p,height:h}}return lte(d)&&lte(u)?{x:d,y:u,width:0,height:0}:lte(t)&&lte(n)?{cx:t,cy:n,startAngle:r||a||0,endAngle:i||a||0,innerRadius:l||0,outerRadius:c||o||s||0,clockWise:g}:e.viewBox?e.viewBox:{}};hxe.parseViewBox=gxe,hxe.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var a=e.children,r=gxe(e),i=Pte(a,hxe).map((function(e,n){return ci.cloneElement(e,{viewBox:t||r,key:"label-".concat(n)})}));if(!n)return i;var s=function(e,t){return e?!0===e?di.createElement(hxe,{key:"label-implicit",viewBox:t}):cte(e)?di.createElement(hxe,{key:"label-implicit",viewBox:t,value:e}):ci.isValidElement(e)?e.type===hxe?ci.cloneElement(e,{key:"label-implicit",viewBox:t}):di.createElement(hxe,{key:"label-implicit",content:e,viewBox:t}):z8(e)?di.createElement(hxe,{key:"label-implicit",content:e,viewBox:t}):D8(e)?di.createElement(hxe,mxe({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||r);return[s].concat(oxe(i))};const xxe=Cr((function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}));function yxe(e){return(yxe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var vxe=["valueAccessor"],bxe=["data","dataKey","clockWise","id","textBreakAll"];function wxe(e){return function(e){if(Array.isArray(e))return jxe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return jxe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jxe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jxe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Nxe(){return Nxe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Nxe.apply(this,arguments)}function Cxe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Sxe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cxe(Object(n),!0).forEach((function(t){kxe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cxe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kxe(e,t,n){var a;return a=function(e,t){if("object"!=yxe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=yxe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==yxe(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mxe(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var _xe=function(e){return Array.isArray(e.value)?xxe(e.value):e.value};function Exe(e){var t=e.valueAccessor,n=void 0===t?_xe:t,a=Mxe(e,vxe),r=a.data,i=a.dataKey,s=a.clockWise,o=a.id,l=a.textBreakAll,c=Mxe(a,bxe);return r&&r.length?di.createElement(Jte,{className:"recharts-label-list"},r.map((function(e,t){var a=Iee(i)?n(e,t):bge(e&&e.payload,i),r=Iee(o)?{}:{id:"".concat(o,"-").concat(t)};return di.createElement(hxe,Nxe({},Bte(e,!0),c,r,{parentViewBox:e.parentViewBox,value:a,textBreakAll:l,viewBox:hxe.parseViewBox(Iee(s)?e:Sxe(Sxe({},e),{},{clockWise:s})),key:"label-".concat(t),index:t}))}))):null}function Ixe(e){return(Ixe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lxe(){return Lxe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Lxe.apply(this,arguments)}function Axe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Txe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Axe(Object(n),!0).forEach((function(t){Dxe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Axe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dxe(e,t,n){var a;return a=function(e,t){if("object"!=Ixe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=Ixe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ixe(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Exe.displayName="LabelList",Exe.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var a=Pte(e.children,Exe).map((function(e,n){return ci.cloneElement(e,{data:t,key:"labelList-".concat(n)})}));return n?[function(e,t){return e?!0===e?di.createElement(Exe,{key:"labelList-implicit",data:t}):di.isValidElement(e)||z8(e)?di.createElement(Exe,{key:"labelList-implicit",data:t,content:e}):D8(e)?di.createElement(Exe,Nxe({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t)].concat(wxe(a)):a};var Pxe=function(e){var t=e.cx,n=e.cy,a=e.radius,r=e.angle,i=e.sign,s=e.isExternal,o=e.cornerRadius,l=e.cornerIsExternal,c=o*(s?1:-1)+a,d=Math.asin(o/c)/Jge,u=l?r:r+i*d,f=l?r-i*d:r;return{center:Xge(t,n,c,u),circleTangency:Xge(t,n,a,u),lineTangency:Xge(t,n,c*Math.cos(d*Jge),f),theta:d}},Oxe=function(e){var t=e.cx,n=e.cy,a=e.innerRadius,r=e.outerRadius,i=e.startAngle,s=function(e,t){return ste(t-e)*Math.min(Math.abs(t-e),359.999)}(i,e.endAngle),o=i+s,l=Xge(t,n,r,i),c=Xge(t,n,r,o),d="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(r,",").concat(r,",0,\n    ").concat(+(Math.abs(s)>180),",").concat(+(i>o),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(a>0){var u=Xge(t,n,a,i),f=Xge(t,n,a,o);d+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(a,",").concat(a,",0,\n            ").concat(+(Math.abs(s)>180),",").concat(+(i<=o),",\n            ").concat(u.x,",").concat(u.y," Z")}else d+="L ".concat(t,",").concat(n," Z");return d},Rxe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},zxe=function(e){var t=Txe(Txe({},Rxe),e),n=t.cx,a=t.cy,r=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,d=t.endAngle,u=t.className;if(i<r||c===d)return null;var f,m=ub("recharts-sector",u),p=i-r,h=fte(s,p,0,!0);return f=h>0&&Math.abs(c-d)<360?function(e){var t=e.cx,n=e.cy,a=e.innerRadius,r=e.outerRadius,i=e.cornerRadius,s=e.forceCornerRadius,o=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,d=ste(c-l),u=Pxe({cx:t,cy:n,radius:r,angle:l,sign:d,cornerRadius:i,cornerIsExternal:o}),f=u.circleTangency,m=u.lineTangency,p=u.theta,h=Pxe({cx:t,cy:n,radius:r,angle:c,sign:-d,cornerRadius:i,cornerIsExternal:o}),g=h.circleTangency,x=h.lineTangency,y=h.theta,v=o?Math.abs(l-c):Math.abs(l-c)-p-y;if(v<0)return s?"M ".concat(m.x,",").concat(m.y,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*i,",0\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*-i,",0\n      "):Oxe({cx:t,cy:n,innerRadius:a,outerRadius:r,startAngle:l,endAngle:c});var b="M ".concat(m.x,",").concat(m.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,"\n    A").concat(r,",").concat(r,",0,").concat(+(v>180),",").concat(+(d<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,"\n  ");if(a>0){var w=Pxe({cx:t,cy:n,radius:a,angle:l,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),j=w.circleTangency,N=w.lineTangency,C=w.theta,S=Pxe({cx:t,cy:n,radius:a,angle:c,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),k=S.circleTangency,M=S.lineTangency,_=S.theta,E=o?Math.abs(l-c):Math.abs(l-c)-C-_;if(E<0&&0===i)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+="L".concat(M.x,",").concat(M.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,"\n      A").concat(a,",").concat(a,",0,").concat(+(E>180),",").concat(+(d>0),",").concat(j.x,",").concat(j.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,"Z")}else b+="L".concat(t,",").concat(n,"Z");return b}({cx:n,cy:a,innerRadius:r,outerRadius:i,cornerRadius:Math.min(h,p/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}):Oxe({cx:n,cy:a,innerRadius:r,outerRadius:i,startAngle:c,endAngle:d}),di.createElement("path",Lxe({},Bte(t,!0),{className:m,d:f,role:"img"}))};function Fxe(e){return(Fxe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bxe(){return Bxe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Bxe.apply(this,arguments)}function Uxe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Wxe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uxe(Object(n),!0).forEach((function(t){Gxe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uxe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gxe(e,t,n){var a;return a=function(e,t){if("object"!=Fxe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=Fxe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Fxe(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vxe={curveBasisClosed:function(e){return new uae(e)},curveBasisOpen:function(e){return new fae(e)},curveBasis:function(e){return new dae(e)},curveBumpX:function(e){return new Vne(e,!0)},curveBumpY:function(e){return new Vne(e,!1)},curveLinearClosed:function(e){return new mae(e)},curveLinear:Fne,curveMonotoneX:function(e){return new yae(e)},curveMonotoneY:function(e){return new vae(e)},curveNatural:function(e){return new wae(e)},curveStep:function(e){return new Nae(e,.5)},curveStepAfter:function(e){return new Nae(e,1)},curveStepBefore:function(e){return new Nae(e,0)}},$xe=function(e){return e.x===+e.x&&e.y===+e.y},Hxe=function(e){return e.x},Yxe=function(e){return e.y},qxe=function(e){var t,n=e.type,a=void 0===n?"linear":n,r=e.points,i=void 0===r?[]:r,s=e.baseLine,o=e.layout,l=e.connectNulls,c=void 0!==l&&l,d=function(e,t){if(z8(e))return e;var n="curve".concat(Nne(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?Vxe[n]||Fne:Vxe["".concat(n).concat("vertical"===t?"Y":"X")]}(a,o),u=c?i.filter((function(e){return $xe(e)})):i;if(Array.isArray(s)){var f=c?s.filter((function(e){return $xe(e)})):s,m=u.map((function(e,t){return Wxe(Wxe({},e),{},{base:f[t]})}));return(t="vertical"===o?Gne().y(Yxe).x1(Hxe).x0((function(e){return e.base.x})):Gne().x(Hxe).y1(Yxe).y0((function(e){return e.base.y}))).defined($xe).curve(d),t(m)}return(t="vertical"===o&&lte(s)?Gne().y(Yxe).x1(Hxe).x0(s):lte(s)?Gne().x(Hxe).y1(Yxe).y0(s):Wne().x(Hxe).y(Yxe)).defined($xe).curve(d),t(u)},Qxe=function(e){var t=e.className,n=e.points,a=e.path,r=e.pathRef;if(!(n&&n.length||a))return null;var i=n&&n.length?qxe(e):a;return di.createElement("path",Bxe({},Bte(e,!1),Cte(e),{className:ub("recharts-curve",t),d:i,ref:r}))},Zxe={exports:{}};function Jxe(){}function Kxe(){}Kxe.resetWarningCache=Jxe;Zxe.exports=function(){function e(e,t,n,a,r,i){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Kxe,resetWarningCache:Jxe};return n.PropTypes=n,n}();const Xxe=Cr(Zxe.exports);var eye=Object.getOwnPropertyNames,tye=Object.getOwnPropertySymbols,nye=Object.prototype.hasOwnProperty;function aye(e,t){return function(n,a,r){return e(n,a,r)&&t(n,a,r)}}function rye(e){return function(t,n,a){if(!t||!n||"object"!=typeof t||"object"!=typeof n)return e(t,n,a);var r=a.cache,i=r.get(t),s=r.get(n);if(i&&s)return i===n&&s===t;r.set(t,n),r.set(n,t);var o=e(t,n,a);return r.delete(t),r.delete(n),o}}function iye(e){return eye(e).concat(tye(e))}var sye=Object.hasOwn||function(e,t){return nye.call(e,t)};function oye(e,t){return e===t||!e&&!t&&e!=e&&t!=t}var lye=Object.getOwnPropertyDescriptor,cye=Object.keys;function dye(e,t,n){var a=e.length;if(t.length!==a)return!1;for(;a-- >0;)if(!n.equals(e[a],t[a],a,a,e,t,n))return!1;return!0}function uye(e,t){return oye(e.getTime(),t.getTime())}function fye(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function mye(e,t){return e===t}function pye(e,t,n){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var r,i,s=new Array(a),o=e.entries(),l=0;(r=o.next())&&!r.done;){for(var c=t.entries(),d=!1,u=0;(i=c.next())&&!i.done;)if(s[u])u++;else{var f=r.value,m=i.value;if(n.equals(f[0],m[0],l,u,e,t,n)&&n.equals(f[1],m[1],f[0],m[0],e,t,n)){d=s[u]=!0;break}u++}if(!d)return!1;l++}return!0}var hye=oye;function gye(e,t,n){var a=cye(e),r=a.length;if(cye(t).length!==r)return!1;for(;r-- >0;)if(!Nye(e,t,n,a[r]))return!1;return!0}function xye(e,t,n){var a,r,i,s=iye(e),o=s.length;if(iye(t).length!==o)return!1;for(;o-- >0;){if(!Nye(e,t,n,a=s[o]))return!1;if(r=lye(e,a),i=lye(t,a),(r||i)&&(!r||!i||r.configurable!==i.configurable||r.enumerable!==i.enumerable||r.writable!==i.writable))return!1}return!0}function yye(e,t){return oye(e.valueOf(),t.valueOf())}function vye(e,t){return e.source===t.source&&e.flags===t.flags}function bye(e,t,n){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var r,i,s=new Array(a),o=e.values();(r=o.next())&&!r.done;){for(var l=t.values(),c=!1,d=0;(i=l.next())&&!i.done;){if(!s[d]&&n.equals(r.value,i.value,r.value,i.value,e,t,n)){c=s[d]=!0;break}d++}if(!c)return!1}return!0}function wye(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function jye(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Nye(e,t,n,a){return!("_owner"!==a&&"__o"!==a&&"__v"!==a||!e.$$typeof&&!t.$$typeof)||sye(t,a)&&n.equals(e[a],t[a],a,a,e,t,n)}var Cye=Array.isArray,Sye="function"==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,kye=Object.assign,Mye=Object.prototype.toString.call.bind(Object.prototype.toString);var _ye=Eye();function Eye(e){void 0===e&&(e={});var t,n=e.circular,a=void 0!==n&&n,r=e.createInternalComparator,i=e.createState,s=e.strict,o=void 0!==s&&s,l=function(e){var t=e.circular,n=e.createCustomConfig,a=e.strict,r={areArraysEqual:a?xye:dye,areDatesEqual:uye,areErrorsEqual:fye,areFunctionsEqual:mye,areMapsEqual:a?aye(pye,xye):pye,areNumbersEqual:hye,areObjectsEqual:a?xye:gye,arePrimitiveWrappersEqual:yye,areRegExpsEqual:vye,areSetsEqual:a?aye(bye,xye):bye,areTypedArraysEqual:a?xye:wye,areUrlsEqual:jye};if(n&&(r=kye({},r,n(r))),t){var i=rye(r.areArraysEqual),s=rye(r.areMapsEqual),o=rye(r.areObjectsEqual),l=rye(r.areSetsEqual);r=kye({},r,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return r}(e),c=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,a=e.areErrorsEqual,r=e.areFunctionsEqual,i=e.areMapsEqual,s=e.areNumbersEqual,o=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,d=e.areSetsEqual,u=e.areTypedArraysEqual,f=e.areUrlsEqual;return function(e,m,p){if(e===m)return!0;if(null==e||null==m)return!1;var h=typeof e;if(h!==typeof m)return!1;if("object"!==h)return"number"===h?s(e,m,p):"function"===h&&r(e,m,p);var g=e.constructor;if(g!==m.constructor)return!1;if(g===Object)return o(e,m,p);if(Cye(e))return t(e,m,p);if(null!=Sye&&Sye(e))return u(e,m,p);if(g===Date)return n(e,m,p);if(g===RegExp)return c(e,m,p);if(g===Map)return i(e,m,p);if(g===Set)return d(e,m,p);var x=Mye(e);return"[object Date]"===x?n(e,m,p):"[object RegExp]"===x?c(e,m,p):"[object Map]"===x?i(e,m,p):"[object Set]"===x?d(e,m,p):"[object Object]"===x?"function"!=typeof e.then&&"function"!=typeof m.then&&o(e,m,p):"[object URL]"===x?f(e,m,p):"[object Error]"===x?a(e,m,p):"[object Arguments]"===x?o(e,m,p):("[object Boolean]"===x||"[object Number]"===x||"[object String]"===x)&&l(e,m,p)}}(l),d=r?r(c):(t=c,function(e,n,a,r,i,s,o){return t(e,n,o)});return function(e){var t=e.circular,n=e.comparator,a=e.createState,r=e.equals,i=e.strict;if(a)return function(e,s){var o=a(),l=o.cache,c=void 0===l?t?new WeakMap:void 0:l,d=o.meta;return n(e,s,{cache:c,equals:r,meta:d,strict:i})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};var s={cache:void 0,equals:r,meta:void 0,strict:i};return function(e,t){return n(e,t,s)}}({circular:a,comparator:c,createState:i,equals:d,strict:o})}function Iye(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame((function a(r){n<0&&(n=r),r-n>t?(e(r),n=-1):function(e){"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(e)}(a)}))}function Lye(e){return(Lye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Aye(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Tye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tye(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Dye(){var e=function(){return null},t=!1,n=function n(a){if(!t){if(Array.isArray(a)){if(!a.length)return;var r=Aye(a),i=r[0],s=r.slice(1);return"number"==typeof i?void Iye(n.bind(null,s),i):(n(i),void Iye(n.bind(null,s)))}"object"===Lye(a)&&e(a),"function"==typeof a&&a()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function Pye(e){return(Pye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Rye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oye(Object(n),!0).forEach((function(t){zye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zye(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Pye(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!==Pye(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Pye(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Eye({strict:!0}),Eye({circular:!0}),Eye({circular:!0,strict:!0}),Eye({createInternalComparator:function(){return oye}}),Eye({strict:!0,createInternalComparator:function(){return oye}}),Eye({circular:!0,createInternalComparator:function(){return oye}}),Eye({circular:!0,createInternalComparator:function(){return oye},strict:!0});var Fye=function(e){return e},Bye=function(e,t){return Object.keys(t).reduce((function(n,a){return Rye(Rye({},n),{},zye({},a,e(a,t[a])))}),{})},Uye=function(e,t,n){return e.map((function(e){return"".concat((a=e,a.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())})))," ").concat(t,"ms ").concat(n);var a})).join(",")};function Wye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(d){c=!0,r=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return o}}(e,t)||Vye(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gye(e){return function(e){if(Array.isArray(e))return $ye(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Vye(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vye(e,t){if(e){if("string"==typeof e)return $ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$ye(e,t):void 0}}function $ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Hye=1e-4,Yye=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},qye=function(e,t){return e.map((function(e,n){return e*Math.pow(t,n)})).reduce((function(e,t){return e+t}))},Qye=function(e,t){return function(n){var a=Yye(e,t);return qye(a,n)}},Zye=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0],r=t[1],i=t[2],s=t[3];if(1===t.length)switch(t[0]){case"linear":a=0,r=0,i=1,s=1;break;case"ease":a=.25,r=.1,i=.25,s=1;break;case"ease-in":a=.42,r=0,i=1,s=1;break;case"ease-out":a=.42,r=0,i=.58,s=1;break;case"ease-in-out":a=0,r=0,i=.58,s=1;break;default:var o=t[0].split("(");if("cubic-bezier"===o[0]&&4===o[1].split(")")[0].split(",").length){var l=Wye(o[1].split(")")[0].split(",").map((function(e){return parseFloat(e)})),4);a=l[0],r=l[1],i=l[2],s=l[3]}}var c,d,u=Qye(a,i),f=Qye(r,s),m=(c=a,d=i,function(e){var t=Yye(c,d),n=[].concat(Gye(t.map((function(e,t){return e*t})).slice(1)),[0]);return qye(n,e)}),p=function(e){for(var t,n=e>1?1:e,a=n,r=0;r<8;++r){var i=u(a)-n,s=m(a);if(Math.abs(i-n)<Hye||s<Hye)return f(a);a=(t=a-i/s)>1?1:t<0?0:t}return f(a)};return p.isStepper=!1,p},Jye=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0];if("string"==typeof a)switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Zye(a);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,a=e.damping,r=void 0===a?8:a,i=e.dt,s=void 0===i?17:i,o=function(e,t,a){var i=a+(-(e-t)*n-a*r)*s/1e3,o=a*s/1e3+e;return Math.abs(o-t)<Hye&&Math.abs(i)<Hye?[t,0]:[o,i]};return o.isStepper=!0,o.dt=s,o}();default:if("cubic-bezier"===a.split("(")[0])return Zye(a)}return"function"==typeof a?a:null};function Kye(e){return(Kye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xye(e){return function(e){if(Array.isArray(e))return ive(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||rve(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function tve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eve(Object(n),!0).forEach((function(t){nve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nve(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Kye(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!==Kye(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Kye(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ave(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(d){c=!0,r=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return o}}(e,t)||rve(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rve(e,t){if(e){if("string"==typeof e)return ive(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ive(e,t):void 0}}function ive(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var sve=function(e,t,n){return e+(t-e)*n},ove=function(e){return e.from!==e.to},lve=function e(t,n,a){var r=Bye((function(e,n){if(ove(n)){var a=ave(t(n.from,n.to,n.velocity),2),r=a[0],i=a[1];return tve(tve({},n),{},{from:r,velocity:i})}return n}),n);return a<1?Bye((function(e,t){return ove(t)?tve(tve({},t),{},{velocity:sve(t.velocity,r[e].velocity,a),from:sve(t.from,r[e].from,a)}):t}),n):e(t,r,a-1)};const cve=function(e,t,n,a,r){var i,s,o,l,c=(i=e,s=t,[Object.keys(i),Object.keys(s)].reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))),d=c.reduce((function(n,a){return tve(tve({},n),{},nve({},a,[e[a],t[a]]))}),{}),u=c.reduce((function(n,a){return tve(tve({},n),{},nve({},a,{from:e[a],velocity:0,to:t[a]}))}),{}),f=-1,m=function(){return null};return m=n.isStepper?function(a){o||(o=a);var i=(a-o)/n.dt;u=lve(n,u,i),r(tve(tve(tve({},e),t),Bye((function(e,t){return t.from}),u))),o=a,Object.values(u).filter(ove).length&&(f=requestAnimationFrame(m))}:function(i){l||(l=i);var s=(i-l)/a,o=Bye((function(e,t){return sve.apply(void 0,Xye(t).concat([n(s)]))}),d);if(r(tve(tve(tve({},e),t),o)),s<1)f=requestAnimationFrame(m);else{var c=Bye((function(e,t){return sve.apply(void 0,Xye(t).concat([n(1)]))}),d);r(tve(tve(tve({},e),t),c))}},function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(f)}}};function dve(e){return(dve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var uve=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function fve(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mve(e){return function(e){if(Array.isArray(e))return pve(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return pve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pve(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function hve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function gve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hve(Object(n),!0).forEach((function(t){xve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xve(e,t,n){return(t=vve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yve(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,vve(a.key),a)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vve(e){var t=function(e,t){if("object"!==dve(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!==dve(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===dve(t)?t:String(t)}function bve(e,t){return(bve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function wve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Cve(e);if(t){var r=Cve(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return jve(this,n)}}function jve(e,t){if(t&&("object"===dve(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Nve(e)}function Nve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cve(e){return(Cve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Sve=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bve(e,t)}(t,ci.PureComponent);var e=wve(t);function t(n,a){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=(r=e.call(this,n,a)).props,s=i.isActive,o=i.attributeName,l=i.from,c=i.to,d=i.steps,u=i.children,f=i.duration;if(r.handleStyleChange=r.handleStyleChange.bind(Nve(r)),r.changeStyle=r.changeStyle.bind(Nve(r)),!s||f<=0)return r.state={style:{}},"function"==typeof u&&(r.state={style:c}),jve(r);if(d&&d.length)r.state={style:d[0].style};else if(l){if("function"==typeof u)return r.state={style:l},jve(r);r.state={style:o?xve({},o,l):l}}else r.state={style:{}};return r}return yve(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,a=t.canBegin,r=t.attributeName,i=t.shouldReAnimate,s=t.to,o=t.from,l=this.state.style;if(a)if(n){if(!(_ye(e.to,s)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var d=c||i?o:e.to;if(this.state&&l){var u={style:r?xve({},r,d):d};(r&&l[r]!==d||!r&&l!==d)&&this.setState(u)}this.runAnimation(gve(gve({},this.props),{},{from:d,begin:0}))}}else{var f={style:r?xve({},r,s):s};this.state&&l&&(r&&l[r]!==s||!r&&l!==s)&&this.setState(f)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,a=e.to,r=e.duration,i=e.easing,s=e.begin,o=e.onAnimationEnd,l=e.onAnimationStart,c=cve(n,a,Jye(i),r,this.changeStyle);this.manager.start([l,s,function(){t.stopJSAnimation=c()},r,o])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,a=e.begin,r=e.onAnimationStart,i=n[0],s=i.style,o=i.duration,l=void 0===o?0:o;return this.manager.start([r].concat(mve(n.reduce((function(e,a,r){if(0===r)return e;var i=a.duration,s=a.easing,o=void 0===s?"ease":s,l=a.style,c=a.properties,d=a.onAnimationEnd,u=r>0?n[r-1]:a,f=c||Object.keys(l);if("function"==typeof o||"spring"===o)return[].concat(mve(e),[t.runJSAnimation.bind(t,{from:u.style,to:l,duration:i,easing:o}),i]);var m=Uye(f,i,o),p=gve(gve(gve({},u.style),l),{},{transition:m});return[].concat(mve(e),[p,i,d]).filter(Fye)}),[s,Math.max(l,a)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=Dye());var t=e.begin,n=e.duration,a=e.attributeName,r=e.to,i=e.easing,s=e.onAnimationStart,o=e.onAnimationEnd,l=e.steps,c=e.children,d=this.manager;if(this.unSubscribe=d.subscribe(this.handleStyleChange),"function"!=typeof i&&"function"!=typeof c&&"spring"!==i)if(l.length>1)this.runStepAnimation(e);else{var u=a?xve({},a,r):r,f=Uye(Object.keys(u),n,i);d.start([s,t,gve(gve({},u),{},{transition:f}),n,o])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children;e.begin;var n=e.duration;e.attributeName,e.easing;var a=e.isActive;e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart;var r=fve(e,uve),i=ci.Children.count(t),s=this.state.style;if("function"==typeof t)return t(s);if(!a||0===i||n<=0)return t;var o=function(e){var t=e.props,n=t.style,a=void 0===n?{}:n,i=t.className;return ci.cloneElement(e,gve(gve({},r),{},{style:gve(gve({},a),s),className:i}))};return 1===i?o(ci.Children.only(t)):di.createElement("div",null,ci.Children.map(t,(function(e){return o(e)})))}}]),t}();function kve(){return kve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},kve.apply(null,arguments)}function Mve(e){return(Mve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _ve(){return _ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_ve.apply(this,arguments)}function Eve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(d){c=!0,r=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ive(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ive(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ive(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Lve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ave(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lve(Object(n),!0).forEach((function(t){Tve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tve(e,t,n){var a;return a=function(e,t){if("object"!=Mve(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=Mve(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Mve(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Sve.displayName="Animate",Sve.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},Sve.propTypes={from:Xxe.oneOfType([Xxe.object,Xxe.string]),to:Xxe.oneOfType([Xxe.object,Xxe.string]),attributeName:Xxe.string,duration:Xxe.number,begin:Xxe.number,easing:Xxe.oneOfType([Xxe.string,Xxe.func]),steps:Xxe.arrayOf(Xxe.shape({duration:Xxe.number.isRequired,style:Xxe.object.isRequired,easing:Xxe.oneOfType([Xxe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Xxe.func]),properties:Xxe.arrayOf("string"),onAnimationEnd:Xxe.func})),children:Xxe.oneOfType([Xxe.node,Xxe.func]),isActive:Xxe.bool,canBegin:Xxe.bool,onAnimationEnd:Xxe.func,shouldReAnimate:Xxe.bool,onAnimationStart:Xxe.func,onAnimationReStart:Xxe.func};var Dve=function(e,t,n,a,r){var i,s=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0;if(s>0&&r instanceof Array){for(var d=[0,0,0,0],u=0;u<4;u++)d[u]=r[u]>s?s:r[u];i="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(i+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),i+="L ".concat(e+n-l*d[1],",").concat(t),d[1]>0&&(i+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+o*d[1])),i+="L ".concat(e+n,",").concat(t+a-o*d[2]),d[2]>0&&(i+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,",\n        ").concat(e+n-l*d[2],",").concat(t+a)),i+="L ".concat(e+l*d[3],",").concat(t+a),d[3]>0&&(i+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+a-o*d[3])),i+="Z"}else if(s>0&&r===+r&&r>0){var f=Math.min(s,r);i="M ".concat(e,",").concat(t+o*f,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+l*f,",").concat(t,"\n            L ").concat(e+n-l*f,",").concat(t,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+n,",").concat(t+o*f,"\n            L ").concat(e+n,",").concat(t+a-o*f,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+n-l*f,",").concat(t+a,"\n            L ").concat(e+l*f,",").concat(t+a,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e,",").concat(t+a-o*f," Z")}else i="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return i},Pve=function(e,t){if(!e||!t)return!1;var n=e.x,a=e.y,r=t.x,i=t.y,s=t.width,o=t.height;if(Math.abs(s)>0&&Math.abs(o)>0){var l=Math.min(r,r+s),c=Math.max(r,r+s),d=Math.min(i,i+o),u=Math.max(i,i+o);return n>=l&&n<=c&&a>=d&&a<=u}return!1},Ove={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rve=function(e){var t=Ave(Ave({},Ove),e),n=ci.useRef(),a=Eve(ci.useState(-1),2),r=a[0],i=a[1];ci.useEffect((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&i(e)}catch(Bze){}}),[]);var s=t.x,o=t.y,l=t.width,c=t.height,d=t.radius,u=t.className,f=t.animationEasing,m=t.animationDuration,p=t.animationBegin,h=t.isAnimationActive,g=t.isUpdateAnimationActive;if(s!==+s||o!==+o||l!==+l||c!==+c||0===l||0===c)return null;var x=ub("recharts-rectangle",u);return g?di.createElement(Sve,{canBegin:r>0,from:{width:l,height:c,x:s,y:o},to:{width:l,height:c,x:s,y:o},duration:m,animationEasing:f,isActive:g},(function(e){var a=e.width,i=e.height,s=e.x,o=e.y;return di.createElement(Sve,{canBegin:r>0,from:"0px ".concat(-1===r?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:m,isActive:h,easing:f},di.createElement("path",_ve({},Bte(t,!0),{className:x,d:Dve(s,o,a,i,d),ref:n})))})):di.createElement("path",_ve({},Bte(t,!0),{className:x,d:Dve(s,o,l,c,d)}))},zve=["points","className","baseLinePoints","connectNulls"];function Fve(){return Fve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Fve.apply(this,arguments)}function Bve(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Uve(e){return function(e){if(Array.isArray(e))return Wve(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Wve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wve(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Gve=function(e){return e&&e.x===+e.x&&e.y===+e.y},Vve=function(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach((function(e){Gve(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])})),Gve(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(n=[n.reduce((function(e,t){return[].concat(Uve(e),Uve(t))}),[])]);var a=n.map((function(e){return e.reduce((function(e,t,n){return"".concat(e).concat(0===n?"M":"L").concat(t.x,",").concat(t.y)}),"")})).join("");return 1===n.length?"".concat(a,"Z"):a},$ve=function(e){var t=e.points,n=e.className,a=e.baseLinePoints,r=e.connectNulls,i=Bve(e,zve);if(!t||!t.length)return null;var s=ub("recharts-polygon",n);if(a&&a.length){var o=i.stroke&&"none"!==i.stroke,l=function(e,t,n){var a=Vve(e,n);return"".concat("Z"===a.slice(-1)?a.slice(0,-1):a,"L").concat(Vve(t.reverse(),n).slice(1))}(t,a,r);return di.createElement("g",{className:s},di.createElement("path",Fve({},Bte(i,!0),{fill:"Z"===l.slice(-1)?i.fill:"none",stroke:"none",d:l})),o?di.createElement("path",Fve({},Bte(i,!0),{fill:"none",d:Vve(t,r)})):null,o?di.createElement("path",Fve({},Bte(i,!0),{fill:"none",d:Vve(a,r)})):null)}var c=Vve(t,r);return di.createElement("path",Fve({},Bte(i,!0),{fill:"Z"===c.slice(-1)?i.fill:"none",className:s,d:c}))};function Hve(){return Hve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Hve.apply(this,arguments)}var Yve=function(e){var t=e.cx,n=e.cy,a=e.r,r=ub("recharts-dot",e.className);return t===+t&&n===+n&&a===+a?di.createElement("circle",Hve({},Bte(e,!1),Cte(e),{className:r,cx:t,cy:n,r:a})):null};function qve(e){return(qve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Qve=["x","y","top","left","width","height","className"];function Zve(){return Zve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Zve.apply(this,arguments)}function Jve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Kve(e,t,n){var a;return a=function(e,t){if("object"!=qve(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=qve(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==qve(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xve(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var ebe=function(e,t,n,a,r,i){return"M".concat(e,",").concat(r,"v").concat(a,"M").concat(i,",").concat(t,"h").concat(n)},tbe=function(e){var t=e.x,n=void 0===t?0:t,a=e.y,r=void 0===a?0:a,i=e.top,s=void 0===i?0:i,o=e.left,l=void 0===o?0:o,c=e.width,d=void 0===c?0:c,u=e.height,f=void 0===u?0:u,m=e.className,p=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jve(Object(n),!0).forEach((function(t){Kve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({x:n,y:r,top:s,left:l,width:d,height:f},Xve(e,Qve));return lte(n)&&lte(r)&&lte(d)&&lte(f)&&lte(s)&&lte(l)?di.createElement("path",Zve({},Bte(p,!0),{className:ub("recharts-cross",m),d:ebe(n,r,d,f,s,l)})):null},nbe=kpe,abe=Mpe,rbe=coe;const ibe=Cr((function(e,t){return e&&e.length?nbe(e,rbe(t),abe):void 0}));var sbe=kpe,obe=coe,lbe=Ape;const cbe=Cr((function(e,t){return e&&e.length?sbe(e,obe(t),lbe):void 0}));var dbe=["cx","cy","angle","ticks","axisLine"],ube=["ticks","tick","angle","tickFormatter","stroke"];function fbe(e){return(fbe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mbe(){return mbe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},mbe.apply(this,arguments)}function pbe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function hbe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pbe(Object(n),!0).forEach((function(t){jbe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pbe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gbe(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xbe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Nbe(a.key),a)}}function ybe(e,t,n){return t=bbe(t),function(e,t){if(t&&("object"===fbe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,vbe()?Reflect.construct(t,n||[],bbe(e).constructor):t.apply(e,n))}function vbe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(vbe=function(){return!!e})()}function bbe(e){return(bbe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wbe(e,t){return(wbe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function jbe(e,t,n){return(t=Nbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nbe(e){var t=function(e,t){if("object"!=fbe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=fbe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==fbe(t)?t:t+""}var Cbe=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ybe(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wbe(e,t)}(e,ci.PureComponent),t=e,a=[{key:"renderTickItem",value:function(e,t,n){return di.isValidElement(e)?di.cloneElement(e,t):z8(e)?e(t):di.createElement(Rde,mbe({},t,{className:"recharts-polar-radius-axis-tick-value"}),n)}}],(n=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,n=this.props,a=n.angle,r=n.cx,i=n.cy;return Xge(r,i,t,a)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,n=e.cy,a=e.angle,r=e.ticks,i=ibe(r,(function(e){return e.coordinate||0}));return{cx:t,cy:n,startAngle:a,endAngle:a,innerRadius:cbe(r,(function(e){return e.coordinate||0})).coordinate||0,outerRadius:i.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,a=e.angle,r=e.ticks,i=e.axisLine,s=gbe(e,dbe),o=r.reduce((function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]}),[1/0,-1/0]),l=Xge(t,n,o[0],a),c=Xge(t,n,o[1],a),d=hbe(hbe(hbe({},Bte(s,!1)),{},{fill:"none"},Bte(i,!1)),{},{x1:l.x,y1:l.y,x2:c.x,y2:c.y});return di.createElement("line",mbe({className:"recharts-polar-radius-axis-line"},d))}},{key:"renderTicks",value:function(){var t=this,n=this.props,a=n.ticks,r=n.tick,i=n.angle,s=n.tickFormatter,o=n.stroke,l=gbe(n,ube),c=this.getTickTextAnchor(),d=Bte(l,!1),u=Bte(r,!1),f=a.map((function(n,a){var l=t.getTickValueCoord(n),f=hbe(hbe(hbe(hbe({textAnchor:c,transform:"rotate(".concat(90-i,", ").concat(l.x,", ").concat(l.y,")")},d),{},{stroke:"none",fill:o},u),{},{index:a},l),{},{payload:n});return di.createElement(Jte,mbe({className:ub("recharts-polar-radius-axis-tick",rxe(r)),key:"tick-".concat(n.coordinate)},Ste(t.props,n,a)),e.renderTickItem(r,f,s?s(n.value,a):n.value))}));return di.createElement(Jte,{className:"recharts-polar-radius-axis-ticks"},f)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.axisLine,a=e.tick;return t&&t.length?di.createElement(Jte,{className:ub("recharts-polar-radius-axis",this.props.className)},n&&this.renderAxisLine(),a&&this.renderTicks(),hxe.renderCallByParent(this.props,this.getViewBox())):null}}])&&xbe(t.prototype,n),a&&xbe(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}();function Sbe(e){return(Sbe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kbe(){return kbe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},kbe.apply(this,arguments)}function Mbe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mbe(Object(n),!0).forEach((function(t){Dbe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mbe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ebe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Pbe(a.key),a)}}function Ibe(e,t,n){return t=Abe(t),function(e,t){if(t&&("object"===Sbe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Lbe()?Reflect.construct(t,n||[],Abe(e).constructor):t.apply(e,n))}function Lbe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Lbe=function(){return!!e})()}function Abe(e){return(Abe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tbe(e,t){return(Tbe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Dbe(e,t,n){return(t=Pbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pbe(e){var t=function(e,t){if("object"!=Sbe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=Sbe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Sbe(t)?t:t+""}jbe(Cbe,"displayName","PolarRadiusAxis"),jbe(Cbe,"axisType","radiusAxis"),jbe(Cbe,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var Obe=Math.PI/180,Rbe=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ibe(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tbe(e,t)}(e,ci.PureComponent),t=e,a=[{key:"renderTickItem",value:function(e,t,n){return di.isValidElement(e)?di.cloneElement(e,t):z8(e)?e(t):di.createElement(Rde,kbe({},t,{className:"recharts-polar-angle-axis-tick-value"}),n)}}],(n=[{key:"getTickLineCoord",value:function(e){var t=this.props,n=t.cx,a=t.cy,r=t.radius,i=t.orientation,s=t.tickSize||8,o=Xge(n,a,r,e.coordinate),l=Xge(n,a,r+("inner"===i?-1:1)*s,e.coordinate);return{x1:o.x,y1:o.y,x2:l.x,y2:l.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,n=Math.cos(-e.coordinate*Obe);return n>1e-5?"outer"===t?"start":"end":n<-1e-5?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,a=e.radius,r=e.axisLine,i=e.axisLineType,s=_be(_be({},Bte(this.props,!1)),{},{fill:"none"},Bte(r,!1));if("circle"===i)return di.createElement(Yve,kbe({className:"recharts-polar-angle-axis-line"},s,{cx:t,cy:n,r:a}));var o=this.props.ticks.map((function(e){return Xge(t,n,a,e.coordinate)}));return di.createElement($ve,kbe({className:"recharts-polar-angle-axis-line"},s,{points:o}))}},{key:"renderTicks",value:function(){var t=this,n=this.props,a=n.ticks,r=n.tick,i=n.tickLine,s=n.tickFormatter,o=n.stroke,l=Bte(this.props,!1),c=Bte(r,!1),d=_be(_be({},l),{},{fill:"none"},Bte(i,!1)),u=a.map((function(n,a){var u=t.getTickLineCoord(n),f=_be(_be(_be({textAnchor:t.getTickTextAnchor(n)},l),{},{stroke:"none",fill:o},c),{},{index:a,payload:n,x:u.x2,y:u.y2});return di.createElement(Jte,kbe({className:ub("recharts-polar-angle-axis-tick",rxe(r)),key:"tick-".concat(n.coordinate)},Ste(t.props,n,a)),i&&di.createElement("line",kbe({className:"recharts-polar-angle-axis-tick-line"},d,u)),r&&e.renderTickItem(r,f,s?s(n.value,a):n.value))}));return di.createElement(Jte,{className:"recharts-polar-angle-axis-ticks"},u)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.radius,a=e.axisLine;return n<=0||!t||!t.length?null:di.createElement(Jte,{className:ub("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}])&&Ebe(t.prototype,n),a&&Ebe(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}();Dbe(Rbe,"displayName","PolarAngleAxis"),Dbe(Rbe,"axisType","angleAxis"),Dbe(Rbe,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var zbe=Mie(Object.getPrototypeOf,Object),Fbe=N8,Bbe=zbe,Ube=C8,Wbe=Function.prototype,Gbe=Object.prototype,Vbe=Wbe.toString,$be=Gbe.hasOwnProperty,Hbe=Vbe.call(Object);const Ybe=Cr((function(e){if(!Ube(e)||"[object Object]"!=Fbe(e))return!1;var t=Bbe(e);if(null===t)return!0;var n=$be.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Vbe.call(n)==Hbe}));var qbe=N8,Qbe=C8;const Zbe=Cr((function(e){return!0===e||!1===e||Qbe(e)&&"[object Boolean]"==qbe(e)}));function Jbe(e){return(Jbe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kbe(){return Kbe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Kbe.apply(this,arguments)}function Xbe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(d){c=!0,r=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ewe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ewe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ewe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function twe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function nwe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?twe(Object(n),!0).forEach((function(t){awe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):twe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function awe(e,t,n){var a;return a=function(e,t){if("object"!=Jbe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=Jbe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Jbe(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rwe,iwe=function(e,t,n,a,r){var i,s=n-a;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+n,",").concat(t),i+="L ".concat(e+n-s/2,",").concat(t+r),i+="L ".concat(e+n-s/2-a,",").concat(t+r),i+="L ".concat(e,",").concat(t," Z")},swe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},owe=function(e){var t=nwe(nwe({},swe),e),n=ci.useRef(),a=Xbe(ci.useState(-1),2),r=a[0],i=a[1];ci.useEffect((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&i(e)}catch(Bze){}}),[]);var s=t.x,o=t.y,l=t.upperWidth,c=t.lowerWidth,d=t.height,u=t.className,f=t.animationEasing,m=t.animationDuration,p=t.animationBegin,h=t.isUpdateAnimationActive;if(s!==+s||o!==+o||l!==+l||c!==+c||d!==+d||0===l&&0===c||0===d)return null;var g=ub("recharts-trapezoid",u);return h?di.createElement(Sve,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:d,x:s,y:o},to:{upperWidth:l,lowerWidth:c,height:d,x:s,y:o},duration:m,animationEasing:f,isActive:h},(function(e){var a=e.upperWidth,i=e.lowerWidth,s=e.height,o=e.x,l=e.y;return di.createElement(Sve,{canBegin:r>0,from:"0px ".concat(-1===r?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:m,easing:f},di.createElement("path",Kbe({},Bte(t,!0),{className:g,d:iwe(o,l,a,i,s),ref:n})))})):di.createElement("g",null,di.createElement("path",Kbe({},Bte(t,!0),{className:g,d:iwe(s,o,l,c,d)})))},lwe=["option","shapeType","propTransformer","activeClassName","isActive"];function cwe(e){return(cwe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dwe(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uwe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function fwe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uwe(Object(n),!0).forEach((function(t){mwe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uwe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mwe(e,t,n){var a;return a=function(e,t){if("object"!=cwe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=cwe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==cwe(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pwe(e,t){return fwe(fwe({},t),e)}function hwe(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return di.createElement(Rve,n);case"trapezoid":return di.createElement(owe,n);case"sector":return di.createElement(zxe,n);case"symbols":if(function(e){return"symbols"===e}(t))return di.createElement(Rae,n);break;default:return null}}function gwe(e){var t,n=e.option,a=e.shapeType,r=e.propTransformer,i=void 0===r?pwe:r,s=e.activeClassName,o=void 0===s?"recharts-active-shape":s,l=e.isActive,c=dwe(e,lwe);if(ci.isValidElement(n))t=ci.cloneElement(n,fwe(fwe({},c),function(e){return ci.isValidElement(e)?e.props:e}(n)));else if(z8(n))t=n(c);else if(Ybe(n)&&!Zbe(n)){var d=i(n,c);t=di.createElement(hwe,{shapeType:a,elementProps:d})}else{var u=c;t=di.createElement(hwe,{shapeType:a,elementProps:u})}return l?di.createElement(Jte,{className:o},t):t}function xwe(e,t){return null!=t&&"trapezoids"in e.props}function ywe(e,t){return null!=t&&"sectors"in e.props}function vwe(e,t){return null!=t&&"points"in e.props}function bwe(e,t){var n,a,r=e.x===(null==t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,i=e.y===(null==t||null===(a=t.labelViewBox)||void 0===a?void 0:a.y)||e.y===t.y;return r&&i}function wwe(e,t){var n=e.endAngle===t.endAngle,a=e.startAngle===t.startAngle;return n&&a}function jwe(e,t){var n=e.x===t.x,a=e.y===t.y,r=e.z===t.z;return n&&a&&r}function Nwe(e){var t=e.activeTooltipItem,n=e.graphicalItem,a=e.itemData,r=function(e,t){var n;return xwe(e,t)?n="trapezoids":ywe(e,t)?n="sectors":vwe(e,t)&&(n="points"),n}(n,t),i=function(e,t){var n,a;return xwe(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:ywe(e,t)?null===(a=t.tooltipPayload)||void 0===a||null===(a=a[0])||void 0===a||null===(a=a.payload)||void 0===a?void 0:a.payload:vwe(e,t)?t.payload:{}}(n,t),s=a.filter((function(e,a){var s=$pe(i,e),o=n.props[r].filter((function(e){var a=function(e,t){var n;return xwe(e,t)?n=bwe:ywe(e,t)?n=wwe:vwe(e,t)&&(n=jwe),n}(n,t);return a(e,t)})),l=n.props[r].indexOf(o[o.length-1]);return s&&a===l}));return a.indexOf(s[s.length-1])}function Cwe(e){return(Cwe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Swe(){return Swe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Swe.apply(this,arguments)}function kwe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Mwe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kwe(Object(n),!0).forEach((function(t){Twe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kwe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _we(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Dwe(a.key),a)}}function Ewe(e,t,n){return t=Lwe(t),function(e,t){if(t&&("object"===Cwe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Iwe()?Reflect.construct(t,n||[],Lwe(e).constructor):t.apply(e,n))}function Iwe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Iwe=function(){return!!e})()}function Lwe(e){return(Lwe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Awe(e,t){return(Awe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Twe(e,t,n){return(t=Dwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dwe(e){var t=function(e,t){if("object"!=Cwe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=Cwe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Cwe(t)?t:t+""}var Pwe=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Twe(n=Ewe(this,e,[t]),"pieRef",null),Twe(n,"sectorRefs",[]),Twe(n,"id",ute("recharts-pie-")),Twe(n,"handleAnimationEnd",(function(){var e=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),z8(e)&&e()})),Twe(n,"handleAnimationStart",(function(){var e=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),z8(e)&&e()})),n.state={isAnimationFinished:!t.isAnimationActive,prevIsAnimationActive:t.isAnimationActive,prevAnimationId:t.animationId,sectorToFocus:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Awe(e,t)}(e,ci.PureComponent),t=e,a=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t,n){if(di.isValidElement(e))return di.cloneElement(e,t);if(z8(e))return e(t);var a=ub("recharts-pie-label-line","boolean"!=typeof e?e.className:"");return di.createElement(Qxe,Swe({},t,{key:n,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(e,t,n){if(di.isValidElement(e))return di.cloneElement(e,t);var a=n;if(z8(e)&&(a=e(t),di.isValidElement(a)))return a;var r=ub("recharts-pie-label-text","boolean"==typeof e||z8(e)?"":e.className);return di.createElement(Rde,Swe({},t,{alignmentBaseline:"middle",className:r}),a)}}],(n=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,a=n.label,r=n.labelLine,i=n.dataKey,s=n.valueKey,o=Bte(this.props,!1),l=Bte(a,!1),c=Bte(r,!1),d=a&&a.offsetRadius||20,u=t.map((function(t,n){var u=(t.startAngle+t.endAngle)/2,f=Xge(t.cx,t.cy,t.outerRadius+d,u),m=Mwe(Mwe(Mwe(Mwe({},o),t),{},{stroke:"none"},l),{},{index:n,textAnchor:e.getTextAnchor(f.x,t.cx)},f),p=Mwe(Mwe(Mwe(Mwe({},o),t),{},{fill:"none",stroke:t.fill},c),{},{index:n,points:[Xge(t.cx,t.cy,t.outerRadius,u),f]}),h=i;return Iee(i)&&Iee(s)?h="value":Iee(i)&&(h=s),di.createElement(Jte,{key:"label-".concat(t.startAngle,"-").concat(t.endAngle,"-").concat(t.midAngle,"-").concat(n)},r&&e.renderLabelLineItem(r,p,"line"),e.renderLabelItem(a,m,bge(t,h)))}));return di.createElement(Jte,{className:"recharts-pie-labels"},u)}},{key:"renderSectorsStatically",value:function(e){var t=this,n=this.props,a=n.activeShape,r=n.blendStroke,i=n.inactiveShape;return e.map((function(n,s){if(0===(null==n?void 0:n.startAngle)&&0===(null==n?void 0:n.endAngle)&&1!==e.length)return null;var o=t.isActiveIndex(s),l=i&&t.hasActiveIndex()?i:null,c=o?a:l,d=Mwe(Mwe({},n),{},{stroke:r?n.fill:n.stroke,tabIndex:-1});return di.createElement(Jte,Swe({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},Ste(t.props,n,s),{key:"sector-".concat(null==n?void 0:n.startAngle,"-").concat(null==n?void 0:n.endAngle,"-").concat(n.midAngle,"-").concat(s)}),di.createElement(gwe,Swe({option:c,isActive:o,shapeType:"sector"},d)))}))}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,n=t.sectors,a=t.isAnimationActive,r=t.animationBegin,i=t.animationDuration,s=t.animationEasing,o=t.animationId,l=this.state,c=l.prevSectors,d=l.prevIsAnimationActive;return di.createElement(Sve,{begin:r,duration:i,isActive:a,easing:s,from:{t:0},to:{t:1},key:"pie-".concat(o,"-").concat(d),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},(function(t){var a=t.t,r=[],i=(n&&n[0]).startAngle;return n.forEach((function(e,t){var n=c&&c[t],s=t>0?Eee(e,"paddingAngle",0):0;if(n){var o=pte(n.endAngle-n.startAngle,e.endAngle-e.startAngle),l=Mwe(Mwe({},e),{},{startAngle:i+s,endAngle:i+o(a)+s});r.push(l),i=l.endAngle}else{var d=e.endAngle,u=e.startAngle,f=pte(0,d-u)(a),m=Mwe(Mwe({},e),{},{startAngle:i+s,endAngle:i+f+s});r.push(m),i=m.endAngle}})),di.createElement(Jte,null,e.renderSectorsStatically(r))}))}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var n=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"ArrowRight":var a=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[a].focus(),t.setState({sectorToFocus:a});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,n=e.isAnimationActive,a=this.state.prevSectors;return!(n&&t&&t.length)||a&&$pe(a,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,n=t.hide,a=t.sectors,r=t.className,i=t.label,s=t.cx,o=t.cy,l=t.innerRadius,c=t.outerRadius,d=t.isAnimationActive,u=this.state.isAnimationFinished;if(n||!a||!a.length||!lte(s)||!lte(o)||!lte(l)||!lte(c))return null;var f=ub("recharts-pie",r);return di.createElement(Jte,{tabIndex:this.props.rootTabIndex,className:f,ref:function(t){e.pieRef=t}},this.renderSectors(),i&&this.renderLabels(a),hxe.renderCallByParent(this.props,null,!1),(!d||u)&&Exe.renderCallByParent(this.props,a,!1))}}])&&_we(t.prototype,n),a&&_we(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}();rwe=Pwe,Twe(Pwe,"displayName","Pie"),Twe(Pwe,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!fce.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),Twe(Pwe,"parseDeltaAngle",(function(e,t){return ste(t-e)*Math.min(Math.abs(t-e),360)})),Twe(Pwe,"getRealPieData",(function(e){var t=e.data,n=e.children,a=Bte(e,!1),r=Pte(n,ede);return t&&t.length?t.map((function(e,t){return Mwe(Mwe(Mwe({payload:e},a),e),r&&r[t]&&r[t].props)})):r&&r.length?r.map((function(e){return Mwe(Mwe({},a),e.props)})):[]})),Twe(Pwe,"parseCoordinateOfPie",(function(e,t){var n=t.top,a=t.left,r=t.width,i=t.height,s=exe(r,i);return{cx:a+fte(e.cx,r,r/2),cy:n+fte(e.cy,i,i/2),innerRadius:fte(e.innerRadius,s,0),outerRadius:fte(e.outerRadius,s,.8*s),maxRadius:e.maxRadius||Math.sqrt(r*r+i*i)/2}})),Twe(Pwe,"getComposedData",(function(e){var t=e.item,n=e.offset,a=void 0!==t.type.defaultProps?Mwe(Mwe({},t.type.defaultProps),t.props):t.props,r=rwe.getRealPieData(a);if(!r||!r.length)return null;var i=a.cornerRadius,s=a.startAngle,o=a.endAngle,l=a.paddingAngle,c=a.dataKey,d=a.nameKey,u=a.valueKey,f=a.tooltipType,m=Math.abs(a.minAngle),p=rwe.parseCoordinateOfPie(a,n),h=rwe.parseDeltaAngle(s,o),g=Math.abs(h),x=c;Iee(c)&&Iee(u)?(Kte(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),x="value"):Iee(c)&&(Kte(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),x=u);var y,v,b=r.filter((function(e){return 0!==bge(e,x,0)})).length,w=g-b*m-(g>=360?b:b-1)*l,j=r.reduce((function(e,t){var n=bge(t,x,0);return e+(lte(n)?n:0)}),0);j>0&&(y=r.map((function(e,t){var n,a=bge(e,x,0),r=bge(e,d,t),o=(lte(a)?a:0)/j,c=(n=t?v.endAngle+ste(h)*l*(0!==a?1:0):s)+ste(h)*((0!==a?m:0)+o*w),u=(n+c)/2,g=(p.innerRadius+p.outerRadius)/2,y=[{name:r,value:a,payload:e,dataKey:x,type:f}],b=Xge(p.cx,p.cy,g,u);return v=Mwe(Mwe(Mwe({percent:o,cornerRadius:i,name:r,tooltipPayload:y,midAngle:u,middleRadius:g,tooltipPosition:b},e),p),{},{value:bge(e,x),startAngle:n,endAngle:c,payload:e,paddingAngle:ste(h)*l})})));return Mwe(Mwe({},p),{},{sectors:y,data:r})}));var Owe=Math.ceil,Rwe=Math.max;var zwe=Oce,Fwe=1/0;var Bwe=function(e){return e?(e=zwe(e))===Fwe||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},Uwe=function(e,t,n,a){for(var r=-1,i=Rwe(Owe((t-e)/(n||1)),0),s=Array(i);i--;)s[a?i:++r]=e,e+=n;return s},Wwe=Ple,Gwe=Bwe;const Vwe=Cr(function(e){return function(t,n,a){return a&&"number"!=typeof a&&Wwe(t,n,a)&&(n=a=void 0),t=Gwe(t),void 0===n?(n=t,t=0):n=Gwe(n),a=void 0===a?t<n?1:-1:Gwe(a),Uwe(t,n,a,e)}}());function $we(e){return($we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hwe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ywe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hwe(Object(n),!0).forEach((function(t){qwe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hwe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qwe(e,t,n){var a;return a=function(e,t){if("object"!=$we(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=$we(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==$we(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qwe=["Webkit","Moz","O","ms"];function Zwe(e){return(Zwe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jwe(){return Jwe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Jwe.apply(this,arguments)}function Kwe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Xwe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kwe(Object(n),!0).forEach((function(t){ije(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kwe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eje(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,sje(a.key),a)}}function tje(e,t,n){return t=aje(t),function(e,t){if(t&&("object"===Zwe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,nje()?Reflect.construct(t,n||[],aje(e).constructor):t.apply(e,n))}function nje(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(nje=function(){return!!e})()}function aje(e){return(aje=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rje(e,t){return(rje=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ije(e,t,n){return(t=sje(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sje(e){var t=function(e,t){if("object"!=Zwe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=Zwe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Zwe(t)?t:t+""}var oje=function(e){return e.changedTouches&&!!e.changedTouches.length},lje=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ije(n=tje(this,e,[t]),"handleDrag",(function(e){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(e):n.state.isSlideMoving&&n.handleSlideDrag(e)})),ije(n,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&n.handleDrag(e.changedTouches[0])})),ije(n,"handleDragEnd",(function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},(function(){var e=n.props,t=e.endIndex,a=e.onDragEnd,r=e.startIndex;null==a||a({endIndex:t,startIndex:r})})),n.detachDragEndListener()})),ije(n,"handleLeaveWrapper",(function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))})),ije(n,"handleEnterSlideOrTraveller",(function(){n.setState({isTextActive:!0})})),ije(n,"handleLeaveSlideOrTraveller",(function(){n.setState({isTextActive:!1})})),ije(n,"handleSlideDragStart",(function(e){var t=oje(e)?e.changedTouches[0]:e;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),n.attachDragEndListener()})),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rje(e,t)}(e,ci.PureComponent),t=e,a=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,a=e.width,r=e.height,i=e.stroke,s=Math.floor(n+r/2)-1;return di.createElement(di.Fragment,null,di.createElement("rect",{x:t,y:n,width:a,height:r,fill:i,stroke:"none"}),di.createElement("line",{x1:t+1,y1:s,x2:t+a-1,y2:s,fill:"none",stroke:"#fff"}),di.createElement("line",{x1:t+1,y1:s+2,x2:t+a-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(t,n){return di.isValidElement(t)?di.cloneElement(t,n):z8(t)?t(n):e.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,a=e.width,r=e.x,i=e.travellerWidth,s=e.updateId,o=e.startIndex,l=e.endIndex;if(n!==t.prevData||s!==t.prevUpdateId)return Xwe({prevData:n,prevTravellerWidth:i,prevUpdateId:s,prevX:r,prevWidth:a},n&&n.length?function(e){var t=e.data,n=e.startIndex,a=e.endIndex,r=e.x,i=e.width,s=e.travellerWidth;if(!t||!t.length)return{};var o=t.length,l=fue().domain(Vwe(0,o)).range([r,r+i-s]),c=l.domain().map((function(e){return l(e)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(a),scale:l,scaleValues:c}}({data:n,width:a,x:r,travellerWidth:i,startIndex:o,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(a!==t.prevWidth||r!==t.prevX||i!==t.prevTravellerWidth)){t.scale.range([r,r+a-i]);var c=t.scale.domain().map((function(e){return t.scale(e)}));return{prevData:n,prevTravellerWidth:i,prevUpdateId:s,prevX:r,prevWidth:a,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,a=e.length-1;a-n>1;){var r=Math.floor((n+a)/2);e[r]>t?a=r:n=r}return t>=e[a]?a:n}}],(n=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(t){var n=t.startX,a=t.endX,r=this.state.scaleValues,i=this.props,s=i.gap,o=i.data.length-1,l=Math.min(n,a),c=Math.max(n,a),d=e.getIndexInRange(r,l),u=e.getIndexInRange(r,c);return{startIndex:d-d%s,endIndex:u===o?o:u-u%s}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,a=t.tickFormatter,r=t.dataKey,i=bge(n[e],r,e);return z8(a)?a(i,e):i}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,a=t.startX,r=t.endX,i=this.props,s=i.x,o=i.width,l=i.travellerWidth,c=i.startIndex,d=i.endIndex,u=i.onChange,f=e.pageX-n;f>0?f=Math.min(f,s+o-l-r,s+o-l-a):f<0&&(f=Math.max(f,s-a,s-r));var m=this.getIndex({startX:a+f,endX:r+f});m.startIndex===c&&m.endIndex===d||!u||u(m),this.setState({startX:a+f,endX:r+f,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=oje(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,a=t.movingTravellerId,r=t.endX,i=t.startX,s=this.state[a],o=this.props,l=o.x,c=o.width,d=o.travellerWidth,u=o.onChange,f=o.gap,m=o.data,p={startX:this.state.startX,endX:this.state.endX},h=e.pageX-n;h>0?h=Math.min(h,l+c-d-s):h<0&&(h=Math.max(h,l-s)),p[a]=s+h;var g=this.getIndex(p),x=g.startIndex,y=g.endIndex;this.setState(ije(ije({},a,s+h),"brushMoveStartX",e.pageX),(function(){var e;u&&(e=m.length-1,("startX"===a&&(r>i?x%f===0:y%f===0)||r<i&&y===e||"endX"===a&&(r>i?y%f===0:x%f===0)||r>i&&y===e)&&u(g))}))}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,a=this.state,r=a.scaleValues,i=a.startX,s=a.endX,o=this.state[t],l=r.indexOf(o);if(-1!==l){var c=l+e;if(!(-1===c||c>=r.length)){var d=r[c];"startX"===t&&d>=s||"endX"===t&&d<=i||this.setState(ije({},t,d),(function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))}))}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,a=e.width,r=e.height,i=e.fill,s=e.stroke;return di.createElement("rect",{stroke:s,fill:i,x:t,y:n,width:a,height:r})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,a=e.width,r=e.height,i=e.data,s=e.children,o=e.padding,l=ci.Children.only(s);return l?di.cloneElement(l,{x:t,y:n,width:a,height:r,margin:o,compact:!0,data:i}):null}},{key:"renderTravellerLayer",value:function(t,n){var a,r,i=this,s=this.props,o=s.y,l=s.travellerWidth,c=s.height,d=s.traveller,u=s.ariaLabel,f=s.data,m=s.startIndex,p=s.endIndex,h=Math.max(t,this.props.x),g=Xwe(Xwe({},Bte(this.props,!1)),{},{x:h,y:o,width:l,height:c}),x=u||"Min value: ".concat(null===(a=f[m])||void 0===a?void 0:a.name,", Max value: ").concat(null===(r=f[p])||void 0===r?void 0:r.name);return di.createElement(Jte,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":t,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),i.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,n))},onFocus:function(){i.setState({isTravellerFocused:!0})},onBlur:function(){i.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,g))}},{key:"renderSlide",value:function(e,t){var n=this.props,a=n.y,r=n.height,i=n.stroke,s=n.travellerWidth,o=Math.min(e,t)+s,l=Math.max(Math.abs(t-e)-s,0);return di.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:i,fillOpacity:.2,x:o,y:a,width:l,height:r})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,a=e.y,r=e.height,i=e.travellerWidth,s=e.stroke,o=this.state,l=o.startX,c=o.endX,d={pointerEvents:"none",fill:s};return di.createElement(Jte,{className:"recharts-brush-texts"},di.createElement(Rde,Jwe({textAnchor:"end",verticalAnchor:"middle",x:Math.min(l,c)-5,y:a+r/2},d),this.getTextOfTick(t)),di.createElement(Rde,Jwe({textAnchor:"start",verticalAnchor:"middle",x:Math.max(l,c)+i+5,y:a+r/2},d),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,a=e.children,r=e.x,i=e.y,s=e.width,o=e.height,l=e.alwaysShowText,c=this.state,d=c.startX,u=c.endX,f=c.isTextActive,m=c.isSlideMoving,p=c.isTravellerMoving,h=c.isTravellerFocused;if(!t||!t.length||!lte(r)||!lte(i)||!lte(s)||!lte(o)||s<=0||o<=0)return null;var g,x,y,v,b=ub("recharts-brush",n),w=1===di.Children.count(a),j=(x="none",y=(g="userSelect").replace(/(\w)/,(function(e){return e.toUpperCase()})),(v=Qwe.reduce((function(e,t){return Ywe(Ywe({},e),{},qwe({},t+y,x))}),{}))[g]=x,v);return di.createElement(Jte,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(d,u),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(u,"endX"),(f||m||p||h||l)&&this.renderText())}}])&&eje(t.prototype,n),a&&eje(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}();ije(lje,"displayName","Brush"),ije(lje,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var cje=ele;var dje=mre,uje=coe,fje=function(e,t){var n;return cje(e,(function(e,a,r){return!(n=t(e,a,r))})),!!n},mje=o8,pje=Ple;const hje=Cr((function(e,t,n){var a=mje(e)?dje:fje;return n&&pje(e,t,n)&&(t=void 0),a(e,uje(t))}));var gje=function(e,t){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===t},xje=jle;var yje=function(e,t,n){"__proto__"==t&&xje?xje(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},vje=Koe,bje=coe;const wje=Cr((function(e,t){var n={};return t=bje(t),vje(e,(function(e,a,r){yje(n,a,t(e,a,r))})),n}));var jje=ele;var Nje=function(e,t){for(var n=-1,a=null==e?0:e.length;++n<a;)if(!t(e[n],n,e))return!1;return!0},Cje=function(e,t){var n=!0;return jje(e,(function(e,a,r){return n=!!t(e,a,r)})),n},Sje=coe,kje=o8,Mje=Ple;const _je=Cr((function(e,t,n){var a=kje(e)?Nje:Cje;return n&&Mje(e,t,n)&&(t=void 0),a(e,Sje(t))}));var Eje=["x","y"];function Ije(e){return(Ije="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lje(){return Lje=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Lje.apply(this,arguments)}function Aje(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Tje(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Aje(Object(n),!0).forEach((function(t){Dje(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aje(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dje(e,t,n){var a;return a=function(e,t){if("object"!=Ije(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=Ije(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ije(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pje(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Oje(e,t){var n=e.x,a=e.y,r=Pje(e,Eje),i="".concat(n),s=parseInt(i,10),o="".concat(a),l=parseInt(o,10),c="".concat(t.height||r.height),d=parseInt(c,10),u="".concat(t.width||r.width),f=parseInt(u,10);return Tje(Tje(Tje(Tje(Tje({},t),r),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:f,name:t.name,radius:t.radius})}function Rje(e){return di.createElement(gwe,Lje({shapeType:"rectangle",propTransformer:Oje,activeClassName:"recharts-active-bar"},e))}var zje,Fje=["value","background"];function Bje(e){return(Bje="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uje(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wje(){return Wje=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Wje.apply(this,arguments)}function Gje(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Vje(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gje(Object(n),!0).forEach((function(t){Zje(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gje(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $je(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Jje(a.key),a)}}function Hje(e,t,n){return t=qje(t),function(e,t){if(t&&("object"===Bje(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Yje()?Reflect.construct(t,n||[],qje(e).constructor):t.apply(e,n))}function Yje(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Yje=function(){return!!e})()}function qje(e){return(qje=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qje(e,t){return(Qje=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Zje(e,t,n){return(t=Jje(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jje(e){var t=function(e,t){if("object"!=Bje(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=Bje(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Bje(t)?t:t+""}var Kje=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return Zje(t=Hje(this,e,[].concat(a)),"state",{isAnimationFinished:!1}),Zje(t,"id",ute("recharts-bar-")),Zje(t,"handleAnimationEnd",(function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),e&&e()})),Zje(t,"handleAnimationStart",(function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),e&&e()})),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qje(e,t)}(e,ci.PureComponent),t=e,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],(n=[{key:"renderRectanglesStatically",value:function(e){var t=this,n=this.props,a=n.shape,r=n.dataKey,i=n.activeIndex,s=n.activeBar,o=Bte(this.props,!1);return e&&e.map((function(e,n){var l=n===i,c=l?s:a,d=Vje(Vje(Vje({},o),e),{},{isActive:l,option:c,index:n,dataKey:r,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return di.createElement(Jte,Wje({className:"recharts-bar-rectangle"},Ste(t.props,e,n),{key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value,"-").concat(n)}),di.createElement(Rje,d))}))}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,n=t.data,a=t.layout,r=t.isAnimationActive,i=t.animationBegin,s=t.animationDuration,o=t.animationEasing,l=t.animationId,c=this.state.prevData;return di.createElement(Sve,{begin:i,duration:s,isActive:r,easing:o,from:{t:0},to:{t:1},key:"bar-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(t){var r=t.t,i=n.map((function(e,t){var n=c&&c[t];if(n){var i=pte(n.x,e.x),s=pte(n.y,e.y),o=pte(n.width,e.width),l=pte(n.height,e.height);return Vje(Vje({},e),{},{x:i(r),y:s(r),width:o(r),height:l(r)})}if("horizontal"===a){var d=pte(0,e.height)(r);return Vje(Vje({},e),{},{y:e.y+e.height-d,height:d})}var u=pte(0,e.width)(r);return Vje(Vje({},e),{},{width:u})}));return di.createElement(Jte,null,e.renderRectanglesStatically(i))}))}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,a=this.state.prevData;return!(n&&t&&t.length)||a&&$pe(a,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,n=t.data,a=t.dataKey,r=t.activeIndex,i=Bte(this.props.background,!1);return n.map((function(t,n){t.value;var s=t.background,o=Uje(t,Fje);if(!s)return null;var l=Vje(Vje(Vje(Vje(Vje({},o),{},{fill:"#eee"},s),i),Ste(e.props,t,n)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:a,index:n,className:"recharts-bar-background-rectangle"});return di.createElement(Rje,Wje({key:"background-bar-".concat(n),option:e.props.background,isActive:n===r},l))}))}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,a=n.data,r=n.xAxis,i=n.yAxis,s=n.layout,o=Pte(n.children,lge);if(!o)return null;var l="vertical"===s?a[0].height/2:a[0].width/2,c=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:bge(e,t)}},d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return di.createElement(Jte,d,o.map((function(e){return di.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:a,xAxis:r,yAxis:i,layout:s,offset:l,dataPointFormatter:c})})))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.data,a=e.className,r=e.xAxis,i=e.yAxis,s=e.left,o=e.top,l=e.width,c=e.height,d=e.isAnimationActive,u=e.background,f=e.id;if(t||!n||!n.length)return null;var m=this.state.isAnimationFinished,p=ub("recharts-bar",a),h=r&&r.allowDataOverflow,g=i&&i.allowDataOverflow,x=h||g,y=Iee(f)?this.id:f;return di.createElement(Jte,{className:p},h||g?di.createElement("defs",null,di.createElement("clipPath",{id:"clipPath-".concat(y)},di.createElement("rect",{x:h?s:s-l/2,y:g?o:o-c/2,width:h?l:2*l,height:g?c:2*c}))):null,di.createElement(Jte,{className:"recharts-bar-rectangles",clipPath:x?"url(#clipPath-".concat(y,")"):null},u?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(x,y),(!d||m)&&Exe.renderCallByParent(this.props,n))}}])&&$je(t.prototype,n),a&&$je(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}();function Xje(e){return(Xje="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eNe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,rNe(a.key),a)}}function tNe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function nNe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tNe(Object(n),!0).forEach((function(t){aNe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tNe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function aNe(e,t,n){return(t=rNe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rNe(e){var t=function(e,t){if("object"!=Xje(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=Xje(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Xje(t)?t:t+""}zje=Kje,Zje(Kje,"displayName","Bar"),Zje(Kje,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!fce.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),Zje(Kje,"getComposedData",(function(e){var t=e.props,n=e.item,a=e.barPosition,r=e.bandSize,i=e.xAxis,s=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,d=e.dataStartIndex,u=e.displayedData,f=e.offset,m=function(e,t){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===t)return e[n].position;return null}(a,n);if(!m)return null;var p=t.layout,h=n.type.defaultProps,g=void 0!==h?Vje(Vje({},h),n.props):n.props,x=g.dataKey,y=g.children,v=g.minPointSize,b="horizontal"===p?s:i,w=c?b.scale.domain():null,j=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var a=Math.min(n[0],n[1]),r=Math.max(n[0],n[1]);return a<=0&&r>=0?0:r<0?r:a}return n[0]}({numericAxis:b}),N=Pte(y,ede),C=u.map((function(e,t){var a,u,f,h,g,y;c?a=function(e,t){if(!t||2!==t.length||!lte(t[0])||!lte(t[1]))return e;var n=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]),r=[e[0],e[1]];return(!lte(e[0])||e[0]<n)&&(r[0]=n),(!lte(e[1])||e[1]>a)&&(r[1]=a),r[0]>a&&(r[0]=a),r[1]<n&&(r[1]=n),r}(c[d+t],w):(a=bge(e,x),Array.isArray(a)||(a=[j,a]));var b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,a){if("number"==typeof e)return e;var r="number"==typeof n;return r?e(n,a):(r||qhe(),t)}}(v,zje.defaultProps.minPointSize)(a[1],t);if("horizontal"===p){var C,S=[s.scale(a[0]),s.scale(a[1])],k=S[0],M=S[1];u=Rge({axis:i,ticks:o,bandSize:r,offset:m.offset,entry:e,index:t}),f=null!==(C=null!=M?M:k)&&void 0!==C?C:void 0,h=m.size;var _=k-M;if(g=Number.isNaN(_)?0:_,y={x:u,y:s.y,width:h,height:s.height},Math.abs(b)>0&&Math.abs(g)<Math.abs(b)){var E=ste(g||b)*(Math.abs(b)-Math.abs(g));f-=E,g+=E}}else{var I=[i.scale(a[0]),i.scale(a[1])],L=I[0],A=I[1];if(u=L,f=Rge({axis:s,ticks:l,bandSize:r,offset:m.offset,entry:e,index:t}),h=A-L,g=m.size,y={x:i.x,y:f,width:i.width,height:g},Math.abs(b)>0&&Math.abs(h)<Math.abs(b))h+=ste(h||b)*(Math.abs(b)-Math.abs(h))}return Vje(Vje(Vje({},e),{},{x:u,y:f,width:h,height:g,value:c?a:a[1],payload:e,background:y},N&&N[t]&&N[t].props),{},{tooltipPayload:[Vge(n,e)],tooltipPosition:{x:u+h/2,y:f+g/2}})}));return Vje({data:C,layout:p},f)}));var iNe=function(e,t,n,a,r){var i=e.width,s=e.height,o=e.layout,l=e.children,c=Object.keys(t),d={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},u=!!Ote(l,Kje);return c.reduce((function(i,s){var l,c,f,m,p,h=t[s],g=h.orientation,x=h.domain,y=h.padding,v=void 0===y?{}:y,b=h.mirror,w=h.reversed,j="".concat(g).concat(b?"Mirror":"");if("number"===h.type&&("gap"===h.padding||"no-gap"===h.padding)){var N=x[1]-x[0],C=1/0,S=h.categoricalDomain.sort(xte);if(S.forEach((function(e,t){t>0&&(C=Math.min((e||0)-(S[t-1]||0),C))})),Number.isFinite(C)){var k=C/N,M="vertical"===h.layout?n.height:n.width;if("gap"===h.padding&&(l=k*M/2),"no-gap"===h.padding){var _=fte(e.barCategoryGap,k*M),E=k*M/2;l=E-_-(E-_)/M*_}}}c="xAxis"===a?[n.left+(v.left||0)+(l||0),n.left+n.width-(v.right||0)-(l||0)]:"yAxis"===a?"horizontal"===o?[n.top+n.height-(v.bottom||0),n.top+(v.top||0)]:[n.top+(v.top||0)+(l||0),n.top+n.height-(v.bottom||0)-(l||0)]:h.range,w&&(c=[c[1],c[0]]);var I=Ige(h,r,u),L=I.scale,A=I.realScaleType;L.domain(x).range(c),Age(L);var T=Pge(L,nNe(nNe({},h),{},{realScaleType:A}));"xAxis"===a?(p="top"===g&&!b||"bottom"===g&&b,f=n.left,m=d[j]-p*h.height):"yAxis"===a&&(p="left"===g&&!b||"right"===g&&b,f=d[j]-p*h.width,m=n.top);var D=nNe(nNe(nNe({},h),T),{},{realScaleType:A,x:f,y:m,scale:L,width:"xAxis"===a?n.width:h.width,height:"yAxis"===a?n.height:h.height});return D.bandSize=Wge(D,T),h.hide||"xAxis"!==a?h.hide||(d[j]+=(p?-1:1)*D.width):d[j]+=(p?-1:1)*D.height,nNe(nNe({},i),{},aNe({},s,D))}),{})},sNe=function(e,t){var n=e.x,a=e.y,r=t.x,i=t.y;return{x:Math.min(n,r),y:Math.min(a,i),width:Math.abs(r-n),height:Math.abs(i-a)}},oNe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,a=t.position;if(void 0!==e){if(a)switch(a){case"start":default:return this.scale(e);case"middle":var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+r;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],a=t[t.length-1];return n<=a?e>=n&&e<=a:e>=a&&e<=n}}],a=[{key:"create",value:function(t){return new e(t)}}],n&&eNe(t.prototype,n),a&&eNe(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}();aNe(oNe,"EPS",1e-4);var lNe=function(e){var t=Object.keys(e).reduce((function(t,n){return nNe(nNe({},t),{},aNe({},n,oNe.create(e[n])))}),{});return nNe(nNe({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.bandAware,r=n.position;return wje(e,(function(e,n){return t[n].apply(e,{bandAware:a,position:r})}))},isInRange:function(e){return _je(e,(function(e,n){return t[n].isInRange(e)}))}})};var cNe=coe,dNe=Die,uNe=zie;var fNe=function(e){return function(t,n,a){var r=Object(t);if(!dNe(t)){var i=cNe(n);t=uNe(t),n=function(e){return i(r[e],e,r)}}var s=e(t,n,a);return s>-1?r[i?t[s]:s]:void 0}},mNe=Bwe;var pNe=doe,hNe=coe,gNe=function(e){var t=mNe(e),n=t%1;return t==t?n?t-n:t:0},xNe=Math.max;const yNe=Cr(fNe((function(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var r=null==n?0:gNe(n);return r<0&&(r=xNe(a+r,0)),pNe(e,hNe(t),r)})));var vNe=aee((function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}}),(function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")})),bNe=ci.createContext(void 0),wNe=ci.createContext(void 0),jNe=ci.createContext(void 0),NNe=ci.createContext({}),CNe=ci.createContext(void 0),SNe=ci.createContext(0),kNe=ci.createContext(0),MNe=function(e){var t=e.state,n=t.xAxisMap,a=t.yAxisMap,r=t.offset,i=e.clipPathId,s=e.children,o=e.width,l=e.height,c=vNe(r);return di.createElement(bNe.Provider,{value:n},di.createElement(wNe.Provider,{value:a},di.createElement(NNe.Provider,{value:r},di.createElement(jNe.Provider,{value:c},di.createElement(CNe.Provider,{value:i},di.createElement(SNe.Provider,{value:l},di.createElement(kNe.Provider,{value:o},s)))))))},_Ne=function(e){var t=ci.useContext(bNe);null==t&&qhe();var n=t[e];return null==n&&qhe(),n},ENe=function(e){var t=ci.useContext(wNe);null==t&&qhe();var n=t[e];return null==n&&qhe(),n},INe=function(){return ci.useContext(kNe)},LNe=function(){return ci.useContext(SNe)};function ANe(e){return(ANe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TNe(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,UNe(a.key),a)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function DNe(e,t,n){return t=ONe(t),function(e,t){if(t&&("object"===ANe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,PNe()?Reflect.construct(t,n||[],ONe(e).constructor):t.apply(e,n))}function PNe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(PNe=function(){return!!e})()}function ONe(e){return(ONe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function RNe(e,t){return(RNe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function zNe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function FNe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zNe(Object(n),!0).forEach((function(t){BNe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zNe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function BNe(e,t,n){return(t=UNe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UNe(e){var t=function(e,t){if("object"!=ANe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=ANe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==ANe(t)?t:t+""}function WNe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(d){c=!0,r=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return GNe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GNe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GNe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function VNe(){return VNe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},VNe.apply(this,arguments)}function $Ne(e){var t=e.x,n=e.y,a=e.segment,r=e.xAxisId,i=e.yAxisId,s=e.shape,o=e.className,l=e.alwaysShow,c=ci.useContext(CNe),d=_Ne(r),u=ENe(i),f=ci.useContext(jNe);if(!c||!f)return null;Kte(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=function(e,t,n,a,r,i,s,o,l){var c=r.x,d=r.y,u=r.width,f=r.height;if(n){var m=l.y,p=e.y.apply(m,{position:i});if(gje(l,"discard")&&!e.y.isInRange(p))return null;var h=[{x:c+u,y:p},{x:c,y:p}];return"left"===o?h.reverse():h}if(t){var g=l.x,x=e.x.apply(g,{position:i});if(gje(l,"discard")&&!e.x.isInRange(x))return null;var y=[{x:x,y:d+f},{x:x,y:d}];return"top"===s?y.reverse():y}if(a){var v=l.segment.map((function(t){return e.apply(t,{position:i})}));return gje(l,"discard")&&hje(v,(function(t){return!e.isInRange(t)}))?null:v}return null}(lNe({x:d.scale,y:u.scale}),cte(t),cte(n),a&&2===a.length,f,e.position,d.orientation,u.orientation,e);if(!m)return null;var p=WNe(m,2),h=p[0],g=h.x,x=h.y,y=p[1],v=y.x,b=y.y,w=FNe(FNe({clipPath:gje(e,"hidden")?"url(#".concat(c,")"):void 0},Bte(e,!0)),{},{x1:g,y1:x,x2:v,y2:b});return di.createElement(Jte,{className:ub("recharts-reference-line",o)},function(e,t){return di.isValidElement(e)?di.cloneElement(e,t):z8(e)?e(t):di.createElement("line",VNe({},t,{className:"recharts-reference-line-line"}))}(s,w),hxe.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,a=e.x2,r=e.y2;return sNe({x:t,y:n},{x:a,y:r})}({x1:g,y1:x,x2:v,y2:b})))}var HNe=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),DNe(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RNe(e,t)}(e,di.Component),TNe(e,[{key:"render",value:function(){return di.createElement($Ne,this.props)}}])}();function YNe(){return YNe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},YNe.apply(this,arguments)}function qNe(e){return(qNe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function QNe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ZNe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QNe(Object(n),!0).forEach((function(t){nCe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QNe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function JNe(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,aCe(a.key),a)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KNe(e,t,n){return t=eCe(t),function(e,t){if(t&&("object"===qNe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,XNe()?Reflect.construct(t,n||[],eCe(e).constructor):t.apply(e,n))}function XNe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(XNe=function(){return!!e})()}function eCe(e){return(eCe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tCe(e,t){return(tCe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function nCe(e,t,n){return(t=aCe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aCe(e){var t=function(e,t){if("object"!=qNe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=qNe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==qNe(t)?t:t+""}BNe(HNe,"displayName","ReferenceLine"),BNe(HNe,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var rCe=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),KNe(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tCe(e,t)}(e,di.Component),JNe(e,[{key:"render",value:function(){var t=this.props,n=t.x,a=t.y,r=t.r,i=t.alwaysShow,s=t.clipPathId,o=cte(n),l=cte(a);if(Kte(void 0===i,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!o||!l)return null;var c=function(e){var t=e.x,n=e.y,a=e.xAxis,r=e.yAxis,i=lNe({x:a.scale,y:r.scale}),s=i.apply({x:t,y:n},{bandAware:!0});return gje(e,"discard")&&!i.isInRange(s)?null:s}(this.props);if(!c)return null;var d=c.x,u=c.y,f=this.props,m=f.shape,p=f.className,h=ZNe(ZNe({clipPath:gje(this.props,"hidden")?"url(#".concat(s,")"):void 0},Bte(this.props,!0)),{},{cx:d,cy:u});return di.createElement(Jte,{className:ub("recharts-reference-dot",p)},e.renderDot(m,h),hxe.renderCallByParent(this.props,{x:d-r,y:u-r,width:2*r,height:2*r}))}}])}();function iCe(){return iCe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},iCe.apply(this,arguments)}function sCe(e){return(sCe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oCe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function lCe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oCe(Object(n),!0).forEach((function(t){pCe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oCe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cCe(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,hCe(a.key),a)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dCe(e,t,n){return t=fCe(t),function(e,t){if(t&&("object"===sCe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,uCe()?Reflect.construct(t,n||[],fCe(e).constructor):t.apply(e,n))}function uCe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(uCe=function(){return!!e})()}function fCe(e){return(fCe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mCe(e,t){return(mCe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function pCe(e,t,n){return(t=hCe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hCe(e){var t=function(e,t){if("object"!=sCe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=sCe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==sCe(t)?t:t+""}nCe(rCe,"displayName","ReferenceDot"),nCe(rCe,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),nCe(rCe,"renderDot",(function(e,t){return di.isValidElement(e)?di.cloneElement(e,t):z8(e)?e(t):di.createElement(Yve,YNe({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))}));var gCe=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),dCe(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mCe(e,t)}(e,di.Component),cCe(e,[{key:"render",value:function(){var t=this.props,n=t.x1,a=t.x2,r=t.y1,i=t.y2,s=t.className,o=t.alwaysShow,l=t.clipPathId;Kte(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=cte(n),d=cte(a),u=cte(r),f=cte(i),m=this.props.shape;if(!(c||d||u||f||m))return null;var p=function(e,t,n,a,r){var i=r.x1,s=r.x2,o=r.y1,l=r.y2,c=r.xAxis,d=r.yAxis;if(!c||!d)return null;var u=lNe({x:c.scale,y:d.scale}),f={x:e?u.x.apply(i,{position:"start"}):u.x.rangeMin,y:n?u.y.apply(o,{position:"start"}):u.y.rangeMin},m={x:t?u.x.apply(s,{position:"end"}):u.x.rangeMax,y:a?u.y.apply(l,{position:"end"}):u.y.rangeMax};return!gje(r,"discard")||u.isInRange(f)&&u.isInRange(m)?sNe(f,m):null}(c,d,u,f,this.props);if(!p&&!m)return null;var h=gje(this.props,"hidden")?"url(#".concat(l,")"):void 0;return di.createElement(Jte,{className:ub("recharts-reference-area",s)},e.renderRect(m,lCe(lCe({clipPath:h},Bte(this.props,!0)),p)),hxe.renderCallByParent(this.props,p))}}])}();function xCe(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var a=[],r=0;r<e.length;r+=t)a.push(e[r]);return a}function yCe(e,t,n){return function(e){var t=e.width,n=e.height,a=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),r=a*Math.PI/180,i=Math.atan(n/t),s=r>i&&r<Math.PI-i?n/Math.sin(r):t/Math.cos(r);return Math.abs(s)}({width:e.width+t.width,height:e.height+t.height},n)}function vCe(e,t,n,a,r){if(e*t<e*a||e*t>e*r)return!1;var i=n();return e*(t-e*i/2-a)>=0&&e*(t+e*i/2-r)<=0}function bCe(e){return(bCe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wCe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function jCe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wCe(Object(n),!0).forEach((function(t){NCe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wCe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function NCe(e,t,n){var a;return a=function(e,t){if("object"!=bCe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=bCe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==bCe(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CCe(e,t,n){var a=e.tick,r=e.ticks,i=e.viewBox,s=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,d=e.unit,u=e.angle;if(!r||!r.length||!a)return[];if(lte(l)||fce.isSsr)return function(e,t){return xCe(e,t+1)}(r,"number"==typeof l&&lte(l)?l:0);var f=[],m="top"===o||"bottom"===o?"width":"height",p=d&&"width"===m?lde(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},h=function(e,a){var r=z8(c)?c(e.value,a):e.value;return"width"===m?yCe(lde(r,{fontSize:t,letterSpacing:n}),p,u):lde(r,{fontSize:t,letterSpacing:n})[m]},g=r.length>=2?ste(r[1].coordinate-r[0].coordinate):1,x=function(e,t,n){var a="width"===n,r=e.x,i=e.y,s=e.width,o=e.height;return 1===t?{start:a?r:i,end:a?r+s:i+o}:{start:a?r+s:i+o,end:a?r:i}}(i,g,m);return"equidistantPreserveStart"===l?function(e,t,n,a,r){for(var i,s=(a||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,f=function(){var t=null==a?void 0:a[c];if(void 0===t)return{v:xCe(a,d)};var i,s=c,f=function(){return void 0===i&&(i=n(t,s)),i},m=t.coordinate,p=0===c||vCe(e,m,f,u,l);p||(c=0,u=o,d+=1),p&&(u=m+e*(f()/2+r),c+=d)};d<=s.length;)if(i=f())return i.v;return[]}(g,x,h,r,s):(f="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,a,r,i){var s=(a||[]).slice(),o=s.length,l=t.start,c=t.end;if(i){var d=a[o-1],u=n(d,o-1),f=e*(d.coordinate+e*u/2-c);s[o-1]=d=jCe(jCe({},d),{},{tickCoord:f>0?d.coordinate-f*e:d.coordinate}),vCe(e,d.tickCoord,(function(){return u}),l,c)&&(c=d.tickCoord-e*(u/2+r),s[o-1]=jCe(jCe({},d),{},{isShow:!0}))}for(var m=i?o-1:o,p=function(t){var a,i=s[t],o=function(){return void 0===a&&(a=n(i,t)),a};if(0===t){var d=e*(i.coordinate-e*o()/2-l);s[t]=i=jCe(jCe({},i),{},{tickCoord:d<0?i.coordinate-d*e:i.coordinate})}else s[t]=i=jCe(jCe({},i),{},{tickCoord:i.coordinate});vCe(e,i.tickCoord,o,l,c)&&(l=i.tickCoord+e*(o()/2+r),s[t]=jCe(jCe({},i),{},{isShow:!0}))},h=0;h<m;h++)p(h);return s}(g,x,h,r,s,"preserveStartEnd"===l):function(e,t,n,a,r){for(var i=(a||[]).slice(),s=i.length,o=t.start,l=t.end,c=function(t){var a,c=i[t],d=function(){return void 0===a&&(a=n(c,t)),a};if(t===s-1){var u=e*(c.coordinate+e*d()/2-l);i[t]=c=jCe(jCe({},c),{},{tickCoord:u>0?c.coordinate-u*e:c.coordinate})}else i[t]=c=jCe(jCe({},c),{},{tickCoord:c.coordinate});vCe(e,c.tickCoord,d,o,l)&&(l=c.tickCoord-e*(d()/2+r),i[t]=jCe(jCe({},c),{},{isShow:!0}))},d=s-1;d>=0;d--)c(d);return i}(g,x,h,r,s),f.filter((function(e){return e.isShow})))}pCe(gCe,"displayName","ReferenceArea"),pCe(gCe,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),pCe(gCe,"renderRect",(function(e,t){return di.isValidElement(e)?di.cloneElement(e,t):z8(e)?e(t):di.createElement(Rve,iCe({},t,{className:"recharts-reference-area-rect"}))}));var SCe=["viewBox"],kCe=["viewBox"],MCe=["ticks"];function _Ce(e){return(_Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ECe(){return ECe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ECe.apply(this,arguments)}function ICe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function LCe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ICe(Object(n),!0).forEach((function(t){zCe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ICe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ACe(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TCe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,FCe(a.key),a)}}function DCe(e,t,n){return t=OCe(t),function(e,t){if(t&&("object"===_Ce(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,PCe()?Reflect.construct(t,n||[],OCe(e).constructor):t.apply(e,n))}function PCe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(PCe=function(){return!!e})()}function OCe(e){return(OCe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function RCe(e,t){return(RCe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function zCe(e,t,n){return(t=FCe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FCe(e){var t=function(e,t){if("object"!=_Ce(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=_Ce(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==_Ce(t)?t:t+""}var BCe=function(){function e(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=DCe(this,e,[t])).state={fontSize:"",letterSpacing:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RCe(e,t)}(e,ci.Component),t=e,a=[{key:"renderTickItem",value:function(e,t,n){return di.isValidElement(e)?di.cloneElement(e,t):z8(e)?e(t):di.createElement(Rde,ECe({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}}],(n=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,a=ACe(e,SCe),r=this.props,i=r.viewBox,s=ACe(r,kCe);return!yte(n,i)||!yte(a,s)||!yte(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,a,r,i,s,o=this.props,l=o.x,c=o.y,d=o.width,u=o.height,f=o.orientation,m=o.tickSize,p=o.mirror,h=o.tickMargin,g=p?-1:1,x=e.tickSize||m,y=lte(e.tickCoord)?e.tickCoord:e.coordinate;switch(f){case"top":t=n=e.coordinate,s=(a=(r=c+ +!p*u)-g*x)-g*h,i=y;break;case"left":a=r=e.coordinate,i=(t=(n=l+ +!p*d)-g*x)-g*h,s=y;break;case"right":a=r=e.coordinate,i=(t=(n=l+ +p*d)+g*x)+g*h,s=y;break;default:t=n=e.coordinate,s=(a=(r=c+ +p*u)+g*x)+g*h,i=y}return{line:{x1:t,y1:a,x2:n,y2:r},tick:{x:i,y:s}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,a=t.mirror;switch(n){case"left":e=a?"start":"end";break;case"right":e=a?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,a="end";switch(t){case"left":case"right":a="middle";break;case"top":a=n?"start":"end";break;default:a=n?"end":"start"}return a}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,a=e.width,r=e.height,i=e.orientation,s=e.mirror,o=e.axisLine,l=LCe(LCe(LCe({},Bte(this.props,!1)),Bte(o,!1)),{},{fill:"none"});if("top"===i||"bottom"===i){var c=+("top"===i&&!s||"bottom"===i&&s);l=LCe(LCe({},l),{},{x1:t,y1:n+c*r,x2:t+a,y2:n+c*r})}else{var d=+("left"===i&&!s||"right"===i&&s);l=LCe(LCe({},l),{},{x1:t+d*a,y1:n,x2:t+d*a,y2:n+r})}return di.createElement("line",ECe({},l,{className:ub("recharts-cartesian-axis-line",Eee(o,"className"))}))}},{key:"renderTicks",value:function(t,n,a){var r=this,i=this.props,s=i.tickLine,o=i.stroke,l=i.tick,c=i.tickFormatter,d=i.unit,u=CCe(LCe(LCe({},this.props),{},{ticks:t}),n,a),f=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),p=Bte(this.props,!1),h=Bte(l,!1),g=LCe(LCe({},p),{},{fill:"none"},Bte(s,!1)),x=u.map((function(t,n){var a=r.getTickLineCoord(t),i=a.line,x=a.tick,y=LCe(LCe(LCe(LCe({textAnchor:f,verticalAnchor:m},p),{},{stroke:"none",fill:o},h),x),{},{index:n,payload:t,visibleTicksCount:u.length,tickFormatter:c});return di.createElement(Jte,ECe({className:"recharts-cartesian-axis-tick",key:"tick-".concat(t.value,"-").concat(t.coordinate,"-").concat(t.tickCoord)},Ste(r.props,t,n)),s&&di.createElement("line",ECe({},g,i,{className:ub("recharts-cartesian-axis-tick-line",Eee(s,"className"))})),l&&e.renderTickItem(l,y,"".concat(z8(c)?c(t.value,n):t.value).concat(d||"")))}));return di.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var e=this,t=this.props,n=t.axisLine,a=t.width,r=t.height,i=t.ticksGenerator,s=t.className;if(t.hide)return null;var o=this.props,l=o.ticks,c=ACe(o,MCe),d=l;return z8(i)&&(d=l&&l.length>0?i(this.props):i(c)),a<=0||r<=0||!d||!d.length?null:di.createElement(Jte,{className:ub("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},n&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),hxe.renderCallByParent(this.props))}}])&&TCe(t.prototype,n),a&&TCe(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}();zCe(BCe,"displayName","CartesianAxis"),zCe(BCe,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var UCe=["x1","y1","x2","y2","key"],WCe=["offset"];function GCe(e){return(GCe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function VCe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function $Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VCe(Object(n),!0).forEach((function(t){HCe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VCe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function HCe(e,t,n){var a;return a=function(e,t){if("object"!=GCe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=GCe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==GCe(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YCe(){return YCe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},YCe.apply(this,arguments)}function qCe(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var QCe=function(e){var t=e.fill;if(!t||"none"===t)return null;var n=e.fillOpacity,a=e.x,r=e.y,i=e.width,s=e.height,o=e.ry;return di.createElement("rect",{x:a,y:r,ry:o,width:i,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function ZCe(e,t){var n;if(di.isValidElement(e))n=di.cloneElement(e,t);else if(z8(e))n=e(t);else{var a=t.x1,r=t.y1,i=t.x2,s=t.y2,o=t.key,l=qCe(t,UCe),c=Bte(l,!1);c.offset;var d=qCe(c,WCe);n=di.createElement("line",YCe({},d,{x1:a,y1:r,x2:i,y2:s,fill:"none",key:o}))}return n}function JCe(e){var t=e.x,n=e.width,a=e.horizontal,r=void 0===a||a,i=e.horizontalPoints;if(!r||!i||!i.length)return null;var s=i.map((function(a,i){var s=$Ce($Ce({},e),{},{x1:t,y1:a,x2:t+n,y2:a,key:"line-".concat(i),index:i});return ZCe(r,s)}));return di.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function KCe(e){var t=e.y,n=e.height,a=e.vertical,r=void 0===a||a,i=e.verticalPoints;if(!r||!i||!i.length)return null;var s=i.map((function(a,i){var s=$Ce($Ce({},e),{},{x1:a,y1:t,x2:a,y2:t+n,key:"line-".concat(i),index:i});return ZCe(r,s)}));return di.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function XCe(e){var t=e.horizontalFill,n=e.fillOpacity,a=e.x,r=e.y,i=e.width,s=e.height,o=e.horizontalPoints,l=e.horizontal;if(!(void 0===l||l)||!t||!t.length)return null;var c=o.map((function(e){return Math.round(e+r-r)})).sort((function(e,t){return e-t}));r!==c[0]&&c.unshift(0);var d=c.map((function(e,o){var l=!c[o+1]?r+s-e:c[o+1]-e;if(l<=0)return null;var d=o%t.length;return di.createElement("rect",{key:"react-".concat(o),y:e,x:a,height:l,width:i,stroke:"none",fill:t[d],fillOpacity:n,className:"recharts-cartesian-grid-bg"})}));return di.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function eSe(e){var t=e.vertical,n=void 0===t||t,a=e.verticalFill,r=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,c=e.verticalPoints;if(!n||!a||!a.length)return null;var d=c.map((function(e){return Math.round(e+i-i)})).sort((function(e,t){return e-t}));i!==d[0]&&d.unshift(0);var u=d.map((function(e,t){var n=!d[t+1]?i+o-e:d[t+1]-e;if(n<=0)return null;var c=t%a.length;return di.createElement("rect",{key:"react-".concat(t),x:e,y:s,width:n,height:l,stroke:"none",fill:a[c],fillOpacity:r,className:"recharts-cartesian-grid-bg"})}));return di.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var tSe=function(e,t){var n=e.xAxis,a=e.width,r=e.height,i=e.offset;return kge(CCe($Ce($Ce($Ce({},BCe.defaultProps),n),{},{ticks:Mge(n,!0),viewBox:{x:0,y:0,width:a,height:r}})),i.left,i.left+i.width,t)},nSe=function(e,t){var n=e.yAxis,a=e.width,r=e.height,i=e.offset;return kge(CCe($Ce($Ce($Ce({},BCe.defaultProps),n),{},{ticks:Mge(n,!0),viewBox:{x:0,y:0,width:a,height:r}})),i.top,i.top+i.height,t)},aSe={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function rSe(e){var t,n,a,r,i,s,o,l,c=INe(),d=LNe(),u=ci.useContext(NNe),f=$Ce($Ce({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:aSe.stroke,fill:null!==(n=e.fill)&&void 0!==n?n:aSe.fill,horizontal:null!==(a=e.horizontal)&&void 0!==a?a:aSe.horizontal,horizontalFill:null!==(r=e.horizontalFill)&&void 0!==r?r:aSe.horizontalFill,vertical:null!==(i=e.vertical)&&void 0!==i?i:aSe.vertical,verticalFill:null!==(s=e.verticalFill)&&void 0!==s?s:aSe.verticalFill,x:lte(e.x)?e.x:u.left,y:lte(e.y)?e.y:u.top,width:lte(e.width)?e.width:u.width,height:lte(e.height)?e.height:u.height}),m=f.x,p=f.y,h=f.width,g=f.height,x=f.syncWithTicks,y=f.horizontalValues,v=f.verticalValues,b=(o=ci.useContext(bNe),mte(o)),w=(l=ci.useContext(wNe),yNe(l,(function(e){return _je(e.domain,Number.isFinite)}))||mte(l));if(!lte(h)||h<=0||!lte(g)||g<=0||!lte(m)||m!==+m||!lte(p)||p!==+p)return null;var j=f.verticalCoordinatesGenerator||tSe,N=f.horizontalCoordinatesGenerator||nSe,C=f.horizontalPoints,S=f.verticalPoints;if((!C||!C.length)&&z8(N)){var k=y&&y.length,M=N({yAxis:w?$Ce($Ce({},w),{},{ticks:k?y:w.ticks}):void 0,width:c,height:d,offset:u},!!k||x);Kte(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(GCe(M),"]")),Array.isArray(M)&&(C=M)}if((!S||!S.length)&&z8(j)){var _=v&&v.length,E=j({xAxis:b?$Ce($Ce({},b),{},{ticks:_?v:b.ticks}):void 0,width:c,height:d,offset:u},!!_||x);Kte(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(GCe(E),"]")),Array.isArray(E)&&(S=E)}return di.createElement("g",{className:"recharts-cartesian-grid"},di.createElement(QCe,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),di.createElement(JCe,YCe({},f,{offset:u,horizontalPoints:C,xAxis:b,yAxis:w})),di.createElement(KCe,YCe({},f,{offset:u,verticalPoints:S,xAxis:b,yAxis:w})),di.createElement(XCe,YCe({},f,{horizontalPoints:C})),di.createElement(eSe,YCe({},f,{verticalPoints:S})))}rSe.displayName="CartesianGrid";var iSe=["type","layout","connectNulls","ref"],sSe=["key"];function oSe(e){return(oSe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lSe(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cSe(){return cSe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},cSe.apply(this,arguments)}function dSe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function uSe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dSe(Object(n),!0).forEach((function(t){vSe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dSe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fSe(e){return function(e){if(Array.isArray(e))return mSe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return mSe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mSe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mSe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function pSe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,bSe(a.key),a)}}function hSe(e,t,n){return t=xSe(t),function(e,t){if(t&&("object"===oSe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,gSe()?Reflect.construct(t,n||[],xSe(e).constructor):t.apply(e,n))}function gSe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(gSe=function(){return!!e})()}function xSe(e){return(xSe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ySe(e,t){return(ySe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function vSe(e,t,n){return(t=bSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bSe(e){var t=function(e,t){if("object"!=oSe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=oSe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==oSe(t)?t:t+""}var wSe=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return vSe(t=hSe(this,e,[].concat(a)),"state",{isAnimationFinished:!0,totalLength:0}),vSe(t,"generateSimpleStrokeDasharray",(function(e,t){return"".concat(t,"px ").concat(e-t,"px")})),vSe(t,"getStrokeDasharray",(function(n,a,r){var i=r.reduce((function(e,t){return e+t}));if(!i)return t.generateSimpleStrokeDasharray(a,n);for(var s=Math.floor(n/i),o=n%i,l=a-n,c=[],d=0,u=0;d<r.length;u+=r[d],++d)if(u+r[d]>o){c=[].concat(fSe(r.slice(0,d)),[o-u]);break}var f=c.length%2==0?[0,l]:[l];return[].concat(fSe(e.repeat(r,s)),fSe(c),f).map((function(e){return"".concat(e,"px")})).join(", ")})),vSe(t,"id",ute("recharts-line-")),vSe(t,"pathRef",(function(e){t.mainCurve=e})),vSe(t,"handleAnimationEnd",(function(){t.setState({isAnimationFinished:!0}),t.props.onAnimationEnd&&t.props.onAnimationEnd()})),vSe(t,"handleAnimationStart",(function(){t.setState({isAnimationFinished:!1}),t.props.onAnimationStart&&t.props.onAnimationStart()})),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ySe(e,t)}(e,ci.PureComponent),t=e,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!=0?[].concat(fSe(e),[0]):e,a=[],r=0;r<t;++r)a=[].concat(fSe(a),fSe(n));return a}},{key:"renderDotItem",value:function(e,t){var n;if(di.isValidElement(e))n=di.cloneElement(e,t);else if(z8(e))n=e(t);else{var a=t.key,r=lSe(t,sSe),i=ub("recharts-line-dot","boolean"!=typeof e?e.className:"");n=di.createElement(Yve,cSe({key:a},r,{className:i}))}return n}}],(n=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(Bze){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,a=n.points,r=n.xAxis,i=n.yAxis,s=n.layout,o=Pte(n.children,lge);if(!o)return null;var l=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:bge(e.payload,t)}},c={clipPath:e?"url(#clipPath-".concat(t,")"):null};return di.createElement(Jte,c,o.map((function(e){return di.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:a,xAxis:r,yAxis:i,layout:s,dataPointFormatter:l})})))}},{key:"renderDots",value:function(t,n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,i=r.dot,s=r.points,o=r.dataKey,l=Bte(this.props,!1),c=Bte(i,!0),d=s.map((function(t,n){var a=uSe(uSe(uSe({key:"dot-".concat(n),r:3},l),c),{},{index:n,cx:t.x,cy:t.y,value:t.value,dataKey:o,payload:t.payload,points:s});return e.renderDotItem(i,a)})),u={clipPath:t?"url(#clipPath-".concat(n?"":"dots-").concat(a,")"):null};return di.createElement(Jte,cSe({className:"recharts-line-dots",key:"dots"},u),d)}},{key:"renderCurveStatically",value:function(e,t,n,a){var r=this.props,i=r.type,s=r.layout,o=r.connectNulls;r.ref;var l=lSe(r,iSe),c=uSe(uSe(uSe({},Bte(l,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(n,")"):null,points:e},a),{},{type:i,layout:s,connectNulls:o});return di.createElement(Qxe,cSe({},c,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var n=this,a=this.props,r=a.points,i=a.strokeDasharray,s=a.isAnimationActive,o=a.animationBegin,l=a.animationDuration,c=a.animationEasing,d=a.animationId,u=a.animateNewValues,f=a.width,m=a.height,p=this.state,h=p.prevPoints,g=p.totalLength;return di.createElement(Sve,{begin:o,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(a){var s=a.t;if(h){var o=h.length/r.length,l=r.map((function(e,t){var n=Math.floor(t*o);if(h[n]){var a=h[n],r=pte(a.x,e.x),i=pte(a.y,e.y);return uSe(uSe({},e),{},{x:r(s),y:i(s)})}if(u){var l=pte(2*f,e.x),c=pte(m/2,e.y);return uSe(uSe({},e),{},{x:l(s),y:c(s)})}return uSe(uSe({},e),{},{x:e.x,y:e.y})}));return n.renderCurveStatically(l,e,t)}var c,d=pte(0,g)(s);if(i){var p="".concat(i).split(/[,\s]+/gim).map((function(e){return parseFloat(e)}));c=n.getStrokeDasharray(d,g,p)}else c=n.generateSimpleStrokeDasharray(g,d);return n.renderCurveStatically(r,e,t,{strokeDasharray:c})}))}},{key:"renderCurve",value:function(e,t){var n=this.props,a=n.points,r=n.isAnimationActive,i=this.state,s=i.prevPoints,o=i.totalLength;return r&&a&&a.length&&(!s&&o>0||!$pe(s,a))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(a,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,a=t.dot,r=t.points,i=t.className,s=t.xAxis,o=t.yAxis,l=t.top,c=t.left,d=t.width,u=t.height,f=t.isAnimationActive,m=t.id;if(n||!r||!r.length)return null;var p=this.state.isAnimationFinished,h=1===r.length,g=ub("recharts-line",i),x=s&&s.allowDataOverflow,y=o&&o.allowDataOverflow,v=x||y,b=Iee(m)?this.id:m,w=null!==(e=Bte(a,!1))&&void 0!==e?e:{r:3,strokeWidth:2},j=w.r,N=void 0===j?3:j,C=w.strokeWidth,S=void 0===C?2:C,k=(Fte(a)?a:{}).clipDot,M=void 0===k||k,_=2*N+S;return di.createElement(Jte,{className:g},x||y?di.createElement("defs",null,di.createElement("clipPath",{id:"clipPath-".concat(b)},di.createElement("rect",{x:x?c:c-d/2,y:y?l:l-u/2,width:x?d:2*d,height:y?u:2*u})),!M&&di.createElement("clipPath",{id:"clipPath-dots-".concat(b)},di.createElement("rect",{x:c-_/2,y:l-_/2,width:d+_,height:u+_}))):null,!h&&this.renderCurve(v,b),this.renderErrorBar(v,b),(h||a)&&this.renderDots(v,M,b),(!f||p)&&Exe.renderCallByParent(this.props,r))}}])&&pSe(t.prototype,n),a&&pSe(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}();function jSe(e){return(jSe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function NSe(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,ESe(a.key),a)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CSe(e,t,n){return t=kSe(t),function(e,t){if(t&&("object"===jSe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,SSe()?Reflect.construct(t,n||[],kSe(e).constructor):t.apply(e,n))}function SSe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(SSe=function(){return!!e})()}function kSe(e){return(kSe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function MSe(e,t){return(MSe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _Se(e,t,n){return(t=ESe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ESe(e){var t=function(e,t){if("object"!=jSe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=jSe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==jSe(t)?t:t+""}function ISe(){return ISe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ISe.apply(this,arguments)}function LSe(e){var t=e.xAxisId,n=INe(),a=LNe(),r=_Ne(t);return null==r?null:di.createElement(BCe,ISe({},r,{className:ub("recharts-".concat(r.axisType," ").concat(r.axisType),r.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(e){return Mge(e,!0)}}))}vSe(wSe,"displayName","Line"),vSe(wSe,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!fce.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),vSe(wSe,"getComposedData",(function(e){var t=e.props,n=e.xAxis,a=e.yAxis,r=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,d=t.layout;return uSe({points:l.map((function(e,t){var l=bge(e,s);return"horizontal"===d?{x:Oge({axis:n,ticks:r,bandSize:o,entry:e,index:t}),y:Iee(l)?null:a.scale(l),value:l,payload:e}:{x:Iee(l)?null:n.scale(l),y:Oge({axis:a,ticks:i,bandSize:o,entry:e,index:t}),value:l,payload:e}})),layout:d},c)}));var ASe=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),CSe(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MSe(e,t)}(e,di.Component),NSe(e,[{key:"render",value:function(){return di.createElement(LSe,this.props)}}])}();function TSe(e){return(TSe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DSe(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,BSe(a.key),a)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PSe(e,t,n){return t=RSe(t),function(e,t){if(t&&("object"===TSe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,OSe()?Reflect.construct(t,n||[],RSe(e).constructor):t.apply(e,n))}function OSe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(OSe=function(){return!!e})()}function RSe(e){return(RSe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zSe(e,t){return(zSe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function FSe(e,t,n){return(t=BSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BSe(e){var t=function(e,t){if("object"!=TSe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=TSe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==TSe(t)?t:t+""}function USe(){return USe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},USe.apply(this,arguments)}_Se(ASe,"displayName","XAxis"),_Se(ASe,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var WSe=function(e){var t=e.yAxisId,n=INe(),a=LNe(),r=ENe(t);return null==r?null:di.createElement(BCe,USe({},r,{className:ub("recharts-".concat(r.axisType," ").concat(r.axisType),r.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(e){return Mge(e,!0)}}))},GSe=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),PSe(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zSe(e,t)}(e,di.Component),DSe(e,[{key:"render",value:function(){return di.createElement(WSe,this.props)}}])}();function VSe(e){return function(e){if(Array.isArray(e))return $Se(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return $Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $Se(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}FSe(GSe,"displayName","YAxis"),FSe(GSe,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var HSe=function(e,t,n,a,r){var i=Pte(e,HNe),s=Pte(e,rCe),o=[].concat(VSe(i),VSe(s)),l=Pte(e,gCe),c="".concat(a,"Id"),d=a[0],u=t;if(o.length&&(u=o.reduce((function(e,t){if(t.props[c]===n&&gje(t.props,"extendDomain")&&lte(t.props[d])){var a=t.props[d];return[Math.min(e[0],a),Math.max(e[1],a)]}return e}),u)),l.length){var f="".concat(d,"1"),m="".concat(d,"2");u=l.reduce((function(e,t){if(t.props[c]===n&&gje(t.props,"extendDomain")&&lte(t.props[f])&&lte(t.props[m])){var a=t.props[f],r=t.props[m];return[Math.min(e[0],a,r),Math.max(e[1],a,r)]}return e}),u)}return r&&r.length&&(u=r.reduce((function(e,t){return lte(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e}),u)),u},YSe={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,n="~";function a(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,a,i,s){if("function"!=typeof a)throw new TypeError("The listener must be a function");var o=new r(a,i||e,s),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new a:delete e._events[t]}function o(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,a,r=[];if(0===this._eventsCount)return r;for(a in e=this._events)t.call(e,a)&&r.push(n?a.slice(1):a);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},o.prototype.listeners=function(e){var t=n?n+e:e,a=this._events[t];if(!a)return[];if(a.fn)return[a.fn];for(var r=0,i=a.length,s=new Array(i);r<i;r++)s[r]=a[r].fn;return s},o.prototype.listenerCount=function(e){var t=n?n+e:e,a=this._events[t];return a?a.fn?1:a.length:0},o.prototype.emit=function(e,t,a,r,i,s){var o=n?n+e:e;if(!this._events[o])return!1;var l,c,d=this._events[o],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,a),!0;case 4:return d.fn.call(d.context,t,a,r),!0;case 5:return d.fn.call(d.context,t,a,r,i),!0;case 6:return d.fn.call(d.context,t,a,r,i,s),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var f,m=d.length;for(c=0;c<m;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,a);break;case 4:d[c].fn.call(d[c].context,t,a,r);break;default:if(!l)for(f=1,l=new Array(u-1);f<u;f++)l[f-1]=arguments[f];d[c].fn.apply(d[c].context,l)}}return!0},o.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,a,r){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return s(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||r&&!o.once||a&&o.context!==a||s(this,i);else{for(var l=0,c=[],d=o.length;l<d;l++)(o[l].fn!==t||r&&!o[l].once||a&&o[l].context!==a)&&c.push(o[l]);c.length?this._events[i]=1===c.length?c[0]:c:s(this,i)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new a,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o}(YSe);var qSe=new(Cr(YSe.exports)),QSe="recharts.syncMouseEvents";function ZSe(e){return(ZSe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function JSe(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,XSe(a.key),a)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KSe(e,t,n){return(t=XSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XSe(e){var t=function(e,t){if("object"!=ZSe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=ZSe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==ZSe(t)?t:t+""}var eke=function(){return JSe((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),KSe(this,"activeIndex",0),KSe(this,"coordinateList",[]),KSe(this,"layout","horizontal")}),[{key:"setDetails",value:function(e){var t,n=e.coordinateList,a=void 0===n?null:n,r=e.container,i=void 0===r?null:r,s=e.layout,o=void 0===s?null:s,l=e.offset,c=void 0===l?null:l,d=e.mouseHandlerCallback,u=void 0===d?null:d;this.coordinateList=null!==(t=null!=a?a:this.coordinateList)&&void 0!==t?t:[],this.container=null!=i?i:this.container,this.layout=null!=o?o:this.layout,this.offset=null!=c?c:this.offset,this.mouseHandlerCallback=null!=u?u:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),a=n.x,r=n.y,i=n.height,s=this.coordinateList[this.activeIndex].coordinate,o=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=a+s+o,d=r+this.offset.top+i/2+l;this.mouseHandlerCallback({pageX:c,pageY:d})}}}])}();function tke(e){var t=e.cx,n=e.cy,a=e.radius,r=e.startAngle,i=e.endAngle;return{points:[Xge(t,n,a,r),Xge(t,n,a,i)],cx:t,cy:n,radius:a,startAngle:r,endAngle:i}}function nke(e,t,n){var a,r,i,s;if("horizontal"===e)i=a=t.x,r=n.top,s=n.top+n.height;else if("vertical"===e)s=r=t.y,a=n.left,i=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return tke(t);var o=t.cx,l=t.cy,c=t.innerRadius,d=t.outerRadius,u=t.angle,f=Xge(o,l,c,u),m=Xge(o,l,d,u);a=f.x,r=f.y,i=m.x,s=m.y}return[{x:a,y:r},{x:i,y:s}]}function ake(e){return(ake="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ike(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rke(Object(n),!0).forEach((function(t){ske(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ske(e,t,n){var a;return a=function(e,t){if("object"!=ake(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=ake(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ake(a)?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oke(e){var t,n,a,r=e.element,i=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,m=e.chartName,p=null!==(t=r.props.cursor)&&void 0!==t?t:null===(n=r.type.defaultProps)||void 0===n?void 0:n.cursor;if(!r||!p||!s||!o||"ScatterChart"!==m&&"axis"!==i)return null;var h=Qxe;if("ScatterChart"===m)a=o,h=tbe;else if("BarChart"===m)a=function(e,t,n,a){var r=a/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-r:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-r,width:"horizontal"===e?a:n.width-1,height:"horizontal"===e?n.height-1:a}}(f,o,c,u),h=Rve;else if("radial"===f){var g=tke(o),x=g.cx,y=g.cy,v=g.radius;a={cx:x,cy:y,startAngle:g.startAngle,endAngle:g.endAngle,innerRadius:v,outerRadius:v},h=zxe}else a={points:nke(f,o,c)},h=Qxe;var b=ike(ike(ike(ike({stroke:"#ccc",pointerEvents:"none"},c),a),Bte(p,!1)),{},{payload:l,payloadIndex:d,className:ub("recharts-tooltip-cursor",p.className)});return ci.isValidElement(p)?ci.cloneElement(p,b):ci.createElement(h,b)}var lke=["item"],cke=["children","className","width","height","style","compact","title","desc"];function dke(e){return(dke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uke(){return uke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},uke.apply(this,arguments)}function fke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t);else for(;!(l=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);l=!0);}catch(d){c=!0,r=d}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return o}}(e,t)||bke(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mke(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pke(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Ske(a.key),a)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hke(e,t,n){return t=xke(t),function(e,t){if(t&&("object"===dke(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,gke()?Reflect.construct(t,n||[],xke(e).constructor):t.apply(e,n))}function gke(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(gke=function(){return!!e})()}function xke(e){return(xke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yke(e,t){return(yke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function vke(e){return function(e){if(Array.isArray(e))return wke(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||bke(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bke(e,t){if(e){if("string"==typeof e)return wke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wke(e,t):void 0}}function wke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function jke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Nke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jke(Object(n),!0).forEach((function(t){Cke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cke(e,t,n){return(t=Ske(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ske(e){var t=function(e,t){if("object"!=dke(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!=dke(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dke(t)?t:t+""}var kke={xAxis:["bottom","top"],yAxis:["left","right"]},Mke={width:"100%",height:"100%"},_ke={x:0,y:0};function Eke(e){return e}var Ike=function(e,t){var n=t.graphicalItems,a=t.dataStartIndex,r=t.dataEndIndex,i=(null!=n?n:[]).reduce((function(e,t){var n=t.props.data;return n&&n.length?[].concat(vke(e),vke(n)):e}),[]);return i.length>0?i:e&&e.length&&lte(a)&&lte(r)?e.slice(a,r+1):[]};function Lke(e){return"number"===e?[0,"auto"]:void 0}var Ake=function(e,t,n,a){var r=e.graphicalItems,i=e.tooltipAxis,s=Ike(t,e);return n<0||!r||!r.length||n>=s.length?null:r.reduce((function(r,o){var l,c,d=null!==(l=o.props.data)&&void 0!==l?l:t;(d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1)),i.dataKey&&!i.allowDuplicatedCategory)?c=hte(void 0===d?s:d,i.dataKey,a):c=d&&d[n]||s[n];return c?[].concat(vke(r),[Vge(o,c)]):r}),[])},Tke=function(e,t,n,a){var r=a||{x:e.chartX,y:e.chartY},i=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(r,n),s=e.orderedTooltipTicks,o=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=-1,s=null!==(t=null==n?void 0:n.length)&&void 0!==t?t:0;if(s<=1)return 0;if(r&&"angleAxis"===r.axisType&&Math.abs(Math.abs(r.range[1]-r.range[0])-360)<=1e-6)for(var o=r.range,l=0;l<s;l++){var c=l>0?a[l-1].coordinate:a[s-1].coordinate,d=a[l].coordinate,u=l>=s-1?a[0].coordinate:a[l+1].coordinate,f=void 0;if(ste(d-c)!==ste(u-d)){var m=[];if(ste(u-d)===ste(o[1]-o[0])){f=u;var p=d+o[1]-o[0];m[0]=Math.min(p,(p+c)/2),m[1]=Math.max(p,(p+c)/2)}else{f=c;var h=u+o[1]-o[0];m[0]=Math.min(d,(h+d)/2),m[1]=Math.max(d,(h+d)/2)}var g=[Math.min(d,(f+d)/2),Math.max(d,(f+d)/2)];if(e>g[0]&&e<=g[1]||e>=m[0]&&e<=m[1]){i=a[l].index;break}}else{var x=Math.min(c,u),y=Math.max(c,u);if(e>(x+d)/2&&e<=(y+d)/2){i=a[l].index;break}}}else for(var v=0;v<s;v++)if(0===v&&e<=(n[v].coordinate+n[v+1].coordinate)/2||v>0&&v<s-1&&e>(n[v].coordinate+n[v-1].coordinate)/2&&e<=(n[v].coordinate+n[v+1].coordinate)/2||v===s-1&&e>(n[v].coordinate+n[v-1].coordinate)/2){i=n[v].index;break}return i}(i,s,l,o);if(c>=0&&l){var d=l[c]&&l[c].value,u=Ake(e,t,c,d),f=function(e,t,n,a){var r=t.find((function(e){return e&&e.index===n}));if(r){if("horizontal"===e)return{x:r.coordinate,y:a.y};if("vertical"===e)return{x:a.x,y:r.coordinate};if("centric"===e){var i=r.coordinate,s=a.radius;return Nke(Nke(Nke({},a),Xge(a.cx,a.cy,s,i)),{},{angle:i,radius:s})}var o=r.coordinate,l=a.angle;return Nke(Nke(Nke({},a),Xge(a.cx,a.cy,o,l)),{},{angle:l,radius:o})}return _ke}(n,s,c,r);return{activeTooltipIndex:c,activeLabel:d,activePayload:u,activeCoordinate:f}}return null},Dke=function(e,t){var n=t.axes,a=t.graphicalItems,r=t.axisType,i=t.axisIdKey,s=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,d=e.children,u=e.stackOffset,f=Sge(c,r);return n.reduce((function(t,n){var m,p=void 0!==n.type.defaultProps?Nke(Nke({},n.type.defaultProps),n.props):n.props,h=p.type,g=p.dataKey,x=p.allowDataOverflow,y=p.allowDuplicatedCategory,v=p.scale,b=p.ticks,w=p.includeHidden,j=p[i];if(t[j])return t;var N,C,S,k=Ike(e.data,{graphicalItems:a.filter((function(e){var t;return(i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i])===j})),dataStartIndex:o,dataEndIndex:l}),M=k.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var a=null==e?void 0:e[0],r=null==e?void 0:e[1];if(a&&r&&lte(a)&&lte(r))return!0}return!1})(p.domain,x,h)&&(N=Uge(p.domain,null,x),!f||"number"!==h&&"auto"===v||(S=wge(k,g,"category")));var _=Lke(h);if(!N||0===N.length){var E,I=null!==(E=p.domain)&&void 0!==E?E:_;if(g){if(N=wge(k,g,h),"category"===h&&f){var L=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},a=0;a<t;a++){if(n[e[a]])return!0;n[e[a]]=!0}return!1}(N);y&&L?(C=N,N=Vwe(0,M)):y||(N=Gge(I,N,n).reduce((function(e,t){return e.indexOf(t)>=0?e:[].concat(vke(e),[t])}),[]))}else if("category"===h)N=y?N.filter((function(e){return""!==e&&!Iee(e)})):Gge(I,N,n).reduce((function(e,t){return e.indexOf(t)>=0||""===t||Iee(t)?e:[].concat(vke(e),[t])}),[]);else if("number"===h){var A=function(e,t,n,a,r){var i=t.map((function(t){return Nge(e,t,n,r,a)})).filter((function(e){return!Iee(e)}));return i&&i.length?i.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]):null}(k,a.filter((function(e){var t,n,a=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],r="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return a===j&&(w||!r)})),g,r,c);A&&(N=A)}!f||"number"!==h&&"auto"===v||(S=wge(k,g,"category"))}else N=f?Vwe(0,M):s&&s[j]&&s[j].hasStack&&"number"===h?"expand"===u?[0,1]:zge(s[j].stackGroups,o,l):Cge(k,a.filter((function(e){var t=i in e.props?e.props[i]:e.type.defaultProps[i],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===j&&(w||!n)})),h,c,!0);if("number"===h)N=HSe(d,N,j,r,b),I&&(N=Uge(I,N,x));else if("category"===h&&I){var T=I;N.every((function(e){return T.indexOf(e)>=0}))&&(N=T)}}return Nke(Nke({},t),{},Cke({},j,Nke(Nke({},p),{},{axisType:r,domain:N,categoricalDomain:S,duplicateDomain:C,originalDomain:null!==(m=p.domain)&&void 0!==m?m:_,isCategorical:f,layout:c})))}),{})},Pke=function(e,t){var n=t.axisType,a=void 0===n?"xAxis":n,r=t.AxisComp,i=t.graphicalItems,s=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.children,d="".concat(a,"Id"),u=Pte(c,r),f={};return u&&u.length?f=Dke(e,{axes:u,graphicalItems:i,axisType:a,axisIdKey:d,stackGroups:s,dataStartIndex:o,dataEndIndex:l}):i&&i.length&&(f=function(e,t){var n=t.graphicalItems,a=t.Axis,r=t.axisType,i=t.axisIdKey,s=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,d=e.children,u=Ike(e.data,{graphicalItems:n,dataStartIndex:o,dataEndIndex:l}),f=u.length,m=Sge(c,r),p=-1;return n.reduce((function(e,t){var h,g=(void 0!==t.type.defaultProps?Nke(Nke({},t.type.defaultProps),t.props):t.props)[i],x=Lke("number");return e[g]?e:(p++,m?h=Vwe(0,f):s&&s[g]&&s[g].hasStack?(h=zge(s[g].stackGroups,o,l),h=HSe(d,h,g,r)):(h=Uge(x,Cge(u,n.filter((function(e){var t,n,a=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],r="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return a===g&&!r})),"number",c),a.defaultProps.allowDataOverflow),h=HSe(d,h,g,r)),Nke(Nke({},e),{},Cke({},g,Nke(Nke({axisType:r},a.defaultProps),{},{hide:!0,orientation:Eee(kke,"".concat(r,".").concat(p%2),null),domain:h,originalDomain:x,isCategorical:m,layout:c}))))}),{})}(e,{Axis:r,graphicalItems:i,axisType:a,axisIdKey:d,stackGroups:s,dataStartIndex:o,dataEndIndex:l})),f},Oke=function(e){var t=e.children,n=e.defaultShowTooltip,a=Ote(t,lje),r=0,i=0;return e.data&&0!==e.data.length&&(i=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(r=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:r,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},Rke=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},zke=function(e,t){var n=e.props,a=(e.graphicalItems,e.xAxisMap),r=void 0===a?{}:a,i=e.yAxisMap,s=void 0===i?{}:i,o=n.width,l=n.height,c=n.children,d=n.margin||{},u=Ote(c,lje),f=Ote(c,Goe),m=Object.keys(s).reduce((function(e,t){var n=s[t],a=n.orientation;return n.mirror||n.hide?e:Nke(Nke({},e),{},Cke({},a,e[a]+n.width))}),{left:d.left||0,right:d.right||0}),p=Object.keys(r).reduce((function(e,t){var n=r[t],a=n.orientation;return n.mirror||n.hide?e:Nke(Nke({},e),{},Cke({},a,Eee(e,"".concat(a))+n.height))}),{top:d.top||0,bottom:d.bottom||0}),h=Nke(Nke({},p),m),g=h.bottom;u&&(h.bottom+=u.props.height||lje.defaultProps.height),f&&t&&(h=function(e,t,n,a){var r=n.children,i=n.width,s=n.margin,o=i-(s.left||0)-(s.right||0),l=mge({children:r,legendWidth:o});if(l){var c=a||{},d=c.width,u=c.height,f=l.align,m=l.verticalAlign,p=l.layout;if(("vertical"===p||"horizontal"===p&&"middle"===m)&&"center"!==f&&lte(e[f]))return yge(yge({},e),{},vge({},f,e[f]+(d||0)));if(("horizontal"===p||"vertical"===p&&"center"===f)&&"middle"!==m&&lte(e[m]))return yge(yge({},e),{},vge({},m,e[m]+(u||0)))}return e}(h,0,n,t));var x=o-h.left-h.right,y=l-h.top-h.bottom;return Nke(Nke({brushBottom:g},h),{},{width:Math.max(x,0),height:Math.max(y,0)})},Fke=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},Bke=function(e){var t=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,r=void 0===a?"axis":a,i=e.validateTooltipEventTypes,s=void 0===i?["axis"]:i,o=e.axisComponents,l=e.legendContent,c=e.formatAxisMap,d=e.defaultProps,u=function(e,t){var n=t.graphicalItems,a=t.stackGroups,r=t.offset,i=t.updateId,s=t.dataStartIndex,l=t.dataEndIndex,c=e.barSize,d=e.layout,u=e.barGap,f=e.barCategoryGap,m=e.maxBarSize,p=Rke(d),h=p.numericAxisName,g=p.cateAxisName,x=function(e){return!(!e||!e.length)&&e.some((function(e){var t=Lte(e&&e.type);return t&&t.indexOf("Bar")>=0}))}(n),y=[];return n.forEach((function(n,p){var v=Ike(e.data,{graphicalItems:[n],dataStartIndex:s,dataEndIndex:l}),b=void 0!==n.type.defaultProps?Nke(Nke({},n.type.defaultProps),n.props):n.props,w=b.dataKey,j=b.maxBarSize,N=b["".concat(h,"Id")],C=b["".concat(g,"Id")],S=o.reduce((function(e,n){var a=t["".concat(n.axisType,"Map")],r=b["".concat(n.axisType,"Id")];a&&a[r]||"zAxis"===n.axisType||qhe();var i=a[r];return Nke(Nke({},e),{},Cke(Cke({},n.axisType,i),"".concat(n.axisType,"Ticks"),Mge(i)))}),{}),k=S[g],M=S["".concat(g,"Ticks")],_=a&&a[N]&&a[N].hasStack&&function(e,t){var n,a=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?yge(yge({},e.type.defaultProps),e.props):e.props).stackId;if(cte(a)){var r=t[a];if(r){var i=r.items.indexOf(e);return i>=0?r.stackedData[i]:null}}return null}(n,a[N].stackGroups),E=Lte(n.type).indexOf("Bar")>=0,I=Wge(k,M),L=[],A=x&&function(e){var t=e.barSize,n=e.totalSize,a=e.stackGroups,r=void 0===a?{}:a;if(!r)return{};for(var i={},s=Object.keys(r),o=0,l=s.length;o<l;o++)for(var c=r[s[o]].stackGroups,d=Object.keys(c),u=0,f=d.length;u<f;u++){var m=c[d[u]],p=m.items,h=m.cateAxisId,g=p.filter((function(e){return Lte(e.type).indexOf("Bar")>=0}));if(g&&g.length){var x=g[0].type.defaultProps,y=void 0!==x?yge(yge({},x),g[0].props):g[0].props,v=y.barSize,b=y[h];i[b]||(i[b]=[]);var w=Iee(v)?t:v;i[b].push({item:g[0],stackList:g.slice(1),barSize:Iee(w)?void 0:fte(w,n,0)})}}return i}({barSize:c,stackGroups:a,totalSize:Fke(S,g)});if(E){var T,D,P=Iee(j)?m:j,O=null!==(T=null!==(D=Wge(k,M,!0))&&void 0!==D?D:P)&&void 0!==T?T:0;L=function(e){var t=e.barGap,n=e.barCategoryGap,a=e.bandSize,r=e.sizeList,i=void 0===r?[]:r,s=e.maxBarSize,o=i.length;if(o<1)return null;var l,c=fte(t,a,0,!0),d=[];if(i[0].barSize===+i[0].barSize){var u=!1,f=a/o,m=i.reduce((function(e,t){return e+t.barSize||0}),0);(m+=(o-1)*c)>=a&&(m-=(o-1)*c,c=0),m>=a&&f>0&&(u=!0,m=o*(f*=.9));var p={offset:((a-m)/2|0)-c,size:0};l=i.reduce((function(e,t){var n={item:t.item,position:{offset:p.offset+p.size+c,size:u?f:t.barSize}},a=[].concat(hge(e),[n]);return p=a[a.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){a.push({item:e,position:p})})),a}),d)}else{var h=fte(n,a,0,!0);a-2*h-(o-1)*c<=0&&(c=0);var g=(a-2*h-(o-1)*c)/o;g>1&&(g>>=0);var x=s===+s?Math.min(g,s):g;l=i.reduce((function(e,t,n){var a=[].concat(hge(e),[{item:t.item,position:{offset:h+(g+c)*n+(g-x)/2,size:x}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){a.push({item:e,position:a[a.length-1].position})})),a}),d)}return l}({barGap:u,barCategoryGap:f,bandSize:O!==I?O:I,sizeList:A[C],maxBarSize:P}),O!==I&&(L=L.map((function(e){return Nke(Nke({},e),{},{position:Nke(Nke({},e.position),{},{offset:e.position.offset-O/2})})})))}var R,z,F=n&&n.type&&n.type.getComposedData;F&&y.push({props:Nke(Nke({},F(Nke(Nke({},S),{},{displayedData:v,props:e,dataKey:w,item:n,bandSize:I,barPosition:L,offset:r,stackedData:_,layout:d,dataStartIndex:s,dataEndIndex:l}))),{},Cke(Cke(Cke({key:n.key||"item-".concat(p)},h,S[h]),g,S[g]),"animationId",i)),childIndex:(R=n,z=e.children,Dte(z).indexOf(R)),item:n})})),y},f=function(e,a){var r=e.props,i=e.dataStartIndex,s=e.dataEndIndex,l=e.updateId;if(!Rte({props:r}))return null;var d=r.children,f=r.layout,m=r.stackOffset,p=r.data,h=r.reverseStackOrder,g=Rke(f),x=g.numericAxisName,y=g.cateAxisName,v=Pte(d,n),b=function(e,t,n,a,r,i){if(!e)return null;var s=(i?t.reverse():t).reduce((function(e,t){var r,i=null!==(r=t.type)&&void 0!==r&&r.defaultProps?yge(yge({},t.type.defaultProps),t.props):t.props,s=i.stackId;if(i.hide)return e;var o=i[n],l=e[o]||{hasStack:!1,stackGroups:{}};if(cte(s)){var c=l.stackGroups[s]||{numericAxisId:n,cateAxisId:a,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[s]=c}else l.stackGroups[ute("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[t]};return yge(yge({},e),{},vge({},o,l))}),{});return Object.keys(s).reduce((function(t,i){var o=s[i];return o.hasStack&&(o.stackGroups=Object.keys(o.stackGroups).reduce((function(t,i){var s=o.stackGroups[i];return yge(yge({},t),{},vge({},i,{numericAxisId:n,cateAxisId:a,items:s.items,stackedData:Dge(e,s.items,r)}))}),{})),yge(yge({},t),{},vge({},i,o))}),{})}(p,v,"".concat(x,"Id"),"".concat(y,"Id"),m,h),w=o.reduce((function(e,t){var n="".concat(t.axisType,"Map");return Nke(Nke({},e),{},Cke({},n,Pke(r,Nke(Nke({},t),{},{graphicalItems:v,stackGroups:t.axisType===x&&b,dataStartIndex:i,dataEndIndex:s}))))}),{}),j=zke(Nke(Nke({},w),{},{props:r,graphicalItems:v}),null==a?void 0:a.legendBBox);Object.keys(w).forEach((function(e){w[e]=c(r,w[e],j,e.replace("Map",""),t)}));var N,C,S=w["".concat(y,"Map")],k=(N=mte(S),{tooltipTicks:C=Mge(N,!1,!0),orderedTooltipTicks:Fle(C,(function(e){return e.coordinate})),tooltipAxis:N,tooltipAxisBandSize:Wge(N,C)}),M=u(r,Nke(Nke({},w),{},{dataStartIndex:i,dataEndIndex:s,updateId:l,graphicalItems:v,stackGroups:b,offset:j}));return Nke(Nke({formattedGraphicalItems:M,graphicalItems:v,offset:j,stackGroups:b},k),w)},m=function(){function e(n){var a,r,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Cke(i=hke(this,e,[n]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Cke(i,"accessibilityManager",new eke),Cke(i,"handleLegendBBoxUpdate",(function(e){if(e){var t=i.state,n=t.dataStartIndex,a=t.dataEndIndex,r=t.updateId;i.setState(Nke({legendBBox:e},f({props:i.props,dataStartIndex:n,dataEndIndex:a,updateId:r},Nke(Nke({},i.state),{},{legendBBox:e}))))}})),Cke(i,"handleReceiveSyncEvent",(function(e,t,n){if(i.props.syncId===e){if(n===i.eventEmitterSymbol&&"function"!=typeof i.props.syncMethod)return;i.applySyncEvent(t)}})),Cke(i,"handleBrushChange",(function(e){var t=e.startIndex,n=e.endIndex;if(t!==i.state.dataStartIndex||n!==i.state.dataEndIndex){var a=i.state.updateId;i.setState((function(){return Nke({dataStartIndex:t,dataEndIndex:n},f({props:i.props,dataStartIndex:t,dataEndIndex:n,updateId:a},i.state))})),i.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}})),Cke(i,"handleMouseEnter",(function(e){var t=i.getMouseInfo(e);if(t){var n=Nke(Nke({},t),{},{isTooltipActive:!0});i.setState(n),i.triggerSyncEvent(n);var a=i.props.onMouseEnter;z8(a)&&a(n,e)}})),Cke(i,"triggeredAfterMouseMove",(function(e){var t=i.getMouseInfo(e),n=t?Nke(Nke({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};i.setState(n),i.triggerSyncEvent(n);var a=i.props.onMouseMove;z8(a)&&a(n,e)})),Cke(i,"handleItemMouseEnter",(function(e){i.setState((function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}}))})),Cke(i,"handleItemMouseLeave",(function(){i.setState((function(){return{isTooltipActive:!1}}))})),Cke(i,"handleMouseMove",(function(e){e.persist(),i.throttleTriggeredAfterMouseMove(e)})),Cke(i,"handleMouseLeave",(function(e){i.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};i.setState(t),i.triggerSyncEvent(t);var n=i.props.onMouseLeave;z8(n)&&n(t,e)})),Cke(i,"handleOuterEvent",(function(e){var t,n=function(e){var t=e&&e.type;return t&&Ite[t]?Ite[t]:null}(e),a=Eee(i.props,"".concat(n));n&&z8(a)&&a(null!==(t=/.*touch.*/i.test(n)?i.getMouseInfo(e.changedTouches[0]):i.getMouseInfo(e))&&void 0!==t?t:{},e)})),Cke(i,"handleClick",(function(e){var t=i.getMouseInfo(e);if(t){var n=Nke(Nke({},t),{},{isTooltipActive:!0});i.setState(n),i.triggerSyncEvent(n);var a=i.props.onClick;z8(a)&&a(n,e)}})),Cke(i,"handleMouseDown",(function(e){var t=i.props.onMouseDown;z8(t)&&t(i.getMouseInfo(e),e)})),Cke(i,"handleMouseUp",(function(e){var t=i.props.onMouseUp;z8(t)&&t(i.getMouseInfo(e),e)})),Cke(i,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.throttleTriggeredAfterMouseMove(e.changedTouches[0])})),Cke(i,"handleTouchStart",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.handleMouseDown(e.changedTouches[0])})),Cke(i,"handleTouchEnd",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.handleMouseUp(e.changedTouches[0])})),Cke(i,"handleDoubleClick",(function(e){var t=i.props.onDoubleClick;z8(t)&&t(i.getMouseInfo(e),e)})),Cke(i,"handleContextMenu",(function(e){var t=i.props.onContextMenu;z8(t)&&t(i.getMouseInfo(e),e)})),Cke(i,"triggerSyncEvent",(function(e){void 0!==i.props.syncId&&qSe.emit(QSe,i.props.syncId,e,i.eventEmitterSymbol)})),Cke(i,"applySyncEvent",(function(e){var t=i.props,n=t.layout,a=t.syncMethod,r=i.state.updateId,s=e.dataStartIndex,o=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)i.setState(Nke({dataStartIndex:s,dataEndIndex:o},f({props:i.props,dataStartIndex:s,dataEndIndex:o,updateId:r},i.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,d=e.activeTooltipIndex,u=i.state,m=u.offset,p=u.tooltipTicks;if(!m)return;if("function"==typeof a)d=a(p,e);else if("value"===a){d=-1;for(var h=0;h<p.length;h++)if(p[h].value===e.activeLabel){d=h;break}}var g=Nke(Nke({},m),{},{x:m.left,y:m.top}),x=Math.min(l,g.x+g.width),y=Math.min(c,g.y+g.height),v=p[d]&&p[d].value,b=Ake(i.state,i.props.data,d),w=p[d]?{x:"horizontal"===n?p[d].coordinate:x,y:"horizontal"===n?y:p[d].coordinate}:_ke;i.setState(Nke(Nke({},e),{},{activeLabel:v,activeCoordinate:w,activePayload:b,activeTooltipIndex:d}))}else i.setState(e)})),Cke(i,"renderCursor",(function(e){var n,a=i.state,r=a.isTooltipActive,s=a.activeCoordinate,o=a.activePayload,l=a.offset,c=a.activeTooltipIndex,d=a.tooltipAxisBandSize,u=i.getTooltipEventType(),f=null!==(n=e.props.active)&&void 0!==n?n:r,m=i.props.layout,p=e.key||"_recharts-cursor";return di.createElement(oke,{key:p,activeCoordinate:s,activePayload:o,activeTooltipIndex:c,chartName:t,element:e,isActive:f,layout:m,offset:l,tooltipAxisBandSize:d,tooltipEventType:u})})),Cke(i,"renderPolarAxis",(function(e,t,n){var a=Eee(e,"type.axisType"),r=Eee(i.state,"".concat(a,"Map")),s=e.type.defaultProps,o=void 0!==s?Nke(Nke({},s),e.props):e.props,l=r&&r[o["".concat(a,"Id")]];return ci.cloneElement(e,Nke(Nke({},l),{},{className:ub(a,l.className),key:e.key||"".concat(t,"-").concat(n),ticks:Mge(l,!0)}))})),Cke(i,"renderPolarGrid",(function(e){var t=e.props,n=t.radialLines,a=t.polarAngles,r=t.polarRadius,s=i.state,o=s.radiusAxisMap,l=s.angleAxisMap,c=mte(o),d=mte(l),u=d.cx,f=d.cy,m=d.innerRadius,p=d.outerRadius;return ci.cloneElement(e,{polarAngles:Array.isArray(a)?a:Mge(d,!0).map((function(e){return e.coordinate})),polarRadius:Array.isArray(r)?r:Mge(c,!0).map((function(e){return e.coordinate})),cx:u,cy:f,innerRadius:m,outerRadius:p,key:e.key||"polar-grid",radialLines:n})})),Cke(i,"renderLegend",(function(){var e=i.state.formattedGraphicalItems,t=i.props,n=t.children,a=t.width,r=t.height,s=i.props.margin||{},o=a-(s.left||0)-(s.right||0),c=mge({children:n,formattedGraphicalItems:e,legendWidth:o,legendContent:l});if(!c)return null;var d=c.item,u=mke(c,lke);return ci.cloneElement(d,Nke(Nke({},u),{},{chartWidth:a,chartHeight:r,margin:s,onBBoxUpdate:i.handleLegendBBoxUpdate}))})),Cke(i,"renderTooltip",(function(){var e,t=i.props,n=t.children,a=t.accessibilityLayer,r=Ote(n,Cce);if(!r)return null;var s=i.state,o=s.isTooltipActive,l=s.activeCoordinate,c=s.activePayload,d=s.activeLabel,u=s.offset,f=null!==(e=r.props.active)&&void 0!==e?e:o;return ci.cloneElement(r,{viewBox:Nke(Nke({},u),{},{x:u.left,y:u.top}),active:f,label:d,payload:f?c:[],coordinate:l,accessibilityLayer:a})})),Cke(i,"renderBrush",(function(e){var t=i.props,n=t.margin,a=t.data,r=i.state,s=r.offset,o=r.dataStartIndex,l=r.dataEndIndex,c=r.updateId;return ci.cloneElement(e,{key:e.key||"_recharts-brush",onChange:Ege(i.handleBrushChange,e.props.onChange),data:a,x:lte(e.props.x)?e.props.x:s.left,y:lte(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(n.bottom||0),width:lte(e.props.width)?e.props.width:s.width,startIndex:o,endIndex:l,updateId:"brush-".concat(c)})})),Cke(i,"renderReferenceElement",(function(e,t,n){if(!e)return null;var a=i.clipPathId,r=i.state,s=r.xAxisMap,o=r.yAxisMap,l=r.offset,c=e.type.defaultProps||{},d=e.props,u=d.xAxisId,f=void 0===u?c.xAxisId:u,m=d.yAxisId,p=void 0===m?c.yAxisId:m;return ci.cloneElement(e,{key:e.key||"".concat(t,"-").concat(n),xAxis:s[f],yAxis:o[p],viewBox:{x:l.left,y:l.top,width:l.width,height:l.height},clipPathId:a})})),Cke(i,"renderActivePoints",(function(t){var n=t.item,a=t.activePoint,r=t.basePoint,i=t.childIndex,s=t.isRange,o=[],l=n.props.key,c=void 0!==n.item.type.defaultProps?Nke(Nke({},n.item.type.defaultProps),n.item.props):n.item.props,d=c.activeDot,u=Nke(Nke({index:i,dataKey:c.dataKey,cx:a.x,cy:a.y,r:4,fill:jge(n.item),strokeWidth:2,stroke:"#fff",payload:a.payload,value:a.value},Bte(d,!1)),Cte(d));return o.push(e.renderActiveDot(d,u,"".concat(l,"-activePoint-").concat(i))),r?o.push(e.renderActiveDot(d,Nke(Nke({},u),{},{cx:r.x,cy:r.y}),"".concat(l,"-basePoint-").concat(i))):s&&o.push(null),o})),Cke(i,"renderGraphicChild",(function(e,t,n){var a=i.filterFormatItem(e,t,n);if(!a)return null;var r=i.getTooltipEventType(),s=i.state,o=s.isTooltipActive,l=s.tooltipAxis,c=s.activeTooltipIndex,d=s.activeLabel,u=Ote(i.props.children,Cce),f=a.props,m=f.points,p=f.isRange,h=f.baseLine,g=void 0!==a.item.type.defaultProps?Nke(Nke({},a.item.type.defaultProps),a.item.props):a.item.props,x=g.activeDot,y=g.hide,v=g.activeBar,b=g.activeShape,w=Boolean(!y&&o&&u&&(x||v||b)),j={};"axis"!==r&&u&&"click"===u.props.trigger?j={onClick:Ege(i.handleItemMouseEnter,e.props.onClick)}:"axis"!==r&&(j={onMouseLeave:Ege(i.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:Ege(i.handleItemMouseEnter,e.props.onMouseEnter)});var N=ci.cloneElement(e,Nke(Nke({},a.props),j));if(w){if(!(c>=0)){var C,S=(null!==(C=i.getItemByXY(i.state.activeCoordinate))&&void 0!==C?C:{graphicalItem:N}).graphicalItem,k=S.item,M=void 0===k?e:k,_=S.childIndex,E=Nke(Nke(Nke({},a.props),j),{},{activeIndex:_});return[ci.cloneElement(M,E),null,null]}var I,L;if(l.dataKey&&!l.allowDuplicatedCategory){var A="function"==typeof l.dataKey?function(e){return"function"==typeof l.dataKey?l.dataKey(e.payload):null}:"payload.".concat(l.dataKey.toString());I=hte(m,A,d),L=p&&h&&hte(h,A,d)}else I=null==m?void 0:m[c],L=p&&h&&h[c];if(b||v){var T=void 0!==e.props.activeIndex?e.props.activeIndex:c;return[ci.cloneElement(e,Nke(Nke(Nke({},a.props),j),{},{activeIndex:T})),null,null]}if(!Iee(I))return[N].concat(vke(i.renderActivePoints({item:a,activePoint:I,basePoint:L,childIndex:c,isRange:p})))}return p?[N,null,null]:[N,null]})),Cke(i,"renderCustomized",(function(e,t,n){return ci.cloneElement(e,Nke(Nke({key:"recharts-customized-".concat(n)},i.props),i.state))})),Cke(i,"renderMap",{CartesianGrid:{handler:Eke,once:!0},ReferenceArea:{handler:i.renderReferenceElement},ReferenceLine:{handler:Eke},ReferenceDot:{handler:i.renderReferenceElement},XAxis:{handler:Eke},YAxis:{handler:Eke},Brush:{handler:i.renderBrush,once:!0},Bar:{handler:i.renderGraphicChild},Line:{handler:i.renderGraphicChild},Area:{handler:i.renderGraphicChild},Radar:{handler:i.renderGraphicChild},RadialBar:{handler:i.renderGraphicChild},Scatter:{handler:i.renderGraphicChild},Pie:{handler:i.renderGraphicChild},Funnel:{handler:i.renderGraphicChild},Tooltip:{handler:i.renderCursor,once:!0},PolarGrid:{handler:i.renderPolarGrid,once:!0},PolarAngleAxis:{handler:i.renderPolarAxis},PolarRadiusAxis:{handler:i.renderPolarAxis},Customized:{handler:i.renderCustomized}}),i.clipPathId="".concat(null!==(a=n.id)&&void 0!==a?a:ute("recharts"),"-clip"),i.throttleTriggeredAfterMouseMove=Hce(i.triggeredAfterMouseMove,null!==(r=n.throttleDelay)&&void 0!==r?r:1e3/60),i.state={},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yke(e,t)}(e,ci.Component),pke(e,[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,a=e.height,r=e.layout,i=Ote(t,Cce);if(i){var s=i.props.defaultIndex;if(!("number"!=typeof s||s<0||s>this.state.tooltipTicks.length-1)){var o=this.state.tooltipTicks[s]&&this.state.tooltipTicks[s].value,l=Ake(this.state,n,s,o),c=this.state.tooltipTicks[s].coordinate,d=(this.state.offset.top+a)/2,u="horizontal"===r?{x:c,y:d}:{y:c,x:d},f=this.state.formattedGraphicalItems.find((function(e){return"Scatter"===e.item.type.name}));f&&(u=Nke(Nke({},u),f.props.points[s].tooltipPosition),l=f.props.points[s].tooltipPayload);var m={activeTooltipIndex:s,isTooltipActive:!0,activeLabel:o,activePayload:l,activeCoordinate:u};this.setState(m),this.renderCursor(i),this.accessibilityManager.setIndex(s)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){if(!this.props.accessibilityLayer)return null;var n,a;(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin)&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(a=this.props.margin.top)&&void 0!==a?a:0}});return null}},{key:"componentDidUpdate",value:function(e){Ute([Ote(e.children,Cce)],[Ote(this.props.children,Cce)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=Ote(this.props.children,Cce);if(e&&"boolean"==typeof e.props.shared){var t=e.props.shared?"axis":"item";return s.indexOf(t)>=0?t:r}return r}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,a=n.getBoundingClientRect(),r={top:(t=a).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},i={chartX:Math.round(e.pageX-r.left),chartY:Math.round(e.pageY-r.top)},s=a.width/n.offsetWidth||1,o=this.inRange(i.chartX,i.chartY,s);if(!o)return null;var l=this.state,c=l.xAxisMap,d=l.yAxisMap,u=this.getTooltipEventType(),f=Tke(this.state,this.props.data,this.props.layout,o);if("axis"!==u&&c&&d){var m=mte(c).scale,p=mte(d).scale,h=m&&m.invert?m.invert(i.chartX):null,g=p&&p.invert?p.invert(i.chartY):null;return Nke(Nke({},i),{},{xValue:h,yValue:g},f)}return f?Nke(Nke({},i),f):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=this.props.layout,r=e/n,i=t/n;if("horizontal"===a||"vertical"===a){var s=this.state.offset;return r>=s.left&&r<=s.left+s.width&&i>=s.top&&i<=s.top+s.height?{x:r,y:i}:null}var o=this.state,l=o.angleAxisMap,c=o.radiusAxisMap;if(l&&c){var d=mte(l);return axe({x:r,y:i},d)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=Ote(e,Cce),a={};return n&&"axis"===t&&(a="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),Nke(Nke({},Cte(this.props,this.handleOuterEvent)),a)}},{key:"addListener",value:function(){qSe.on(QSe,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){qSe.removeListener(QSe,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var a=this.state.formattedGraphicalItems,r=0,i=a.length;r<i;r++){var s=a[r];if(s.item===e||s.props.key===e.key||t===Lte(s.item.type)&&n===s.childIndex)return s}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,a=t.top,r=t.height,i=t.width;return di.createElement("defs",null,di.createElement("clipPath",{id:e},di.createElement("rect",{x:n,y:a,height:r,width:i})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=fke(t,2),a=n[0],r=n[1];return Nke(Nke({},e),{},Cke({},a,r.scale))}),{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=fke(t,2),a=n[0],r=n[1];return Nke(Nke({},e),{},Cke({},a,r.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,a=t.activeItem;if(n&&n.length)for(var r=0,i=n.length;r<i;r++){var s=n[r],o=s.props,l=s.item,c=void 0!==l.type.defaultProps?Nke(Nke({},l.type.defaultProps),l.props):l.props,d=Lte(l.type);if("Bar"===d){var u=(o.data||[]).find((function(t){return Pve(e,t)}));if(u)return{graphicalItem:s,payload:u}}else if("RadialBar"===d){var f=(o.data||[]).find((function(t){return axe(e,t)}));if(f)return{graphicalItem:s,payload:f}}else if(xwe(s,a)||ywe(s,a)||vwe(s,a)){var m=Nwe({graphicalItem:s,activeTooltipItem:a,itemData:c.data}),p=void 0===c.activeIndex?m:c.activeIndex;return{graphicalItem:Nke(Nke({},s),{},{childIndex:p}),payload:vwe(s,a)?c.data[m]:s.props.data[m]}}}return null}},{key:"render",value:function(){var e=this;if(!Rte(this))return null;var t,n,a=this.props,r=a.children,i=a.className,s=a.width,o=a.height,l=a.style,c=a.compact,d=a.title,u=a.desc,f=mke(a,cke),m=Bte(f,!1);if(c)return di.createElement(MNe,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},di.createElement(Yte,uke({},m,{width:s,height:o,title:d,desc:u}),this.renderClipPath(),Gte(r,this.renderMap)));this.props.accessibilityLayer&&(m.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,m.role=null!==(n=this.props.role)&&void 0!==n?n:"application",m.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},m.onFocus=function(){e.accessibilityManager.focus()});var p=this.parseEventsOfWrapper();return di.createElement(MNe,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},di.createElement("div",uke({className:ub("recharts-wrapper",i),style:Nke({position:"relative",cursor:"default",width:s,height:o},l)},p,{ref:function(t){e.container=t}}),di.createElement(Yte,uke({},m,{width:s,height:o,title:d,desc:u,style:Mke}),this.renderClipPath(),Gte(r,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}();Cke(m,"displayName",t),Cke(m,"defaultProps",Nke({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Cke(m,"getDerivedStateFromProps",(function(e,t){var n=e.dataKey,a=e.data,r=e.children,i=e.width,s=e.height,o=e.layout,l=e.stackOffset,c=e.margin,d=t.dataStartIndex,u=t.dataEndIndex;if(void 0===t.updateId){var m=Oke(e);return Nke(Nke(Nke({},m),{},{updateId:0},f(Nke(Nke({props:e},m),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:a,prevWidth:i,prevHeight:s,prevLayout:o,prevStackOffset:l,prevMargin:c,prevChildren:r})}if(n!==t.prevDataKey||a!==t.prevData||i!==t.prevWidth||s!==t.prevHeight||o!==t.prevLayout||l!==t.prevStackOffset||!yte(c,t.prevMargin)){var p=Oke(e),h={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=Nke(Nke({},Tke(t,a,o)),{},{updateId:t.updateId+1}),x=Nke(Nke(Nke({},p),h),g);return Nke(Nke(Nke({},x),f(Nke({props:e},x),t)),{},{prevDataKey:n,prevData:a,prevWidth:i,prevHeight:s,prevLayout:o,prevStackOffset:l,prevMargin:c,prevChildren:r})}if(!Ute(r,t.prevChildren)){var y,v,b,w,j=Ote(r,lje),N=j&&null!==(y=null===(v=j.props)||void 0===v?void 0:v.startIndex)&&void 0!==y?y:d,C=j&&null!==(b=null===(w=j.props)||void 0===w?void 0:w.endIndex)&&void 0!==b?b:u,S=N!==d||C!==u,k=!Iee(a)&&!S?t.updateId:t.updateId+1;return Nke(Nke({updateId:k},f(Nke(Nke({props:e},t),{},{updateId:k,dataStartIndex:N,dataEndIndex:C}),t)),{},{prevChildren:r,dataStartIndex:N,dataEndIndex:C})}return null})),Cke(m,"renderActiveDot",(function(e,t,n){var a;return a=ci.isValidElement(e)?ci.cloneElement(e,t):z8(e)?e(t):di.createElement(Yve,t),di.createElement(Jte,{className:"recharts-active-dot",key:n},a)}));var p=ci.forwardRef((function(e,t){return di.createElement(m,uke({},e,{ref:t}))}));return p.displayName=m.displayName,p},Uke=Bke({chartName:"LineChart",GraphicalChild:wSe,axisComponents:[{axisType:"xAxis",AxisComp:ASe},{axisType:"yAxis",AxisComp:GSe}],formatAxisMap:iNe}),Wke=Bke({chartName:"PieChart",GraphicalChild:Pwe,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Rbe},{axisType:"radiusAxis",AxisComp:Cbe}],formatAxisMap:function(e,t,n,a,r){var i=e.width,s=e.height,o=e.startAngle,l=e.endAngle,c=fte(e.cx,i,i/2),d=fte(e.cy,s,s/2),u=exe(i,s,n),f=fte(e.innerRadius,u,0),m=fte(e.outerRadius,u,.8*u);return Object.keys(t).reduce((function(e,n){var i,s=t[n],u=s.domain,p=s.reversed;if(Iee(s.range))"angleAxis"===a?i=[o,l]:"radiusAxis"===a&&(i=[f,m]),p&&(i=[i[1],i[0]]);else{var h=Qge(i=s.range,2);o=h[0],l=h[1]}var g=Ige(s,r),x=g.realScaleType,y=g.scale;y.domain(u).range(i),Age(y);var v=Pge(y,Yge(Yge({},s),{},{realScaleType:x})),b=Yge(Yge(Yge({},s),v),{},{range:i,radius:m,realScaleType:x,scale:y,cx:c,cy:d,innerRadius:f,outerRadius:m,startAngle:o,endAngle:l});return Yge(Yge({},e),{},qge({},n,b))}),{})},defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function Gke(){var e,t,n,a,r,i,s,o,l,c,d,u,f,m,p,h,g;const[x,y]=ci.useState("7days"),[v,b]=ci.useState({from:Sz(new Date,7),to:new Date}),[w,j]=ci.useState(!1),{t:N}=sk();By();const{data:C,isLoading:S,error:k}=ky({queryKey:["/api/analytics/overview",x,v],queryFn:async()=>{const e=new URLSearchParams;e.append("period",x),w&&v.from&&v.to&&(e.append("from",v.from.toISOString()),e.append("to",v.to.toISOString()));const t=await Ey("GET",`/api/analytics/overview?${e.toString()}`);if(!t.ok)throw new Error("Failed to fetch analytics data");return t.json()},refetchOnWindowFocus:!1,staleTime:3e5}),M=((null==C?void 0:C.conversationsByDay)||[{name:"Mon",whatsapp_official:0,whatsapp_unofficial:0,messenger:0,instagram:0},{name:"Tue",whatsapp_official:0,whatsapp_unofficial:0,messenger:0,instagram:0},{name:"Wed",whatsapp_official:0,whatsapp_unofficial:0,messenger:0,instagram:0},{name:"Thu",whatsapp_official:0,whatsapp_unofficial:0,messenger:0,instagram:0},{name:"Fri",whatsapp_official:0,whatsapp_unofficial:0,messenger:0,instagram:0},{name:"Sat",whatsapp_official:0,whatsapp_unofficial:0,messenger:0,instagram:0},{name:"Sun",whatsapp_official:0,whatsapp_unofficial:0,messenger:0,instagram:0}]).map((e=>{if(e.name&&e.name.includes("-")){const t=new Date(e.name);return{...e,name:t.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}}return e})),_=(null==C?void 0:C.channelDistribution)||[{name:"WhatsApp Official",value:0},{name:"WhatsApp Unofficial",value:0},{name:"Messenger",value:0},{name:"Instagram",value:0}],E=["#25D366","#F59E0B","#1877F2","#E4405F"];return vi.jsxs("div",{className:"h-screen flex flex-col overflow-hidden font-sans text-gray-800",children:[vi.jsx(WO,{}),vi.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[vi.jsx(XO,{}),vi.jsxs("div",{className:"flex-1 overflow-y-auto p-3 sm:p-6",children:[vi.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6 gap-4",children:[vi.jsx("h1",{className:"text-2xl",children:N("analytics.title","Analytics")}),vi.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[vi.jsxs(AU,{value:x,onValueChange:e=>{if(y(e),"custom"!==e){j(!1);const t=new Date;let n=new Date;switch(e){case"today":n=hR(t);break;case"yesterday":n=hR(Sz(t,1));break;case"7days":default:n=Sz(t,7);break;case"30days":n=Sz(t,30);break;case"90days":n=Sz(t,90)}b({from:n,to:t})}else j(!0)},children:[vi.jsx(PU,{className:"w-full sm:w-[180px] h-10",children:vi.jsx(DU,{placeholder:N("analytics.select_period","Select time period")})}),vi.jsxs(zU,{children:[vi.jsx(FU,{value:"today",children:N("analytics.period.today","Today")}),vi.jsx(FU,{value:"yesterday",children:N("analytics.period.yesterday","Yesterday")}),vi.jsx(FU,{value:"7days",children:N("analytics.period.7days","Last 7 days")}),vi.jsx(FU,{value:"30days",children:N("analytics.period.30days","Last 30 days")}),vi.jsx(FU,{value:"90days",children:N("analytics.period.90days","Last 90 days")}),vi.jsx(FU,{value:"custom",children:N("analytics.period.custom","Custom Range")})]})]}),w&&vi.jsxs(F3,{children:[vi.jsx(B3,{asChild:!0,children:vi.jsxs(tk,{variant:"outline",className:iN("w-full sm:w-[280px] justify-start text-left font-normal h-10",!v&&"text-muted-foreground"),children:[vi.jsx(Sb,{className:"mr-2 h-4 w-4"}),(null==v?void 0:v.from)?v.to?vi.jsxs(vi.Fragment,{children:[hz(v.from,"LLL dd, y")," -"," ",hz(v.to,"LLL dd, y")]}):hz(v.from,"LLL dd, y"):vi.jsx("span",{children:N("analytics.pick_date","Pick a date")})]})}),vi.jsx(U3,{className:"w-auto p-0",align:"start",children:vi.jsx(g5,{initialFocus:!0,mode:"range",defaultMonth:null==v?void 0:v.from,selected:v,onSelect:e=>{(null==e?void 0:e.from)&&(null==e?void 0:e.to)&&b({from:e.from,to:e.to})},numberOfMonths:2})})]})]})]}),S?vi.jsxs("div",{className:"flex justify-center items-center h-64",children:[vi.jsx(uw,{className:"h-8 w-8 animate-spin text-primary"}),vi.jsx("span",{className:"ml-2",children:"Loading analytics data..."})]}):k?vi.jsxs("div",{className:"flex flex-col justify-center items-center h-64 text-red-500 space-y-2",children:[vi.jsx(Tb,{className:"h-8 w-8"}),vi.jsx("p",{className:"text-center",children:k instanceof Error?k.message:"Failed to load analytics data"}),vi.jsx(tk,{variant:"outline",onClick:()=>window.location.reload(),className:"mt-4",children:N("common.retry","Retry")})]}):vi.jsxs(vi.Fragment,{children:[vi.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6 mb-6",children:[vi.jsx(qS,{className:"hover:shadow-md transition-shadow",children:vi.jsxs(KS,{className:"pt-6",children:[vi.jsxs("div",{className:"flex justify-between items-start",children:[vi.jsxs("div",{className:"flex-1 min-w-0",children:[vi.jsx("p",{className:"text-sm text-gray-500 truncate",children:N("analytics.cards.total_conversations","Total Conversations")}),vi.jsx("p",{className:"text-2xl sm:text-3xl font-bold mt-1 text-gray-900",children:(null==(t=null==(e=null==C?void 0:C.overview)?void 0:e.conversationsCount)?void 0:t.toLocaleString())||0})]}),vi.jsx("div",{className:"p-2 bg-green-100 text-green-700 rounded-md flex-shrink-0",children:vi.jsx(yw,{className:"h-5 w-5"})})]}),vi.jsxs("div",{className:"flex items-center mt-3 text-sm",children:[vi.jsxs("span",{className:"text-green-500 flex items-center",children:[vi.jsx(Zw,{className:"h-4 w-4 mr-1"}),(null==(n=null==C?void 0:C.overview)?void 0:n.conversationsGrowth)||0,"%"]}),vi.jsx("span",{className:"text-gray-500 ml-2",children:N("analytics.vs_last_period","vs last period")})]})]})}),vi.jsx(qS,{className:"hover:shadow-md transition-shadow",children:vi.jsxs(KS,{className:"pt-6",children:[vi.jsxs("div",{className:"flex justify-between items-start",children:[vi.jsxs("div",{className:"flex-1 min-w-0",children:[vi.jsx("p",{className:"text-sm text-gray-500 truncate",children:N("analytics.cards.total_contacts","Total Contacts")}),vi.jsx("p",{className:"text-2xl sm:text-3xl font-bold mt-1 text-gray-900",children:(null==(r=null==(a=null==C?void 0:C.overview)?void 0:a.contactsCount)?void 0:r.toLocaleString())||0})]}),vi.jsx("div",{className:"p-2 bg-blue-100 text-blue-700 rounded-md flex-shrink-0",children:vi.jsx(oj,{className:"h-5 w-5"})})]}),vi.jsxs("div",{className:"flex items-center mt-3 text-sm",children:[vi.jsxs("span",{className:iN("flex items-center",((null==(i=null==C?void 0:C.overview)?void 0:i.contactsGrowth)||0)>=0?"text-green-500":"text-red-500"),children:[((null==(s=null==C?void 0:C.overview)?void 0:s.contactsGrowth)||0)>=0?vi.jsx(Zw,{className:"h-4 w-4 mr-1"}):vi.jsx(Qw,{className:"h-4 w-4 mr-1"}),Math.abs((null==(o=null==C?void 0:C.overview)?void 0:o.contactsGrowth)||0),"%"]}),vi.jsx("span",{className:"text-gray-500 ml-2",children:N("analytics.vs_last_period","vs last period")})]})]})}),vi.jsx(qS,{className:"hover:shadow-md transition-shadow",children:vi.jsxs(KS,{className:"pt-6",children:[vi.jsxs("div",{className:"flex justify-between items-start",children:[vi.jsxs("div",{className:"flex-1 min-w-0",children:[vi.jsx("p",{className:"text-sm text-gray-500 truncate",children:N("analytics.cards.total_messages","Total Messages")}),vi.jsx("p",{className:"text-2xl sm:text-3xl font-bold mt-1 text-gray-900",children:(null==(c=null==(l=null==C?void 0:C.overview)?void 0:l.messagesCount)?void 0:c.toLocaleString())||0})]}),vi.jsx("div",{className:"p-2 bg-purple-100 text-purple-700 rounded-md flex-shrink-0",children:vi.jsx(yw,{className:"h-5 w-5"})})]}),vi.jsxs("div",{className:"flex items-center mt-3 text-sm",children:[vi.jsxs("span",{className:iN("flex items-center",((null==(d=null==C?void 0:C.overview)?void 0:d.messagesGrowth)||0)>=0?"text-green-500":"text-red-500"),children:[((null==(u=null==C?void 0:C.overview)?void 0:u.messagesGrowth)||0)>=0?vi.jsx(Zw,{className:"h-4 w-4 mr-1"}):vi.jsx(Qw,{className:"h-4 w-4 mr-1"}),Math.abs((null==(f=null==C?void 0:C.overview)?void 0:f.messagesGrowth)||0),"%"]}),vi.jsx("span",{className:"text-gray-500 ml-2",children:N("analytics.vs_last_period","vs last period")})]})]})}),vi.jsx(qS,{className:"hover:shadow-md transition-shadow",children:vi.jsxs(KS,{className:"pt-6",children:[vi.jsxs("div",{className:"flex justify-between items-start",children:[vi.jsxs("div",{className:"flex-1 min-w-0",children:[vi.jsx("p",{className:"text-sm text-gray-500 truncate",children:N("analytics.cards.response_rate","Response Rate")}),vi.jsxs("p",{className:"text-2xl sm:text-3xl font-bold mt-1 text-gray-900",children:[(null==(m=null==C?void 0:C.overview)?void 0:m.responseRate)||0,"%"]})]}),vi.jsx("div",{className:"p-2 bg-emerald-100 text-emerald-700 rounded-md flex-shrink-0",children:vi.jsx(Pb,{className:"h-5 w-5"})})]}),vi.jsxs("div",{className:"flex items-center mt-3 text-sm",children:[vi.jsxs("span",{className:iN("flex items-center",((null==(p=null==C?void 0:C.overview)?void 0:p.responseRateGrowth)||0)>=0?"text-green-500":"text-red-500"),children:[((null==(h=null==C?void 0:C.overview)?void 0:h.responseRateGrowth)||0)>=0?vi.jsx(Zw,{className:"h-4 w-4 mr-1"}):vi.jsx(Qw,{className:"h-4 w-4 mr-1"}),Math.abs((null==(g=null==C?void 0:C.overview)?void 0:g.responseRateGrowth)||0),"%"]}),vi.jsx("span",{className:"text-gray-500 ml-2",children:N("analytics.vs_last_period","vs last period")})]})]})})]}),vi.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-6 mb-6",children:[vi.jsxs(qS,{className:"hover:shadow-md transition-shadow",children:[vi.jsx(QS,{className:"pb-3",children:vi.jsx(ZS,{className:"text-lg sm:text-xl",children:N("analytics.charts.conversations_by_channel","Conversations by Channel")})}),vi.jsx(KS,{children:vi.jsx("div",{className:"w-full overflow-x-auto",children:vi.jsx(Xce,{width:"100%",height:300,minWidth:300,children:vi.jsxs(Uke,{data:M,margin:{top:20,right:30,left:0,bottom:0},children:[vi.jsx(rSe,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),vi.jsx(ASe,{dataKey:"name",tick:{fontSize:12},tickLine:{stroke:"#e0e0e0"}}),vi.jsx(GSe,{tick:{fontSize:12},tickLine:{stroke:"#e0e0e0"}}),vi.jsx(Cce,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e0e0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),vi.jsx(Goe,{}),vi.jsx(wSe,{type:"monotone",dataKey:"whatsapp_official",name:N("analytics.channels.whatsapp_official","WhatsApp Official"),stroke:"#25D366",strokeWidth:2,dot:{fill:"#25D366",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#25D366",strokeWidth:2}}),vi.jsx(wSe,{type:"monotone",dataKey:"whatsapp_unofficial",name:N("analytics.channels.whatsapp_unofficial","WhatsApp Unofficial"),stroke:"#F59E0B",strokeWidth:2,dot:{fill:"#F59E0B",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#F59E0B",strokeWidth:2}}),vi.jsx(wSe,{type:"monotone",dataKey:"messenger",name:N("analytics.channels.messenger","Messenger"),stroke:"#1877F2",strokeWidth:2,dot:{fill:"#1877F2",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#1877F2",strokeWidth:2}}),vi.jsx(wSe,{type:"monotone",dataKey:"instagram",name:N("analytics.channels.instagram","Instagram"),stroke:"#E4405F",strokeWidth:2,dot:{fill:"#E4405F",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#E4405F",strokeWidth:2}})]})})})})]}),vi.jsxs(qS,{className:"hover:shadow-md transition-shadow",children:[vi.jsx(QS,{className:"pb-3",children:vi.jsx(ZS,{className:"text-lg sm:text-xl",children:N("analytics.charts.channel_distribution","Channel Distribution")})}),vi.jsx(KS,{children:vi.jsx("div",{className:"w-full overflow-x-auto",children:vi.jsx(Xce,{width:"100%",height:300,minWidth:300,children:vi.jsxs(Wke,{children:[vi.jsx(Cce,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e0e0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),vi.jsx(Goe,{}),vi.jsx(Pwe,{data:_,cx:"50%",cy:"50%",labelLine:!1,label:({cx:e,cy:t,midAngle:n,innerRadius:a,outerRadius:r,percent:i})=>{const s=a+.5*(r-a),o=e+s*Math.cos(-n*Math.PI/180),l=t+s*Math.sin(-n*Math.PI/180);return vi.jsx("text",{x:o,y:l,fill:"white",textAnchor:"middle",dominantBaseline:"central",children:`${(100*i).toFixed(0)}%`})},outerRadius:100,fill:"#8884d8",dataKey:"value",children:_.map(((e,t)=>vi.jsx(ede,{fill:E[t%E.length]},`cell-${t}`)))})]})})})})]})]})]})]})]})]})}var Vke="Tabs",[$ke,Hke]=$y(Vke,[kT]),Yke=kT(),[qke,Qke]=$ke(Vke),Zke=ci.forwardRef(((e,t)=>{const{__scopeTabs:n,value:a,onValueChange:r,defaultValue:i,orientation:s="horizontal",dir:o,activationMode:l="automatic",...c}=e,d=iT(o),[u,f]=vv({prop:a,onChange:r,defaultProp:i??"",caller:Vke});return vi.jsx(qke,{scope:n,baseId:yN(),value:u,onValueChange:f,orientation:s,dir:d,activationMode:l,children:vi.jsx(ev.div,{dir:d,"data-orientation":s,...c,ref:t})})}));Zke.displayName=Vke;var Jke="TabsList",Kke=ci.forwardRef(((e,t)=>{const{__scopeTabs:n,loop:a=!0,...r}=e,i=Qke(Jke,n),s=Yke(n);return vi.jsx(PT,{asChild:!0,...s,orientation:i.orientation,dir:i.dir,loop:a,children:vi.jsx(ev.div,{role:"tablist","aria-orientation":i.orientation,...r,ref:t})})}));Kke.displayName=Jke;var Xke="TabsTrigger",eMe=ci.forwardRef(((e,t)=>{const{__scopeTabs:n,value:a,disabled:r=!1,...i}=e,s=Qke(Xke,n),o=Yke(n),l=aMe(s.baseId,a),c=rMe(s.baseId,a),d=a===s.value;return vi.jsx(OT,{asChild:!0,...o,focusable:!r,active:d,children:vi.jsx(ev.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:l,...i,ref:t,onMouseDown:Uy(e.onMouseDown,(e=>{r||0!==e.button||!1!==e.ctrlKey?e.preventDefault():s.onValueChange(a)})),onKeyDown:Uy(e.onKeyDown,(e=>{[" ","Enter"].includes(e.key)&&s.onValueChange(a)})),onFocus:Uy(e.onFocus,(()=>{const e="manual"!==s.activationMode;d||r||!e||s.onValueChange(a)}))})})}));eMe.displayName=Xke;var tMe="TabsContent",nMe=ci.forwardRef(((e,t)=>{const{__scopeTabs:n,value:a,forceMount:r,children:i,...s}=e,o=Qke(tMe,n),l=aMe(o.baseId,a),c=rMe(o.baseId,a),d=a===o.value,u=ci.useRef(d);return ci.useEffect((()=>{const e=requestAnimationFrame((()=>u.current=!1));return()=>cancelAnimationFrame(e)}),[]),vi.jsx(gv,{present:r||d,children:({present:n})=>vi.jsx(ev.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!n,id:c,tabIndex:0,...s,ref:t,style:{...e.style,animationDuration:u.current?"0s":void 0},children:n&&i})})}));function aMe(e,t){return`${e}-trigger-${t}`}function rMe(e,t){return`${e}-content-${t}`}nMe.displayName=tMe;var iMe=Kke,sMe=eMe,oMe=nMe;const lMe=Zke,cMe=ci.forwardRef((({className:e,...t},n)=>vi.jsx(iMe,{ref:n,className:iN("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t})));cMe.displayName=iMe.displayName;const dMe=ci.forwardRef((({className:e,...t},n)=>vi.jsx(sMe,{ref:n,className:iN("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t})));dMe.displayName=sMe.displayName;const uMe=ci.forwardRef((({className:e,...t},n)=>vi.jsx(oMe,{ref:n,className:iN("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t})));function fMe({plan:e,isCurrentPlan:t,onSelectPlan:n}){return vi.jsxs(qS,{className:"w-full "+(t?"border-primary border-2":""),children:[vi.jsxs(QS,{children:[vi.jsx(ZS,{children:e.name}),vi.jsx(JS,{children:e.description})]}),vi.jsxs(KS,{children:[vi.jsxs("div",{className:"mb-4",children:[vi.jsxs("span",{className:"text-3xl font-bold",children:["$",e.price]}),vi.jsx("span",{className:"text-muted-foreground",children:"/month"})]}),vi.jsxs("ul",{className:"space-y-2",children:[e.features.map(((e,t)=>vi.jsxs("li",{className:"flex items-center",children:[vi.jsx(Mb,{className:"h-4 w-4 mr-2 text-secondry"}),vi.jsx("span",{children:e})]},t))),vi.jsxs("li",{className:"flex items-center",children:[vi.jsx(Mb,{className:"h-4 w-4 mr-2 text-secondry"}),vi.jsxs("span",{children:[e.maxUsers," team members"]})]}),vi.jsxs("li",{className:"flex items-center",children:[vi.jsx(Mb,{className:"h-4 w-4 mr-2 text-secondry"}),vi.jsxs("span",{children:[e.maxContacts.toLocaleString()," contacts"]})]}),vi.jsxs("li",{className:"flex items-center",children:[vi.jsx(Mb,{className:"h-4 w-4 mr-2 text-secondry"}),vi.jsxs("span",{children:[e.maxChannels," channels"]})]}),vi.jsxs("li",{className:"flex items-center",children:[vi.jsx(Mb,{className:"h-4 w-4 mr-2 text-secondry"}),vi.jsxs("span",{children:[e.maxFlows," flows"]})]})]})]}),vi.jsx(XS,{children:t?vi.jsx(tk,{className:"w-full",variant:"outline",disabled:!0,children:"Current Plan"}):vi.jsx(tk,{className:"w-full btn-brand-primary",onClick:()=>n(e),children:"Select Plan"})})]})}function mMe({paymentMethods:e,selectedMethod:t,onSelectMethod:n}){return vi.jsx(V4,{value:t||void 0,onValueChange:n,className:"space-y-3",children:e.map((e=>vi.jsx("div",{className:"flex items-center space-x-2",children:vi.jsx(qS,{className:"w-full cursor-pointer hover:border-primary transition-colors "+(t===e.id?"border-primary":""),children:vi.jsxs(KS,{className:"p-4",children:[vi.jsx($4,{value:e.id,id:`payment-${e.id}`,className:"peer sr-only"}),vi.jsxs(uB,{htmlFor:`payment-${e.id}`,className:"flex items-center justify-between cursor-pointer",children:[vi.jsxs("div",{className:"flex items-center gap-4",children:["stripe"===e.id&&vi.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:vi.jsx("i",{className:"ri-bank-card-line text-2xl text-blue-600"})}),"mercadopago"===e.id&&vi.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:vi.jsx("i",{className:"ri-bank-card-line text-2xl text-blue-500"})}),"paypal"===e.id&&vi.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:vi.jsx("i",{className:"ri-paypal-line text-2xl text-blue-700"})}),"bank-transfer"===e.id&&vi.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:vi.jsx("i",{className:"ri-bank-line text-2xl text-green-600"})}),vi.jsxs("div",{children:[vi.jsx("div",{className:"font-medium",children:e.name}),vi.jsx("div",{className:"text-sm text-muted-foreground",children:e.description}),e.testMode&&vi.jsx("div",{className:"text-xs text-amber-600 mt-1",children:"Test Mode Enabled"})]})]}),vi.jsx("div",{className:"h-4 w-4 rounded-full border border-primary flex items-center justify-center",children:t===e.id&&vi.jsx("div",{className:"h-2 w-2 rounded-full bg-primary btn-brand-primary "})})]})]})})},e.id)))})}function pMe({isOpen:e,onClose:t,plan:n,paymentMethods:a,onSuccess:r}){var i,s,o,l,c,d,u;const[f,m]=ci.useState(null),[p,h]=ci.useState(null),[g,x]=ci.useState(!1),{toast:y}=By(),v=My({mutationFn:async()=>{if(!n||!f)throw new Error("Please select a plan and payment method");const e=await Ey("POST",`/api/payment/checkout/${f}`,{planId:n.id});if(!e.ok){const t=await e.json();throw new Error(t.details||t.error||"Failed to create checkout session")}return e.json()},onSuccess:e=>{"bank-transfer"===f?(h(e),x(!0)):e.checkoutUrl?window.location.href=e.checkoutUrl:y({title:"Checkout Error",description:"No checkout URL received from server",variant:"destructive"})},onError:e=>{y({title:"Checkout Error",description:e.message,variant:"destructive"})}}),b=e=>{navigator.clipboard.writeText(e),y({title:"Copied to clipboard",description:"The information has been copied to your clipboard."})},w=()=>{x(!1),h(null),t(),r(),y({title:"Payment Instructions Received",description:"Please complete the bank transfer. Your subscription will be activated once payment is confirmed."})};return n?g&&p?vi.jsx(KF,{open:e,onOpenChange:t,children:vi.jsxs(aB,{className:"sm:max-w-lg",children:[vi.jsxs(rB,{children:[vi.jsxs(sB,{className:"flex items-center gap-2",children:[vi.jsx(Pb,{className:"h-5 w-5 text-green-500"}),"Bank Transfer Instructions"]}),vi.jsx(oB,{children:"Please transfer the exact amount to the following bank account. Your subscription will be activated once we confirm the payment."})]}),vi.jsxs("div",{className:"space-y-4",children:[vi.jsxs(qS,{children:[vi.jsx(QS,{children:vi.jsx(ZS,{className:"text-lg",children:"Payment Details"})}),vi.jsxs(KS,{className:"space-y-3",children:[vi.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted rounded-lg",children:[vi.jsx("span",{className:"font-semibold",children:"Amount:"}),vi.jsxs("span",{className:"text-lg font-bold",children:["$",null==n?void 0:n.price]})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{className:"text-sm font-medium",children:"Account Name"}),vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx("div",{className:"flex-1 p-2 bg-muted rounded text-sm",children:null==(i=p.bankDetails)?void 0:i.accountName}),vi.jsx(tk,{size:"sm",variant:"outline",onClick:()=>{var e;return b(null==(e=p.bankDetails)?void 0:e.accountName)},children:vi.jsx(Wb,{className:"h-4 w-4"})})]})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{className:"text-sm font-medium",children:"Account Number"}),vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx("div",{className:"flex-1 p-2 bg-muted rounded text-sm font-mono",children:null==(s=p.bankDetails)?void 0:s.accountNumber}),vi.jsx(tk,{size:"sm",variant:"outline",onClick:()=>{var e;return b(null==(e=p.bankDetails)?void 0:e.accountNumber)},children:vi.jsx(Wb,{className:"h-4 w-4"})})]})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{className:"text-sm font-medium",children:"Bank Name"}),vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx("div",{className:"flex-1 p-2 bg-muted rounded text-sm",children:null==(o=p.bankDetails)?void 0:o.bankName}),vi.jsx(tk,{size:"sm",variant:"outline",onClick:()=>{var e;return b(null==(e=p.bankDetails)?void 0:e.bankName)},children:vi.jsx(Wb,{className:"h-4 w-4"})})]})]}),(null==(l=p.bankDetails)?void 0:l.routingNumber)&&vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{className:"text-sm font-medium",children:"Routing Number"}),vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx("div",{className:"flex-1 p-2 bg-muted rounded text-sm font-mono",children:p.bankDetails.routingNumber}),vi.jsx(tk,{size:"sm",variant:"outline",onClick:()=>b(p.bankDetails.routingNumber),children:vi.jsx(Wb,{className:"h-4 w-4"})})]})]}),(null==(c=p.bankDetails)?void 0:c.swiftCode)&&vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{className:"text-sm font-medium",children:"SWIFT Code"}),vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx("div",{className:"flex-1 p-2 bg-muted rounded text-sm font-mono",children:p.bankDetails.swiftCode}),vi.jsx(tk,{size:"sm",variant:"outline",onClick:()=>b(p.bankDetails.swiftCode),children:vi.jsx(Wb,{className:"h-4 w-4"})})]})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{className:"text-sm font-medium",children:"Payment Reference"}),vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx("div",{className:"flex-1 p-2 bg-yellow-50 border border-yellow-200 rounded text-sm font-mono",children:null==(d=p.bankDetails)?void 0:d.reference}),vi.jsx(tk,{size:"sm",variant:"outline",onClick:()=>{var e;return b(null==(e=p.bankDetails)?void 0:e.reference)},children:vi.jsx(Wb,{className:"h-4 w-4"})})]}),vi.jsx("p",{className:"text-xs text-muted-foreground",children:"⚠️ Please include this reference in your transfer to ensure quick processing"})]}),(null==(u=p.bankDetails)?void 0:u.instructions)&&vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{className:"text-sm font-medium",children:"Additional Instructions"}),vi.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded text-sm",children:p.bankDetails.instructions})]})]})]}),vi.jsxs("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[vi.jsx("h4",{className:"font-medium text-amber-800 mb-2",children:"Important Notes:"}),vi.jsxs("ul",{className:"text-sm text-amber-700 space-y-1",children:[vi.jsx("li",{children:"• Please transfer the exact amount shown above"}),vi.jsx("li",{children:"• Include the payment reference in your transfer"}),vi.jsx("li",{children:"• Processing may take 1-3 business days"}),vi.jsx("li",{children:"• You'll receive an email confirmation once payment is verified"})]})]})]}),vi.jsxs(iB,{children:[vi.jsx(tk,{variant:"outline",onClick:t,children:"Close"}),vi.jsx(tk,{onClick:w,children:"I've Made the Transfer"})]})]})}):vi.jsx(KF,{open:e,onOpenChange:e=>!e&&t(),children:vi.jsxs(aB,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[vi.jsxs(rB,{children:[vi.jsxs(sB,{children:["Subscribe to ",n.name]}),vi.jsx(oB,{children:"Choose your preferred payment method to complete your subscription."})]}),vi.jsxs("div",{className:"py-4",children:[vi.jsxs("div",{className:"mb-4",children:[vi.jsx("h3",{className:"text-sm font-medium mb-2",children:"Plan Details"}),vi.jsxs("div",{className:"bg-muted p-3 rounded-md",children:[vi.jsxs("div",{className:"flex justify-between mb-2",children:[vi.jsx("span",{className:"text-muted-foreground",children:"Plan:"}),vi.jsx("span",{className:"font-medium",children:n.name})]}),vi.jsxs("div",{className:"flex justify-between",children:[vi.jsx("span",{className:"text-muted-foreground",children:"Price:"}),vi.jsxs("span",{className:"font-medium",children:["$",n.price,"/month"]})]})]})]}),vi.jsxs("div",{children:[vi.jsx("h3",{className:"text-sm font-medium mb-2",children:"Payment Method"}),vi.jsx(mMe,{paymentMethods:a,selectedMethod:f,onSelectMethod:m})]})]}),vi.jsxs(iB,{children:[vi.jsx(tk,{variant:"outline",onClick:t,disabled:v.isPending,children:"Cancel"}),vi.jsxs(tk,{className:"btn-brand-primary",onClick:()=>{f?v.mutate():y({title:"Payment Method Required",description:"Please select a payment method to continue",variant:"destructive"})},disabled:v.isPending,children:[v.isPending&&vi.jsx(uw,{className:"mr-2 h-4 w-4 animate-spin"}),"Proceed to Payment"]})]})]})}):null}uMe.displayName=oMe.displayName;var hMe,gMe,xMe=Object.defineProperty,yMe=Object.getOwnPropertySymbols,vMe=Object.prototype.hasOwnProperty,bMe=Object.prototype.propertyIsEnumerable,wMe=(e,t,n)=>t in e?xMe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jMe=(e,t)=>{for(var n in t||(t={}))vMe.call(t,n)&&wMe(e,n,t[n]);if(yMe)for(var n of yMe(t))bMe.call(t,n)&&wMe(e,n,t[n]);return e},NMe=(e,t)=>{var n={};for(var a in e)vMe.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&yMe)for(var a of yMe(e))t.indexOf(a)<0&&bMe.call(e,a)&&(n[a]=e[a]);return n};(e=>{const t=class t{constructor(e,n,a,i){if(this.version=e,this.errorCorrectionLevel=n,this.modules=[],this.isFunction=[],e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version value out of range");if(i<-1||i>7)throw new RangeError("Mask value out of range");this.size=4*e+17;let s=[];for(let t=0;t<this.size;t++)s.push(!1);for(let t=0;t<this.size;t++)this.modules.push(s.slice()),this.isFunction.push(s.slice());this.drawFunctionPatterns();const o=this.addEccAndInterleave(a);if(this.drawCodewords(o),-1==i){let e=1e9;for(let t=0;t<8;t++){this.applyMask(t),this.drawFormatBits(t);const n=this.getPenaltyScore();n<e&&(i=t,e=n),this.applyMask(t)}}r(0<=i&&i<=7),this.mask=i,this.applyMask(i),this.drawFormatBits(i),this.isFunction=[]}static encodeText(n,a){const r=e.QrSegment.makeSegments(n);return t.encodeSegments(r,a)}static encodeBinary(n,a){const r=e.QrSegment.makeBytes(n);return t.encodeSegments([r],a)}static encodeSegments(e,a,i=1,o=40,l=-1,c=!0){if(!(t.MIN_VERSION<=i&&i<=o&&o<=t.MAX_VERSION)||l<-1||l>7)throw new RangeError("Invalid value");let d,u;for(d=i;;d++){const n=8*t.getNumDataCodewords(d,a),r=s.getTotalBits(e,d);if(r<=n){u=r;break}if(d>=o)throw new RangeError("Data too long")}for(const n of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])c&&u<=8*t.getNumDataCodewords(d,n)&&(a=n);let f=[];for(const t of e){n(t.mode.modeBits,4,f),n(t.numChars,t.mode.numCharCountBits(d),f);for(const e of t.getData())f.push(e)}r(f.length==u);const m=8*t.getNumDataCodewords(d,a);r(f.length<=m),n(0,Math.min(4,m-f.length),f),n(0,(8-f.length%8)%8,f),r(f.length%8==0);for(let t=236;f.length<m;t^=253)n(t,8,f);let p=[];for(;8*p.length<f.length;)p.push(0);return f.forEach(((e,t)=>p[t>>>3]|=e<<7-(7&t))),new t(d,a,p,l)}getModule(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let n=0;n<this.size;n++)this.setFunctionModule(6,n,n%2==0),this.setFunctionModule(n,6,n%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const e=this.getAlignmentPatternPositions(),t=e.length;for(let n=0;n<t;n++)for(let a=0;a<t;a++)0==n&&0==a||0==n&&a==t-1||n==t-1&&0==a||this.drawAlignmentPattern(e[n],e[a]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){const t=this.errorCorrectionLevel.formatBits<<3|e;let n=t;for(let a=0;a<10;a++)n=n<<1^1335*(n>>>9);const i=21522^(t<<10|n);r(i>>>15==0);for(let r=0;r<=5;r++)this.setFunctionModule(8,r,a(i,r));this.setFunctionModule(8,7,a(i,6)),this.setFunctionModule(8,8,a(i,7)),this.setFunctionModule(7,8,a(i,8));for(let r=9;r<15;r++)this.setFunctionModule(14-r,8,a(i,r));for(let r=0;r<8;r++)this.setFunctionModule(this.size-1-r,8,a(i,r));for(let r=8;r<15;r++)this.setFunctionModule(8,this.size-15+r,a(i,r));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let n=0;n<12;n++)e=e<<1^7973*(e>>>11);const t=this.version<<12|e;r(t>>>18==0);for(let n=0;n<18;n++){const e=a(t,n),r=this.size-11+n%3,i=Math.floor(n/3);this.setFunctionModule(r,i,e),this.setFunctionModule(i,r,e)}}drawFinderPattern(e,t){for(let n=-4;n<=4;n++)for(let a=-4;a<=4;a++){const r=Math.max(Math.abs(a),Math.abs(n)),i=e+a,s=t+n;0<=i&&i<this.size&&0<=s&&s<this.size&&this.setFunctionModule(i,s,2!=r&&4!=r)}}drawAlignmentPattern(e,t){for(let n=-2;n<=2;n++)for(let a=-2;a<=2;a++)this.setFunctionModule(e+a,t+n,1!=Math.max(Math.abs(a),Math.abs(n)))}setFunctionModule(e,t,n){this.modules[t][e]=n,this.isFunction[t][e]=!0}addEccAndInterleave(e){const n=this.version,a=this.errorCorrectionLevel;if(e.length!=t.getNumDataCodewords(n,a))throw new RangeError("Invalid argument");const i=t.NUM_ERROR_CORRECTION_BLOCKS[a.ordinal][n],s=t.ECC_CODEWORDS_PER_BLOCK[a.ordinal][n],o=Math.floor(t.getNumRawDataModules(n)/8),l=i-o%i,c=Math.floor(o/i);let d=[];const u=t.reedSolomonComputeDivisor(s);for(let r=0,m=0;r<i;r++){let n=e.slice(m,m+c-s+(r<l?0:1));m+=n.length;const a=t.reedSolomonComputeRemainder(n,u);r<l&&n.push(0),d.push(n.concat(a))}let f=[];for(let t=0;t<d[0].length;t++)d.forEach(((e,n)=>{(t!=c-s||n>=l)&&f.push(e[t])}));return r(f.length==o),f}drawCodewords(e){if(e.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let n=0;for(let t=this.size-1;t>=1;t-=2){6==t&&(t=5);for(let r=0;r<this.size;r++)for(let i=0;i<2;i++){const s=t-i,o=!(t+1&2)?this.size-1-r:r;!this.isFunction[o][s]&&n<8*e.length&&(this.modules[o][s]=a(e[n>>>3],7-(7&n)),n++)}}r(n==8*e.length)}applyMask(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(let t=0;t<this.size;t++)for(let n=0;n<this.size;n++){let a;switch(e){case 0:a=(n+t)%2==0;break;case 1:a=t%2==0;break;case 2:a=n%3==0;break;case 3:a=(n+t)%3==0;break;case 4:a=(Math.floor(n/3)+Math.floor(t/2))%2==0;break;case 5:a=n*t%2+n*t%3==0;break;case 6:a=(n*t%2+n*t%3)%2==0;break;case 7:a=((n+t)%2+n*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[t][n]&&a&&(this.modules[t][n]=!this.modules[t][n])}}getPenaltyScore(){let e=0;for(let r=0;r<this.size;r++){let n=!1,a=0,i=[0,0,0,0,0,0,0];for(let s=0;s<this.size;s++)this.modules[r][s]==n?(a++,5==a?e+=t.PENALTY_N1:a>5&&e++):(this.finderPenaltyAddHistory(a,i),n||(e+=this.finderPenaltyCountPatterns(i)*t.PENALTY_N3),n=this.modules[r][s],a=1);e+=this.finderPenaltyTerminateAndCount(n,a,i)*t.PENALTY_N3}for(let r=0;r<this.size;r++){let n=!1,a=0,i=[0,0,0,0,0,0,0];for(let s=0;s<this.size;s++)this.modules[s][r]==n?(a++,5==a?e+=t.PENALTY_N1:a>5&&e++):(this.finderPenaltyAddHistory(a,i),n||(e+=this.finderPenaltyCountPatterns(i)*t.PENALTY_N3),n=this.modules[s][r],a=1);e+=this.finderPenaltyTerminateAndCount(n,a,i)*t.PENALTY_N3}for(let r=0;r<this.size-1;r++)for(let n=0;n<this.size-1;n++){const a=this.modules[r][n];a==this.modules[r][n+1]&&a==this.modules[r+1][n]&&a==this.modules[r+1][n+1]&&(e+=t.PENALTY_N2)}let n=0;for(const t of this.modules)n=t.reduce(((e,t)=>e+(t?1:0)),n);const a=this.size*this.size,i=Math.ceil(Math.abs(20*n-10*a)/a)-1;return r(0<=i&&i<=9),e+=i*t.PENALTY_N4,r(0<=e&&e<=2568888),e}getAlignmentPatternPositions(){if(1==this.version)return[];{const e=Math.floor(this.version/7)+2,t=32==this.version?26:2*Math.ceil((4*this.version+4)/(2*e-2));let n=[6];for(let a=this.size-7;n.length<e;a-=t)n.splice(1,0,a);return n}}static getNumRawDataModules(e){if(e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version number out of range");let n=(16*e+128)*e+64;if(e>=2){const t=Math.floor(e/7)+2;n-=(25*t-10)*t-55,e>=7&&(n-=36)}return r(208<=n&&n<=29648),n}static getNumDataCodewords(e,n){return Math.floor(t.getNumRawDataModules(e)/8)-t.ECC_CODEWORDS_PER_BLOCK[n.ordinal][e]*t.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw new RangeError("Degree out of range");let n=[];for(let t=0;t<e-1;t++)n.push(0);n.push(1);let a=1;for(let r=0;r<e;r++){for(let e=0;e<n.length;e++)n[e]=t.reedSolomonMultiply(n[e],a),e+1<n.length&&(n[e]^=n[e+1]);a=t.reedSolomonMultiply(a,2)}return n}static reedSolomonComputeRemainder(e,n){let a=n.map((e=>0));for(const r of e){const e=r^a.shift();a.push(0),n.forEach(((n,r)=>a[r]^=t.reedSolomonMultiply(n,e)))}return a}static reedSolomonMultiply(e,t){if(e>>>8!=0||t>>>8!=0)throw new RangeError("Byte out of range");let n=0;for(let a=7;a>=0;a--)n=n<<1^285*(n>>>7),n^=(t>>>a&1)*e;return r(n>>>8==0),n}finderPenaltyCountPatterns(e){const t=e[1];r(t<=3*this.size);const n=t>0&&e[2]==t&&e[3]==3*t&&e[4]==t&&e[5]==t;return(n&&e[0]>=4*t&&e[6]>=t?1:0)+(n&&e[6]>=4*t&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,n){return e&&(this.finderPenaltyAddHistory(t,n),t=0),t+=this.size,this.finderPenaltyAddHistory(t,n),this.finderPenaltyCountPatterns(n)}finderPenaltyAddHistory(e,t){0==t[0]&&(e+=this.size),t.pop(),t.unshift(e)}};function n(e,t,n){if(t<0||t>31||e>>>t!=0)throw new RangeError("Value out of range");for(let a=t-1;a>=0;a--)n.push(e>>>a&1)}function a(e,t){return!!(e>>>t&1)}function r(e){if(!e)throw new Error("Assertion error")}t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;const i=class e{constructor(e,t,n){if(this.mode=e,this.numChars=t,this.bitData=n,t<0)throw new RangeError("Invalid argument");this.bitData=n.slice()}static makeBytes(t){let a=[];for(const e of t)n(e,8,a);return new e(e.Mode.BYTE,t.length,a)}static makeNumeric(t){if(!e.isNumeric(t))throw new RangeError("String contains non-numeric characters");let a=[];for(let e=0;e<t.length;){const r=Math.min(t.length-e,3);n(parseInt(t.substring(e,e+r),10),3*r+1,a),e+=r}return new e(e.Mode.NUMERIC,t.length,a)}static makeAlphanumeric(t){if(!e.isAlphanumeric(t))throw new RangeError("String contains unencodable characters in alphanumeric mode");let a,r=[];for(a=0;a+2<=t.length;a+=2){let i=45*e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(a));i+=e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(a+1)),n(i,11,r)}return a<t.length&&n(e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(a)),6,r),new e(e.Mode.ALPHANUMERIC,t.length,r)}static makeSegments(t){return""==t?[]:e.isNumeric(t)?[e.makeNumeric(t)]:e.isAlphanumeric(t)?[e.makeAlphanumeric(t)]:[e.makeBytes(e.toUtf8ByteArray(t))]}static makeEci(t){let a=[];if(t<0)throw new RangeError("ECI assignment value out of range");if(t<128)n(t,8,a);else if(t<16384)n(2,2,a),n(t,14,a);else{if(!(t<1e6))throw new RangeError("ECI assignment value out of range");n(6,3,a),n(t,21,a)}return new e(e.Mode.ECI,0,a)}static isNumeric(t){return e.NUMERIC_REGEX.test(t)}static isAlphanumeric(t){return e.ALPHANUMERIC_REGEX.test(t)}getData(){return this.bitData.slice()}static getTotalBits(e,t){let n=0;for(const a of e){const e=a.mode.numCharCountBits(t);if(a.numChars>=1<<e)return 1/0;n+=4+e+a.bitData.length}return n}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let n=0;n<e.length;n++)"%"!=e.charAt(n)?t.push(e.charCodeAt(n)):(t.push(parseInt(e.substring(n+1,n+3),16)),n+=2);return t}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let s=i;e.QrSegment=i})(hMe||(hMe={})),(e=>{const t=class{constructor(e,t){this.ordinal=e,this.formatBits=t}};t.LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2),e.Ecc=t})((gMe=hMe||(hMe={})).QrCode||(gMe.QrCode={})),(e=>{(e=>{const t=class{constructor(e,t){this.modeBits=e,this.numBitsCharCount=t}numCharCountBits(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}};t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]),e.Mode=t})(e.QrSegment||(e.QrSegment={}))})(hMe||(hMe={}));var CMe=hMe,SMe={L:CMe.QrCode.Ecc.LOW,M:CMe.QrCode.Ecc.MEDIUM,Q:CMe.QrCode.Ecc.QUARTILE,H:CMe.QrCode.Ecc.HIGH},kMe=128,MMe="L",_Me="#FFFFFF",EMe="#000000",IMe=!1,LMe=1;function AMe(e,t=0){const n=[];return e.forEach((function(e,a){let r=null;e.forEach((function(i,s){if(!i&&null!==r)return n.push(`M${r+t} ${a+t}h${s-r}v1H${r+t}z`),void(r=null);if(s!==e.length-1)i&&null===r&&(r=s);else{if(!i)return;null===r?n.push(`M${s+t},${a+t} h1v1H${s+t}z`):n.push(`M${r+t},${a+t} h${s+1-r}v1H${r+t}z`)}}))})),n.join("")}function TMe(e,t){return e.slice().map(((e,n)=>n<t.y||n>=t.y+t.h?e:e.map(((e,n)=>(n<t.x||n>=t.x+t.w)&&e))))}function DMe({value:e,level:t,minVersion:n,includeMargin:a,marginSize:r,imageSettings:i,size:s,boostLevel:o}){let l=di.useMemo((()=>{const a=(Array.isArray(e)?e:[e]).reduce(((e,t)=>(e.push(...CMe.QrSegment.makeSegments(t)),e)),[]);return CMe.QrCode.encodeSegments(a,SMe[t],n,void 0,void 0,o)}),[e,t,n,o]);const{cells:c,margin:d,numCells:u,calculatedImageSettings:f}=di.useMemo((()=>{let e=l.getModules();const t=function(e,t){return null!=t?Math.max(Math.floor(t),0):e?4:0}(a,r),n=e.length+2*t,o=function(e,t,n,a){if(null==a)return null;const r=e.length+2*n,i=Math.floor(.1*t),s=r/t,o=(a.width||i)*s,l=(a.height||i)*s,c=null==a.x?e.length/2-o/2:a.x*s,d=null==a.y?e.length/2-l/2:a.y*s,u=null==a.opacity?1:a.opacity;let f=null;if(a.excavate){let e=Math.floor(c),t=Math.floor(d);f={x:e,y:t,w:Math.ceil(o+c-e),h:Math.ceil(l+d-t)}}return{x:c,y:d,h:l,w:o,excavation:f,opacity:u,crossOrigin:a.crossOrigin}}(e,s,t,i);return{cells:e,margin:t,numCells:n,calculatedImageSettings:o}}),[l,s,i,a,r]);return{qrcode:l,margin:d,cells:c,numCells:u,calculatedImageSettings:f}}var PMe=function(){try{(new Path2D).addPath(new Path2D)}catch(e){return!1}return!0}();di.forwardRef((function(e,t){const n=e,{value:a,size:r=kMe,level:i=MMe,bgColor:s=_Me,fgColor:o=EMe,includeMargin:l=IMe,minVersion:c=LMe,boostLevel:d,marginSize:u,imageSettings:f}=n,m=NMe(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:p}=m,h=NMe(m,["style"]),g=null==f?void 0:f.src,x=di.useRef(null),y=di.useRef(null),v=di.useCallback((e=>{x.current=e,"function"==typeof t?t(e):t&&(t.current=e)}),[t]),[b,w]=di.useState(!1),{margin:j,cells:N,numCells:C,calculatedImageSettings:S}=DMe({value:a,level:i,minVersion:c,boostLevel:d,includeMargin:l,marginSize:u,imageSettings:f,size:r});di.useEffect((()=>{if(null!=x.current){const e=x.current,t=e.getContext("2d");if(!t)return;let n=N;const a=y.current,i=null!=S&&null!==a&&a.complete&&0!==a.naturalHeight&&0!==a.naturalWidth;i&&null!=S.excavation&&(n=TMe(N,S.excavation));const l=window.devicePixelRatio||1;e.height=e.width=r*l;const c=r/C*l;t.scale(c,c),t.fillStyle=s,t.fillRect(0,0,C,C),t.fillStyle=o,PMe?t.fill(new Path2D(AMe(n,j))):N.forEach((function(e,n){e.forEach((function(e,a){e&&t.fillRect(a+j,n+j,1,1)}))})),S&&(t.globalAlpha=S.opacity),i&&t.drawImage(a,S.x+j,S.y+j,S.w,S.h)}})),di.useEffect((()=>{w(!1)}),[g]);const k=jMe({height:r,width:r},p);let M=null;return null!=g&&(M=di.createElement("img",{src:g,key:g,style:{display:"none"},onLoad:()=>{w(!0)},ref:y,crossOrigin:null==S?void 0:S.crossOrigin})),di.createElement(di.Fragment,null,di.createElement("canvas",jMe({style:k,height:r,width:r,ref:v,role:"img"},h)),M)})).displayName="QRCodeCanvas";var OMe=di.forwardRef((function(e,t){const n=e,{value:a,size:r=kMe,level:i=MMe,bgColor:s=_Me,fgColor:o=EMe,includeMargin:l=IMe,minVersion:c=LMe,boostLevel:d,title:u,marginSize:f,imageSettings:m}=n,p=NMe(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:h,cells:g,numCells:x,calculatedImageSettings:y}=DMe({value:a,level:i,minVersion:c,boostLevel:d,includeMargin:l,marginSize:f,imageSettings:m,size:r});let v=g,b=null;null!=m&&null!=y&&(null!=y.excavation&&(v=TMe(g,y.excavation)),b=di.createElement("image",{href:m.src,height:y.h,width:y.w,x:y.x+h,y:y.y+h,preserveAspectRatio:"none",opacity:y.opacity,crossOrigin:y.crossOrigin}));const w=AMe(v,h);return di.createElement("svg",jMe({height:r,width:r,viewBox:`0 0 ${x} ${x}`,ref:t,role:"img"},p),!!u&&di.createElement("title",null,u),di.createElement("path",{fill:s,d:`M0,0 h${x}v${x}H0z`,shapeRendering:"crispEdges"}),di.createElement("path",{fill:o,d:w,shapeRendering:"crispEdges"}),b)}));OMe.displayName="QRCodeSVG";var RMe="Collapsible",[zMe,FMe]=$y(RMe),[BMe,UMe]=zMe(RMe),WMe=ci.forwardRef(((e,t)=>{const{__scopeCollapsible:n,open:a,defaultOpen:r,disabled:i,onOpenChange:s,...o}=e,[l,c]=vv({prop:a,defaultProp:r??!1,onChange:s,caller:RMe});return vi.jsx(BMe,{scope:n,disabled:i,contentId:yN(),open:l,onOpenToggle:ci.useCallback((()=>c((e=>!e))),[c]),children:vi.jsx(ev.div,{"data-state":qMe(l),"data-disabled":i?"":void 0,...o,ref:t})})}));WMe.displayName=RMe;var GMe="CollapsibleTrigger",VMe=ci.forwardRef(((e,t)=>{const{__scopeCollapsible:n,...a}=e,r=UMe(GMe,n);return vi.jsx(ev.button,{type:"button","aria-controls":r.contentId,"aria-expanded":r.open||!1,"data-state":qMe(r.open),"data-disabled":r.disabled?"":void 0,disabled:r.disabled,...a,ref:t,onClick:Uy(e.onClick,r.onOpenToggle)})}));VMe.displayName=GMe;var $Me="CollapsibleContent",HMe=ci.forwardRef(((e,t)=>{const{forceMount:n,...a}=e,r=UMe($Me,e.__scopeCollapsible);return vi.jsx(gv,{present:n||r.open,children:({present:e})=>vi.jsx(YMe,{...a,ref:t,present:e})})}));HMe.displayName=$Me;var YMe=ci.forwardRef(((e,t)=>{const{__scopeCollapsible:n,present:a,children:r,...i}=e,s=UMe($Me,n),[o,l]=ci.useState(a),c=ci.useRef(null),d=Vy(t,c),u=ci.useRef(0),f=u.current,m=ci.useRef(0),p=m.current,h=s.open||o,g=ci.useRef(h),x=ci.useRef(void 0);return ci.useEffect((()=>{const e=requestAnimationFrame((()=>g.current=!1));return()=>cancelAnimationFrame(e)}),[]),pv((()=>{const e=c.current;if(e){x.current=x.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";const t=e.getBoundingClientRect();u.current=t.height,m.current=t.width,g.current||(e.style.transitionDuration=x.current.transitionDuration,e.style.animationName=x.current.animationName),l(a)}}),[s.open,a]),vi.jsx(ev.div,{"data-state":qMe(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!h,...i,ref:d,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":p?`${p}px`:void 0,...e.style},children:h&&r})}));function qMe(e){return e?"open":"closed"}var QMe=WMe,ZMe=VMe,JMe=HMe,KMe="Accordion",XMe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[e_e,t_e,n_e]=Xy(KMe),[a_e,r_e]=$y(KMe,[n_e,FMe]),i_e=FMe(),s_e=di.forwardRef(((e,t)=>{const{type:n,...a}=e,r=a,i=a;return vi.jsx(e_e.Provider,{scope:e.__scopeAccordion,children:"multiple"===n?vi.jsx(f_e,{...i,ref:t}):vi.jsx(u_e,{...r,ref:t})})}));s_e.displayName=KMe;var[o_e,l_e]=a_e(KMe),[c_e,d_e]=a_e(KMe,{collapsible:!1}),u_e=di.forwardRef(((e,t)=>{const{value:n,defaultValue:a,onValueChange:r=()=>{},collapsible:i=!1,...s}=e,[o,l]=vv({prop:n,defaultProp:a??"",onChange:r,caller:KMe});return vi.jsx(o_e,{scope:e.__scopeAccordion,value:di.useMemo((()=>o?[o]:[]),[o]),onItemOpen:l,onItemClose:di.useCallback((()=>i&&l("")),[i,l]),children:vi.jsx(c_e,{scope:e.__scopeAccordion,collapsible:i,children:vi.jsx(h_e,{...s,ref:t})})})})),f_e=di.forwardRef(((e,t)=>{const{value:n,defaultValue:a,onValueChange:r=()=>{},...i}=e,[s,o]=vv({prop:n,defaultProp:a??[],onChange:r,caller:KMe}),l=di.useCallback((e=>o(((t=[])=>[...t,e]))),[o]),c=di.useCallback((e=>o(((t=[])=>t.filter((t=>t!==e))))),[o]);return vi.jsx(o_e,{scope:e.__scopeAccordion,value:s,onItemOpen:l,onItemClose:c,children:vi.jsx(c_e,{scope:e.__scopeAccordion,collapsible:!0,children:vi.jsx(h_e,{...i,ref:t})})})})),[m_e,p_e]=a_e(KMe),h_e=di.forwardRef(((e,t)=>{const{__scopeAccordion:n,disabled:a,dir:r,orientation:i="vertical",...s}=e,o=Vy(di.useRef(null),t),l=t_e(n),c="ltr"===iT(r),d=Uy(e.onKeyDown,(e=>{var t;if(!XMe.includes(e.key))return;const n=e.target,a=l().filter((e=>{var t;return!(null==(t=e.ref.current)?void 0:t.disabled)})),r=a.findIndex((e=>e.ref.current===n)),s=a.length;if(-1===r)return;e.preventDefault();let o=r;const d=s-1,u=()=>{o=r+1,o>d&&(o=0)},f=()=>{o=r-1,o<0&&(o=d)};switch(e.key){case"Home":o=0;break;case"End":o=d;break;case"ArrowRight":"horizontal"===i&&(c?u():f());break;case"ArrowDown":"vertical"===i&&u();break;case"ArrowLeft":"horizontal"===i&&(c?f():u());break;case"ArrowUp":"vertical"===i&&f()}null==(t=a[o%s].ref.current)||t.focus()}));return vi.jsx(m_e,{scope:n,disabled:a,direction:r,orientation:i,children:vi.jsx(e_e.Slot,{scope:n,children:vi.jsx(ev.div,{...s,"data-orientation":i,ref:o,onKeyDown:a?void 0:d})})})})),g_e="AccordionItem",[x_e,y_e]=a_e(g_e),v_e=di.forwardRef(((e,t)=>{const{__scopeAccordion:n,value:a,...r}=e,i=p_e(g_e,n),s=l_e(g_e,n),o=i_e(n),l=yN(),c=a&&s.value.includes(a)||!1,d=i.disabled||e.disabled;return vi.jsx(x_e,{scope:n,open:c,disabled:d,triggerId:l,children:vi.jsx(QMe,{"data-orientation":i.orientation,"data-state":k_e(c),...o,...r,ref:t,disabled:d,open:c,onOpenChange:e=>{e?s.onItemOpen(a):s.onItemClose(a)}})})}));v_e.displayName=g_e;var b_e="AccordionHeader",w_e=di.forwardRef(((e,t)=>{const{__scopeAccordion:n,...a}=e,r=p_e(KMe,n),i=y_e(b_e,n);return vi.jsx(ev.h3,{"data-orientation":r.orientation,"data-state":k_e(i.open),"data-disabled":i.disabled?"":void 0,...a,ref:t})}));w_e.displayName=b_e;var j_e="AccordionTrigger",N_e=di.forwardRef(((e,t)=>{const{__scopeAccordion:n,...a}=e,r=p_e(KMe,n),i=y_e(j_e,n),s=d_e(j_e,n),o=i_e(n);return vi.jsx(e_e.ItemSlot,{scope:n,children:vi.jsx(ZMe,{"aria-disabled":i.open&&!s.collapsible||void 0,"data-orientation":r.orientation,id:i.triggerId,...o,...a,ref:t})})}));N_e.displayName=j_e;var C_e="AccordionContent",S_e=di.forwardRef(((e,t)=>{const{__scopeAccordion:n,...a}=e,r=p_e(KMe,n),i=y_e(C_e,n),s=i_e(n);return vi.jsx(JMe,{role:"region","aria-labelledby":i.triggerId,"data-orientation":r.orientation,...s,...a,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})}));function k_e(e){return e?"open":"closed"}S_e.displayName=C_e;var M_e=v_e,__e=w_e,E_e=N_e,I_e=S_e;const L_e=s_e,A_e=ci.forwardRef((({className:e,...t},n)=>vi.jsx(M_e,{ref:n,className:iN("border-b",e),...t})));A_e.displayName="AccordionItem";const T_e=ci.forwardRef((({className:e,children:t,...n},a)=>vi.jsx(__e,{className:"flex",children:vi.jsxs(E_e,{ref:a,className:iN("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,vi.jsx(_b,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})));T_e.displayName=E_e.displayName;const D_e=ci.forwardRef((({className:e,children:t,...n},a)=>vi.jsx(I_e,{ref:a,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:vi.jsx("div",{className:iN("pb-4 pt-0",e),children:t})})));D_e.displayName=I_e.displayName;var P_e=e=>"checkbox"===e.type,O_e=e=>e instanceof Date,R_e=e=>null==e;const z_e=e=>"object"==typeof e;var F_e=e=>!R_e(e)&&!Array.isArray(e)&&z_e(e)&&!O_e(e),B_e=e=>F_e(e)&&e.target?P_e(e.target)?e.target.checked:e.target.value:e,U_e=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),W_e="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function G_e(e){let t;const n=Array.isArray(e),a="undefined"!=typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(W_e&&(e instanceof Blob||a)||!n&&!F_e(e))return e;if(t=n?[]:{},n||(e=>{const t=e.constructor&&e.constructor.prototype;return F_e(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const n in e)e.hasOwnProperty(n)&&(t[n]=G_e(e[n]));else t=e}return t}var V_e=e=>Array.isArray(e)?e.filter(Boolean):[],$_e=e=>void 0===e,H_e=(e,t,n)=>{if(!t||!F_e(e))return n;const a=V_e(t.split(/[,[\].]+?/)).reduce(((e,t)=>R_e(e)?e:e[t]),e);return $_e(a)||a===e?$_e(e[t])?n:e[t]:a},Y_e=e=>"boolean"==typeof e,q_e=e=>/^\w*$/.test(e),Q_e=e=>V_e(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Z_e=(e,t,n)=>{let a=-1;const r=q_e(t)?[t]:Q_e(t),i=r.length,s=i-1;for(;++a<i;){const t=r[a];let i=n;if(a!==s){const n=e[t];i=F_e(n)||Array.isArray(n)?n:isNaN(+r[a+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=i,e=e[t]}};const J_e="blur",K_e="focusout",X_e="change",eEe="onBlur",tEe="onChange",nEe="onSubmit",aEe="onTouched",rEe="all",iEe="max",sEe="min",oEe="maxLength",lEe="minLength",cEe="pattern",dEe="required",uEe="validate",fEe=di.createContext(null),mEe=()=>di.useContext(fEe);var pEe=(e,t,n,a=!0)=>{const r={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(r,i,{get:()=>{const r=i;return t._proxyFormState[r]!==rEe&&(t._proxyFormState[r]=!a||rEe),n&&(n[r]=!0),e[r]}});return r};const hEe="undefined"!=typeof window?ci.useLayoutEffect:ci.useEffect;var gEe=e=>"string"==typeof e,xEe=(e,t,n,a,r)=>gEe(e)?(a&&t.watch.add(e),H_e(n,e,r)):Array.isArray(e)?e.map((e=>(a&&t.watch.add(e),H_e(n,e)))):(a&&(t.watchAll=!0),n);function yEe(e){const t=mEe(),{name:n,disabled:a,control:r=t.control,shouldUnregister:i}=e,s=U_e(r._names.array,n),o=function(e){const t=mEe(),{control:n=t.control,name:a,defaultValue:r,disabled:i,exact:s}=e||{},o=di.useRef(r),[l,c]=di.useState(n._getWatch(a,o.current));return hEe((()=>n._subscribe({name:a,formState:{values:!0},exact:s,callback:e=>!i&&c(xEe(a,n._names,e.values||n._formValues,!1,o.current))})),[a,n,i,s]),di.useEffect((()=>n._removeUnmounted())),l}({control:r,name:n,defaultValue:H_e(r._formValues,n,H_e(r._defaultValues,n,e.defaultValue)),exact:!0}),l=function(e){const t=mEe(),{control:n=t.control,disabled:a,name:r,exact:i}=e||{},[s,o]=di.useState(n._formState),l=di.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return hEe((()=>n._subscribe({name:r,formState:l.current,exact:i,callback:e=>{!a&&o({...n._formState,...e})}})),[r,a,i]),di.useEffect((()=>{l.current.isValid&&n._setValid(!0)}),[n]),di.useMemo((()=>pEe(s,n,l.current,!1)),[s,n])}({control:r,name:n,exact:!0}),c=di.useRef(e),d=di.useRef(r.register(n,{...e.rules,value:o,...Y_e(e.disabled)?{disabled:e.disabled}:{}})),u=di.useMemo((()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!H_e(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!H_e(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!H_e(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!H_e(l.validatingFields,n)},error:{enumerable:!0,get:()=>H_e(l.errors,n)}})),[l,n]),f=di.useCallback((e=>d.current.onChange({target:{value:B_e(e),name:n},type:X_e})),[n]),m=di.useCallback((()=>d.current.onBlur({target:{value:H_e(r._formValues,n),name:n},type:J_e})),[n,r._formValues]),p=di.useCallback((e=>{const t=H_e(r._fields,n);t&&e&&(t._f.ref={focus:()=>e.focus(),select:()=>e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})}),[r._fields,n]),h=di.useMemo((()=>({name:n,value:o,...Y_e(a)||l.disabled?{disabled:l.disabled||a}:{},onChange:f,onBlur:m,ref:p})),[n,a,l.disabled,f,m,p,o]);return di.useEffect((()=>{const e=r._options.shouldUnregister||i;r.register(n,{...c.current.rules,...Y_e(c.current.disabled)?{disabled:c.current.disabled}:{}});const t=(e,t)=>{const n=H_e(r._fields,e);n&&n._f&&(n._f.mount=t)};if(t(n,!0),e){const e=G_e(H_e(r._options.defaultValues,n));Z_e(r._defaultValues,n,e),$_e(H_e(r._formValues,n))&&Z_e(r._formValues,n,e)}return!s&&r.register(n),()=>{(s?e&&!r._state.action:e)?r.unregister(n):t(n,!1)}}),[n,r,s,i]),di.useEffect((()=>{r._setDisabledField({disabled:a,name:n})}),[a,n,r]),di.useMemo((()=>({field:h,formState:l,fieldState:u})),[h,l,u])}const vEe=e=>e.render(yEe(e));var bEe=(e,t,n,a,r)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[a]:r||!0}}:{},wEe=e=>Array.isArray(e)?e:[e],jEe=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}},NEe=e=>R_e(e)||!z_e(e);function CEe(e,t){if(NEe(e)||NEe(t))return e===t;if(O_e(e)&&O_e(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(const r of n){const n=e[r];if(!a.includes(r))return!1;if("ref"!==r){const e=t[r];if(O_e(n)&&O_e(e)||F_e(n)&&F_e(e)||Array.isArray(n)&&Array.isArray(e)?!CEe(n,e):n!==e)return!1}}return!0}var SEe=e=>F_e(e)&&!Object.keys(e).length,kEe=e=>"file"===e.type,MEe=e=>"function"==typeof e,_Ee=e=>{if(!W_e)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},EEe=e=>"select-multiple"===e.type,IEe=e=>"radio"===e.type,LEe=e=>_Ee(e)&&e.isConnected;function AEe(e,t){const n=Array.isArray(t)?t:q_e(t)?[t]:Q_e(t),a=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let a=0;for(;a<n;)e=$_e(e)?a++:e[t[a++]];return e}(e,n),r=n.length-1,i=n[r];return a&&delete a[i],0!==r&&(F_e(a)&&SEe(a)||Array.isArray(a)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!$_e(e[t]))return!1;return!0}(a))&&AEe(e,n.slice(0,-1)),e}var TEe=e=>{for(const t in e)if(MEe(e[t]))return!0;return!1};function DEe(e,t={}){const n=Array.isArray(e);if(F_e(e)||n)for(const a in e)Array.isArray(e[a])||F_e(e[a])&&!TEe(e[a])?(t[a]=Array.isArray(e[a])?[]:{},DEe(e[a],t[a])):R_e(e[a])||(t[a]=!0);return t}function PEe(e,t,n){const a=Array.isArray(e);if(F_e(e)||a)for(const r in e)Array.isArray(e[r])||F_e(e[r])&&!TEe(e[r])?$_e(t)||NEe(n[r])?n[r]=Array.isArray(e[r])?DEe(e[r],[]):{...DEe(e[r])}:PEe(e[r],R_e(t)?{}:t[r],n[r]):n[r]=!CEe(e[r],t[r]);return n}var OEe=(e,t)=>PEe(e,t,DEe(t));const REe={value:!1,isValid:!1},zEe={value:!0,isValid:!0};var FEe=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!$_e(e[0].attributes.value)?$_e(e[0].value)||""===e[0].value?zEe:{value:e[0].value,isValid:!0}:zEe:REe}return REe},BEe=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:a})=>$_e(e)?e:t?""===e?NaN:e?+e:e:n&&gEe(e)?new Date(e):a?a(e):e;const UEe={isValid:!1,value:null};var WEe=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),UEe):UEe;function GEe(e){const t=e.ref;return kEe(t)?t.files:IEe(t)?WEe(e.refs).value:EEe(t)?[...t.selectedOptions].map((({value:e})=>e)):P_e(t)?FEe(e.refs).value:BEe($_e(t.value)?e.ref.value:t.value,e)}var VEe=e=>e instanceof RegExp,$Ee=e=>$_e(e)?e:VEe(e)?e.source:F_e(e)?VEe(e.value)?e.value.source:e.value:e,HEe=e=>({isOnSubmit:!e||e===nEe,isOnBlur:e===eEe,isOnChange:e===tEe,isOnAll:e===rEe,isOnTouch:e===aEe});const YEe="AsyncFunction";var qEe=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))));const QEe=(e,t,n,a)=>{for(const r of n||Object.keys(e)){const n=H_e(e,r);if(n){const{_f:e,...i}=n;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],r)&&!a)return!0;if(e.ref&&t(e.ref,e.name)&&!a)return!0;if(QEe(i,t))break}else if(F_e(i)&&QEe(i,t))break}}};function ZEe(e,t,n){const a=H_e(e,n);if(a||q_e(n))return{error:a,name:n};const r=n.split(".");for(;r.length;){const a=r.join("."),i=H_e(t,a),s=H_e(e,a);if(i&&!Array.isArray(i)&&n!==a)return{name:n};if(s&&s.type)return{name:a,error:s};r.pop()}return{name:n}}var JEe=(e,t,n)=>{const a=wEe(H_e(e,n));return Z_e(a,"root",t[n]),Z_e(e,n,a),e},KEe=e=>gEe(e);function XEe(e,t,n="validate"){if(KEe(e)||Array.isArray(e)&&e.every(KEe)||Y_e(e)&&!e)return{type:n,message:KEe(e)?e:"",ref:t}}var eIe=e=>F_e(e)&&!VEe(e)?e:{value:e,message:""},tIe=async(e,t,n,a,r,i)=>{const{ref:s,refs:o,required:l,maxLength:c,minLength:d,min:u,max:f,pattern:m,validate:p,name:h,valueAsNumber:g,mount:x}=e._f,y=H_e(n,h);if(!x||t.has(h))return{};const v=o?o[0]:s,b=e=>{r&&v.reportValidity&&(v.setCustomValidity(Y_e(e)?"":e||""),v.reportValidity())},w={},j=IEe(s),N=P_e(s),C=j||N,S=(g||kEe(s))&&$_e(s.value)&&$_e(y)||_Ee(s)&&""===s.value||""===y||Array.isArray(y)&&!y.length,k=bEe.bind(null,h,a,w),M=(e,t,n,a=oEe,r=lEe)=>{const i=e?t:n;w[h]={type:e?a:r,message:i,ref:s,...k(e?a:r,i)}};if(i?!Array.isArray(y)||!y.length:l&&(!C&&(S||R_e(y))||Y_e(y)&&!y||N&&!FEe(o).isValid||j&&!WEe(o).isValid)){const{value:e,message:t}=KEe(l)?{value:!!l,message:l}:eIe(l);if(e&&(w[h]={type:dEe,message:t,ref:v,...k(dEe,t)},!a))return b(t),w}if(!(S||R_e(u)&&R_e(f))){let e,t;const n=eIe(f),r=eIe(u);if(R_e(y)||isNaN(y)){const a=s.valueAsDate||new Date(y),i=e=>new Date((new Date).toDateString()+" "+e),o="time"==s.type,l="week"==s.type;gEe(n.value)&&y&&(e=o?i(y)>i(n.value):l?y>n.value:a>new Date(n.value)),gEe(r.value)&&y&&(t=o?i(y)<i(r.value):l?y<r.value:a<new Date(r.value))}else{const a=s.valueAsNumber||(y?+y:y);R_e(n.value)||(e=a>n.value),R_e(r.value)||(t=a<r.value)}if((e||t)&&(M(!!e,n.message,r.message,iEe,sEe),!a))return b(w[h].message),w}if((c||d)&&!S&&(gEe(y)||i&&Array.isArray(y))){const e=eIe(c),t=eIe(d),n=!R_e(e.value)&&y.length>+e.value,r=!R_e(t.value)&&y.length<+t.value;if((n||r)&&(M(n,e.message,t.message),!a))return b(w[h].message),w}if(m&&!S&&gEe(y)){const{value:e,message:t}=eIe(m);if(VEe(e)&&!y.match(e)&&(w[h]={type:cEe,message:t,ref:s,...k(cEe,t)},!a))return b(t),w}if(p)if(MEe(p)){const e=XEe(await p(y,n),v);if(e&&(w[h]={...e,...k(uEe,e.message)},!a))return b(e.message),w}else if(F_e(p)){let e={};for(const t in p){if(!SEe(e)&&!a)break;const r=XEe(await p[t](y,n),v,t);r&&(e={...r,...k(t,r.message)},b(r.message),a&&(w[h]=e))}if(!SEe(e)&&(w[h]={ref:v,...e},!a))return w}return b(!0),w};const nIe={mode:nEe,reValidateMode:tEe,shouldFocusError:!0};function aIe(e={}){let t={...nIe,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:MEe(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const a={};let r,i=(F_e(t.defaultValues)||F_e(t.values))&&G_e(t.defaultValues||t.values)||{},s=t.shouldUnregister?{}:G_e(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let u={...d};const f={array:jEe(),state:jEe()},m=t.criteriaMode===rEe,p=async e=>{if(!t.disabled&&(d.isValid||u.isValid||e)){const e=t.resolver?SEe((await v()).errors):await b(a,!0);e!==n.isValid&&f.state.next({isValid:e})}},h=(e,a)=>{!t.disabled&&(d.isValidating||d.validatingFields||u.isValidating||u.validatingFields)&&((e||Array.from(l.mount)).forEach((e=>{e&&(a?Z_e(n.validatingFields,e,a):AEe(n.validatingFields,e))})),f.state.next({validatingFields:n.validatingFields,isValidating:!SEe(n.validatingFields)}))},g=(e,t,n,r)=>{const l=H_e(a,e);if(l){const a=H_e(s,e,$_e(n)?H_e(i,e):n);$_e(a)||r&&r.defaultChecked||t?Z_e(s,e,t?a:GEe(l._f)):N(e,a),o.mount&&p()}},x=(e,a,r,s,o)=>{let l=!1,c=!1;const m={name:e};if(!t.disabled){if(!r||s){(d.isDirty||u.isDirty)&&(c=n.isDirty,n.isDirty=m.isDirty=w(),l=c!==m.isDirty);const t=CEe(H_e(i,e),a);c=!!H_e(n.dirtyFields,e),t?AEe(n.dirtyFields,e):Z_e(n.dirtyFields,e,!0),m.dirtyFields=n.dirtyFields,l=l||(d.dirtyFields||u.dirtyFields)&&c!==!t}if(r){const t=H_e(n.touchedFields,e);t||(Z_e(n.touchedFields,e,r),m.touchedFields=n.touchedFields,l=l||(d.touchedFields||u.touchedFields)&&t!==r)}l&&o&&f.state.next(m)}return l?m:{}},y=(e,a,i,s)=>{const o=H_e(n.errors,e),l=(d.isValid||u.isValid)&&Y_e(a)&&n.isValid!==a;var m;if(t.delayError&&i?(m=()=>((e,t)=>{Z_e(n.errors,e,t),f.state.next({errors:n.errors})})(e,i),r=e=>{clearTimeout(c),c=setTimeout(m,e)},r(t.delayError)):(clearTimeout(c),r=null,i?Z_e(n.errors,e,i):AEe(n.errors,e)),(i?!CEe(o,i):o)||!SEe(s)||l){const t={...s,...l&&Y_e(a)?{isValid:a}:{},errors:n.errors,name:e};n={...n,...t},f.state.next(t)}},v=async e=>{h(e,!0);const n=await t.resolver(s,t.context,((e,t,n,a)=>{const r={};for(const i of e){const e=H_e(t,i);e&&Z_e(r,i,e._f)}return{criteriaMode:n,names:[...e],fields:r,shouldUseNativeValidation:a}})(e||l.mount,a,t.criteriaMode,t.shouldUseNativeValidation));return h(e),n},b=async(e,a,r={valid:!0})=>{for(const o in e){const c=e[o];if(c){const{_f:e,...u}=c;if(e){const u=l.array.has(e.name),f=c._f&&(!!(i=c._f)&&!!i.validate&&!!(MEe(i.validate)&&i.validate.constructor.name===YEe||F_e(i.validate)&&Object.values(i.validate).find((e=>e.constructor.name===YEe))));f&&d.validatingFields&&h([o],!0);const p=await tIe(c,l.disabled,s,m,t.shouldUseNativeValidation&&!a,u);if(f&&d.validatingFields&&h([o]),p[e.name]&&(r.valid=!1,a))break;!a&&(H_e(p,e.name)?u?JEe(n.errors,p,e.name):Z_e(n.errors,e.name,p[e.name]):AEe(n.errors,e.name))}!SEe(u)&&await b(u,a,r)}}var i;return r.valid},w=(e,n)=>!t.disabled&&(e&&n&&Z_e(s,e,n),!CEe(E(),i)),j=(e,t,n)=>xEe(e,l,{...o.mount?s:$_e(t)?i:gEe(e)?{[e]:t}:t},n,t),N=(e,t,n={})=>{const r=H_e(a,e);let i=t;if(r){const n=r._f;n&&(!n.disabled&&Z_e(s,e,BEe(t,n)),i=_Ee(n.ref)&&R_e(t)?"":t,EEe(n.ref)?[...n.ref.options].forEach((e=>e.selected=i.includes(e.value))):n.refs?P_e(n.ref)?n.refs.forEach((e=>{e.defaultChecked&&e.disabled||(Array.isArray(i)?e.checked=!!i.find((t=>t===e.value)):e.checked=i===e.value||!!i)})):n.refs.forEach((e=>e.checked=e.value===i)):kEe(n.ref)?n.ref.value="":(n.ref.value=i,n.ref.type||f.state.next({name:e,values:G_e(s)})))}(n.shouldDirty||n.shouldTouch)&&x(e,i,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&_(e)},C=(e,t,n)=>{for(const r in t){if(!t.hasOwnProperty(r))return;const i=t[r],s=`${e}.${r}`,o=H_e(a,s);(l.array.has(e)||F_e(i)||o&&!o._f)&&!O_e(i)?C(s,i,n):N(s,i,n)}},S=(e,t,r={})=>{const c=H_e(a,e),m=l.array.has(e),p=G_e(t);Z_e(s,e,p),m?(f.array.next({name:e,values:G_e(s)}),(d.isDirty||d.dirtyFields||u.isDirty||u.dirtyFields)&&r.shouldDirty&&f.state.next({name:e,dirtyFields:OEe(i,s),isDirty:w(e,p)})):!c||c._f||R_e(p)?N(e,p,r):C(e,p,r),qEe(e,l)&&f.state.next({...n}),f.state.next({name:o.mount?e:void 0,values:G_e(s)})},k=async e=>{o.mount=!0;const i=e.target;let c=i.name,g=!0;const w=H_e(a,c),j=e=>{g=Number.isNaN(e)||O_e(e)&&isNaN(e.getTime())||CEe(e,H_e(s,c,e))},N=HEe(t.mode),C=HEe(t.reValidateMode);if(w){let o,S;const k=i.type?GEe(w._f):B_e(e),M=e.type===J_e||e.type===K_e,E=!(e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate))(w._f)&&!t.resolver&&!H_e(n.errors,c)&&!w._f.deps||((e,t,n,a,r)=>!r.isOnAll&&(!n&&r.isOnTouch?!(t||e):(n?a.isOnBlur:r.isOnBlur)?!e:!(n?a.isOnChange:r.isOnChange)||e))(M,H_e(n.touchedFields,c),n.isSubmitted,C,N),I=qEe(c,l,M);Z_e(s,c,k),M?(w._f.onBlur&&w._f.onBlur(e),r&&r(0)):w._f.onChange&&w._f.onChange(e);const L=x(c,k,M),A=!SEe(L)||I;if(!M&&f.state.next({name:c,type:e.type,values:G_e(s)}),E)return(d.isValid||u.isValid)&&("onBlur"===t.mode?M&&p():M||p()),A&&f.state.next({name:c,...I?{}:L});if(!M&&I&&f.state.next({...n}),t.resolver){const{errors:e}=await v([c]);if(j(k),g){const t=ZEe(n.errors,a,c),r=ZEe(e,a,t.name||c);o=r.error,c=r.name,S=SEe(e)}}else h([c],!0),o=(await tIe(w,l.disabled,s,m,t.shouldUseNativeValidation))[c],h([c]),j(k),g&&(o?S=!1:(d.isValid||u.isValid)&&(S=await b(a,!0)));g&&(w._f.deps&&_(w._f.deps),y(c,S,o,L))}},M=(e,t)=>{if(H_e(n.errors,t)&&e.focus)return e.focus(),1},_=async(e,r={})=>{let i,s;const o=wEe(e);if(t.resolver){const t=await(async e=>{const{errors:t}=await v(e);if(e)for(const a of e){const e=H_e(t,a);e?Z_e(n.errors,a,e):AEe(n.errors,a)}else n.errors=t;return t})($_e(e)?e:o);i=SEe(t),s=e?!o.some((e=>H_e(t,e))):i}else e?(s=(await Promise.all(o.map((async e=>{const t=H_e(a,e);return await b(t&&t._f?{[e]:t}:t)})))).every(Boolean),(s||n.isValid)&&p()):s=i=await b(a);return f.state.next({...!gEe(e)||(d.isValid||u.isValid)&&i!==n.isValid?{}:{name:e},...t.resolver||!e?{isValid:i}:{},errors:n.errors}),r.shouldFocus&&!s&&QEe(a,M,e?o:l.mount),s},E=e=>{const t={...o.mount?s:i};return $_e(e)?t:gEe(e)?H_e(t,e):e.map((e=>H_e(t,e)))},I=(e,t)=>({invalid:!!H_e((t||n).errors,e),isDirty:!!H_e((t||n).dirtyFields,e),error:H_e((t||n).errors,e),isValidating:!!H_e(n.validatingFields,e),isTouched:!!H_e((t||n).touchedFields,e)}),L=(e,t,r)=>{const i=(H_e(a,e,{_f:{}})._f||{}).ref,s=H_e(n.errors,e)||{},{ref:o,message:l,type:c,...d}=s;Z_e(n.errors,e,{...d,...t,ref:i}),f.state.next({name:e,errors:n.errors,isValid:!1}),r&&r.shouldFocus&&i&&i.focus&&i.focus()},A=e=>f.state.subscribe({next:t=>{var a,r,i;a=e.name,r=t.name,i=e.exact,a&&r&&a!==r&&!wEe(a).some((e=>e&&(i?e===r:e.startsWith(r)||r.startsWith(e))))||!((e,t,n,a)=>{n(e);const{name:r,...i}=e;return SEe(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find((e=>t[e]===(!a||rEe)))})(t,e.formState||d,B,e.reRenderRoot)||e.callback({values:{...s},...n,...t})}}).unsubscribe,T=(e,r={})=>{for(const o of e?wEe(e):l.mount)l.mount.delete(o),l.array.delete(o),r.keepValue||(AEe(a,o),AEe(s,o)),!r.keepError&&AEe(n.errors,o),!r.keepDirty&&AEe(n.dirtyFields,o),!r.keepTouched&&AEe(n.touchedFields,o),!r.keepIsValidating&&AEe(n.validatingFields,o),!t.shouldUnregister&&!r.keepDefaultValue&&AEe(i,o);f.state.next({values:G_e(s)}),f.state.next({...n,...r.keepDirty?{isDirty:w()}:{}}),!r.keepIsValid&&p()},D=({disabled:e,name:t})=>{(Y_e(e)&&o.mount||e||l.disabled.has(t))&&(e?l.disabled.add(t):l.disabled.delete(t))},P=(e,n={})=>{let r=H_e(a,e);const s=Y_e(n.disabled)||Y_e(t.disabled);return Z_e(a,e,{...r||{},_f:{...r&&r._f?r._f:{ref:{name:e}},name:e,mount:!0,...n}}),l.mount.add(e),r?D({disabled:Y_e(n.disabled)?n.disabled:t.disabled,name:e}):g(e,!0,n.value),{...s?{disabled:n.disabled||t.disabled}:{},...t.progressive?{required:!!n.required,min:$Ee(n.min),max:$Ee(n.max),minLength:$Ee(n.minLength),maxLength:$Ee(n.maxLength),pattern:$Ee(n.pattern)}:{},name:e,onChange:k,onBlur:k,ref:s=>{if(s){P(e,n),r=H_e(a,e);const t=$_e(s.value)&&s.querySelectorAll&&s.querySelectorAll("input,select,textarea")[0]||s,o=(e=>IEe(e)||P_e(e))(t),l=r._f.refs||[];if(o?l.find((e=>e===t)):t===r._f.ref)return;Z_e(a,e,{_f:{...r._f,...o?{refs:[...l.filter(LEe),t,...Array.isArray(H_e(i,e))?[{}]:[]],ref:{type:t.type,name:e}}:{ref:t}}}),g(e,!1,void 0,t)}else r=H_e(a,e,{}),r._f&&(r._f.mount=!1),(t.shouldUnregister||n.shouldUnregister)&&(!U_e(l.array,e)||!o.action)&&l.unMount.add(e)}}},O=()=>t.shouldFocusError&&QEe(a,M,l.mount),R=(e,r)=>async i=>{let o;i&&(i.preventDefault&&i.preventDefault(),i.persist&&i.persist());let c=G_e(s);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:e,values:t}=await v();n.errors=e,c=t}else await b(a);if(l.disabled.size)for(const e of l.disabled)Z_e(c,e,void 0);if(AEe(n.errors,"root"),SEe(n.errors)){f.state.next({errors:{}});try{await e(c,i)}catch(d){o=d}}else r&&await r({...n.errors},i),O(),setTimeout(O);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:SEe(n.errors)&&!o,submitCount:n.submitCount+1,errors:n.errors}),o)throw o},z=(e,r={})=>{const c=e?G_e(e):i,u=G_e(c),m=SEe(e),p=m?i:u;if(r.keepDefaultValues||(i=c),!r.keepValues){if(r.keepDirtyValues){const e=new Set([...l.mount,...Object.keys(OEe(i,s))]);for(const t of Array.from(e))H_e(n.dirtyFields,t)?Z_e(p,t,H_e(s,t)):S(t,H_e(p,t))}else{if(W_e&&$_e(e))for(const e of l.mount){const t=H_e(a,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(_Ee(e)){const t=e.closest("form");if(t){t.reset();break}}}}for(const e of l.mount)S(e,H_e(p,e))}s=G_e(p),f.array.next({values:{...p}}),f.state.next({values:{...p}})}l={mount:r.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!r.keepIsValid||!!r.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:r.keepSubmitCount?n.submitCount:0,isDirty:!m&&(r.keepDirty?n.isDirty:!(!r.keepDefaultValues||CEe(e,i))),isSubmitted:!!r.keepIsSubmitted&&n.isSubmitted,dirtyFields:m?{}:r.keepDirtyValues?r.keepDefaultValues&&s?OEe(i,s):n.dirtyFields:r.keepDefaultValues&&e?OEe(i,e):r.keepDirty?n.dirtyFields:{},touchedFields:r.keepTouched?n.touchedFields:{},errors:r.keepErrors?n.errors:{},isSubmitSuccessful:!!r.keepIsSubmitSuccessful&&n.isSubmitSuccessful,isSubmitting:!1})},F=(e,t)=>z(MEe(e)?e(s):e,t),B=e=>{n={...n,...e}},U={control:{register:P,unregister:T,getFieldState:I,handleSubmit:R,setError:L,_subscribe:A,_runSchema:v,_getWatch:j,_getDirty:w,_setValid:p,_setFieldArray:(e,r=[],l,c,m=!0,p=!0)=>{if(c&&l&&!t.disabled){if(o.action=!0,p&&Array.isArray(H_e(a,e))){const t=l(H_e(a,e),c.argA,c.argB);m&&Z_e(a,e,t)}if(p&&Array.isArray(H_e(n.errors,e))){const t=l(H_e(n.errors,e),c.argA,c.argB);m&&Z_e(n.errors,e,t),((e,t)=>{!V_e(H_e(e,t)).length&&AEe(e,t)})(n.errors,e)}if((d.touchedFields||u.touchedFields)&&p&&Array.isArray(H_e(n.touchedFields,e))){const t=l(H_e(n.touchedFields,e),c.argA,c.argB);m&&Z_e(n.touchedFields,e,t)}(d.dirtyFields||u.dirtyFields)&&(n.dirtyFields=OEe(i,s)),f.state.next({name:e,isDirty:w(e,r),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Z_e(s,e,r)},_setDisabledField:D,_setErrors:e=>{n.errors=e,f.state.next({errors:n.errors,isValid:!1})},_getFieldArray:e=>V_e(H_e(o.mount?s:i,e,t.shouldUnregister?H_e(i,e,[]):[])),_reset:z,_resetDefaultValues:()=>MEe(t.defaultValues)&&t.defaultValues().then((e=>{F(e,t.resetOptions),f.state.next({isLoading:!1})})),_removeUnmounted:()=>{for(const e of l.unMount){const t=H_e(a,e);t&&(t._f.refs?t._f.refs.every((e=>!LEe(e))):!LEe(t._f.ref))&&T(e)}l.unMount=new Set},_disableForm:e=>{Y_e(e)&&(f.state.next({disabled:e}),QEe(a,((t,n)=>{const r=H_e(a,n);r&&(t.disabled=r._f.disabled||e,Array.isArray(r._f.refs)&&r._f.refs.forEach((t=>{t.disabled=r._f.disabled||e})))}),0,!1))},_subjects:f,_proxyFormState:d,get _fields(){return a},get _formValues(){return s},get _state(){return o},set _state(e){o=e},get _defaultValues(){return i},get _names(){return l},set _names(e){l=e},get _formState(){return n},get _options(){return t},set _options(e){t={...t,...e}}},subscribe:e=>(o.mount=!0,u={...u,...e.formState},A({...e,formState:u})),trigger:_,register:P,handleSubmit:R,watch:(e,t)=>MEe(e)?f.state.subscribe({next:n=>e(j(void 0,t),n)}):j(e,t,!0),setValue:S,getValues:E,reset:F,resetField:(e,t={})=>{H_e(a,e)&&($_e(t.defaultValue)?S(e,G_e(H_e(i,e))):(S(e,t.defaultValue),Z_e(i,e,G_e(t.defaultValue))),t.keepTouched||AEe(n.touchedFields,e),t.keepDirty||(AEe(n.dirtyFields,e),n.isDirty=t.defaultValue?w(e,G_e(H_e(i,e))):w()),t.keepError||(AEe(n.errors,e),d.isValid&&p()),f.state.next({...n}))},clearErrors:e=>{e&&wEe(e).forEach((e=>AEe(n.errors,e))),f.state.next({errors:e?n.errors:{}})},unregister:T,setError:L,setFocus:(e,t={})=>{const n=H_e(a,e),r=n&&n._f;if(r){const e=r.refs?r.refs[0]:r.ref;e.focus&&(e.focus(),t.shouldSelect&&MEe(e.select)&&e.select())}},getFieldState:I};return{...U,formControl:U}}function rIe(e={}){const t=di.useRef(void 0),n=di.useRef(void 0),[a,r]=di.useState({isDirty:!1,isValidating:!1,isLoading:MEe(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:MEe(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:aIe(e),formState:a},e.formControl&&e.defaultValues&&!MEe(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,hEe((()=>{const e=i._subscribe({formState:i._proxyFormState,callback:()=>r({...i._formState}),reRenderRoot:!0});return r((e=>({...e,isReady:!0}))),i._formState.isReady=!0,e}),[i]),di.useEffect((()=>i._disableForm(e.disabled)),[i,e.disabled]),di.useEffect((()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode),e.errors&&!SEe(e.errors)&&i._setErrors(e.errors)}),[i,e.errors,e.mode,e.reValidateMode]),di.useEffect((()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})}),[i,e.shouldUnregister]),di.useEffect((()=>{if(i._proxyFormState.isDirty){const e=i._getDirty();e!==a.isDirty&&i._subjects.state.next({isDirty:e})}}),[i,a.isDirty]),di.useEffect((()=>{e.values&&!CEe(e.values,n.current)?(i._reset(e.values,i._options.resetOptions),n.current=e.values,r((e=>({...e})))):i._resetDefaultValues()}),[i,e.values]),di.useEffect((()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()})),t.current.formState=pEe(a,i),t.current}const iIe=e=>{const{children:t,...n}=e;return di.createElement(fEe.Provider,{value:n},t)},sIe=ci.createContext({}),oIe=({...e})=>vi.jsx(sIe.Provider,{value:{name:e.name},children:vi.jsx(vEe,{...e})}),lIe=()=>{const e=ci.useContext(sIe),t=ci.useContext(cIe),{getFieldState:n,formState:a}=mEe(),r=n(e.name,a);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...r}},cIe=ci.createContext({}),dIe=ci.forwardRef((({className:e,...t},n)=>{const a=ci.useId();return vi.jsx(cIe.Provider,{value:{id:a},children:vi.jsx("div",{ref:n,className:iN("space-y-2",e),...t})})}));dIe.displayName="FormItem";const uIe=ci.forwardRef((({className:e,...t},n)=>{const{error:a,formItemId:r}=lIe();return vi.jsx(uB,{ref:n,className:iN(a&&"text-destructive",e),htmlFor:r,...t})}));uIe.displayName="FormLabel";const fIe=ci.forwardRef((({...e},t)=>{const{error:n,formItemId:a,formDescriptionId:r,formMessageId:i}=lIe();return vi.jsx(qy,{ref:t,id:a,"aria-describedby":n?`${r} ${i}`:`${r}`,"aria-invalid":!!n,...e})}));fIe.displayName="FormControl";const mIe=ci.forwardRef((({className:e,...t},n)=>{const{formDescriptionId:a}=lIe();return vi.jsx("p",{ref:n,id:a,className:iN("text-sm text-muted-foreground",e),...t})}));mIe.displayName="FormDescription";const pIe=ci.forwardRef((({className:e,children:t,...n},a)=>{const{error:r,formMessageId:i}=lIe(),s=r?String((null==r?void 0:r.message)??""):t;return s?vi.jsx("p",{ref:a,id:i,className:iN("text-sm font-medium text-destructive",e),...n,children:s}):null}));pIe.displayName="FormMessage";const hIe="YOUR_FB_APP_ID",gIe="YOUR_WHATSAPP_CONFIG_ID",xIe="v22.0";function yIe({isOpen:e,onClose:t,onSuccess:n}){const{toast:a}=By(),[r,i]=ci.useState(!1),[s,o]=ci.useState(!1),[l,c]=ci.useState({acceptTerms:!1,acceptPrivacyPolicy:!1});ci.useEffect((()=>{if(e&&!r){(async()=>{try{await function(e,t="v22.0"){return new Promise((n=>{if(document.getElementById("facebook-jssdk"))return void n();window.fbAsyncInit=function(){window.FB.init({appId:e,autoLogAppEvents:!0,xfbml:!0,version:t}),n()};const a=document.createElement("script");a.id="facebook-jssdk",a.src="https://connect.facebook.net/en_US/sdk.js",a.async=!0,a.defer=!0,a.crossOrigin="anonymous",document.head.appendChild(a)}))}(hIe,xIe),i(!0),e=e=>{console.log("WhatsApp signup event:",e),e.wabaId&&e.phoneNumberId?f(e.wabaId,e.phoneNumberId):e.screen&&a({title:"Signup Incomplete",description:`Signup was abandoned at the ${e.screen} screen. Please try again.`,variant:"destructive"})},window.addEventListener("message",(t=>{if("https://www.facebook.com"===t.origin||"https://web.facebook.com"===t.origin)try{const n=JSON.parse(t.data);"WA_EMBEDDED_SIGNUP"===n.type&&e(n)}catch{console.log("Unparseable message event:",t.data)}}))}catch(t){console.error("Failed to initialize Facebook SDK:",t),a({title:"Integration Error",description:"Failed to initialize the WhatsApp Business signup process. Please try again later.",variant:"destructive"})}var e})()}}),[e,r,a]);const d=e=>{console.log("Facebook login response:",e),e.authResponse&&e.authResponse.code?u(e.authResponse.code):(o(!1),a({title:"Signup Cancelled",description:"The WhatsApp Business signup process was cancelled or encountered an error.",variant:"destructive"}))},u=async e=>{try{const r=await fetch("/api/channel-connections/whatsapp-embedded-signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e})});if(!r.ok){const e=await r.json();throw new Error(e.message||"Failed to connect WhatsApp Business account")}await r.json();a({title:"Connection Successful",description:"Your WhatsApp Business account has been connected successfully."}),n(),t()}catch(r){console.error("Error connecting WhatsApp account:",r),a({title:"Connection Error",description:r.message||"Failed to connect your WhatsApp Business account.",variant:"destructive"})}finally{o(!1)}},f=async(e,r)=>{try{const i=await fetch("/api/channel-connections",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({channelType:"whatsapp_official",accountId:e,accountName:"WhatsApp Business",connectionData:{phoneNumberId:r,wabaId:e}})});if(!i.ok){const e=await i.json();throw new Error(e.message||"Failed to connect WhatsApp Business account")}a({title:"Connection Successful",description:"Your WhatsApp Business account has been connected successfully."}),n(),t()}catch(i){a({title:"Connection Error",description:i.message||"Failed to connect your WhatsApp Business account.",variant:"destructive"})}finally{o(!1)}};return vi.jsx(KF,{open:e,onOpenChange:t,children:vi.jsxs(aB,{className:"sm:max-w-[500px]",children:[vi.jsxs(rB,{children:[vi.jsx(sB,{children:"WhatsApp Business API - Easy Setup"}),vi.jsx(oB,{children:"Quickly create a WhatsApp Business API account through Facebook Business. This is the official Meta-approved integration method."})]}),vi.jsxs("div",{className:"py-4",children:[vi.jsxs("div",{className:"rounded-lg border border-gray-100 bg-gray-50 p-4 mb-4",children:[vi.jsx("h3",{className:"text-sm font-medium mb-2",children:"How it works:"}),vi.jsxs("ol",{className:"list-decimal pl-5 text-sm text-gray-600 space-y-1",children:[vi.jsx("li",{children:"You'll be redirected to Facebook to connect your business account"}),vi.jsx("li",{children:"Select a Facebook Business Manager account or create a new one"}),vi.jsx("li",{children:"Provide your business information and verify your phone number"}),vi.jsx("li",{children:"We'll create a WhatsApp Business API connection automatically"})]}),vi.jsxs("div",{className:"mt-3 flex p-2 text-amber-800 bg-amber-50 rounded border border-amber-200",children:[vi.jsx("i",{className:"ri-error-warning-line mt-0.5 mr-2"}),vi.jsxs("p",{className:"text-xs",children:[vi.jsx("strong",{children:"Note:"})," This feature requires configuration of a Facebook App with WhatsApp Business permissions. Contact your administrator to set up the app credentials."]})]})]}),vi.jsxs("div",{className:"space-y-4 pt-2",children:[vi.jsxs("div",{className:"flex items-center space-x-2",children:[vi.jsx(t8,{id:"terms",checked:l.acceptTerms,onCheckedChange:e=>(e=>{c({...l,acceptTerms:e})})(!0===e)}),vi.jsxs("label",{htmlFor:"terms",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:["I agree to the ",vi.jsx("a",{href:"https://www.facebook.com/legal/whatsapp_api_terms_of_service",target:"_blank",rel:"noopener noreferrer",className:"text-primary underline",children:"WhatsApp Business API Terms of Service"})]})]}),vi.jsxs("div",{className:"flex items-center space-x-2",children:[vi.jsx(t8,{id:"privacy",checked:l.acceptPrivacyPolicy,onCheckedChange:e=>(e=>{c({...l,acceptPrivacyPolicy:e})})(!0===e)}),vi.jsxs("label",{htmlFor:"privacy",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:["I agree to the ",vi.jsx("a",{href:"https://www.facebook.com/privacy/policy/",target:"_blank",rel:"noopener noreferrer",className:"text-primary underline",children:"Meta Privacy Policy"})]})]})]})]}),vi.jsxs(iB,{children:[vi.jsx(tk,{type:"button",variant:"ghost",onClick:t,disabled:s,children:"Cancel"}),vi.jsx(tk,{onClick:()=>{if(l.acceptTerms&&l.acceptPrivacyPolicy){if(o(!0),!r)return a({title:"Please Wait",description:"The signup process is still initializing. Please try again in a moment."}),void o(!1);try{e=gIe,t=d,window.FB?window.FB.login(t,{config_id:e,response_type:"code",override_default_response_type:!0,extras:{setup:{},featureType:"",sessionInfoVersion:"3"}}):console.error("Facebook SDK not initialized. Call initFacebookSDK first.")}catch(n){console.error("Error launching WhatsApp signup:",n),a({title:"Launch Error",description:n.message||"Failed to launch WhatsApp Business signup flow.",variant:"destructive"}),o(!1)}var e,t}else a({title:"Terms Required",description:"Please accept both the terms and privacy policy to continue.",variant:"destructive"})},disabled:s||!r,children:s?vi.jsxs(vi.Fragment,{children:[vi.jsx(uw,{className:"mr-2 h-4 w-4 animate-spin"}),"Connecting..."]}):vi.jsxs(vi.Fragment,{children:[vi.jsx("img",{src:"https://static.xx.fbcdn.net/rsrc.php/yb/r/hLRJ1GG_y0J.ico",alt:"Facebook",className:"w-4 h-4 mr-2"}),"Continue with Facebook"]})})]})]})})}function vIe({isOpen:e,onClose:t,onSuccess:n}){const{toast:a}=By(),[r,i]=ci.useState({accountName:"",phoneNumberId:"",businessAccountId:"",accessToken:"",appId:"",appSecret:""}),s=e=>{const{name:t,value:n}=e.target;i({...r,[t]:n})},o=()=>{i({accountName:"",phoneNumberId:"",businessAccountId:"",accessToken:"",appId:"",appSecret:""})};return vi.jsx(KF,{open:e,onOpenChange:t,children:vi.jsxs(aB,{className:"sm:max-w-[500px]",children:[vi.jsxs(rB,{children:[vi.jsx(sB,{children:"Connect WhatsApp Business API"}),vi.jsx(oB,{children:"Connect your existing WhatsApp Business API account. You'll need your Meta for Developers credentials."})]}),vi.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{const e=await fetch("/api/channel-connections",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({channelType:"whatsapp_official",accountId:r.phoneNumberId,accountName:r.accountName,connectionData:{phoneNumberId:r.phoneNumberId,businessAccountId:r.businessAccountId,accessToken:r.accessToken,appId:r.appId,appSecret:r.appSecret}})});if(!e.ok){const t=await e.json();throw new Error(t.message||"Failed to create WhatsApp Business API connection")}t(),a({title:"WhatsApp Business API Connected",description:"Your WhatsApp Business API account has been connected successfully!"}),o(),n()}catch(i){console.error("Error connecting to WhatsApp Business API:",i),a({title:"Connection Error",description:i.message||"Failed to connect to WhatsApp Business API",variant:"destructive"})}},children:[vi.jsxs("div",{className:"grid gap-4 py-4",children:[vi.jsxs("div",{className:"grid gap-2",children:[vi.jsx(uB,{htmlFor:"accountName",children:"Account Name"}),vi.jsx(fB,{id:"accountName",name:"accountName",value:r.accountName,onChange:s,placeholder:"e.g. My Business",required:!0}),vi.jsx("p",{className:"text-sm text-gray-500",children:"A name to identify this connection"})]}),vi.jsxs("div",{className:"grid gap-2",children:[vi.jsx(uB,{htmlFor:"phoneNumberId",children:"Phone Number ID"}),vi.jsx(fB,{id:"phoneNumberId",name:"phoneNumberId",value:r.phoneNumberId,onChange:s,placeholder:"1234567890",required:!0}),vi.jsx("p",{className:"text-sm text-gray-500",children:"From Meta for Developers dashboard"})]}),vi.jsxs("div",{className:"grid gap-2",children:[vi.jsx(uB,{htmlFor:"businessAccountId",children:"Business Account ID"}),vi.jsx(fB,{id:"businessAccountId",name:"businessAccountId",value:r.businessAccountId,onChange:s,placeholder:"1234567890",required:!0})]}),vi.jsxs("div",{className:"grid gap-2",children:[vi.jsx(uB,{htmlFor:"accessToken",children:"Access Token"}),vi.jsx(fB,{id:"accessToken",name:"accessToken",value:r.accessToken,onChange:s,placeholder:"EAAxxxxx...",required:!0}),vi.jsx("p",{className:"text-sm text-gray-500",children:"Long-lived or permanent access token"})]}),vi.jsxs("div",{className:"grid gap-2",children:[vi.jsx(uB,{htmlFor:"appId",children:"App ID"}),vi.jsx(fB,{id:"appId",name:"appId",value:r.appId,onChange:s,placeholder:"1234567890",required:!0})]}),vi.jsxs("div",{className:"grid gap-2",children:[vi.jsx(uB,{htmlFor:"appSecret",children:"App Secret"}),vi.jsx(fB,{id:"appSecret",name:"appSecret",type:"password",value:r.appSecret,onChange:s,placeholder:"••••••••",required:!0})]})]}),vi.jsxs(iB,{children:[vi.jsx(tk,{type:"button",variant:"outline",onClick:()=>{o(),t()},children:"Cancel"}),vi.jsx(tk,{type:"submit",variant:"outline",className:"btn-brand-primary",children:"Connect"})]})]})]})})}function bIe({isOpen:e,onClose:t,onSuccess:n}){const{toast:a}=By(),[r,i]=ci.useState(!1),[s,o]=ci.useState({accountName:"",instagramAccountId:"",accessToken:"",appId:"",appSecret:""}),l=e=>{const{name:t,value:n}=e.target;o((e=>({...e,[t]:n})))};return vi.jsx(KF,{open:e,onOpenChange:t,children:vi.jsxs(aB,{className:"sm:max-w-[500px]",children:[vi.jsxs(rB,{children:[vi.jsx(sB,{children:"Connect Instagram Business Account"}),vi.jsx(oB,{children:"Connect your Instagram Business account to receive and send direct messages. You'll need your Meta for Developers credentials."})]}),vi.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),i(!0),!(s.accountName&&s.instagramAccountId&&s.accessToken&&s.appId))return a({title:"Validation Error",description:"Please fill in all required fields.",variant:"destructive"}),void i(!1);try{const e=await fetch("/api/channel-connections",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({channelType:"instagram",accountId:s.instagramAccountId,accountName:s.accountName,accessToken:s.accessToken,connectionData:{instagramAccountId:s.instagramAccountId,appId:s.appId,appSecret:s.appSecret}})});if(!e.ok){const t=await e.json();throw new Error(t.message||"Failed to create Instagram connection")}await e.json();a({title:"Instagram Connected",description:"Your Instagram account has been connected successfully."}),o({accountName:"",instagramAccountId:"",accessToken:"",appId:"",appSecret:""}),n(),t()}catch(r){console.error("Error creating Instagram connection:",r),a({title:"Connection Failed",description:r.message||"Failed to connect Instagram account. Please check your credentials and try again.",variant:"destructive"})}finally{i(!1)}},children:[vi.jsxs("div",{className:"grid gap-4 py-4",children:[vi.jsxs("div",{className:"grid gap-2",children:[vi.jsx(uB,{htmlFor:"accountName",children:"Account Name *"}),vi.jsx(fB,{id:"accountName",name:"accountName",value:s.accountName,onChange:l,placeholder:"e.g. My Instagram Business",required:!0}),vi.jsx("p",{className:"text-sm text-gray-500",children:"A name to identify this connection"})]}),vi.jsxs("div",{className:"grid gap-2",children:[vi.jsx(uB,{htmlFor:"instagramAccountId",children:"Instagram Account ID *"}),vi.jsx(fB,{id:"instagramAccountId",name:"instagramAccountId",value:s.instagramAccountId,onChange:l,placeholder:"1234567890",required:!0}),vi.jsx("p",{className:"text-sm text-gray-500",children:"Your Instagram Business Account ID from Meta for Developers"})]}),vi.jsxs("div",{className:"grid gap-2",children:[vi.jsx(uB,{htmlFor:"accessToken",children:"Page Access Token *"}),vi.jsx(fB,{id:"accessToken",name:"accessToken",type:"password",value:s.accessToken,onChange:l,placeholder:"Your page access token",required:!0}),vi.jsx("p",{className:"text-sm text-gray-500",children:"Long-lived page access token from Meta for Developers"})]}),vi.jsxs("div",{className:"grid gap-2",children:[vi.jsx(uB,{htmlFor:"appId",children:"App ID *"}),vi.jsx(fB,{id:"appId",name:"appId",value:s.appId,onChange:l,placeholder:"Your app ID",required:!0}),vi.jsx("p",{className:"text-sm text-gray-500",children:"Your Meta app ID"})]}),vi.jsxs("div",{className:"grid gap-2",children:[vi.jsx(uB,{htmlFor:"appSecret",children:"App Secret"}),vi.jsx(fB,{id:"appSecret",name:"appSecret",type:"password",value:s.appSecret,onChange:l,placeholder:"Your app secret (optional)"}),vi.jsx("p",{className:"text-sm text-gray-500",children:"Your Meta app secret (optional, for webhook verification)"})]})]}),vi.jsxs(iB,{children:[vi.jsx(tk,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),vi.jsx(tk,{type:"submit",variant:"outline",className:"btn-brand-primary",disabled:r,children:r?"Connecting...":"Connect Instagram"})]})]})]})})}function wIe({isOpen:e,onClose:t,onSuccess:n}){const{toast:a}=By(),[r,i]=ci.useState(!1),[s,o]=ci.useState({accountName:"",pageId:"",accessToken:"",appId:"",appSecret:""}),l=e=>{const{name:t,value:n}=e.target;o((e=>({...e,[t]:n})))};return vi.jsx(KF,{open:e,onOpenChange:t,children:vi.jsxs(aB,{className:"sm:max-w-[500px]",children:[vi.jsxs(rB,{children:[vi.jsx(sB,{children:"Connect Facebook Messenger"}),vi.jsx(oB,{children:"Connect your Facebook page to receive and send messages via Messenger. You'll need your Meta for Developers credentials."})]}),vi.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),i(!0),!(s.accountName&&s.pageId&&s.accessToken&&s.appId))return a({title:"Validation Error",description:"Please fill in all required fields.",variant:"destructive"}),void i(!1);try{const e=await fetch("/api/channel-connections",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({channelType:"messenger",accountId:s.pageId,accountName:s.accountName,accessToken:s.accessToken,connectionData:{pageId:s.pageId,appId:s.appId,appSecret:s.appSecret}})});if(!e.ok){const t=await e.json();throw new Error(t.message||"Failed to create Messenger connection")}await e.json();a({title:"Messenger Connected",description:"Your Facebook page has been connected successfully."}),o({accountName:"",pageId:"",accessToken:"",appId:"",appSecret:""}),n(),t()}catch(r){console.error("Error creating Messenger connection:",r),a({title:"Connection Failed",description:r.message||"Failed to connect Facebook page. Please check your credentials and try again.",variant:"destructive"})}finally{i(!1)}},children:[vi.jsxs("div",{className:"grid gap-4 py-4",children:[vi.jsxs("div",{className:"grid gap-2",children:[vi.jsx(uB,{htmlFor:"accountName",children:"Account Name *"}),vi.jsx(fB,{id:"accountName",name:"accountName",value:s.accountName,onChange:l,placeholder:"e.g. My Facebook Page",required:!0}),vi.jsx("p",{className:"text-sm text-gray-500",children:"A name to identify this connection"})]}),vi.jsxs("div",{className:"grid gap-2",children:[vi.jsx(uB,{htmlFor:"pageId",children:"Facebook Page ID *"}),vi.jsx(fB,{id:"pageId",name:"pageId",value:s.pageId,onChange:l,placeholder:"1234567890",required:!0}),vi.jsx("p",{className:"text-sm text-gray-500",children:"Your Facebook Page ID from Meta for Developers"})]}),vi.jsxs("div",{className:"grid gap-2",children:[vi.jsx(uB,{htmlFor:"accessToken",children:"Page Access Token *"}),vi.jsx(fB,{id:"accessToken",name:"accessToken",type:"password",value:s.accessToken,onChange:l,placeholder:"Your page access token",required:!0}),vi.jsx("p",{className:"text-sm text-gray-500",children:"Long-lived page access token from Meta for Developers"})]}),vi.jsxs("div",{className:"grid gap-2",children:[vi.jsx(uB,{htmlFor:"appId",children:"App ID *"}),vi.jsx(fB,{id:"appId",name:"appId",value:s.appId,onChange:l,placeholder:"Your app ID",required:!0}),vi.jsx("p",{className:"text-sm text-gray-500",children:"Your Meta app ID"})]}),vi.jsxs("div",{className:"grid gap-2",children:[vi.jsx(uB,{htmlFor:"appSecret",children:"App Secret"}),vi.jsx(fB,{id:"appSecret",name:"appSecret",type:"password",value:s.appSecret,onChange:l,placeholder:"Your app secret (optional)"}),vi.jsx("p",{className:"text-sm text-gray-500",children:"Your Meta app secret (optional, for webhook verification)"})]})]}),vi.jsxs(iB,{children:[vi.jsx(tk,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),vi.jsx(tk,{type:"submit",variant:"outline",className:"btn-brand-primary",disabled:r,children:r?"Connecting...":"Connect Messenger"})]})]})]})})}function jIe({isOpen:e,onClose:t,onSuccess:n}){const[a,r]=ci.useState(""),[i,s]=ci.useState(""),[o,l]=ci.useState(""),[c,d]=ci.useState(""),[u,f]=ci.useState(!1),[m,p]=ci.useState("agent"),{toast:h}=By(),g=My({mutationFn:async e=>{const t=await Ey("POST","/api/team/members",e);return await t.json()},onSuccess:()=>{h({title:"Team Member Created",description:`${a} has been added to your team and can log in immediately.`}),x(),t(),Ly.invalidateQueries({queryKey:["/api/team/members"]}),n&&n()},onError:e=>{h({title:"Error",description:`Failed to create team member: ${e.message}`,variant:"destructive"})}}),x=()=>{r(""),s(""),l(""),d(""),p("agent")};return vi.jsx(KF,{open:e,onOpenChange:t,children:vi.jsxs(aB,{className:"sm:max-w-[500px]",children:[vi.jsxs(rB,{children:[vi.jsx(sB,{children:"Add Team Member"}),vi.jsx(oB,{children:"Create a new team member account. They can log in immediately after creation. Permissions can be customized later in the Roles & Permissions section."})]}),vi.jsxs("form",{onSubmit:e=>{if(e.preventDefault(),!a.trim())return void h({title:"Error",description:"Please enter a full name",variant:"destructive"});if(!i.trim())return void h({title:"Error",description:"Please enter a username",variant:"destructive"});if(!o.trim())return void h({title:"Error",description:"Please enter an email address",variant:"destructive"});/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)?!c.trim()||c.length<6?h({title:"Error",description:"Password must be at least 6 characters long",variant:"destructive"}):g.mutate({fullName:a,username:i,email:o,password:c,role:m}):h({title:"Error",description:"Please enter a valid email address",variant:"destructive"})},className:"space-y-4 py-4",children:[vi.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"fullName",children:"Full Name"}),vi.jsx(fB,{id:"fullName",placeholder:"John Doe",value:a,onChange:e=>r(e.target.value),required:!0})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"username",children:"Username"}),vi.jsx(fB,{id:"username",placeholder:"johndoe",value:i,onChange:e=>s(e.target.value),required:!0})]})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"email",children:"Email Address"}),vi.jsx(fB,{id:"email",type:"email",placeholder:"john@company.com",value:o,onChange:e=>l(e.target.value),required:!0})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"password",children:"Password"}),vi.jsxs("div",{className:"relative",children:[vi.jsx(fB,{id:"password",type:u?"text":"password",placeholder:"Minimum 6 characters",value:c,onChange:e=>d(e.target.value),required:!0}),vi.jsx(tk,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>f(!u),children:u?vi.jsx(Qb,{className:"h-4 w-4"}):vi.jsx(Zb,{className:"h-4 w-4"})})]})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"role",children:"Role"}),vi.jsxs(AU,{value:m,onValueChange:p,children:[vi.jsx(PU,{id:"role",children:vi.jsx(DU,{placeholder:"Select a role"})}),vi.jsxs(zU,{children:[vi.jsx(FU,{value:"admin",children:"Administrator"}),vi.jsx(FU,{value:"agent",children:"Agent"})]})]}),vi.jsx("p",{className:"text-xs text-gray-500",children:"admin"===m?"Administrators have full access to all features. Permissions can be customized in Settings → Roles & Permissions.":"Agents have limited access by default. Permissions can be customized in Settings → Roles & Permissions."})]}),vi.jsxs(iB,{className:"mt-6",children:[vi.jsx(tk,{variant:"outline",type:"button",onClick:t,children:"Cancel"}),vi.jsxs(tk,{type:"submit",variant:"brand",disabled:g.isPending,className:"btn-brand-primary",children:[g.isPending&&vi.jsx(uw,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Team Member"]})]})]})]})})}function NIe({isOpen:e,onClose:t,onSuccess:n,teamMember:a}){const[r,i]=ci.useState(""),[s,o]=ci.useState(""),[l,c]=ci.useState(""),[d,u]=ci.useState(!1),[f,m]=ci.useState("agent"),{toast:p}=By();ci.useEffect((()=>{a&&e&&(i(a.fullName),o(a.email),c(""),u(!1),m(a.role))}),[a,e]);const h=My({mutationFn:async e=>{const t=await Ey("PATCH",`/api/team/members/${null==a?void 0:a.id}`,e);return await t.json()},onSuccess:()=>{const e=l.trim().length>0;p({title:"Team Member Updated",description:`${r} has been updated successfully${e?" (including password)":""}. Permissions are managed through Settings > Roles & Permissions.`}),c(""),u(!1),t(),Ly.invalidateQueries({queryKey:["/api/team/members"]}),Ly.invalidateQueries({queryKey:["userPermissions"]}),n&&n()},onError:e=>{p({title:"Error",description:`Failed to update team member: ${e.message}`,variant:"destructive"})}});return a?vi.jsx(KF,{open:e,onOpenChange:t,children:vi.jsxs(aB,{className:"sm:max-w-[500px]",children:[vi.jsxs(rB,{children:[vi.jsx(sB,{children:"Edit Team Member"}),vi.jsxs(oB,{children:["Update team member information. Permissions are managed centrally through Settings ",">"," Roles & Permissions."]})]}),vi.jsxs("form",{onSubmit:e=>{if(e.preventDefault(),!r.trim())return void p({title:"Error",description:"Please enter a full name",variant:"destructive"});if(!s.trim())return void p({title:"Error",description:"Please enter an email address",variant:"destructive"});if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s))return void p({title:"Error",description:"Please enter a valid email address",variant:"destructive"});if(l.trim()&&l.length<6)return void p({title:"Error",description:"Password must be at least 6 characters long",variant:"destructive"});const t={fullName:r,email:s,role:f};l.trim()&&(t.password=l),h.mutate(t)},className:"space-y-4 py-4",children:[vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"edit-fullName",children:"Full Name"}),vi.jsx(fB,{id:"edit-fullName",value:r,onChange:e=>i(e.target.value),required:!0})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"edit-email",children:"Email Address"}),vi.jsx(fB,{id:"edit-email",type:"email",value:s,onChange:e=>o(e.target.value),required:!0})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"edit-password",children:"Password"}),vi.jsxs("div",{className:"relative",children:[vi.jsx(fB,{id:"edit-password",type:d?"text":"password",placeholder:"Leave blank to keep current password",value:l,onChange:e=>c(e.target.value)}),vi.jsx(tk,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>u(!d),children:d?vi.jsx(Qb,{className:"h-4 w-4"}):vi.jsx(Zb,{className:"h-4 w-4"})})]}),vi.jsx("p",{className:"text-xs text-gray-500",children:"Optional: Enter a new password or leave blank to keep the current password. Minimum 6 characters if provided."})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"edit-role",children:"Role"}),vi.jsxs(AU,{value:f,onValueChange:m,children:[vi.jsx(PU,{id:"edit-role",children:vi.jsx(DU,{placeholder:"Select a role"})}),vi.jsxs(zU,{children:[vi.jsx(FU,{value:"admin",children:"Administrator"}),vi.jsx(FU,{value:"agent",children:"Agent"})]})]}),vi.jsx("p",{className:"text-xs text-gray-500",children:"admin"===f?"Administrators inherit full permissions by default. Customize permissions in Settings → Roles & Permissions.":"Agents inherit limited permissions by default. Customize permissions in Settings → Roles & Permissions."})]}),vi.jsxs(iB,{className:"mt-6",children:[vi.jsx(tk,{variant:"outline",type:"button",onClick:t,children:"Cancel"}),vi.jsxs(tk,{type:"submit",variant:"brand",disabled:h.isPending,className:"btn-brand-primary",children:[h.isPending&&vi.jsx(uw,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Team Member"]})]})]})]})}):null}function CIe(){const[e,t]=ci.useState(!1),[n,a]=ci.useState(!1),[r,i]=ci.useState(!1),[s,o]=ci.useState(null),[l,c]=ci.useState(null),[d,u]=ci.useState(null),[f,m]=ci.useState("invitation"),{toast:p}=By(),{data:h=[],isLoading:g}=ky({queryKey:["/api/team/members"],refetchOnWindowFocus:!1}),{data:x=[],isLoading:y}=ky({queryKey:["/api/team/invitations"],refetchOnWindowFocus:!1}),{data:v}=ky({queryKey:["/api/user"],refetchOnWindowFocus:!1}),b=My({mutationFn:async e=>{const t=await Ey("DELETE",`/api/team/invitations/${e}`);return await t.json()},onSuccess:()=>{p({title:"Invitation Canceled",description:"The team invitation has been canceled"}),Ly.invalidateQueries({queryKey:["/api/team/invitations"]})},onError:e=>{p({title:"Error",description:`Failed to cancel invitation: ${e.message}`,variant:"destructive"})}}),w=My({mutationFn:async e=>{const t=await Ey("POST",`/api/team/invitations/${e}/resend`);return await t.json()},onSuccess:(e,t)=>{const n=x.find((e=>e.id===t));p({title:"Invitation Resent",description:n?`Invitation has been resent to ${n.email}`:"Invitation has been resent"})},onError:e=>{p({title:"Error",description:`Failed to resend invitation: ${e.message}`,variant:"destructive"})}}),j=My({mutationFn:async e=>{const t=await Ey("DELETE",`/api/team/members/${e}`);return await t.json()},onSuccess:(e,t)=>{const n=h.find((e=>e.id===t));p({title:"Team Member Removed",description:n?`${n.fullName} has been removed from your team`:"Team member has been removed"}),Ly.invalidateQueries({queryKey:["/api/team/members"]})},onError:e=>{p({title:"Error",description:`Failed to remove team member: ${e.message}`,variant:"destructive"})}}),N=e=>{const t=["bg-primary-100 text-primary-600","bg-blue-100 text-blue-600","bg-green-100 text-green-600","bg-purple-100 text-purple-600","bg-amber-100 text-amber-600","bg-cyan-100 text-cyan-600"];return t[e%t.length]};return vi.jsxs(vi.Fragment,{children:[vi.jsxs("div",{className:"space-y-6",children:[vi.jsxs("div",{className:"flex justify-between items-center",children:[vi.jsxs("h3",{className:"text-lg font-medium",children:["Members (",h.length,"/5)"]}),vi.jsxs(tk,{className:"btn-brand-primary",onClick:()=>t(!0),children:[vi.jsx("i",{className:"ri-user-add-line mr-1  "})," Add Team Member"]})]}),g||y?vi.jsx("div",{className:"flex justify-center py-8",children:vi.jsx(uw,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):vi.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:vi.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[vi.jsx("thead",{className:"bg-gray-50",children:vi.jsxs("tr",{children:[vi.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),vi.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),vi.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),vi.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),vi.jsx("th",{scope:"col",className:"relative px-6 py-3",children:vi.jsx("span",{className:"sr-only",children:"Actions"})})]})}),vi.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[h.map((e=>{return vi.jsxs("tr",{children:[vi.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:vi.jsxs("div",{className:"flex items-center",children:[vi.jsx("div",{className:`flex-shrink-0 h-10 w-10 rounded-full ${N(e.id)} flex items-center justify-center text-sm font-medium`,children:e.avatarUrl?vi.jsx("img",{src:e.avatarUrl,alt:e.fullName,className:"h-10 w-10 rounded-full"}):(t=e.fullName,t.split(" ").map((e=>e[0])).join("").toUpperCase().substring(0,2))}),vi.jsxs("div",{className:"ml-4",children:[vi.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.fullName}),(null==v?void 0:v.id)===e.id&&vi.jsx("div",{className:"text-xs text-gray-500",children:"You"})]})]})}),vi.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.email}),vi.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:vi.jsx(ak,{variant:"admin"===e.role?"secondary":"default",className:"capitalize",children:"admin"===e.role?"Administrator":"Agent"})}),vi.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:vi.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800",children:"Active"})}),vi.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:(null==v?void 0:v.id)!==e.id&&vi.jsxs(_O,{children:[vi.jsx(EO,{asChild:!0,children:vi.jsx(tk,{variant:"ghost",size:"sm",children:vi.jsx(Yb,{className:"h-4 w-4"})})}),vi.jsxs(IO,{align:"end",children:[vi.jsx(AO,{children:"Actions"}),vi.jsx(TO,{}),vi.jsxs(LO,{onClick:()=>(e=>{c(e),a(!0)})(e),children:[vi.jsx(Gw,{className:"h-4 w-4 mr-2"}),"Edit Member"]}),vi.jsxs(LO,{onClick:()=>(e=>{u(e),m("member"),i(!0)})(e),children:[vi.jsx(ij,{className:"h-4 w-4 mr-2 text-red-600"}),vi.jsx("span",{className:"text-red-600",children:"Remove Member"})]})]})]})})]},`member-${e.id}`);var t})),x.filter((e=>"pending"===e.status)).map((e=>vi.jsxs("tr",{children:[vi.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:vi.jsxs("div",{className:"flex items-center",children:[vi.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-gray-100 flex items-center justify-center text-gray-500",children:vi.jsx("i",{className:"ri-user-line text-lg"})}),vi.jsx("div",{className:"ml-4",children:vi.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Pending Invitation"})})]})}),vi.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.email}),vi.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:vi.jsx(ak,{variant:"admin"===e.role?"secondary":"default",className:"capitalize",children:"admin"===e.role?"Administrator":"Agent"})}),vi.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:vi.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-yellow-100 text-yellow-800",children:"Invited"})}),vi.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:vi.jsxs(_O,{children:[vi.jsx(EO,{asChild:!0,children:vi.jsx(tk,{variant:"ghost",size:"sm",children:vi.jsx(Yb,{className:"h-4 w-4"})})}),vi.jsxs(IO,{align:"end",children:[vi.jsx(AO,{children:"Actions"}),vi.jsx(TO,{}),vi.jsxs(LO,{onClick:()=>{return t=e.id,void w.mutate(t);var t},children:[vi.jsx(pw,{className:"h-4 w-4 mr-2"}),"Resend Invitation"]}),vi.jsxs(LO,{onClick:()=>{return t=e.id,o(t),m("invitation"),void i(!0);var t},children:[vi.jsx(aj,{className:"h-4 w-4 mr-2 text-red-600"}),vi.jsx("span",{className:"text-red-600",children:"Cancel Invitation"})]})]})]})})]},`invite-${e.id}`))),0===h.length&&0===x.filter((e=>"pending"===e.status)).length&&vi.jsx("tr",{children:vi.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-sm text-gray-500",children:"No team members found. Invite members to join your team."})})]})]})})]}),vi.jsx(jIe,{isOpen:e,onClose:()=>t(!1)}),vi.jsx(NIe,{isOpen:n,onClose:()=>{a(!1),c(null)},teamMember:l}),vi.jsx(_9,{open:r,onOpenChange:i,children:vi.jsxs(A9,{children:[vi.jsxs(T9,{children:[vi.jsx(P9,{children:vi.jsxs("div",{className:"flex items-center text-red-600",children:[vi.jsx(Jw,{className:"h-5 w-5 mr-2"}),"member"===f?"Remove Team Member":"Cancel Invitation"]})}),vi.jsx(O9,{children:"member"===f&&d?vi.jsxs(vi.Fragment,{children:["Are you sure you want to remove ",vi.jsx("strong",{children:d.fullName})," from your team? This action cannot be undone."]}):"Are you sure you want to cancel this invitation? This action cannot be undone."})]}),vi.jsxs(D9,{children:[vi.jsx(z9,{children:"Cancel"}),vi.jsxs(R9,{onClick:()=>{"invitation"===f&&s?(b.mutate(s),i(!1),o(null)):"member"===f&&d&&(j.mutate(d.id),i(!1),u(null))},className:"bg-red-600 hover:bg-red-700",children:[("member"===f?j.isPending:b.isPending)&&vi.jsx(uw,{className:"mr-2 h-4 w-4 animate-spin"}),"member"===f?"Remove Member":"Cancel Invitation"]})]})]})})]})}const SIe={conversations:{title:"Conversation Management",permissions:{view_all_conversations:"View All Conversations",view_assigned_conversations:"View Assigned Conversations",assign_conversations:"Assign Conversations",manage_conversations:"Manage Conversations"}},contacts:{title:"Contact Management",permissions:{view_contacts:"View Contacts",manage_contacts:"Manage Contacts"}},campaigns:{title:"Campaign Management",permissions:{view_campaigns:"View Campaigns",create_campaigns:"Create Campaigns",edit_campaigns:"Edit Campaigns",delete_campaigns:"Delete Campaigns",manage_templates:"Manage Templates",manage_segments:"Manage Segments",view_campaign_analytics:"View Campaign Analytics",manage_whatsapp_accounts:"Manage WhatsApp Accounts"}},pipeline:{title:"Pipeline Management",permissions:{view_pipeline:"View Pipeline",manage_pipeline:"Manage Pipeline",create_deals:"Create Deals",edit_deals:"Edit Deals",delete_deals:"Delete Deals",manage_pipeline_stages:"Manage Pipeline Stages"}},channels:{title:"Channel Management",permissions:{view_channels:"View Channels",manage_channels:"Manage Channels",configure_channels:"Configure Channels"}},flows:{title:"Flow Management",permissions:{view_flows:"View Flows",manage_flows:"Manage Flows"}},analytics:{title:"Analytics",permissions:{view_analytics:"View Analytics",view_detailed_analytics:"View Detailed Analytics"}},team:{title:"Team Management",permissions:{view_team:"View Team",manage_team:"Manage Team"}},settings:{title:"Settings",permissions:{view_settings:"View Settings",manage_settings:"Manage Settings"}},calendar:{title:"Calendar",permissions:{view_calendar:"View Calendar",manage_calendar:"Manage Calendar"}}};function kIe(){const[e,t]=ci.useState(!1),[n,a]=ci.useState(null),[r,i]=ci.useState({}),{toast:s}=By(),{data:o=[],isLoading:l,refetch:c}=ky({queryKey:["/api/role-permissions"],refetchOnWindowFocus:!1}),d=My({mutationFn:async e=>{const t=await Ey("PUT",`/api/role-permissions/${e.role}`,{permissions:e.permissions});return await t.json()},onSuccess:(e,n)=>{s({title:"Permissions Updated",description:("admin"===n.role?"Administrator":"Agent")+" permissions have been updated successfully."}),t(!1),c(),Ly.invalidateQueries({queryKey:["userPermissions"]})},onError:e=>{s({title:"Error",description:`Failed to update permissions: ${e.message}`,variant:"destructive"})}}),u=e=>{const n=o.find((t=>t.role===e));a(e),i((null==n?void 0:n.permissions)||{}),t(!0)},f=e=>o.find((t=>t.role===e));return l?vi.jsx("div",{className:"flex justify-center py-8",children:vi.jsx(uw,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):vi.jsxs("div",{className:"space-y-6",children:[vi.jsx("div",{className:"flex justify-between items-center",children:vi.jsx("h3",{className:"text-lg font-medium",children:"Roles & Permissions"})}),vi.jsxs("div",{className:"space-y-4",children:[vi.jsxs(qS,{className:"overflow-hidden",children:[vi.jsx(QS,{children:vi.jsxs("div",{className:"flex justify-between items-start",children:[vi.jsxs("div",{children:[vi.jsx(ZS,{className:"text-lg",children:"Administrator"}),vi.jsx("p",{className:"text-sm text-gray-500",children:"Full access to all features and settings"})]}),vi.jsx(tk,{variant:"outline",onClick:()=>u("admin"),children:"Edit Permissions"})]})}),vi.jsx(KS,{children:vi.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:Object.entries(SIe).map((([e,t])=>{const n=f("admin"),a=Object.keys(t.permissions).some((e=>null==n?void 0:n.permissions[e]));return vi.jsxs("div",{className:"flex items-center p-3 rounded-md border "+(a?"bg-green-50":"bg-red-50"),children:[a?vi.jsx(Ob,{className:"h-4 w-4 text-green-600 mr-2"}):vi.jsx(Fb,{className:"h-4 w-4 text-red-600 mr-2"}),vi.jsx("span",{className:"text-sm "+(a?"text-green-800":"text-red-800"),children:t.title})]},`admin-${e}`)}))})})]}),vi.jsxs(qS,{className:"overflow-hidden",children:[vi.jsx(QS,{children:vi.jsxs("div",{className:"flex justify-between items-start",children:[vi.jsxs("div",{children:[vi.jsx(ZS,{className:"text-lg",children:"Agent"}),vi.jsx("p",{className:"text-sm text-gray-500",children:"Limited access to core features"})]}),vi.jsx(tk,{variant:"outline",onClick:()=>u("agent"),children:"Edit Permissions"})]})}),vi.jsx(KS,{children:vi.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:Object.entries(SIe).map((([e,t])=>{const n=f("agent"),a=Object.keys(t.permissions).some((e=>null==n?void 0:n.permissions[e]));return vi.jsxs("div",{className:"flex items-center p-3 rounded-md border "+(a?"bg-green-50":"bg-red-50"),children:[a?vi.jsx(Ob,{className:"h-4 w-4 text-green-600 mr-2"}):vi.jsx(Fb,{className:"h-4 w-4 text-red-600 mr-2"}),vi.jsx("span",{className:"text-sm "+(a?"text-green-800":"text-red-800"),children:t.title})]},`agent-${e}`)}))})})]})]}),vi.jsx(KF,{open:e,onOpenChange:t,children:vi.jsxs(aB,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[vi.jsxs(rB,{children:[vi.jsxs(sB,{children:["Edit ","admin"===n?"Administrator":"Agent"," Permissions"]}),vi.jsxs(oB,{children:["Configure permissions for the ","admin"===n?"Administrator":"Agent"," role. Changes will apply to all users with this role."]})]}),vi.jsx("div",{className:"py-4",children:vi.jsxs(lMe,{defaultValue:Object.keys(SIe)[0],className:"w-full",children:[vi.jsx(cMe,{className:"grid w-full grid-cols-5",children:Object.entries(SIe).slice(0,5).map((([e,t])=>vi.jsx(dMe,{value:e,className:"text-xs",children:t.title.split(" ")[0]},e)))}),vi.jsx(cMe,{className:"grid w-full grid-cols-5 mt-2",children:Object.entries(SIe).slice(5).map((([e,t])=>vi.jsx(dMe,{value:e,className:"text-xs",children:t.title.split(" ")[0]},e)))}),Object.entries(SIe).map((([e,t])=>vi.jsx(uMe,{value:e,className:"space-y-4",children:vi.jsxs(qS,{children:[vi.jsx(QS,{children:vi.jsx(ZS,{className:"text-lg",children:t.title})}),vi.jsx(KS,{children:vi.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(t.permissions).map((([e,t])=>vi.jsxs("div",{className:"flex items-center space-x-2",children:[vi.jsx(t8,{id:`edit-${e}`,checked:r[e]||!1,onCheckedChange:t=>((e,t)=>{i((n=>({...n,[e]:t})))})(e,!!t)}),vi.jsx(uB,{htmlFor:`edit-${e}`,className:"text-sm font-normal cursor-pointer",children:t})]},e)))})})]})},e)))]})}),vi.jsxs(iB,{className:"mt-6",children:[vi.jsx(tk,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),vi.jsxs(tk,{onClick:()=>{n&&d.mutate({role:n,permissions:r})},disabled:d.isPending,className:"btn-brand-primary",children:[d.isPending&&vi.jsx(uw,{className:"mr-2 h-4 w-4 animate-spin"}),vi.jsx(Dw,{className:"mr-2 h-4 w-4"}),"Save Permissions"]})]})]})})]})}function MIe(){const[e,t]=ci.useState({host:"",port:587,secure:!1,auth:{user:"",pass:""},senderEmail:"",senderName:""}),[n,a]=ci.useState(""),[r,i]=ci.useState(!1),{toast:s}=By(),{data:o,isLoading:l}=ky({queryKey:["/api/smtp-config"],refetchOnWindowFocus:!1});ci.useEffect((()=>{o&&t(o)}),[o]);const c=My({mutationFn:async e=>{const t=await Ey("POST","/api/smtp-config",e);return await t.json()},onSuccess:()=>{s({title:"SMTP Configuration Saved",description:"Your email settings have been updated successfully"}),Ly.invalidateQueries({queryKey:["/api/smtp-config"]})},onError:e=>{s({title:"Error",description:`Failed to update SMTP configuration: ${e.message}`,variant:"destructive"})}}),d=My({mutationFn:async({config:e,testEmail:t})=>{const n=await Ey("POST","/api/smtp-config/test",{config:e,testEmail:t});return await n.json()},onSuccess:()=>{s({title:"Test Email Sent",description:"A test email has been sent successfully"})},onError:e=>{s({title:"Error",description:`Failed to send test email: ${e.message}`,variant:"destructive"})}}),u=n=>{const{name:a,value:r}=n.target;if(a.includes(".")){const[n,i]=a.split(".");t({...e,[n]:{...e[n],[i]:r}})}else t("port"===a?{...e,[a]:parseInt(r)||0}:{...e,[a]:r})};return l?vi.jsx("div",{className:"flex justify-center py-8",children:vi.jsx(uw,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):vi.jsxs("div",{className:"space-y-6",children:[vi.jsxs("div",{children:[vi.jsx("h3",{className:"text-lg font-medium mb-2",children:"SMTP Server Configuration"}),vi.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Configure your email server settings to enable sending verification emails, notifications, and other communications."})]}),vi.jsxs(QO,{children:[vi.jsx(Tb,{className:"h-4 w-4"}),vi.jsx(ZO,{children:"Important"}),vi.jsx(JO,{children:"Email functionality is required for team member invitations and password reset features."})]}),vi.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[vi.jsxs("div",{className:"space-y-4",children:[vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"host",children:"SMTP Host"}),vi.jsx(fB,{id:"host",name:"host",value:e.host,onChange:u,placeholder:"smtp.example.com"})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"port",children:"SMTP Port"}),vi.jsx(fB,{id:"port",name:"port",type:"number",value:e.port.toString(),onChange:u,placeholder:"587"})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsxs("div",{className:"flex justify-between items-center",children:[vi.jsx(uB,{htmlFor:"secure",children:"Use Secure Connection (SSL/TLS)"}),vi.jsx(f4,{id:"secure",checked:e.secure,onCheckedChange:n=>{t({...e,secure:n,port:n?465:587})}})]}),vi.jsx("p",{className:"text-xs text-gray-500",children:"Enable for SSL/TLS connections. Usually port 465 for SSL and port 587 for TLS."})]})]}),vi.jsxs("div",{className:"space-y-4",children:[vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"auth.user",children:"SMTP Username"}),vi.jsx(fB,{id:"auth.user",name:"auth.user",value:e.auth.user,onChange:u,placeholder:"username@example.com"})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"auth.pass",children:"SMTP Password"}),vi.jsxs("div",{className:"relative",children:[vi.jsx(fB,{id:"auth.pass",name:"auth.pass",type:r?"text":"password",value:e.auth.pass,onChange:u,placeholder:"••••••••"}),vi.jsx(tk,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 transform -translate-y-1/2 btn-brand-primary",onClick:()=>i(!r),children:r?"Hide":"Show"})]})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"senderEmail",children:"Sender Email Address"}),vi.jsx(fB,{id:"senderEmail",name:"senderEmail",value:e.senderEmail,onChange:u,placeholder:"no-reply@yourcompany.com"})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"senderName",children:"Sender Name"}),vi.jsx(fB,{id:"senderName",name:"senderName",value:e.senderName,onChange:u,placeholder:"Your Company Name"})]})]})]}),vi.jsxs("div",{className:"border-t pt-6 space-y-4",children:[vi.jsx("h4",{className:"font-medium",children:"Test Email Configuration"}),vi.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[vi.jsx("div",{className:"md:col-span-2",children:vi.jsx(fB,{value:n,onChange:e=>a(e.target.value),placeholder:"Enter an email address to receive a test message"})}),vi.jsxs(tk,{onClick:()=>{n?e.host&&e.auth.user&&e.auth.pass&&e.senderEmail?d.mutate({config:e,testEmail:n}):s({title:"Validation Error",description:"Please complete all required SMTP configuration fields first",variant:"destructive"}):s({title:"Validation Error",description:"Please enter an email address to send the test email to",variant:"destructive"})},disabled:d.isPending,className:"w-full btn-brand-primary",children:[d.isPending&&vi.jsx(uw,{className:"mr-2 h-4 w-4 animate-spin"}),"Send Test Email"]})]})]}),vi.jsxs("div",{className:"flex justify-end space-x-2",children:[vi.jsx(tk,{variant:"brand",children:"Cancel"}),vi.jsxs(tk,{className:"btn-brand-primary",onClick:()=>{e.host?e.auth.user&&e.auth.pass?e.senderEmail?c.mutate(e):s({title:"Validation Error",description:"Sender email address is required",variant:"destructive"}):s({title:"Validation Error",description:"SMTP username and password are required",variant:"destructive"}):s({title:"Validation Error",description:"SMTP host is required",variant:"destructive"})},disabled:c.isPending,children:[c.isPending&&vi.jsx(uw,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Configuration"]})]})]})}function _Ie(){var e,t,n;const[a,r]=ci.useState(""),[i,s]=ci.useState(!1),[o,l]=ci.useState(!1),[c,d]=ci.useState(!1),[u,f]=ci.useState(!1),[m,p]=ci.useState(!1),[h,g]=ci.useState(!1),[x,y]=ci.useState(!1),[v,b]=ci.useState(null),[w,j]=ci.useState(!1),{toast:N}=By(),{plans:C,isLoading:S}=function(){const{data:e,isLoading:t,error:n}=ky({queryKey:["/api/plans"],queryFn:async()=>{const e=await Ey("GET","/api/plans");if(!e.ok)throw new Error("Failed to fetch plans");return e.json()}});return{plans:e||[],isLoading:t,error:n}}(),{paymentMethods:k}=function(){const{data:e,isLoading:t,error:n}=ky({queryKey:["/api/payment/methods"],queryFn:async()=>{const e=await Ey("GET","/api/payment/methods");if(!e.ok)throw new Error("Failed to fetch payment methods");return e.json()}});return{paymentMethods:e||[],isLoading:t,error:n}}(),M=rIe({defaultValues:{clientId:"",clientSecret:"",redirectUri:window.location.origin+"/api/google/callback"}}),{data:_}=ky({queryKey:["/api/user"],refetchOnWindowFocus:!1}),{data:E=[],refetch:I}=ky({queryKey:["/api/channel-connections"],refetchOnWindowFocus:!1}),{data:L,refetch:A}=ky({queryKey:["/api/google/calendar/status"],refetchOnWindowFocus:!1}),{data:T,refetch:D}=ky({queryKey:["/api/google/credentials"],refetchOnWindowFocus:!1,enabled:"admin"===(null==_?void 0:_.role)||"super_admin"===(null==_?void 0:_.role)});ci.useEffect((()=>{T&&M.reset({clientId:T.clientId||"",clientSecret:"",redirectUri:T.redirectUri||window.location.origin+"/api/google/callback"})}),[T,M]);const{data:P}=ky({queryKey:["/api/google/auth"],refetchOnWindowFocus:!1,enabled:!0===(null==T?void 0:T.configured)}),O=My({mutationFn:async()=>{const e=await Ey("POST","/api/google/calendar/disconnect");return await e.json()},onSuccess:()=>{N({title:"Google Calendar Disconnected",description:"Your Google Calendar account has been disconnected successfully."}),A()},onError:e=>{N({title:"Error",description:`Failed to disconnect Google Calendar: ${e.message}`,variant:"destructive"})}}),R=My({mutationFn:async e=>{const t=await Ey("POST","/api/google/credentials",e);return await t.json()},onSuccess:()=>{N({title:"Google Calendar Credentials Updated",description:"Your Google OAuth credentials have been updated successfully."}),l(!1),D(),O.mutate()},onError:e=>{N({title:"Error",description:`Failed to update Google Calendar credentials: ${e.message}`,variant:"destructive"})}}),[z,F]=ci.useState([]);ci.useEffect((()=>{F(E)}),[E]);const B=()=>{I(),Ly.invalidateQueries({queryKey:["/api/channel-connections"]})},U=e=>{b(e),j(!0)},[W,G]=ci.useState(!1),[V,$]=ci.useState(null),[H,Y]=ci.useState(null),[q,Q]=ci.useState(""),[Z,J]=ci.useState(0),[K,X]=ci.useState(!0),[ee,te]=ci.useState(30),[ne,ae]=ci.useState(!1),[re,ie]=ci.useState(!1),[se,oe]=ci.useState(null),[le,ce]=ci.useState("");ci.useEffect((()=>{const e="https:"===window.location.protocol?"wss:":"ws:",t=new WebSocket(`${e}//${window.location.host}/ws`);let n=0;const a={current:t},r=()=>{n<5?(n++,console.log(`Attempting to reconnect WebSocket (attempt ${n})...`),a.current.readyState===WebSocket.OPEN&&a.current.close(),setTimeout((()=>{console.log("Creating new WebSocket connection...");const t=new WebSocket(`${e}//${window.location.host}/ws`);t.onopen=()=>{console.log("WebSocket reconnected successfully"),n=0,(null==_?void 0:_.id)&&t.send(JSON.stringify({type:"authenticate",userId:_.id}))},t.onmessage=e=>{try{const t=JSON.parse(e.data);"whatsappQrCode"===t.type&&t.connectionId===V?(Y(t.qrCode),Q("qr_code")):"whatsappConnectionStatus"===t.type&&t.connectionId===V?(console.log(`WhatsApp connection status updated: ${t.status}`),Q(t.status),"connected"===t.status&&(N({title:"WhatsApp Connected",description:"Your WhatsApp account has been connected successfully!"}),I(),Ly.invalidateQueries({queryKey:["/api/channel-connections"]}),setTimeout((()=>{G(!1),Y(null)}),2e3))):"whatsappConnectionError"===t.type&&t.connectionId===V&&(console.error("WhatsApp connection error:",t.error),Q("error"),N({title:"Connection Error",description:t.error,variant:"destructive"}))}catch(t){console.error("Error parsing WebSocket message:",t)}},t.onerror=e=>{console.error("WebSocket error:",e)},t.onclose=()=>{console.log("WebSocket disconnected"),setTimeout(r,2e3)},a.current=t}),2e3)):(console.error("Max reconnection attempts reached"),setTimeout((()=>{n=0}),6e4))};return t.onopen=()=>{console.log("WebSocket connected"),n=0,(null==_?void 0:_.id)&&t.send(JSON.stringify({type:"authenticate",userId:_.id}))},t.onmessage=e=>{try{const t=JSON.parse(e.data);if("whatsappQrCode"===t.type&&t.connectionId===V){if(!ne){Y(t.qrCode),Q("qr_code"),J(Date.now()),X(!0),te(30);const e=setInterval((()=>{te((t=>t<=1?(clearInterval(e),X(!1),0):t-1))}),1e3);return()=>clearInterval(e)}}else"whatsappConnectionStatus"===t.type&&t.connectionId===V?(console.log(`WhatsApp connection status updated: ${t.status}`),Q(t.status),"connected"===t.status&&(N({title:"WhatsApp Connected",description:"Your WhatsApp account has been connected successfully!"}),I(),Ly.invalidateQueries({queryKey:["/api/channel-connections"]}),setTimeout((()=>{G(!1),Y(null)}),2e3))):"whatsappConnectionError"===t.type&&t.connectionId===V&&(console.error("WhatsApp connection error:",t.error),Q("error"),N({title:"Connection Error",description:t.error,variant:"destructive"}))}catch(t){console.error("Error parsing WebSocket message:",t)}},t.onerror=e=>{console.error("WebSocket error:",e)},t.onclose=()=>{console.log("WebSocket disconnected"),r()},()=>{a.current&&a.current.readyState===WebSocket.OPEN&&(console.log("Closing WebSocket connection on cleanup"),a.current.close())}}),[null==_?void 0:_.id,V,I]);const de=async e=>{try{if("WhatsApp Unofficial"===e){const e=await fetch("/api/channel-connections",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({channelType:"whatsapp_unofficial",accountId:`whatsapp-${Date.now()}`,accountName:"WhatsApp Personal",connectionData:{}})});if(!e.ok)throw new Error("Failed to create WhatsApp connection");const t=await e.json();$(t.id),Q("connecting"),G(!0),N({title:"WhatsApp Connection Initiated",description:"Preparing QR code for WhatsApp authentication..."})}else"WhatsApp Business API"===e?d(!0):"WhatsApp Business Embedded"===e?f(!0):"Instagram"===e?p(!0):"Messenger"===e?g(!0):N({title:"Channel Connection Initiated",description:`Starting connection flow for ${e}`})}catch(t){console.error("Error connecting to channel:",t),N({title:"Connection Error",description:t.message||"Failed to connect to channel",variant:"destructive"})}};return vi.jsxs("div",{className:"h-screen flex flex-col overflow-hidden font-sans text-gray-800",children:[vi.jsx(KF,{open:re,onOpenChange:ie,children:vi.jsxs(aB,{className:"w-[95vw] max-w-md mx-auto",children:[vi.jsxs(rB,{children:[vi.jsx(sB,{className:"text-lg sm:text-xl",children:"Rename Channel"}),vi.jsx(oB,{className:"text-sm",children:"Enter a new name for this channel connection to help identify it better in your sidebar and conversations."})]}),vi.jsxs("div",{className:"py-4",children:[vi.jsx(uB,{htmlFor:"channelName",className:"mb-2 block text-sm",children:"Channel Name"}),vi.jsx(fB,{id:"channelName",value:le,onChange:e=>ce(e.target.value),placeholder:"Enter new channel name",className:"w-full"})]}),vi.jsxs(iB,{className:"flex flex-col sm:flex-row gap-2 sm:gap-0 sm:justify-between",children:[vi.jsx(tk,{type:"button",variant:"outline",onClick:()=>{ie(!1),oe(null),ce("")},className:"w-full sm:w-auto",children:"Cancel"}),vi.jsx(tk,{type:"button",variant:"brand",className:"btn-brand-primary w-full sm:w-auto",onClick:async()=>{if(se&&le.trim())try{if(!(await fetch(`/api/channel-connections/${se}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({accountName:le.trim()})})).ok)throw new Error("Failed to rename channel connection");I(),Ly.invalidateQueries({queryKey:["/api/channel-connections"]}),ie(!1),oe(null),ce(""),N({title:"Channel Renamed",description:"The channel has been renamed successfully"})}catch(e){console.error("Error renaming channel:",e),N({title:"Error",description:e.message||"Failed to rename channel",variant:"destructive"})}else N({title:"Validation Error",description:"Channel name cannot be empty",variant:"destructive"})},disabled:!le.trim(),children:"Save"})]})]})}),vi.jsx(KF,{open:o,onOpenChange:l,children:vi.jsxs(aB,{className:"w-[95vw] max-w-lg mx-auto max-h-[90vh] overflow-y-auto",children:[vi.jsxs(rB,{children:[vi.jsxs(sB,{className:"text-lg sm:text-xl",children:[(null==T?void 0:T.configured)?"Update":"Configure"," Google Calendar API Credentials"]}),vi.jsx(oB,{className:"text-sm",children:"Enter your company's Google Cloud OAuth credentials to enable Google Calendar integration. These credentials will be used for all users in your company."})]}),vi.jsx("div",{className:"py-4",children:vi.jsx(iIe,{...M,children:vi.jsxs("form",{onSubmit:M.handleSubmit((e=>{y(!0),R.mutate(e,{onSettled:()=>{y(!1)}})})),className:"space-y-4",children:[vi.jsx(oIe,{control:M.control,name:"clientId",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:"Client ID"}),vi.jsx(fIe,{children:vi.jsx(fB,{...e,placeholder:"Your Google OAuth Client ID",required:!0})}),vi.jsx(pIe,{}),vi.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Client ID from Google Cloud Console OAuth credentials"})]})}),vi.jsx(oIe,{control:M.control,name:"clientSecret",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:"Client Secret"}),vi.jsx(fIe,{children:vi.jsx(fB,{...e,type:"password",placeholder:"Your Google OAuth Client Secret",required:!0})}),vi.jsx(pIe,{}),vi.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Client Secret from Google Cloud Console OAuth credentials"})]})}),vi.jsx(oIe,{control:M.control,name:"redirectUri",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:"Redirect URI"}),vi.jsx(fIe,{children:vi.jsx(fB,{...e,placeholder:"https://your-app-url.com/api/google/callback",required:!0})}),vi.jsx(pIe,{}),vi.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This should match the authorized redirect URI in your Google Cloud Console"})]})}),vi.jsxs("div",{className:"pt-2 border-t border-gray-100",children:[vi.jsxs(QO,{className:"mb-4 bg-amber-50 border-amber-200",children:[vi.jsx(Jw,{className:"h-4 w-4"}),vi.jsx(ZO,{children:"Important"}),vi.jsx(JO,{className:"text-xs",children:"After updating these credentials, you will need to reconnect your Google account. All previous Google Calendar connections will be invalidated."})]}),vi.jsxs(iB,{className:"flex flex-col sm:flex-row gap-2 sm:gap-0 sm:justify-between mt-4",children:[vi.jsx(tk,{type:"button",variant:"outline",onClick:()=>{l(!1),M.reset()},className:"w-full sm:w-auto",children:"Cancel"}),vi.jsxs(tk,{variant:"brand",type:"submit",disabled:x,className:"w-full sm:w-auto",children:[x&&vi.jsx(uw,{className:"mr-2 h-4 w-4 animate-spin"}),x?"Saving...":(null==T?void 0:T.configured)?"Update Credentials":"Save Credentials"]})]})]})]})})})]})}),vi.jsx(WO,{}),vi.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[vi.jsx(XO,{}),vi.jsxs("div",{className:"flex-1 overflow-y-auto p-3 sm:p-6",children:[vi.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6 gap-4",children:vi.jsxs("div",{children:[vi.jsx("h1",{className:"text-2xl",children:"Settings"}),vi.jsx("p",{className:"text-muted-foreground text-sm sm:text-base mt-1",children:"Manage your account, channels, integrations, and team settings"})]})}),vi.jsx(KF,{open:W,onOpenChange:G,children:vi.jsxs(aB,{className:"w-[95vw] max-w-[330px] sm:max-w-md md:max-w-md rounded-lg",children:[vi.jsxs(rB,{children:[vi.jsx(sB,{children:"Connect to WhatsApp"}),vi.jsx(oB,{children:"Scan this QR code with your WhatsApp app to connect your account"})]}),vi.jsxs("div",{className:"flex justify-center items-center py-4",children:["connecting"===q&&vi.jsxs("div",{className:"text-center py-8",children:[vi.jsx(uw,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),vi.jsx("p",{children:"Preparing WhatsApp connection..."})]}),"qr_code"===q&&H&&vi.jsxs("div",{className:"text-center py-4",children:[vi.jsxs("div",{className:`border-8 ${ne?"border-green-400 relative animate-pulse":"border-white"} inline-block rounded-lg shadow-md`,children:[ne&&vi.jsx("div",{className:"absolute -top-3 -right-3 bg-green-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"Scanning..."}),vi.jsxs("div",{className:"w-full max-w-[256px] mx-auto",onMouseEnter:()=>ae(!0),onMouseLeave:()=>ae(!1),onTouchStart:()=>ae(!0),onTouchEnd:()=>setTimeout((()=>ae(!1)),5e3),children:[vi.jsx("div",{className:"block sm:hidden",children:vi.jsx(OMe,{value:H,size:180})}),vi.jsx("div",{className:"hidden sm:block md:hidden",children:vi.jsx(OMe,{value:H,size:220})}),vi.jsx("div",{className:"hidden md:block",children:vi.jsx(OMe,{value:H,size:256})})]})]}),vi.jsxs("p",{className:"mt-4 text-sm text-gray-500 px-2",children:["1. Open WhatsApp on your phone",vi.jsx("br",{}),"2. Tap Menu or Settings and select WhatsApp Web",vi.jsx("br",{}),"3. Point your phone to this screen to scan the code",vi.jsx("br",{}),vi.jsxs("span",{className:"text-xs mt-2 block text-blue-500",children:["Once you start scanning, the QR code will not refresh automatically.",ne&&vi.jsx("span",{className:"text-green-500 ",children:" QR code is locked while scanning!"})]})]})]}),"connected"===q&&vi.jsxs("div",{className:"text-center py-8 text-green-600",children:[vi.jsx("svg",{className:"h-16 w-16 mx-auto mb-4",fill:"currentColor",viewBox:"0 0 20 20",children:vi.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),vi.jsx("p",{className:"text-lg font-medium",children:"Connected Successfully!"})]}),"error"===q&&vi.jsxs("div",{className:"text-center py-8 text-red-600",children:[vi.jsx("svg",{className:"h-16 w-16 mx-auto mb-4",fill:"currentColor",viewBox:"0 0 20 20",children:vi.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),vi.jsx("p",{className:"text-lg font-medium",children:"Connection Failed"}),vi.jsx("p",{className:"mt-1 text-sm",children:"There was an error connecting to WhatsApp. Please try again."})]})]}),vi.jsxs(iB,{className:"flex flex-col sm:flex-row gap-2 sm:gap-0 sm:justify-between",children:[vi.jsx(tk,{type:"button",variant:"outline",onClick:()=>{G(!1),V&&"connected"!==q&&fetch(`/api/whatsapp/disconnect/${V}`,{method:"POST"}).then((()=>{I(),Ly.invalidateQueries({queryKey:["/api/channel-connections"]})})).catch((e=>console.error("Error disconnecting WhatsApp:",e)))},className:"w-full sm:w-auto",children:"Cancel"}),"qr_code"===q&&vi.jsxs(tk,{type:"button",variant:"brand",disabled:K||ne,onClick:()=>{K||ne||(Q("connecting"),Y(null),X(!0),setTimeout((()=>{de("WhatsApp Unofficial")}),500))},className:"w-full sm:w-auto text-sm",children:[vi.jsx(Lw,{className:"h-4 w-4 mr-2 "+(K?"animate-spin":"")}),vi.jsx("span",{className:"hidden sm:inline",children:ne?"Scanning in progress...":K?`Wait ${ee}s...`:"Refresh QR Code"}),vi.jsx("span",{className:"sm:hidden",children:ne?"Scanning...":K?`Wait ${ee}s`:"Refresh"})]}),"error"===q&&vi.jsx(tk,{type:"button",onClick:()=>de("WhatsApp Unofficial"),className:"w-full sm:w-auto",children:"Try Again"})]})]})}),vi.jsx(vIe,{isOpen:c,onClose:()=>d(!1),onSuccess:B}),vi.jsx(yIe,{isOpen:u,onClose:()=>f(!1),onSuccess:B}),vi.jsx(bIe,{isOpen:m,onClose:()=>p(!1),onSuccess:B}),vi.jsx(wIe,{isOpen:h,onClose:()=>g(!1),onSuccess:B}),vi.jsxs(lMe,{defaultValue:"channels",children:[vi.jsx("div",{className:"overflow-x-auto mb-6",children:vi.jsxs(cMe,{className:"grid w-full grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-1",children:[vi.jsxs(dMe,{value:"channels",className:"text-xs sm:text-sm",children:[vi.jsx("span",{className:"hidden sm:inline",children:"Channel Connections"}),vi.jsx("span",{className:"sm:hidden",children:"Channels"})]}),vi.jsxs(dMe,{value:"integrations",className:"text-xs sm:text-sm",children:[vi.jsx("span",{className:"hidden sm:inline",children:"Integrations"}),vi.jsx("span",{className:"sm:hidden",children:"Integrations"})]}),vi.jsxs(dMe,{value:"smtp",className:"text-xs sm:text-sm",children:[vi.jsx("span",{className:"hidden sm:inline",children:"Email"}),vi.jsx("span",{className:"sm:hidden",children:"Email"})]}),vi.jsxs(dMe,{value:"billing",className:"text-xs sm:text-sm",children:[vi.jsx("span",{className:"hidden sm:inline",children:"Billing"}),vi.jsx("span",{className:"sm:hidden",children:"Billing"})]}),vi.jsxs(dMe,{value:"team",className:"text-xs sm:text-sm",children:[vi.jsx("span",{className:"hidden sm:inline",children:"Team Members"}),vi.jsx("span",{className:"sm:hidden",children:"Team"})]})]})}),vi.jsx(uMe,{value:"channels",children:vi.jsxs(qS,{children:[vi.jsxs(QS,{children:[vi.jsx(ZS,{children:"Channel Connections"}),vi.jsx(JS,{children:"Connect and manage your communication channels"})]}),vi.jsx(KS,{children:vi.jsxs("div",{className:"space-y-6",children:[vi.jsxs("div",{children:[vi.jsx("h3",{className:"text-base sm:text-lg font-medium mb-4",children:"Connected Channels"}),vi.jsx("div",{className:"space-y-4",children:z.map((e=>{const t=(e=>{switch(e){case"whatsapp_official":return{icon:"ri-whatsapp-line",color:"#25D366",name:"WhatsApp Business API"};case"whatsapp_unofficial":return{icon:"ri-whatsapp-line",color:"#F59E0B",name:"WhatsApp (Unofficial)"};case"messenger":return{icon:"ri-messenger-line",color:"#1877F2",name:"Facebook Messenger"};case"instagram":return{icon:"ri-instagram-line",color:"#E4405F",name:"Instagram"};default:return{icon:"ri-chat-1-line",color:"#333235",name:"Chat"}}})(e.channelType);return vi.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 sm:p-4",children:[vi.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[vi.jsxs("div",{className:"flex items-center",children:[vi.jsx("i",{className:t.icon+" text-xl sm:text-2xl mr-3",style:{color:t.color}}),vi.jsxs("div",{children:[vi.jsx("h4",{className:"font-medium text-sm sm:text-base",children:e.accountName}),vi.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:t.name}),vi.jsx("p",{className:"text-xs text-gray-500",children:e.accountId})]})]}),vi.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:vi.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:["whatsapp_unofficial"===e.channelType&&(console.log(`Settings Debug - Connection ${e.id}:`,{status:e.status,statusType:typeof e.status,channelType:e.channelType,accountName:e.accountName}),vi.jsx(sq,{connectionId:e.id,status:e.status,onReconnectClick:()=>{(async e=>{try{$(e),Q("connecting"),Y(null),G(!0),F((t=>t.map((t=>t.id===e?{...t,status:"reconnecting"}:t))));const t=await fetch(`/api/whatsapp/reconnect/${e}`,{method:"POST"});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to reconnect WhatsApp")}N({title:"Reconnection Initiated",description:"Generating new QR code for WhatsApp connection..."}),setTimeout((()=>{I(),Ly.invalidateQueries({queryKey:["/api/channel-connections"]})}),3e3)}catch(t){console.error("Error reconnecting channel:",t),G(!1),$(null),N({title:"Reconnection Failed",description:t instanceof Error?t.message:"An error occurred while reconnecting",variant:"destructive"}),I(),Ly.invalidateQueries({queryKey:["/api/channel-connections"]})}})(e.id)}})),vi.jsxs(tk,{variant:"brand",size:"sm",className:"btn-brand-primary text-blue-500 hover:text-blue-700 text-xs sm:text-sm",onClick:()=>{return t=e.id,n=e.accountName,oe(t),ce(n),void ie(!0);var t,n},children:[vi.jsx("span",{className:"hidden sm:inline",children:"Rename"}),vi.jsx("span",{className:"sm:hidden",children:"Rename"})]}),"whatsapp_unofficial"!==e.channelType&&vi.jsxs(tk,{variant:"brand",size:"sm",className:"btn-brand-primary text-orange-500 hover:text-orange-700 text-xs sm:text-sm",onClick:()=>(async e=>{try{if(!(await fetch(`/api/whatsapp/disconnect/${e}`,{method:"POST"})).ok)throw new Error("Failed to disconnect channel");I(),Ly.invalidateQueries({queryKey:["/api/channel-connections"]}),N({title:"Channel Disconnected",description:"The channel has been disconnected successfully"})}catch(t){console.error("Error disconnecting channel:",t),N({title:"Error",description:t.message||"Failed to disconnect channel",variant:"destructive"})}})(e.id),children:[vi.jsx("span",{className:"hidden sm:inline",children:"Disconnect"}),vi.jsx("span",{className:"sm:hidden",children:"Disconnect"})]}),vi.jsxs(tk,{variant:"brand",size:"sm",className:"btn-brand-primary text-red-500 hover:text-red-700 text-xs sm:text-sm",onClick:()=>(async e=>{try{if(!window.confirm("Are you sure you want to delete this connection? This action cannot be undone."))return;if(!(await fetch(`/api/channel-connections/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete channel connection");I(),Ly.invalidateQueries({queryKey:["/api/channel-connections"]}),N({title:"Channel Deleted",description:"The channel connection has been permanently deleted"})}catch(t){console.error("Error deleting channel:",t),N({title:"Error",description:t.message||"Failed to delete channel connection",variant:"destructive"})}})(e.id),children:[vi.jsx("span",{className:"hidden sm:inline",children:"Delete"}),vi.jsx("span",{className:"sm:hidden",children:"Delete"})]})]})})]}),"whatsapp_unofficial"===e.channelType&&vi.jsx("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:vi.jsxs("div",{className:"flex items-start",children:[vi.jsx("i",{className:"ri-error-warning-line text-yellow-500 mr-2 mt-0.5"}),vi.jsxs("div",{children:[vi.jsx("p",{className:"text-sm text-yellow-700 font-medium",children:"Unofficial Connection"}),vi.jsx("p",{className:"text-xs text-yellow-600",children:"This connection is not using the official WhatsApp Business API. It may have limitations and could be subject to blocking by WhatsApp."})]})]})})]},e.id)}))})]}),vi.jsxs("div",{children:[vi.jsx("h3",{className:"text-base sm:text-lg font-medium mb-4",children:"Add New Channel"}),vi.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[vi.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 sm:p-4 flex flex-col items-center hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>de("WhatsApp Business API"),children:[vi.jsx("i",{className:"ri-whatsapp-line text-2xl sm:text-3xl mb-2",style:{color:"#25D366"}}),vi.jsx("h4",{className:"font-medium text-sm sm:text-base text-center",children:"WhatsApp Business"}),vi.jsx("p",{className:"text-xs text-gray-500 text-center mt-1",children:"Official WhatsApp Business API"}),vi.jsx(tk,{className:"mt-3 w-full text-xs py-1",variant:"outline",onClick:e=>{e.stopPropagation(),de("WhatsApp Business Embedded")},children:"Easy Setup"})]}),vi.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 sm:p-4 flex flex-col items-center hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>de("WhatsApp Unofficial"),children:[vi.jsx("i",{className:"ri-whatsapp-line text-2xl sm:text-3xl mb-2",style:{color:"#F59E0B"}}),vi.jsx("h4",{className:"font-medium text-sm sm:text-base text-center",children:"WhatsApp Unofficial"}),vi.jsxs("p",{className:"text-xs text-gray-500 text-center mt-1",children:[vi.jsx("i",{className:"ri-error-warning-line mr-1"}),"Non-official connection"]})]}),vi.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 sm:p-4 flex flex-col items-center hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>de("Messenger"),children:[vi.jsx("i",{className:"ri-messenger-line text-2xl sm:text-3xl mb-2",style:{color:"#1877F2"}}),vi.jsx("h4",{className:"font-medium text-sm sm:text-base text-center",children:"Facebook Messenger"}),vi.jsx("p",{className:"text-xs text-gray-500 text-center mt-1",children:"Via Facebook Pages"})]}),vi.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 sm:p-4 flex flex-col items-center hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>de("Instagram"),children:[vi.jsx("i",{className:"ri-instagram-line text-2xl sm:text-3xl mb-2",style:{color:"#E4405F"}}),vi.jsx("h4",{className:"font-medium text-sm sm:text-base text-center",children:"Instagram"}),vi.jsx("p",{className:"text-xs text-gray-500 text-center mt-1",children:"Business Account Integration"})]})]})]})]})})]})}),vi.jsx(uMe,{value:"integrations",children:vi.jsxs(qS,{children:[vi.jsxs(QS,{children:[vi.jsx(ZS,{children:"Integrations"}),vi.jsx(JS,{children:"Connect and manage third-party integrations"})]}),vi.jsx(KS,{children:vi.jsxs("div",{className:"space-y-8",children:[vi.jsxs("div",{children:[vi.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 gap-4",children:[vi.jsxs("div",{className:"flex items-center",children:[vi.jsx(Sb,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-500 mr-2"}),vi.jsx("h3",{className:"text-base sm:text-lg font-medium",children:"Google Calendar"})]}),(null==L?void 0:L.connected)?vi.jsxs(tk,{variant:"brand",className:"text-red-500 hover:text-red-700 flex items-center gap-1 w-full sm:w-auto text-sm",onClick:()=>O.mutate(),disabled:O.isPending,children:[O.isPending?vi.jsx(uw,{className:"h-4 w-4 mr-1 animate-spin"}):vi.jsx(Fb,{className:"h-4 w-4 mr-1"}),"Disconnect"]}):vi.jsxs(tk,{className:"bg-blue-500 hover:bg-blue-600 text-white flex items-center gap-1 w-full sm:w-auto text-sm",onClick:()=>{(null==T?void 0:T.configured)?(null==P?void 0:P.authUrl)?window.open(P.authUrl,"_blank"):N({title:"Error",description:"Failed to generate authentication URL. Please check your credentials.",variant:"destructive"}):N({title:"Configuration Required",description:"Please configure Google OAuth credentials first.",variant:"destructive"})},disabled:!(null==T?void 0:T.configured),children:[vi.jsx(qb,{className:"h-4 w-4 mr-1"}),"Connect"]})]}),(null==L?void 0:L.connected)?vi.jsxs(QO,{className:"bg-green-50 border border-green-200",children:[vi.jsx(Ob,{className:"h-5 w-5 text-green-500"}),vi.jsx(ZO,{className:"text-green-700",children:"Connected"}),vi.jsx(JO,{className:"text-green-600",children:"Your Google Calendar account is connected and working properly. You can use Google Calendar nodes in the Flow Builder to create events and check availability."})]}):vi.jsxs(QO,{className:""+((null==T?void 0:T.configured)?"bg-gray-50 border border-gray-200":"bg-amber-50 border border-amber-200"),children:[vi.jsx(Sb,{className:"h-5 w-5 "+((null==T?void 0:T.configured)?"text-gray-500":"text-amber-500")}),vi.jsx(ZO,{className:(null==T?void 0:T.configured)?"":"text-amber-700",children:(null==T?void 0:T.configured)?"Not Connected":"Configuration Required"}),vi.jsx(JO,{className:(null==T?void 0:T.configured)?"":"text-amber-600",children:(null==T?void 0:T.configured)?"Connect your Google Calendar account to create events and check availability directly from your flows. This integration allows you to schedule meetings with your contacts automatically.":"Google OAuth credentials need to be configured before you can connect your Google Calendar account. Please configure the credentials below first."})]}),("admin"===(null==_?void 0:_.role)||"super_admin"===(null==_?void 0:_.role))&&vi.jsx("div",{className:"mt-4",children:vi.jsx(L_e,{type:"single",collapsible:!0,className:"w-full",children:vi.jsxs(A_e,{value:"credentials",children:[vi.jsx(T_e,{className:"text-sm font-medium",children:"Google OAuth Credentials (Company Settings)"}),vi.jsx(D_e,{children:vi.jsxs("div",{className:"space-y-4 pt-2",children:[vi.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-md text-sm text-blue-700",children:vi.jsxs("div",{className:"flex items-start",children:[vi.jsx(cw,{className:"h-4 w-4 mr-2 mt-0.5"}),vi.jsx("p",{children:"Configure your company's Google OAuth credentials for Google Calendar integration. These credentials are stored securely and are specific to your company."})]})}),vi.jsxs("div",{className:"space-y-3",children:[vi.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[vi.jsx(uB,{htmlFor:"clientId",className:"text-sm",children:"Client ID"}),vi.jsx("div",{className:"flex items-center",children:vi.jsx(ak,{variant:(null==T?void 0:T.clientId)?"default":"outline",className:"text-xs",children:(null==T?void 0:T.clientId)?"Configured":"Not Set"})})]}),vi.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[vi.jsx(uB,{htmlFor:"clientSecret",className:"text-sm",children:"Client Secret"}),vi.jsx("div",{className:"flex items-center",children:vi.jsx(ak,{variant:(null==T?void 0:T.clientSecret)?"default":"outline",className:"text-xs",children:(null==T?void 0:T.clientSecret)?"Configured":"Not Set"})})]}),vi.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[vi.jsx(uB,{htmlFor:"redirectUri",className:"text-sm",children:"Redirect URI"}),vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx(ak,{variant:"outline",className:"text-xs",children:"Auto-Generated"}),vi.jsxs(tk,{variant:"ghost",size:"sm",className:"h-6 text-xs",onClick:()=>{const e=(null==T?void 0:T.redirectUri)||window.location.origin+"/api/google/callback";navigator.clipboard.writeText(e),N({title:"Copied to Clipboard",description:`Redirect URI: ${e}`})},children:[vi.jsx(Wb,{className:"h-3 w-3 mr-1"}),"Copy"]})]})]})]}),vi.jsxs("div",{className:"pt-2",children:[vi.jsx("p",{className:"text-xs text-gray-500 mb-2",children:(null==T?void 0:T.configured)?"Update your Google OAuth credentials. This will disconnect any existing connections.":"Configure your Google OAuth credentials to enable Google Calendar integration for your company."}),vi.jsxs(tk,{variant:"brand",size:"sm",className:"w-full",onClick:()=>l(!0),children:[vi.jsx(Rw,{className:"h-4 w-4 mr-1"}),(null==T?void 0:T.configured)?"Update Credentials":"Configure Credentials"]})]})]})})]})})}),vi.jsxs("div",{className:"mt-4 bg-blue-50 border border-blue-100 rounded-md p-4",children:[vi.jsx("h4",{className:"font-medium text-blue-700 mb-2",children:"Features"}),vi.jsxs("ul",{className:"list-disc list-inside text-sm text-blue-600 space-y-1",children:[vi.jsx("li",{children:"Create calendar events with contacts directly from flows"}),vi.jsx("li",{children:"Check availability before scheduling meetings"}),vi.jsx("li",{children:"Automatically send event details to contacts"}),vi.jsx("li",{children:"Track appointments in your Google Calendar"})]})]})]}),vi.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[vi.jsx("h3",{className:"text-base sm:text-lg font-medium mb-4",children:"Coming Soon"}),vi.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[vi.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 sm:p-4 flex flex-col items-center bg-gray-50",children:[vi.jsx("i",{className:"ri-calendar-line text-2xl sm:text-3xl mb-2 text-gray-400"}),vi.jsx("h4",{className:"font-medium text-gray-600 text-sm sm:text-base",children:"Calendly"}),vi.jsx("p",{className:"text-xs text-gray-500 text-center mt-1",children:"Coming soon"})]}),vi.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 sm:p-4 flex flex-col items-center bg-gray-50",children:[vi.jsx("i",{className:"ri-calendar-line text-2xl sm:text-3xl mb-2 text-gray-400"}),vi.jsx("h4",{className:"font-medium text-gray-600 text-sm sm:text-base",children:"Outlook Calendar"}),vi.jsx("p",{className:"text-xs text-gray-500 text-center mt-1",children:"Coming soon"})]}),vi.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 sm:p-4 flex flex-col items-center bg-gray-50",children:[vi.jsx("i",{className:"ri-flow-chart text-2xl sm:text-3xl mb-2 text-gray-400"}),vi.jsx("h4",{className:"font-medium text-gray-600 text-sm sm:text-base",children:"Zapier"}),vi.jsx("p",{className:"text-xs text-gray-500 text-center mt-1",children:"Coming soon"})]})]})]})]})})]})}),vi.jsxs(uMe,{value:"billing",children:[vi.jsxs(qS,{children:[vi.jsxs(QS,{children:[vi.jsx(ZS,{children:"Billing & Subscription"}),vi.jsx(JS,{children:"Manage your subscription plan and payment methods"})]}),vi.jsx(KS,{children:vi.jsxs("div",{className:"space-y-8",children:[vi.jsxs("div",{children:[vi.jsx("h3",{className:"text-base sm:text-lg font-medium mb-4",children:"Current Subscription"}),"active"===(null==(e=null==_?void 0:_.company)?void 0:e.subscriptionStatus)?vi.jsx("div",{className:"bg-primary-50 border border-primary-200 rounded-lg p-3 sm:p-4",children:vi.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[vi.jsxs("div",{children:[vi.jsx("h3",{className:"text-base sm:text-lg font-medium text-primary-700",children:(null==(t=null==_?void 0:_.company)?void 0:t.plan)||"Free Plan"}),vi.jsx("p",{className:"text-sm text-primary-600",children:(null==(n=null==_?void 0:_.company)?void 0:n.subscriptionEndDate)?`Renews on ${new Date(_.company.subscriptionEndDate).toLocaleDateString()}`:"No renewal date"})]}),vi.jsx("div",{className:"flex space-x-2",children:vi.jsx(tk,{variant:"brand",size:"sm",className:"btn-brand-primary w-full sm:w-auto",onClick:()=>{const e=document.getElementById("available-plans");e&&e.scrollIntoView({behavior:"smooth"})},children:"Change Plan"})})]})}):vi.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 sm:p-4",children:vi.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:vi.jsxs("div",{children:[vi.jsx("h3",{className:"text-base sm:text-lg font-medium text-amber-700",children:"No Active Subscription"}),vi.jsx("p",{className:"text-sm text-amber-600",children:"Select a plan below to subscribe"})]})})})]}),vi.jsxs("div",{id:"available-plans",children:[vi.jsx("h3",{className:"text-base sm:text-lg font-medium mb-4",children:"Available Plans"}),S?vi.jsx("div",{className:"flex justify-center py-8",children:vi.jsx("div",{className:"animate-spin rounded-full h-6 w-6 sm:h-8 sm:w-8 border-b-2 border-primary"})}):C&&C.length>0?vi.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:C.map((e=>{var t;return vi.jsx(fMe,{plan:e,isCurrentPlan:(null==(t=null==_?void 0:_.company)?void 0:t.planId)===e.id,onSelectPlan:U},e.id)}))}):vi.jsx("div",{className:"text-center py-8 text-gray-500 text-sm sm:text-base",children:"No plans available at the moment"})]}),vi.jsxs("div",{children:[vi.jsx("h3",{className:"text-base sm:text-lg font-medium mb-4",children:"Payment History"}),(()=>{const{data:e,isLoading:t}=ky({queryKey:["/api/payment/transactions"],queryFn:async()=>{const e=await Ey("GET","/api/payment/transactions");if(!e.ok)throw new Error("Failed to fetch payment history");return e.json()}});return t?vi.jsx("div",{className:"flex justify-center py-4",children:vi.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):e&&0!==e.length?vi.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:vi.jsx("div",{className:"overflow-x-auto",children:vi.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[vi.jsx("thead",{className:"bg-gray-50",children:vi.jsxs("tr",{children:[vi.jsx("th",{scope:"col",className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),vi.jsx("th",{scope:"col",className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),vi.jsx("th",{scope:"col",className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),vi.jsx("th",{scope:"col",className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),vi.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((e=>vi.jsxs("tr",{children:[vi.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-xs sm:text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()}),vi.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-xs sm:text-sm font-medium text-gray-900",children:e.planName||"Subscription Payment"}),vi.jsxs("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap text-xs sm:text-sm text-gray-500 font-medium",children:["$",e.amount.toFixed(2)]}),vi.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:vi.jsx("span",{className:"px-2 py-1 text-xs rounded-full "+("completed"===e.status?"bg-green-100 text-green-800":"pending"===e.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})})]},e.id)))})]})})}):vi.jsx("div",{className:"text-center py-4 text-gray-500 text-sm sm:text-base",children:"No payment history available"})})()]})]})})]}),vi.jsx(pMe,{isOpen:w,onClose:()=>j(!1),plan:v,paymentMethods:k||[],onSuccess:()=>{j(!1),N({title:"Subscription Updated",description:"Your subscription has been updated successfully"}),Ly.invalidateQueries({queryKey:["/api/user"]})}})]}),vi.jsx(uMe,{value:"team",children:vi.jsxs(qS,{children:[vi.jsxs(QS,{children:[vi.jsx(ZS,{children:"Team Members"}),vi.jsx(JS,{children:"Manage team members and their permissions"})]}),vi.jsx(KS,{children:vi.jsxs("div",{className:"space-y-8",children:[vi.jsx(CIe,{}),vi.jsx("div",{className:"border-t pt-6",children:vi.jsx(kIe,{})})]})})]})}),vi.jsx(uMe,{value:"smtp",children:vi.jsxs(qS,{children:[vi.jsxs(QS,{children:[vi.jsx(ZS,{children:"Email Configuration"}),vi.jsx(JS,{children:"Configure your email server settings for sending notifications and team invitations"})]}),vi.jsx(KS,{children:vi.jsx(MIe,{})})]})})]})]})]})]})}const EIe=(e,t,n)=>{if(e&&"reportValidity"in e){const a=H_e(n,t);e.setCustomValidity(a&&a.message||""),e.reportValidity()}},IIe=(e,t)=>{for(const n in t.fields){const a=t.fields[n];a&&a.ref&&"reportValidity"in a.ref?EIe(a.ref,n,e):a.refs&&a.refs.forEach((t=>EIe(t,n,e)))}},LIe=(e,t)=>{t.shouldUseNativeValidation&&IIe(e,t);const n={};for(const a in e){const r=H_e(t.fields,a),i=Object.assign(e[a]||{},{ref:r&&r.ref});if(AIe(t.names||Object.keys(e),a)){const e=Object.assign({},H_e(n,a));Z_e(e,"root",i),Z_e(n,a,e)}else Z_e(n,a,i)}return n},AIe=(e,t)=>e.some((e=>e.startsWith(t+".")));var TIe=function(e,t){for(var n={};e.length;){var a=e[0],r=a.code,i=a.message,s=a.path.join(".");if(!n[s])if("unionErrors"in a){var o=a.unionErrors[0].errors[0];n[s]={message:o.message,type:o.code}}else n[s]={message:i,type:r};if("unionErrors"in a&&a.unionErrors.forEach((function(t){return t.errors.forEach((function(t){return e.push(t)}))})),t){var l=n[s].types,c=l&&l[a.code];n[s]=bEe(s,t,n,r,c?[].concat(c,a.message):a.message)}e.shift()}return n},DIe=function(e,t,n){return void 0===n&&(n={}),function(a,r,i){try{return Promise.resolve(function(r,s){try{var o=Promise.resolve(e["sync"===n.mode?"parse":"parseAsync"](a,t)).then((function(e){return i.shouldUseNativeValidation&&IIe({},i),{errors:{},values:n.raw?a:e}}))}catch(l){return s(l)}return o&&o.then?o.then(void 0,s):o}(0,(function(e){if(t=e,Array.isArray(null==t?void 0:t.errors))return{values:{},errors:LIe(TIe(e.errors,!i.shouldUseNativeValidation&&"all"===i.criteriaMode),i)};var t;throw e})))}catch(s){return Promise.reject(s)}}};const PIe=CL({fullName:dL().min(2,"Name must be at least 2 characters"),email:dL().email("Please enter a valid email address"),username:dL().min(3,"Username must be at least 3 characters")}),OIe=CL({currentPassword:dL().min(6,"Current password is required"),newPassword:dL().min(8,"Password must be at least 8 characters"),confirmPassword:dL().min(8,"Please confirm your password")}).refine((e=>e.newPassword===e.confirmPassword),{message:"Passwords don't match",path:["confirmPassword"]});function RIe(){const{toast:e}=By(),[t,n]=ci.useState("account"),{data:a,isLoading:r,error:i}=ky({queryKey:["/api/users/me"],refetchOnWindowFocus:!1}),s=rIe({resolver:DIe(PIe),defaultValues:{fullName:"",email:"",username:""}}),o=rIe({resolver:DIe(OIe),defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}}),l=My({mutationFn:async e=>{const t=await Ey("PATCH","/api/users/me",e);if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to update profile")}return t.json()},onSuccess:()=>{e({title:"Profile Updated",description:"Your profile information has been updated successfully."}),Ly.invalidateQueries({queryKey:["/api/users/me"]})},onError:t=>{e({title:"Error",description:`Failed to update profile: ${t.message}`,variant:"destructive"})}}),c=My({mutationFn:async e=>{const t=await Ey("POST","/api/users/change-password",{currentPassword:e.currentPassword,newPassword:e.newPassword});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to change password")}return t.json()},onSuccess:()=>{e({title:"Password Changed",description:"Your password has been changed successfully."}),o.reset()},onError:t=>{e({title:"Error",description:`Failed to change password: ${t.message}`,variant:"destructive"})}});ci.useEffect((()=>{a&&s.reset({fullName:a.fullName,email:a.email,username:a.username})}),[a,s]);return r?vi.jsx("div",{className:"flex h-screen items-center justify-center",children:vi.jsx(uw,{className:"h-8 w-8 animate-spin text-primary"})}):i?vi.jsx("div",{className:"flex h-screen items-center justify-center",children:vi.jsxs("div",{className:"text-center",children:[vi.jsx("h2",{className:"text-xl ",children:"Error loading profile"}),vi.jsx("p",{className:"text-muted-foreground",children:i.message}),vi.jsx(tk,{className:"mt-4",onClick:()=>Ly.invalidateQueries({queryKey:["/api/users/me"]}),children:"Try Again"})]})}):vi.jsxs("div",{className:"flex h-screen bg-gray-50",children:[vi.jsx(XO,{}),vi.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[vi.jsx(WO,{}),vi.jsx("main",{className:"flex-1 overflow-auto p-6",children:vi.jsxs("div",{className:"max-w-4xl mx-auto",children:[vi.jsx("div",{className:"flex items-center mb-6",children:vi.jsx("h1",{className:"text-2xl ",children:"Account Settings"})}),vi.jsxs(lMe,{value:t,onValueChange:n,children:[vi.jsxs(cMe,{className:"mb-6",children:[vi.jsx(dMe,{value:"account",children:"Account"}),vi.jsx(dMe,{value:"security",children:"Security"}),vi.jsx(dMe,{value:"notifications",children:"Notifications"})]}),vi.jsx(uMe,{value:"account",children:vi.jsxs(qS,{children:[vi.jsxs(QS,{children:[vi.jsx(ZS,{children:"Profile Information"}),vi.jsx(JS,{children:"Update your account details and public profile."})]}),vi.jsxs(KS,{children:[vi.jsxs("div",{className:"flex items-center space-x-6 mb-6",children:[vi.jsxs(Xz,{className:"h-20 w-20",children:[(null==a?void 0:a.avatarUrl)?vi.jsx(eF,{src:a.avatarUrl,alt:a.fullName}):null,vi.jsx(tF,{className:"text-lg ",children:(d=(null==a?void 0:a.fullName)||"",(null==d?void 0:d.split(" ").map((e=>e[0])).join(""))||"U")})]}),vi.jsxs("div",{children:[vi.jsx("h3",{className:"text-lg font-medium",children:null==a?void 0:a.fullName}),vi.jsx("p",{className:"text-sm text-muted-foreground",children:null==a?void 0:a.email}),vi.jsx(tk,{variant:"outline",size:"sm",className:"mt-2",children:"Change Avatar"})]})]}),vi.jsx(gY,{className:"my-6"}),vi.jsx(iIe,{...s,children:vi.jsxs("form",{onSubmit:s.handleSubmit((e=>{l.mutate(e)})),className:"space-y-6",children:[vi.jsx(oIe,{control:s.control,name:"fullName",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:"Full Name"}),vi.jsx(fIe,{children:vi.jsxs("div",{className:"relative",children:[vi.jsx(sj,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),vi.jsx(fB,{className:"pl-9",placeholder:"Your full name",...e})]})}),vi.jsx(pIe,{})]})}),vi.jsx(oIe,{control:s.control,name:"email",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:"Email Address"}),vi.jsx(fIe,{children:vi.jsxs("div",{className:"relative",children:[vi.jsx(pw,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),vi.jsx(fB,{className:"pl-9",placeholder:"your.email@example.com",...e})]})}),vi.jsx(pIe,{})]})}),vi.jsx(oIe,{control:s.control,name:"username",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:"Username"}),vi.jsx(fIe,{children:vi.jsx(fB,{placeholder:"username",...e})}),vi.jsx(mIe,{children:"This is your public display name. It can be your real name or a pseudonym."}),vi.jsx(pIe,{})]})}),vi.jsx(tk,{type:"submit",className:"w-full md:w-auto btn-brand-primary",disabled:l.isPending,children:l.isPending?vi.jsxs(vi.Fragment,{children:[vi.jsx(uw,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving Changes"]}):vi.jsxs(vi.Fragment,{children:[vi.jsx(Dw,{className:"mr-2 h-4 w-4"}),"Save Changes"]})})]})})]})]})}),vi.jsx(uMe,{value:"security",children:vi.jsxs(qS,{children:[vi.jsxs(QS,{children:[vi.jsx(ZS,{children:"Password"}),vi.jsx(JS,{children:"Change your password to keep your account secure."})]}),vi.jsx(KS,{children:vi.jsx(iIe,{...o,children:vi.jsxs("form",{onSubmit:o.handleSubmit((e=>{c.mutate(e)})),className:"space-y-6",children:[vi.jsx(oIe,{control:o.control,name:"currentPassword",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:"Current Password"}),vi.jsx(fIe,{children:vi.jsxs("div",{className:"relative",children:[vi.jsx(cw,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),vi.jsx(fB,{className:"pl-9",type:"password",placeholder:"••••••••",...e})]})}),vi.jsx(pIe,{})]})}),vi.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[vi.jsx(oIe,{control:o.control,name:"newPassword",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:"New Password"}),vi.jsx(fIe,{children:vi.jsx(fB,{type:"password",placeholder:"••••••••",...e})}),vi.jsx(pIe,{})]})}),vi.jsx(oIe,{control:o.control,name:"confirmPassword",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:"Confirm New Password"}),vi.jsx(fIe,{children:vi.jsx(fB,{type:"password",placeholder:"••••••••",...e})}),vi.jsx(pIe,{})]})})]}),vi.jsx(tk,{type:"submit",className:"w-full md:w-auto",disabled:c.isPending,children:c.isPending?vi.jsxs(vi.Fragment,{children:[vi.jsx(uw,{className:"mr-2 h-4 w-4 animate-spin"}),"Changing Password"]}):vi.jsxs(vi.Fragment,{children:[vi.jsx(Mb,{className:"mr-2 h-4 w-4"}),"Change Password"]})})]})})})]})}),vi.jsx(uMe,{value:"notifications",children:vi.jsxs(qS,{children:[vi.jsxs(QS,{children:[vi.jsx(ZS,{children:"Notification Settings"}),vi.jsx(JS,{children:"Configure how you want to be notified."})]}),vi.jsx(KS,{children:vi.jsx("p",{className:"text-muted-foreground",children:"Notification settings will be available soon."})})]})})]})]})})]})]});var d}function zIe({isOpen:e,onClose:t,campaignId:n,campaignName:a}){const{toast:r}=By(),{t:i}=sk(),[s,o]=ci.useState(!1),[l,c]=ci.useState(!1),[d,u]=ci.useState([]),[f,m]=ci.useState([]),[p,h]=ci.useState(1),[g,x]=ci.useState(""),[y,v]=ci.useState("all"),[b,w]=ci.useState("sentAt"),[j,N]=ci.useState("desc"),[C,S]=ci.useState(new Set);ci.useEffect((()=>{let e=d.filter((e=>{const t=e.contactName.toLowerCase().includes(g.toLowerCase())||e.phoneNumber.includes(g),n="all"===y||e.messageStatus===y;return t&&n}));e.sort(((e,t)=>{const n=e[b],a=t[b];return null===n&&null===a?0:null===n?"asc"===j?-1:1:null===a?"asc"===j?1:-1:n<a?"asc"===j?-1:1:n>a?"asc"===j?1:-1:0})),m(e),h(1)}),[d,g,y,b,j]),ci.useEffect((()=>{e&&n&&(async()=>{o(!0);try{const e=await fetch(`/api/campaigns/${n}/details`,{credentials:"include"});if(!e.ok)throw new Error(i("campaigns.details.fetch_failed","Failed to fetch campaign details"));const t=await e.json();if(!t.success)throw new Error(t.error||i("campaigns.details.fetch_failed","Failed to fetch campaign details"));u(t.data)}catch(e){console.error("Error fetching campaign details:",e),r({title:i("common.error","Error"),description:i("campaigns.details.fetch_failed","Failed to fetch campaign details"),variant:"destructive"})}finally{o(!1)}})()}),[e,n]);const k=Math.ceil(f.length/50),M=50*(p-1),_=M+50,E=f.slice(M,_),I=(e,t=100)=>e.length<=t?e:e.substring(0,t)+"...",L=e=>{b===e?N("asc"===j?"desc":"asc"):(w(e),N("asc"))};return vi.jsx(KF,{open:e,onOpenChange:t,children:vi.jsxs(aB,{className:"max-w-7xl max-h-[90vh] overflow-hidden flex flex-col",children:[vi.jsx(rB,{children:vi.jsxs(sB,{children:[i("campaigns.details.title","Campaign Details")," - ",a]})}),vi.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 py-4 border-b",children:[vi.jsxs("div",{className:"flex-1 relative",children:[vi.jsx(Pw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),vi.jsx(fB,{placeholder:i("campaigns.details.search_placeholder","Search by contact name or phone number..."),value:g,onChange:e=>x(e.target.value),className:"pl-10"})]}),vi.jsxs(AU,{value:y,onValueChange:v,children:[vi.jsx(PU,{className:"w-full sm:w-48",children:vi.jsx(DU,{placeholder:i("campaigns.details.filter_by_status","Filter by status")})}),vi.jsxs(zU,{children:[vi.jsx(FU,{value:"all",children:i("campaigns.details.all_statuses","All Statuses")}),vi.jsx(FU,{value:"pending",children:i("campaigns.details.status.pending","Pending")}),vi.jsx(FU,{value:"sent",children:i("campaigns.details.status.sent","Sent")}),vi.jsx(FU,{value:"delivered",children:i("campaigns.details.status.delivered","Delivered")}),vi.jsx(FU,{value:"failed",children:i("campaigns.details.status.failed","Failed")}),vi.jsx(FU,{value:"cancelled",children:i("campaigns.details.status.cancelled","Cancelled")})]})]}),vi.jsx("div",{className:"flex gap-2",children:vi.jsxs(tk,{variant:"outline",size:"sm",onClick:async()=>{c(!0);try{const e=await fetch(`/api/campaigns/${n}/export/excel`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({campaignName:a})});if(!e.ok)throw new Error(i("campaigns.details.export_failed","Failed to export Excel"));const t=await e.blob(),s=window.URL.createObjectURL(t),o=document.createElement("a");o.href=s,o.download=`campaign-${a.replace(/[^a-zA-Z0-9]/g,"-")}-${(new Date).toISOString().split("T")[0]}.xlsx`,document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(s),document.body.removeChild(o),r({title:i("common.success","Success"),description:i("campaigns.details.export_success","Campaign data exported to Excel")})}catch(e){console.error("Error exporting Excel:",e),r({title:i("common.error","Error"),description:i("campaigns.details.export_failed","Failed to export Excel"),variant:"destructive"})}finally{c(!1)}},disabled:l||s,children:[l?vi.jsx(uw,{className:"h-4 w-4 animate-spin mr-2"}):vi.jsx(Hb,{className:"h-4 w-4 mr-2"}),i("campaigns.details.export_excel","Excel")]})})]}),vi.jsx("div",{className:"flex-1 overflow-auto",children:s?vi.jsx("div",{className:"flex justify-center items-center h-64",children:vi.jsx(uw,{className:"h-8 w-8 animate-spin"})}):0===f.length?vi.jsx("div",{className:"text-center py-8 text-muted-foreground",children:0===d.length?i("campaigns.details.no_data","No campaign data found"):i("campaigns.details.no_results","No results match your search criteria")}):vi.jsxs(dq,{children:[vi.jsx(uq,{children:vi.jsxs(mq,{children:[vi.jsxs(pq,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>L("contactName"),children:[i("campaigns.details.table.contact_name","Contact Name")," ","contactName"===b&&("asc"===j?"↑":"↓")]}),vi.jsxs(pq,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>L("phoneNumber"),children:[i("campaigns.details.table.phone_number","Phone Number")," ","phoneNumber"===b&&("asc"===j?"↑":"↓")]}),vi.jsxs(pq,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>L("whatsappAccount"),children:[i("campaigns.details.table.whatsapp_account","WhatsApp Account")," ","whatsappAccount"===b&&("asc"===j?"↑":"↓")]}),vi.jsxs(pq,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>L("messageStatus"),children:[i("campaigns.details.table.status","Status")," ","messageStatus"===b&&("asc"===j?"↑":"↓")]}),vi.jsxs(pq,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>L("sentAt"),children:[i("campaigns.details.table.sent_at","Sent At")," ","sentAt"===b&&("asc"===j?"↑":"↓")]}),vi.jsx(pq,{children:i("campaigns.details.table.message_content","Message Content")}),vi.jsx(pq,{children:i("campaigns.details.table.error","Error")})]})}),vi.jsx(fq,{children:E.map((e=>{return vi.jsxs(mq,{children:[vi.jsx(hq,{className:"font-medium",children:e.contactName}),vi.jsx(hq,{children:e.phoneNumber}),vi.jsx(hq,{children:e.whatsappAccount}),vi.jsx(hq,{children:(t=e.messageStatus,vi.jsx(ak,{variant:{pending:"outline",sent:"default",delivered:"secondary",failed:"destructive",cancelled:"outline"}[t]||"outline",children:i(`campaigns.details.status.${t}`,t.charAt(0).toUpperCase()+t.slice(1))}))}),vi.jsx(hq,{children:e.sentAt?new Date(e.sentAt).toLocaleString():"-"}),vi.jsx(hq,{className:"max-w-xs",children:vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx("span",{className:"flex-1",children:C.has(e.id)?e.messageContent:I(e.messageContent)}),e.messageContent.length>100&&vi.jsx(tk,{variant:"ghost",size:"sm",onClick:()=>(e=>{const t=new Set(C);t.has(e)?t.delete(e):t.add(e),S(t)})(e.id),children:C.has(e.id)?vi.jsx(Qb,{className:"h-4 w-4"}):vi.jsx(Zb,{className:"h-4 w-4"})})]})}),vi.jsx(hq,{className:"max-w-xs",children:e.errorMessage?vi.jsx("span",{className:"text-destructive text-sm",children:e.errorMessage}):"-"})]},e.id);var t}))})]})}),k>1&&vi.jsxs("div",{className:"flex items-center justify-between py-4 border-t",children:[vi.jsx("div",{className:"text-sm text-muted-foreground",children:i("campaigns.details.pagination.showing","Showing {{start}} to {{end}} of {{total}} results",{start:M+1,end:Math.min(_,f.length),total:f.length})}),vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsxs(tk,{variant:"outline",size:"sm",onClick:()=>h(Math.max(1,p-1)),disabled:1===p,children:[vi.jsx(Eb,{className:"h-4 w-4"}),i("campaigns.details.pagination.previous","Previous")]}),vi.jsx("span",{className:"text-sm",children:i("campaigns.details.pagination.page_info","Page {{current}} of {{total}}",{current:p,total:k})}),vi.jsxs(tk,{variant:"outline",size:"sm",onClick:()=>h(Math.min(k,p+1)),disabled:p===k,children:[i("campaigns.details.pagination.next","Next"),vi.jsx(Ib,{className:"h-4 w-4"})]})]})]})]})})}function FIe(){var e;const[t,n]=ci.useState([]),[a,r]=ci.useState(null),[i,s]=ci.useState(!0),[o,l]=ci.useState("all"),[c,d]=ci.useState({isOpen:!1,campaign:null}),[u,f]=ci.useState({isOpen:!1,campaignId:null,campaignName:""}),[m,p]=ci.useState({}),[h,g]=ci.useState(!0),{toast:x}=By(),{t:y}=sk(),{onMessage:v}=GO("/ws"),b=di.useRef(new Map),w=di.useRef(new Map),j=di.useRef(null),N=di.useCallback((()=>{0!==b.current.size&&(n((e=>e.map((e=>{const t=b.current.get(e.id);return t?{...e,...t}:e})))),b.current.clear())}),[]),C=di.useCallback(((e,t)=>{const n=Date.now();b.current.set(e,t),N(),w.current.set(e,n)}),[N]);ci.useEffect((()=>{S(),k()}),[o]),ci.useEffect((()=>{let e=null;return t.filter((e=>"running"===e.status)).length>0?e=setInterval((()=>{S()}),2e3):h||(e=setInterval((()=>{S()}),5e3)),()=>{e&&clearInterval(e)}}),[h,t]),ci.useEffect((()=>{const e=v("campaignStatusUpdate",(e=>{var t,i,s,o,l;g(!0),"campaign_completed"===(null==(t=e.data)?void 0:t.eventType)?(n((t=>t.map((t=>t.id===e.data.campaignId?{...t,status:"completed",...void 0!==e.data.totalRecipients&&{totalRecipients:e.data.totalRecipients,processedRecipients:(e.data.successfulSends||0)+(e.data.failedSends||0),successfulSends:e.data.successfulSends||0,failedSends:e.data.failedSends||0}}:t)))),x({title:y("campaigns.completed","Campaign Completed"),description:y("campaigns.finished_processing",'Campaign "{{name}}" has finished processing.',{name:e.data.campaignName})}),k(),S()):"message_sent"===(null==(i=e.data)?void 0:i.eventType)&&(null==(s=e.data)?void 0:s.progress)?(C(e.data.campaignId,{processedRecipients:e.data.progress.processedRecipients,successfulSends:e.data.progress.successfulSends,failedSends:e.data.progress.failedSends,totalRecipients:e.data.progress.totalRecipients}),a&&r((e=>e?{...e,messagesDelivered:e.messagesDelivered+1}:null))):"message_failed"===(null==(o=e.data)?void 0:o.eventType)&&(null==(l=e.data)?void 0:l.progress)&&C(e.data.campaignId,{processedRecipients:e.data.progress.processedRecipients,successfulSends:e.data.progress.successfulSends,failedSends:e.data.progress.failedSends,totalRecipients:e.data.progress.totalRecipients})})),t=setInterval((()=>{const e=w.current.get(-1)||Date.now();Date.now()-e>3e4&&g(!1)}),1e4);return()=>{e(),clearInterval(t),j.current&&clearTimeout(j.current)}}),[v,x,a,C]);const S=async()=>{try{const e=new URLSearchParams;"all"!==o&&e.append("status",o);const t=await fetch(`/api/campaigns?${e}`),a=await t.json();if(!a.success)throw new Error(a.error);{const e=a.data.map((e=>({...e,processedRecipients:e.processedRecipients||0,successfulSends:e.successfulSends||0,failedSends:e.failedSends||0,totalRecipients:e.totalRecipients||0})));n(e)}}catch(e){x({title:y("common.error","Error"),description:y("campaigns.fetch_failed","Failed to fetch campaigns"),variant:"destructive"})}finally{s(!1)}},k=async()=>{try{const e=await fetch("/api/campaigns/stats"),t=await e.json();t.success?r(t.data):x({title:y("common.error","Error"),description:y("campaigns.stats_fetch_failed","Failed to fetch campaign statistics"),variant:"destructive"})}catch(e){x({title:y("common.error","Error"),description:y("campaigns.stats_fetch_failed","Failed to fetch campaign statistics"),variant:"destructive"})}},M=async(e,t)=>{try{const n=await fetch(`/api/campaigns/${e}/${t}`,{method:"POST"}),a=await n.json();if(!a.success)throw new Error(a.error);x({title:y("common.success","Success"),description:a.data.message}),S()}catch(n){x({title:y("common.error","Error"),description:y("campaigns.action_failed","Failed to {{action}} campaign",{action:t}),variant:"destructive"})}},_=e=>{const t={draft:{color:"secondary",icon:Ub},scheduled:{color:"default",icon:Ub},running:{color:"default",icon:Mw},paused:{color:"secondary",icon:Nw},completed:{color:"default",icon:Pb},cancelled:{color:"secondary",icon:Fb},failed:{color:"destructive",icon:Tb}}[e],n=t.icon;return vi.jsxs(ak,{variant:t.color,className:"flex items-center gap-1",children:[vi.jsx(n,{className:"w-3 h-3"}),y(`campaigns.status.${e}`,e.charAt(0).toUpperCase()+e.slice(1))]})},E=e=>{const t=!["running","processing"].includes(e.status),n=!["running","processing"].includes(e.status),a=(()=>{switch(e.status){case"draft":case"scheduled":return vi.jsxs(tk,{size:"sm",onClick:()=>M(e.id,"start"),className:"flex items-center gap-1",children:[vi.jsx(Mw,{className:"w-3 h-3"}),y("campaigns.start","Start")]});case"running":return vi.jsxs(tk,{size:"sm",variant:"outline",onClick:()=>M(e.id,"pause"),className:"flex items-center gap-1",children:[vi.jsx(Nw,{className:"w-3 h-3"}),y("campaigns.pause","Pause")]});case"paused":return vi.jsxs(tk,{size:"sm",onClick:()=>M(e.id,"resume"),className:"flex items-center gap-1",children:[vi.jsx(Mw,{className:"w-3 h-3"}),y("campaigns.resume","Resume")]});default:return null}})();return vi.jsxs("div",{className:"flex items-center gap-2",children:[a,t&&vi.jsx(vx,{href:`/campaigns/${e.id}/edit`,children:vi.jsxs(tk,{size:"sm",variant:"outline",className:"flex items-center gap-1",children:[vi.jsx(Gw,{className:"w-3 h-3"}),y("common.edit","Edit")]})}),n&&vi.jsxs(tk,{size:"sm",variant:"outline",onClick:()=>(e=>{d({isOpen:!0,campaign:e})})(e),className:"flex items-center gap-1 text-destructive hover:text-destructive",children:[vi.jsx(Yw,{className:"w-3 h-3"}),y("common.delete","Delete")]})]})},I=e=>{if(0===e.totalRecipients)return 0;return Math.round(e.processedRecipients/e.totalRecipients*100)};return i?vi.jsx("div",{className:"flex items-center justify-center h-64",children:vi.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):vi.jsxs("div",{className:"space-y-6",children:[vi.jsxs("div",{className:"flex justify-between items-center",children:[vi.jsxs("div",{children:[vi.jsx("h1",{className:"text-2xl",children:y("nav.campaigns","Campaign Dashboard")}),vi.jsxs("div",{className:"flex items-center gap-3",children:[vi.jsx("p",{className:"text-muted-foreground",children:y("campaigns.dashboard_description","Manage and monitor your mass messaging campaigns")}),vi.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[vi.jsx("div",{className:"w-2 h-2 rounded-full "+(h?"bg-green-500":"bg-red-500")}),vi.jsx("span",{className:"text-muted-foreground",children:h?y("campaigns.live_updates","Live updates"):y("campaigns.polling_mode","Polling mode")})]})]})]}),vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsxs(tk,{variant:"outline",onClick:async()=>{await S(),await k()},className:"flex items-center gap-2",children:[vi.jsx(oj,{className:"w-4 h-4"}),y("campaigns.refresh","Refresh")]}),vi.jsx(vx,{href:"/campaigns/new",children:vi.jsxs(tk,{className:"flex items-center gap-2",children:[vi.jsx(_w,{className:"w-4 h-4"}),y("campaigns.create_campaign","Create Campaign")]})})]})]}),vi.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[vi.jsxs(qS,{children:[vi.jsxs(QS,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[vi.jsx(ZS,{className:"text-sm font-medium",children:y("campaigns.total_campaigns","Total Campaigns")}),vi.jsx(oj,{className:"h-4 w-4 text-muted-foreground"})]}),vi.jsx(KS,{children:vi.jsx("div",{className:"text-2xl font-bold",children:a?a.totalCampaigns:vi.jsx("div",{className:"animate-pulse bg-muted h-8 w-8 rounded"})})})]}),vi.jsxs(qS,{children:[vi.jsxs(QS,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[vi.jsx(ZS,{className:"text-sm font-medium",children:y("campaigns.active_campaigns","Active Campaigns")}),vi.jsx(Mw,{className:"h-4 w-4 text-muted-foreground"})]}),vi.jsx(KS,{children:vi.jsx("div",{className:"text-2xl font-bold",children:a?a.activeCampaigns:vi.jsx("div",{className:"animate-pulse bg-muted h-8 w-8 rounded"})})})]}),vi.jsxs(qS,{children:[vi.jsxs(QS,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[vi.jsx(ZS,{className:"text-sm font-medium",children:y("campaigns.total_recipients","Total Recipients")}),vi.jsx(oj,{className:"h-4 w-4 text-muted-foreground"})]}),vi.jsx(KS,{children:vi.jsx("div",{className:"text-2xl font-bold",children:a?a.totalRecipients.toLocaleString():vi.jsx("div",{className:"animate-pulse bg-muted h-8 w-16 rounded"})})})]}),vi.jsxs(qS,{children:[vi.jsxs(QS,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[vi.jsx(ZS,{className:"text-sm font-medium",children:y("campaigns.messages_delivered","Messages Delivered")}),vi.jsx(yw,{className:"h-4 w-4 text-muted-foreground"})]}),vi.jsx(KS,{children:vi.jsx("div",{className:"text-2xl font-bold",children:a?a.messagesDelivered.toLocaleString():vi.jsx("div",{className:"animate-pulse bg-muted h-8 w-16 rounded"})})})]}),vi.jsxs(qS,{children:[vi.jsxs(QS,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[vi.jsx(ZS,{className:"text-sm font-medium",children:y("campaigns.delivery_rate","Delivery Rate")}),vi.jsx(Pb,{className:"h-4 w-4 text-muted-foreground"})]}),vi.jsx(KS,{children:vi.jsx("div",{className:"text-2xl font-bold",children:a?`${a.deliveryRate.toFixed(1)}%`:vi.jsx("div",{className:"animate-pulse bg-muted h-8 w-12 rounded"})})})]})]}),vi.jsx("div",{className:"flex space-x-2",children:["all","draft","running","paused","completed"].map((e=>vi.jsx(tk,{variant:o===e?"default":"outline",size:"sm",onClick:()=>l(e),children:y(`campaigns.filter.${e}`,e.charAt(0).toUpperCase()+e.slice(1))},e)))}),vi.jsx("div",{className:"grid gap-4",children:0===t.length?vi.jsx(qS,{children:vi.jsxs(KS,{className:"flex flex-col items-center justify-center py-12",children:[vi.jsx(yw,{className:"h-12 w-12 text-muted-foreground mb-4"}),vi.jsx("h3",{className:"text-lg font-semibold mb-2",children:y("campaigns.no_campaigns_found","No campaigns found")}),vi.jsx("p",{className:"text-muted-foreground text-center mb-4",children:y("campaigns.get_started_message","Get started by creating your first mass messaging campaign")}),vi.jsx(vx,{href:"/campaigns/new",children:vi.jsxs(tk,{children:[vi.jsx(_w,{className:"w-4 h-4 mr-2"}),y("campaigns.create_campaign","Create Campaign")]})})]})}):t.map((e=>{var t,n;return vi.jsxs(qS,{children:[vi.jsx(QS,{children:vi.jsxs("div",{className:"flex justify-between items-start",children:[vi.jsxs("div",{className:"space-y-1",children:[vi.jsxs(ZS,{className:"flex items-center gap-2",children:[e.name,_(e.status)]}),vi.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]}),vi.jsxs("div",{className:"flex items-center gap-2",children:[E(e),"completed"===e.status&&vi.jsxs(vi.Fragment,{children:[vi.jsxs(tk,{size:"sm",variant:"outline",onClick:()=>f({isOpen:!0,campaignId:e.id,campaignName:e.name}),title:"View detailed campaign results and export data",children:[vi.jsx(Xb,{className:"w-3 h-3 mr-1"}),y("campaigns.details","Details")]}),vi.jsx(tk,{size:"sm",variant:"outline",onClick:()=>(async e=>{p((t=>({...t,[e.id]:{recalculating:!0}})));try{const t=await fetch(`/api/campaigns/${e.id}/recalculate-stats`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!t.ok)throw new Error(`HTTP ${t.status}: ${t.statusText}`);const n=await t.json();n.success?(x({title:y("campaigns.stats_recalculated","Stats Recalculated"),description:y("campaigns.stats_updated","Campaign statistics have been updated.")}),await S()):x({title:y("common.error","Error"),description:y("campaigns.stats_recalc_failed","Failed to recalculate stats: {{error}}",{error:n.error}),variant:"destructive"})}catch(t){const e=t instanceof Error?t.message:"Unknown error occurred";x({title:y("common.error","Error"),description:y("campaigns.network_error","Network error: {{error}}",{error:e}),variant:"destructive"})}finally{p((t=>({...t,[e.id]:{recalculating:!1}})))}})(e),disabled:null==(t=m[e.id])?void 0:t.recalculating,title:"Recalculate Campaign Statistics - Force update from database",children:(null==(n=m[e.id])?void 0:n.recalculating)?vi.jsx("div",{className:"w-3 h-3 border-2 border-current border-t-transparent rounded-full animate-spin"}):"🔄"})]})]})]})}),vi.jsxs(KS,{children:[vi.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[vi.jsxs("div",{children:[vi.jsx("p",{className:"text-muted-foreground",children:y("campaigns.recipients","Recipients")}),vi.jsx("p",{className:"font-medium",children:e.totalRecipients.toLocaleString()})]}),vi.jsxs("div",{children:[vi.jsx("p",{className:"text-muted-foreground",children:y("campaigns.progress","Progress")}),vi.jsxs("p",{className:"font-medium",children:[I(e),"%"]})]}),vi.jsxs("div",{children:[vi.jsx("p",{className:"text-muted-foreground",children:y("campaigns.delivered","Delivered")}),vi.jsx("p",{className:"font-medium",children:e.successfulSends.toLocaleString()})]}),vi.jsxs("div",{children:[vi.jsx("p",{className:"text-muted-foreground",children:y("campaigns.failed","Failed")}),vi.jsx("p",{className:"font-medium",children:e.failedSends.toLocaleString()})]})]}),"running"===e.status&&vi.jsxs("div",{className:"mt-4",children:[vi.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[vi.jsxs("span",{className:"flex items-center gap-2",children:[y("campaigns.progress","Progress"),vi.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),vi.jsxs("span",{className:"font-medium",children:[I(e),"%"]})]}),vi.jsx("div",{className:"w-full bg-secondary rounded-full h-3 overflow-hidden",children:vi.jsx("div",{className:"bg-gradient-to-r from-primary to-primary/80 h-3 rounded-full transition-all duration-500 ease-out relative",style:{width:`${I(e)}%`},children:vi.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse rounded-full"})})}),vi.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[vi.jsxs("span",{children:[e.processedRecipients.toLocaleString()," ",y("campaigns.processed","processed")]}),vi.jsxs("span",{children:[e.totalRecipients.toLocaleString()," ",y("campaigns.total","total")]})]})]})]})]},e.id)}))}),vi.jsx(_9,{open:c.isOpen,onOpenChange:e=>!e&&d({isOpen:!1,campaign:null}),children:vi.jsxs(A9,{children:[vi.jsxs(T9,{children:[vi.jsx(P9,{children:y("campaigns.delete_campaign","Delete Campaign")}),vi.jsx(O9,{children:y("campaigns.delete_confirmation",'Are you sure you want to delete the campaign "{{name}}"? This action cannot be undone and all campaign data will be permanently removed.',{name:null==(e=c.campaign)?void 0:e.name})})]}),vi.jsxs(D9,{children:[vi.jsx(z9,{children:y("common.cancel","Cancel")}),vi.jsx(R9,{onClick:()=>c.campaign&&(async e=>{try{const t=await fetch(`/api/campaigns/${e.id}`,{method:"DELETE"}),n=await t.json();if(!n.success)throw new Error(n.error);x({title:y("common.success","Success"),description:y("campaigns.deleted_successfully",'Campaign "{{name}}" deleted successfully',{name:e.name})}),S(),k()}catch(t){x({title:y("common.error","Error"),description:y("campaigns.delete_failed","Failed to delete campaign"),variant:"destructive"})}finally{d({isOpen:!1,campaign:null})}})(c.campaign),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:y("campaigns.delete_campaign","Delete Campaign")})]})]})}),vi.jsx(zIe,{isOpen:u.isOpen,onClose:()=>f({isOpen:!1,campaignId:null,campaignName:""}),campaignId:u.campaignId||0,campaignName:u.campaignName})]})}function BIe(){return vi.jsxs("div",{className:"h-screen flex flex-col overflow-hidden font-sans text-gray-800",children:[vi.jsx(WO,{}),vi.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[vi.jsx(XO,{}),vi.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:vi.jsx(FIe,{})})]})]})}function UIe({isOpen:e,onClose:t,onSegmentCreated:n}){const[a,r]=ci.useState({name:"",description:""}),[i,s]=ci.useState({tags:[],created_after:"",created_before:""}),[o,l]=ci.useState(""),[c,d]=ci.useState(null),[u,f]=ci.useState([]),[m,p]=ci.useState(!1),[h,g]=ci.useState([]),[x,y]=ci.useState([]),[v,b]=ci.useState(!1),[w,j]=ci.useState(!1),{toast:N}=By(),{t:C}=sk();ci.useEffect((()=>{e&&(r({name:"",description:""}),s({tags:[],created_after:"",created_before:""}),l(""),d(null),f([]),p(!1),g([]),y([]))}),[e]);const S=ci.useCallback(function(e,t){let n;return(...a)=>{clearTimeout(n),n=setTimeout((()=>e(...a)),t)}}((async e=>{j(!0);try{const t=await fetch("/api/campaigns/segments/preview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({criteria:e,includeDetails:!0,limit:50})}),n=await t.json();n.success&&(d(n.data.count),f(n.data.contacts||[]),p(n.data.hasMore||!1))}catch(t){console.error("Failed to preview contacts:",t),d(null),f([]),p(!1)}finally{j(!1)}}),500),[]);ci.useEffect((()=>{e&&(i.tags.length>0||i.created_after||i.created_before)?S(i):(d(null),f([]),p(!1))}),[i,e,S]);const k=e=>{if(!e)return!1;return e.replace(/[^0-9]/g,"").length<=14},M=u.filter((e=>!h.includes(e.id)&&k(e.phone))),_=u.filter((e=>!k(e.phone))),E=null!==c?Math.max(0,c-h.length-_.length):null,I=()=>{o.trim()&&!i.tags.includes(o.trim())&&(s((e=>({...e,tags:[...e.tags,o.trim()]}))),l(""))};return vi.jsx(KF,{open:e,onOpenChange:t,children:vi.jsxs(aB,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[vi.jsx(rB,{children:vi.jsxs(sB,{className:"flex items-center gap-2",children:[vi.jsx(oj,{className:"w-5 h-5"}),C("segments.create.title","Create Contact Segment")]})}),vi.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),a.name.trim())if(0!==i.tags.length||i.created_after||i.created_before){b(!0);try{const e=await fetch("/api/campaigns/segments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a.name,description:a.description,criteria:i,excludedContactIds:h})}),r=await e.json();if(!r.success)throw new Error(r.error);N({title:C("common.success","Success"),description:C("segments.create.success","Segment created successfully")}),n(r.data),t()}catch(r){N({title:C("common.error","Error"),description:C("segments.create.failed","Failed to create segment"),variant:"destructive"})}finally{b(!1)}}else N({title:C("common.error","Error"),description:C("segments.create.criteria_required","Please add at least one filter criteria"),variant:"destructive"});else N({title:C("common.error","Error"),description:C("segments.create.name_required","Please enter a segment name"),variant:"destructive"})},className:"space-y-6",children:[vi.jsxs("div",{className:"space-y-4",children:[vi.jsxs("div",{children:[vi.jsx(uB,{htmlFor:"name",children:C("segments.create.name_label","Segment Name")}),vi.jsx(fB,{id:"name",value:a.name,onChange:e=>r((t=>({...t,name:e.target.value}))),placeholder:C("segments.create.name_placeholder","e.g., VIP Customers, New Leads"),required:!0})]}),vi.jsxs("div",{children:[vi.jsx(uB,{htmlFor:"description",children:C("segments.create.description_label","Description (Optional)")}),vi.jsx(mB,{id:"description",value:a.description,onChange:e=>r((t=>({...t,description:e.target.value}))),placeholder:C("segments.create.description_placeholder","Describe this segment..."),rows:2})]})]}),vi.jsx(gY,{}),vi.jsxs("div",{className:"space-y-4",children:[vi.jsx("h3",{className:"text-lg font-medium",children:C("segments.create.filter_criteria_title","Filter Criteria")}),vi.jsxs("div",{children:[vi.jsx(uB,{children:C("segments.create.contact_tags_label","Contact Tags")}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsxs("div",{className:"flex gap-2",children:[vi.jsx(fB,{value:o,onChange:e=>l(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),I())},placeholder:C("segments.create.tag_placeholder","Enter tag name"),className:"flex-1"}),vi.jsx(tk,{type:"button",onClick:I,disabled:!o.trim(),size:"sm",children:vi.jsx(_w,{className:"w-4 h-4"})})]}),i.tags.length>0&&vi.jsx("div",{className:"flex flex-wrap gap-2",children:i.tags.map(((e,t)=>vi.jsxs(ak,{variant:"secondary",className:"flex items-center gap-1",children:[vi.jsx(Hw,{className:"w-3 h-3"}),e,vi.jsx("button",{type:"button",onClick:t=>{var n;t.preventDefault(),t.stopPropagation(),n=e,s((e=>({...e,tags:e.tags.filter((e=>e!==n))})))},className:"ml-1 hover:text-destructive",children:vi.jsx(fj,{className:"w-3 h-3"})})]},t)))}),vi.jsx("p",{className:"text-sm text-muted-foreground",children:C("segments.create.tags_description","Contacts must have ALL selected tags")})]})]}),vi.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[vi.jsxs("div",{children:[vi.jsx(uB,{htmlFor:"created_after",children:C("segments.create.created_after_label","Created After")}),vi.jsx(fB,{id:"created_after",type:"date",value:i.created_after,onChange:e=>s((t=>({...t,created_after:e.target.value})))})]}),vi.jsxs("div",{children:[vi.jsx(uB,{htmlFor:"created_before",children:C("segments.create.created_before_label","Created Before")}),vi.jsx(fB,{id:"created_before",type:"date",value:i.created_before,onChange:e=>s((t=>({...t,created_before:e.target.value})))})]})]})]}),vi.jsx(gY,{}),vi.jsxs("div",{className:"space-y-4",children:[vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[vi.jsx(oj,{className:"w-4 h-4"}),C("segments.create.contact_preview_title","Contact Preview")]}),null!==E&&vi.jsxs("div",{className:"text-sm text-muted-foreground",children:[m?vi.jsxs(vi.Fragment,{children:[C("segments.create.showing_first_50","Showing first 50 of")," ",vi.jsx("strong",{children:E})," ",C("segments.create.contacts","contacts")]}):vi.jsxs(vi.Fragment,{children:[vi.jsx("strong",{children:E})," ",C("segments.create.contacts_match_criteria","contacts match these criteria")]}),h.length>0&&vi.jsxs("span",{className:"text-orange-600 ml-2",children:["(",h.length," ",C("segments.create.excluded","excluded"),")"]})]})]}),w?vi.jsx("div",{className:"flex items-center justify-center py-8",children:vi.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[vi.jsx(uw,{className:"w-4 h-4 animate-spin"}),C("segments.create.loading_preview","Loading contact preview...")]})}):M.length>0?vi.jsx("div",{className:"border rounded-lg max-h-80 overflow-y-auto",children:vi.jsxs(dq,{children:[vi.jsx(uq,{children:vi.jsxs(mq,{children:[vi.jsx(pq,{children:C("segments.create.table.contact_name","Contact Name")}),vi.jsx(pq,{children:C("segments.create.table.phone","Phone")}),vi.jsx(pq,{children:C("segments.create.table.email","Email")}),vi.jsx(pq,{children:C("segments.create.table.tags","Tags")}),vi.jsx(pq,{children:C("segments.create.table.created","Created")}),vi.jsx(pq,{children:C("segments.create.table.last_activity","Last Activity")}),vi.jsx(pq,{className:"w-20",children:C("segments.create.table.actions","Actions")})]})}),vi.jsx(fq,{children:M.map((e=>vi.jsxs(mq,{children:[vi.jsx(hq,{className:"font-medium",children:vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx(oj,{className:"w-4 h-4 text-muted-foreground"}),e.name||C("segments.create.table.unknown","Unknown")]})}),vi.jsx(hq,{children:vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx(kw,{className:"w-4 h-4 text-muted-foreground"}),e.phone]})}),vi.jsx(hq,{children:e.email?vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx(pw,{className:"w-4 h-4 text-muted-foreground"}),e.email]}):vi.jsx("span",{className:"text-muted-foreground",children:"-"})}),vi.jsx(hq,{children:e.tags&&e.tags.length>0?vi.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.tags.slice(0,2).map(((e,t)=>vi.jsx(ak,{variant:"outline",className:"text-xs",children:e},t))),e.tags.length>2&&vi.jsxs(ak,{variant:"outline",className:"text-xs",children:["+",e.tags.length-2]})]}):vi.jsx("span",{className:"text-muted-foreground",children:"-"})}),vi.jsx(hq,{children:vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx(Sb,{className:"w-4 h-4 text-muted-foreground"}),vi.jsx("span",{className:"text-sm",children:new Date(e.createdAt).toLocaleDateString()})]})}),vi.jsx(hq,{children:e.lastActivity?vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx(vb,{className:"w-4 h-4 text-green-500"}),vi.jsx("span",{className:"text-sm",children:new Date(e.lastActivity).toLocaleDateString()})]}):vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx(vb,{className:"w-4 h-4 text-muted-foreground"}),vi.jsx("span",{className:"text-sm text-muted-foreground",children:C("segments.create.table.no_activity","No activity")})]})}),vi.jsx(hq,{children:vi.jsx(tk,{type:"button",variant:"ghost",size:"sm",onClick:t=>{t.preventDefault(),t.stopPropagation(),(e=>{const t=u.find((t=>t.id===e));g((t=>[...t,e])),t&&y((e=>[...e,t])),N({title:C("segments.create.contact_excluded_title","Contact excluded"),description:C("segments.create.contact_excluded_desc","Contact has been removed from this segment preview")})})(e.id)},className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",title:C("segments.create.exclude_contact_tooltip","Exclude contact from segment"),children:vi.jsx(Yw,{className:"w-4 h-4"})})})]},e.id)))})]})}):u.length>0&&0===M.length?vi.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[vi.jsx(oj,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),vi.jsx("p",{children:C("segments.create.all_contacts_excluded","All contacts have been excluded from this segment")}),vi.jsx("p",{className:"text-sm",children:h.length>0&&vi.jsxs(tk,{type:"button",variant:"outline",size:"sm",onClick:e=>{e.preventDefault(),e.stopPropagation(),g([]),y([])},className:"mt-2",children:[vi.jsx(Xw,{className:"w-4 h-4 mr-2"}),C("segments.create.restore_all_contacts","Restore all contacts")]})})]}):0===E?vi.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[vi.jsx(oj,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),vi.jsx("p",{children:C("segments.create.no_contacts_match","No contacts match the current criteria")}),vi.jsx("p",{className:"text-sm",children:C("segments.create.try_adjusting_filters","Try adjusting your filters")})]}):vi.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[vi.jsx(oj,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),vi.jsx("p",{children:C("segments.create.add_filter_criteria","Add filter criteria to preview contacts")}),vi.jsx("p",{className:"text-sm",children:C("segments.create.select_tags_or_dates","Select tags or date ranges to see matching contacts")})]}),h.length>0&&vi.jsxs("div",{className:"mt-4 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[vi.jsxs("div",{className:"flex items-center justify-between mb-2",children:[vi.jsxs("h5",{className:"text-sm font-medium text-orange-800",children:[C("segments.create.excluded_contacts_title","Excluded Contacts")," (",h.length,")"]}),vi.jsxs(tk,{type:"button",variant:"outline",size:"sm",onClick:e=>{e.preventDefault(),e.stopPropagation(),g([]),y([])},className:"text-orange-700 border-orange-300 hover:bg-orange-100",children:[vi.jsx(Xw,{className:"w-4 h-4 mr-1"}),C("segments.create.restore_all","Restore All")]})]}),vi.jsx("div",{className:"flex flex-wrap gap-2",children:x.map((e=>vi.jsxs("div",{className:"flex items-center gap-2 bg-white px-2 py-1 rounded border border-orange-200",children:[vi.jsx("span",{className:"text-sm text-orange-800",children:e.name||e.phone||`Contact ${e.id}`}),vi.jsx(tk,{type:"button",variant:"ghost",size:"sm",onClick:t=>{var n;t.preventDefault(),t.stopPropagation(),n=e.id,g((e=>e.filter((e=>e!==n)))),y((e=>e.filter((e=>e.id!==n)))),N({title:C("segments.create.contact_restored_title","Contact restored"),description:C("segments.create.contact_restored_desc","Contact has been added back to the segment preview")})},className:"h-5 w-5 p-0 text-orange-600 hover:text-orange-800",title:C("segments.create.restore_contact_tooltip","Restore contact"),children:vi.jsx(Xw,{className:"w-3 h-3"})})]},e.id)))})]})]}),vi.jsxs(iB,{children:[vi.jsx(tk,{type:"button",variant:"outline",onClick:t,children:C("common.cancel","Cancel")}),vi.jsxs(tk,{type:"submit",disabled:v,children:[v&&vi.jsx(uw,{className:"w-4 h-4 mr-2 animate-spin"}),C("segments.create.create_button","Create Segment")]})]})]})]})})}var WIe=.999,GIe=/[\\\/_+.#"@\[\(\{&]/,VIe=/[\\\/_+.#"@\[\(\{&]/g,$Ie=/[\s-]/,HIe=/[\s-]/g;function YIe(e,t,n,a,r,i,s){if(i===t.length)return r===e.length?1:.99;var o=`${r},${i}`;if(void 0!==s[o])return s[o];for(var l,c,d,u,f=a.charAt(i),m=n.indexOf(f,r),p=0;m>=0;)(l=YIe(e,t,n,a,m+1,i+1,s))>p&&(m===r?l*=1:GIe.test(e.charAt(m-1))?(l*=.8,(d=e.slice(r,m-1).match(VIe))&&r>0&&(l*=Math.pow(WIe,d.length))):$Ie.test(e.charAt(m-1))?(l*=.9,(u=e.slice(r,m-1).match(HIe))&&r>0&&(l*=Math.pow(WIe,u.length))):(l*=.17,r>0&&(l*=Math.pow(WIe,m-r))),e.charAt(m)!==t.charAt(i)&&(l*=.9999)),(l<.1&&n.charAt(m-1)===a.charAt(i+1)||a.charAt(i+1)===a.charAt(i)&&n.charAt(m-1)!==a.charAt(i))&&(.1*(c=YIe(e,t,n,a,m+1,i+2,s))>l&&(l=.1*c)),l>p&&(p=l),m=n.indexOf(f,m+1);return s[o]=p,p}function qIe(e){return e.toLowerCase().replace(HIe," ")}function QIe(e,t,n){return YIe(e=n&&n.length>0?""+(e+" "+n.join(" ")):e,t,qIe(e),qIe(t),0,0,{})}var ZIe='[cmdk-group=""]',JIe='[cmdk-group-items=""]',KIe='[cmdk-item=""]',XIe=`${KIe}:not([aria-disabled="true"])`,eLe="cmdk-item-select",tLe="data-value",nLe=(e,t,n)=>QIe(e,t,n),aLe=ci.createContext(void 0),rLe=()=>ci.useContext(aLe),iLe=ci.createContext(void 0),sLe=()=>ci.useContext(iLe),oLe=ci.createContext(void 0),lLe=ci.forwardRef(((e,t)=>{let n=jLe((()=>{var t,n;return{search:"",value:null!=(n=null!=(t=e.value)?t:e.defaultValue)?n:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}})),a=jLe((()=>new Set)),r=jLe((()=>new Map)),i=jLe((()=>new Map)),s=jLe((()=>new Set)),o=bLe(e),{label:l,children:c,value:d,onValueChange:u,filter:f,shouldFilter:m,loop:p,disablePointerSelection:h=!1,vimBindings:g=!0,...x}=e,y=yN(),v=yN(),b=yN(),w=ci.useRef(null),j=SLe();wLe((()=>{if(void 0!==d){let e=d.trim();n.current.value=e,N.emit()}}),[d]),wLe((()=>{j(6,E)}),[]);let N=ci.useMemo((()=>({subscribe:e=>(s.current.add(e),()=>s.current.delete(e)),snapshot:()=>n.current,setState:(e,t,a)=>{var r,i,s,l;if(!Object.is(n.current[e],t)){if(n.current[e]=t,"search"===e)_(),k(),j(1,M);else if("value"===e){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let e=document.getElementById(b);e?e.focus():null==(r=document.getElementById(y))||r.focus()}if(j(7,(()=>{var e;n.current.selectedItemId=null==(e=I())?void 0:e.id,N.emit()})),a||j(5,E),void 0!==(null==(i=o.current)?void 0:i.value)){let e=null!=t?t:"";return void(null==(l=(s=o.current).onValueChange)||l.call(s,e))}}N.emit()}},emit:()=>{s.current.forEach((e=>e()))}})),[]),C=ci.useMemo((()=>({value:(e,t,a)=>{var r;t!==(null==(r=i.current.get(e))?void 0:r.value)&&(i.current.set(e,{value:t,keywords:a}),n.current.filtered.items.set(e,S(t,a)),j(2,(()=>{k(),N.emit()})))},item:(e,t)=>(a.current.add(e),t&&(r.current.has(t)?r.current.get(t).add(e):r.current.set(t,new Set([e]))),j(3,(()=>{_(),k(),n.current.value||M(),N.emit()})),()=>{i.current.delete(e),a.current.delete(e),n.current.filtered.items.delete(e);let t=I();j(4,(()=>{_(),(null==t?void 0:t.getAttribute("id"))===e&&M(),N.emit()}))}),group:e=>(r.current.has(e)||r.current.set(e,new Set),()=>{i.current.delete(e),r.current.delete(e)}),filter:()=>o.current.shouldFilter,label:l||e["aria-label"],getDisablePointerSelection:()=>o.current.disablePointerSelection,listId:y,inputId:b,labelId:v,listInnerRef:w})),[]);function S(e,t){var a,r;let i=null!=(r=null==(a=o.current)?void 0:a.filter)?r:nLe;return e?i(e,n.current.search,t):0}function k(){if(!n.current.search||!1===o.current.shouldFilter)return;let e=n.current.filtered.items,t=[];n.current.filtered.groups.forEach((n=>{let a=r.current.get(n),i=0;a.forEach((t=>{let n=e.get(t);i=Math.max(n,i)})),t.push([n,i])}));let a=w.current;L().sort(((t,n)=>{var a,r;let i=t.getAttribute("id"),s=n.getAttribute("id");return(null!=(a=e.get(s))?a:0)-(null!=(r=e.get(i))?r:0)})).forEach((e=>{let t=e.closest(JIe);t?t.appendChild(e.parentElement===t?e:e.closest(`${JIe} > *`)):a.appendChild(e.parentElement===a?e:e.closest(`${JIe} > *`))})),t.sort(((e,t)=>t[1]-e[1])).forEach((e=>{var t;let n=null==(t=w.current)?void 0:t.querySelector(`${ZIe}[${tLe}="${encodeURIComponent(e[0])}"]`);null==n||n.parentElement.appendChild(n)}))}function M(){let e=L().find((e=>"true"!==e.getAttribute("aria-disabled"))),t=null==e?void 0:e.getAttribute(tLe);N.setState("value",t||void 0)}function _(){var e,t,s,l;if(!n.current.search||!1===o.current.shouldFilter)return void(n.current.filtered.count=a.current.size);n.current.filtered.groups=new Set;let c=0;for(let r of a.current){let a=S(null!=(t=null==(e=i.current.get(r))?void 0:e.value)?t:"",null!=(l=null==(s=i.current.get(r))?void 0:s.keywords)?l:[]);n.current.filtered.items.set(r,a),a>0&&c++}for(let[a,i]of r.current)for(let e of i)if(n.current.filtered.items.get(e)>0){n.current.filtered.groups.add(a);break}n.current.filtered.count=c}function E(){var e,t,n;let a=I();a&&((null==(e=a.parentElement)?void 0:e.firstChild)===a&&(null==(n=null==(t=a.closest(ZIe))?void 0:t.querySelector('[cmdk-group-heading=""]'))||n.scrollIntoView({block:"nearest"})),a.scrollIntoView({block:"nearest"}))}function I(){var e;return null==(e=w.current)?void 0:e.querySelector(`${KIe}[aria-selected="true"]`)}function L(){var e;return Array.from((null==(e=w.current)?void 0:e.querySelectorAll(XIe))||[])}function A(e){let t=L()[e];t&&N.setState("value",t.getAttribute(tLe))}function T(e){var t;let n=I(),a=L(),r=a.findIndex((e=>e===n)),i=a[r+e];null!=(t=o.current)&&t.loop&&(i=r+e<0?a[a.length-1]:r+e===a.length?a[0]:a[r+e]),i&&N.setState("value",i.getAttribute(tLe))}function D(e){let t,n=I(),a=null==n?void 0:n.closest(ZIe);for(;a&&!t;)a=e>0?yLe(a,ZIe):vLe(a,ZIe),t=null==a?void 0:a.querySelector(XIe);t?N.setState("value",t.getAttribute(tLe)):T(e)}let P=()=>A(L().length-1),O=e=>{e.preventDefault(),e.metaKey?P():e.altKey?D(1):T(1)},R=e=>{e.preventDefault(),e.metaKey?A(0):e.altKey?D(-1):T(-1)};return ci.createElement(ev.div,{ref:t,tabIndex:-1,...x,"cmdk-root":"",onKeyDown:e=>{var t;null==(t=x.onKeyDown)||t.call(x,e);let n=e.nativeEvent.isComposing||229===e.keyCode;if(!e.defaultPrevented&&!n)switch(e.key){case"n":case"j":g&&e.ctrlKey&&O(e);break;case"ArrowDown":O(e);break;case"p":case"k":g&&e.ctrlKey&&R(e);break;case"ArrowUp":R(e);break;case"Home":e.preventDefault(),A(0);break;case"End":e.preventDefault(),P();break;case"Enter":{e.preventDefault();let t=I();if(t){let e=new Event(eLe);t.dispatchEvent(e)}}}}},ci.createElement("label",{"cmdk-label":"",htmlFor:C.inputId,id:C.labelId,style:MLe},l),kLe(e,(e=>ci.createElement(iLe.Provider,{value:N},ci.createElement(aLe.Provider,{value:C},e)))))})),cLe=ci.forwardRef(((e,t)=>{var n,a;let r=yN(),i=ci.useRef(null),s=ci.useContext(oLe),o=rLe(),l=bLe(e),c=null!=(a=null==(n=l.current)?void 0:n.forceMount)?a:null==s?void 0:s.forceMount;wLe((()=>{if(!c)return o.item(r,null==s?void 0:s.id)}),[c]);let d=CLe(r,i,[e.value,e.children,i],e.keywords),u=sLe(),f=NLe((e=>e.value&&e.value===d.current)),m=NLe((e=>!(!c&&!1!==o.filter())||(!e.search||e.filtered.items.get(r)>0)));function p(){var e,t;h(),null==(t=(e=l.current).onSelect)||t.call(e,d.current)}function h(){u.setState("value",d.current,!0)}if(ci.useEffect((()=>{let t=i.current;if(t&&!e.disabled)return t.addEventListener(eLe,p),()=>t.removeEventListener(eLe,p)}),[m,e.onSelect,e.disabled]),!m)return null;let{disabled:g,value:x,onSelect:y,forceMount:v,keywords:b,...w}=e;return ci.createElement(ev.div,{ref:Gy(i,t),...w,id:r,"cmdk-item":"",role:"option","aria-disabled":!!g,"aria-selected":!!f,"data-disabled":!!g,"data-selected":!!f,onPointerMove:g||o.getDisablePointerSelection()?void 0:h,onClick:g?void 0:p},e.children)})),dLe=ci.forwardRef(((e,t)=>{let{heading:n,children:a,forceMount:r,...i}=e,s=yN(),o=ci.useRef(null),l=ci.useRef(null),c=yN(),d=rLe(),u=NLe((e=>!(!r&&!1!==d.filter())||(!e.search||e.filtered.groups.has(s))));wLe((()=>d.group(s)),[]),CLe(s,o,[e.value,e.heading,l]);let f=ci.useMemo((()=>({id:s,forceMount:r})),[r]);return ci.createElement(ev.div,{ref:Gy(o,t),...i,"cmdk-group":"",role:"presentation",hidden:!u||void 0},n&&ci.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:c},n),kLe(e,(e=>ci.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?c:void 0},ci.createElement(oLe.Provider,{value:f},e)))))})),uLe=ci.forwardRef(((e,t)=>{let{alwaysRender:n,...a}=e,r=ci.useRef(null),i=NLe((e=>!e.search));return n||i?ci.createElement(ev.div,{ref:Gy(r,t),...a,"cmdk-separator":"",role:"separator"}):null})),fLe=ci.forwardRef(((e,t)=>{let{onValueChange:n,...a}=e,r=null!=e.value,i=sLe(),s=NLe((e=>e.search)),o=NLe((e=>e.selectedItemId)),l=rLe();return ci.useEffect((()=>{null!=e.value&&i.setState("search",e.value)}),[e.value]),ci.createElement(ev.input,{ref:t,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":o,id:l.inputId,type:"text",value:r?e.value:s,onChange:e=>{r||i.setState("search",e.target.value),null==n||n(e.target.value)}})})),mLe=ci.forwardRef(((e,t)=>{let{children:n,label:a="Suggestions",...r}=e,i=ci.useRef(null),s=ci.useRef(null),o=NLe((e=>e.selectedItemId)),l=rLe();return ci.useEffect((()=>{if(s.current&&i.current){let e,t=s.current,n=i.current,a=new ResizeObserver((()=>{e=requestAnimationFrame((()=>{let e=t.offsetHeight;n.style.setProperty("--cmdk-list-height",e.toFixed(1)+"px")}))}));return a.observe(t),()=>{cancelAnimationFrame(e),a.unobserve(t)}}}),[]),ci.createElement(ev.div,{ref:Gy(i,t),...r,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":o,"aria-label":a,id:l.listId},kLe(e,(e=>ci.createElement("div",{ref:Gy(s,l.listInnerRef),"cmdk-list-sizer":""},e))))})),pLe=ci.forwardRef(((e,t)=>{let{open:n,onOpenChange:a,overlayClassName:r,contentClassName:i,container:s,...o}=e;return ci.createElement(VF,{open:n,onOpenChange:a},ci.createElement(HF,{container:s},ci.createElement(YF,{"cmdk-overlay":"",className:r}),ci.createElement(qF,{"aria-label":e.label,"cmdk-dialog":"",className:i},ci.createElement(lLe,{ref:t,...o}))))})),hLe=ci.forwardRef(((e,t)=>NLe((e=>0===e.filtered.count))?ci.createElement(ev.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null)),gLe=ci.forwardRef(((e,t)=>{let{progress:n,children:a,label:r="Loading...",...i}=e;return ci.createElement(ev.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":r},kLe(e,(e=>ci.createElement("div",{"aria-hidden":!0},e))))})),xLe=Object.assign(lLe,{List:mLe,Item:cLe,Input:fLe,Group:dLe,Separator:uLe,Dialog:pLe,Empty:hLe,Loading:gLe});function yLe(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function vLe(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function bLe(e){let t=ci.useRef(e);return wLe((()=>{t.current=e})),t}var wLe="undefined"==typeof window?ci.useEffect:ci.useLayoutEffect;function jLe(e){let t=ci.useRef();return void 0===t.current&&(t.current=e()),t}function NLe(e){let t=sLe(),n=()=>e(t.snapshot());return ci.useSyncExternalStore(t.subscribe,n,n)}function CLe(e,t,n,a=[]){let r=ci.useRef(),i=rLe();return wLe((()=>{var s;let o=(()=>{var e;for(let t of n){if("string"==typeof t)return t.trim();if("object"==typeof t&&"current"in t)return t.current?null==(e=t.current.textContent)?void 0:e.trim():r.current}})(),l=a.map((e=>e.trim()));i.value(e,o,l),null==(s=t.current)||s.setAttribute(tLe,o),r.current=o})),r}var SLe=()=>{let[e,t]=ci.useState(),n=jLe((()=>new Map));return wLe((()=>{n.current.forEach((e=>e())),n.current=new Map}),[e]),(e,a)=>{n.current.set(e,a),t({})}};function kLe({asChild:e,children:t},n){return e&&ci.isValidElement(t)?ci.cloneElement(function(e){let t=e.type;return"function"==typeof t?t(e.props):"render"in t?t.render(e.props):e}(t),{ref:t.ref},n(t.props.children)):n(t)}var MLe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const _Le=ci.forwardRef((({className:e,...t},n)=>vi.jsx(xLe,{ref:n,className:iN("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t})));_Le.displayName=xLe.displayName;const ELe=ci.forwardRef((({className:e,...t},n)=>vi.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[vi.jsx(Pw,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),vi.jsx(xLe.Input,{ref:n,className:iN("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]})));ELe.displayName=xLe.Input.displayName;const ILe=ci.forwardRef((({className:e,...t},n)=>vi.jsx(xLe.List,{ref:n,className:iN("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t})));ILe.displayName=xLe.List.displayName;const LLe=ci.forwardRef(((e,t)=>vi.jsx(xLe.Empty,{ref:t,className:"py-6 text-center text-sm",...e})));LLe.displayName=xLe.Empty.displayName;const ALe=ci.forwardRef((({className:e,...t},n)=>vi.jsx(xLe.Group,{ref:n,className:iN("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t})));ALe.displayName=xLe.Group.displayName;ci.forwardRef((({className:e,...t},n)=>vi.jsx(xLe.Separator,{ref:n,className:iN("-mx-1 h-px bg-border",e),...t}))).displayName=xLe.Separator.displayName;const TLe=ci.forwardRef((({className:e,...t},n)=>vi.jsx(xLe.Item,{ref:n,className:iN("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t})));TLe.displayName=xLe.Item.displayName;const DLe=e=>[{value:"name",label:e("variables.contact_name","Contact Name"),description:e("variables.contact_name_desc","Full name of the contact"),icon:vi.jsx(sj,{className:"w-4 h-4"}),category:"contact"},{value:"phone",label:e("variables.phone_number","Phone Number"),description:e("variables.phone_number_desc","Contact phone number"),icon:vi.jsx(kw,{className:"w-4 h-4"}),category:"contact"},{value:"email",label:e("variables.email_address","Email Address"),description:e("variables.email_address_desc","Contact email address"),icon:vi.jsx(pw,{className:"w-4 h-4"}),category:"contact"},{value:"company",label:e("variables.company_name","Company Name"),description:e("variables.company_name_desc","Contact company or organization"),icon:vi.jsx(Cb,{className:"w-4 h-4"}),category:"contact"},{value:"date",label:e("variables.current_date","Current Date"),description:e("variables.current_date_desc","Today's date"),icon:vi.jsx(Sb,{className:"w-4 h-4"}),category:"system"},{value:"time",label:e("variables.current_time","Current Time"),description:e("variables.current_time_desc","Current time"),icon:vi.jsx(Sb,{className:"w-4 h-4"}),category:"system"}];function PLe({textareaRef:e,value:t,onChange:n,customVariables:a=[],className:r=""}){const[i,s]=ci.useState(!1),[o,l]=ci.useState(""),[c,d]=ci.useState(0),{t:u}=sk(),f=[...DLe(u),...a.map((e=>({value:e,label:e.charAt(0).toUpperCase()+e.slice(1),description:u("variables.custom_variable_desc",`Custom variable: ${e}`,{variable:e}),icon:vi.jsx(Hw,{className:"w-4 h-4"}),category:"custom"})))].filter((e=>e.label.toLowerCase().includes(o.toLowerCase())||e.value.toLowerCase().includes(o.toLowerCase())||e.description.toLowerCase().includes(o.toLowerCase()))).reduce(((e,t)=>{const n=t.category;return e[n]||(e[n]=[]),e[n].push(t),e}),{});ci.useEffect((()=>{const t=e.current;if(!t)return;const n=()=>{d(t.selectionStart)};return t.addEventListener("selectionchange",n),t.addEventListener("click",n),t.addEventListener("keyup",n),()=>{t.removeEventListener("selectionchange",n),t.removeEventListener("click",n),t.removeEventListener("keyup",n)}}),[e]);ci.useEffect((()=>{const n=e.current;if(!n)return;const a=()=>{const e=n.selectionStart;t.substring(0,e).endsWith("{{")&&s(!0)};return n.addEventListener("input",a),()=>n.removeEventListener("input",a)}),[t,e]);const m=e=>{switch(e){case"contact":return vi.jsx(sj,{className:"w-4 h-4"});case"custom":return vi.jsx(Hw,{className:"w-4 h-4"});case"system":return vi.jsx(iw,{className:"w-4 h-4"});default:return vi.jsx(Kw,{className:"w-4 h-4"})}},p=e=>{switch(e){case"contact":return u("variables.category.contact","Contact Information");case"custom":return u("variables.category.custom","Custom Variables");case"system":return u("variables.category.system","System Variables");default:return u("variables.category.other","Other")}};return vi.jsxs("div",{className:`flex items-center gap-2 ${r}`,children:[vi.jsxs(F3,{open:i,onOpenChange:s,children:[vi.jsx(B3,{asChild:!0,children:vi.jsxs(tk,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[vi.jsx(lj,{className:"w-4 h-4"}),u("variables.insert_variable","Insert Variable")]})}),vi.jsx(U3,{className:"w-80 p-0",align:"start",children:vi.jsxs(_Le,{children:[vi.jsx(ELe,{placeholder:u("variables.search_placeholder","Search variables..."),value:o,onValueChange:l}),vi.jsxs(ILe,{children:[vi.jsx(LLe,{children:u("variables.no_variables_found","No variables found.")}),Object.entries(f).map((([a,r])=>vi.jsx(ALe,{heading:vi.jsxs("div",{className:"flex items-center gap-2",children:[m(a),p(a)]}),children:r.map((a=>vi.jsx(TLe,{value:a.value,onSelect:()=>(a=>{const r=e.current;if(!r)return;const i=r.selectionStart,o=r.selectionEnd,c=`{{${a}}}`,d=t.substring(0,i)+c+t.substring(o);n(d),setTimeout((()=>{const e=i+c.length;r.setSelectionRange(e,e),r.focus()}),0),s(!1),l("")})(a.value),className:"flex items-center gap-3 p-3",children:vi.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[a.icon,vi.jsxs("div",{className:"flex-1",children:[vi.jsx("div",{className:"font-medium",children:a.label}),vi.jsx("div",{className:"text-sm text-muted-foreground",children:a.description})]}),vi.jsx(ak,{variant:"secondary",className:"text-xs",children:`{{${a.value}}}`})]})},a.value)))},a)))]})]})})]}),vi.jsxs("div",{className:"text-sm text-muted-foreground",children:[u("variables.help_text","Use variables like")," ",vi.jsx(ak,{variant:"outline",className:"text-xs",children:"{{name}}"})," ",u("variables.for_personalization","for personalization")]})]})}const OLe=["general","marketing","support","notification","welcome","follow-up","promotional"],RLe=10485760;function zLe({isOpen:e,onClose:t,onTemplateCreated:n}){const[a,r]=ci.useState({name:"",description:"",category:"general",content:""}),[i,s]=ci.useState([]),[o,l]=ci.useState(!1),[c,d]=ci.useState({}),u=ci.useRef(null),f=ci.useRef(null),{toast:m}=By(),{t:p}=sk();di.useEffect((()=>{e&&(r({name:"",description:"",category:"general",content:""}),s([]),d({}))}),[e]);const h=e=>{const t=e.type.toLowerCase();return t.startsWith("image/")?"image":t.startsWith("video/")?"video":t.startsWith("audio/")?"audio":"document"},g=e=>{switch(e){case"image":return vi.jsx(ow,{className:"w-4 h-4"});case"video":return vi.jsx(cj,{className:"w-4 h-4"});case"audio":return vi.jsx(bw,{className:"w-4 h-4"});default:return vi.jsx(Xb,{className:"w-4 h-4"})}},x=e=>{if(e.size>RLe)return p("templates.create.file_size_error","File size must be less than 10MB");const t=h(e),n={image:["image/jpeg","image/png","image/webp"],video:["video/mp4","video/3gpp"],audio:["audio/mpeg","audio/aac","audio/ogg"],document:["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]};return"image"!==t||n.image.includes(e.type)?"video"!==t||n.video.includes(e.type)?"audio"!==t||n.audio.includes(e.type)?"document"!==t||n.document.includes(e.type)?null:p("templates.create.document_type_error","Only PDF, DOC, and DOCX documents are allowed"):p("templates.create.audio_type_error","Only MP3, AAC, and OGG audio files are allowed"):p("templates.create.video_type_error","Only MP4 and 3GP videos are allowed"):p("templates.create.image_type_error","Only JPEG, PNG, and WebP images are allowed")};return vi.jsx(KF,{open:e,onOpenChange:t,children:vi.jsxs(aB,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[vi.jsx(rB,{children:vi.jsxs(sB,{className:"flex items-center gap-2",children:[vi.jsx(Xb,{className:"w-5 h-5"}),p("templates.create.title","Create Template")]})}),vi.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),a.name.trim())if(a.content.trim()){l(!0);try{const e=i.length>0?await(async()=>{const e=[];for(let n=0;n<i.length;n++){const a=i[n],r=new FormData;r.append("media",a.file);try{d((e=>({...e,[n]:0})));const t=await fetch("/api/templates/upload-media",{method:"POST",body:r});if(!t.ok)throw new Error(p("templates.create.upload_failed","Upload failed"));const a=await t.json();e.push(a.url),d((e=>({...e,[n]:100})))}catch(t){throw new Error(p("templates.create.upload_file_failed",`Failed to upload ${a.file.name}`,{filename:a.file.name}))}}return e})():[],r=await fetch("/api/campaigns/templates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...a,mediaUrls:e})}),s=await r.json();if(!s.success)throw new Error(s.error);m({title:p("common.success","Success"),description:p("templates.create.success","Template created successfully")}),n(s.data),t()}catch(r){m({title:p("common.error","Error"),description:p("templates.create.failed","Failed to create template"),variant:"destructive"})}finally{l(!1)}}else m({title:p("common.error","Error"),description:p("templates.create.content_required","Please enter template content"),variant:"destructive"});else m({title:p("common.error","Error"),description:p("templates.create.name_required","Please enter a template name"),variant:"destructive"})},className:"space-y-6",children:[vi.jsxs("div",{className:"space-y-4",children:[vi.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[vi.jsxs("div",{children:[vi.jsx(uB,{htmlFor:"name",children:p("templates.create.name_label","Template Name")}),vi.jsx(fB,{id:"name",value:a.name,onChange:e=>r((t=>({...t,name:e.target.value}))),placeholder:p("templates.create.name_placeholder","e.g., Welcome Message"),required:!0})]}),vi.jsxs("div",{children:[vi.jsx(uB,{htmlFor:"category",children:p("templates.create.category_label","Category")}),vi.jsxs(AU,{value:a.category,onValueChange:e=>r((t=>({...t,category:e}))),children:[vi.jsx(PU,{children:vi.jsx(DU,{})}),vi.jsx(zU,{children:OLe.map((e=>vi.jsx(FU,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e)))})]})]})]}),vi.jsxs("div",{children:[vi.jsx(uB,{htmlFor:"description",children:p("templates.create.description_label","Description (Optional)")}),vi.jsx(mB,{id:"description",value:a.description,onChange:e=>r((t=>({...t,description:e.target.value}))),placeholder:p("templates.create.description_placeholder","Describe this template..."),rows:2})]})]}),vi.jsx(gY,{}),vi.jsx("div",{className:"space-y-4",children:vi.jsxs("div",{children:[vi.jsx(uB,{htmlFor:"content",children:p("templates.create.content_label","Template Content")}),vi.jsx(mB,{ref:f,id:"content",value:a.content,onChange:e=>r((t=>({...t,content:e.target.value}))),placeholder:p("templates.create.content_placeholder","Enter your template content. Click 'Insert Variable' to add personalization..."),rows:6,required:!0}),vi.jsx("div",{className:"mt-2",children:vi.jsx(PLe,{textareaRef:f,value:a.content,onChange:e=>r((t=>({...t,content:e}))),customVariables:["company","position","location","industry"]})})]})}),vi.jsx(gY,{}),vi.jsxs("div",{className:"space-y-4",children:[vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsx(uB,{children:p("templates.create.media_files_label","Media Files (Optional)")}),vi.jsxs(tk,{type:"button",variant:"outline",size:"sm",onClick:()=>{var e;return null==(e=u.current)?void 0:e.click()},className:"flex items-center gap-2",children:[vi.jsx(ej,{className:"w-4 h-4"}),p("templates.create.add_media","Add Media")]})]}),vi.jsx("input",{ref:u,type:"file",multiple:!0,accept:"image/*,video/*,audio/*,.pdf,.doc,.docx",onChange:e=>{const t=Array.from(e.target.files||[]);for(const n of t){const e=x(n);if(e){m({title:p("templates.create.invalid_file","Invalid File"),description:e,variant:"destructive"});continue}const t={file:n,url:URL.createObjectURL(n),type:h(n)};s((e=>[...e,t]))}u.current&&(u.current.value="")},className:"hidden"}),i.length>0&&vi.jsx("div",{className:"space-y-2",children:i.map(((e,t)=>vi.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[g(e.type),vi.jsxs("div",{className:"flex-1",children:[vi.jsx("p",{className:"text-sm font-medium",children:e.file.name}),vi.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.type," • ",(e.file.size/1024/1024).toFixed(2)," MB"]}),void 0!==c[t]&&vi.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1 mt-1",children:vi.jsx("div",{className:"bg-primary h-1 rounded-full transition-all",style:{width:`${c[t]}%`}})})]}),vi.jsx(tk,{type:"button",variant:"ghost",size:"sm",onClick:()=>(e=>{s((t=>{const n=[...t];return URL.revokeObjectURL(n[e].url),n.splice(e,1),n}))})(t),children:vi.jsx(fj,{className:"w-4 h-4"})})]},t)))}),vi.jsx("p",{className:"text-xs text-muted-foreground",children:p("templates.create.supported_files","Supported: Images (JPEG, PNG, WebP), Videos (MP4, 3GP), Audio (MP3, AAC, OGG), Documents (PDF, DOC, DOCX). Max 10MB per file.")})]}),vi.jsxs(iB,{children:[vi.jsx(tk,{type:"button",variant:"outline",onClick:t,children:p("common.cancel","Cancel")}),vi.jsxs(tk,{type:"submit",disabled:o,children:[o&&vi.jsx(uw,{className:"w-4 h-4 mr-2 animate-spin"}),p("templates.create.create_button","Create Template")]})]})]})]})})}function FLe({isOpen:e,onClose:t,segmentId:n,onSegmentUpdated:a}){const[r,i]=ci.useState({name:"",description:""}),[s,o]=ci.useState({tags:[],created_after:"",created_before:""}),[l,c]=ci.useState(""),[d,u]=ci.useState(null),[f,m]=ci.useState([]),[p,h]=ci.useState(!1),[g,x]=ci.useState([]),[y,v]=ci.useState([]),[b,w]=ci.useState(!1),[j,N]=ci.useState(!1),[C,S]=ci.useState(!1),[k,M]=ci.useState(!1),[_,E]=ci.useState(null),{toast:I}=By(),{t:L}=sk(),A=ci.useRef(null);ci.useEffect((()=>{e&&n&&T()}),[e,n]);const T=async()=>{N(!0);try{const e=await fetch(`/api/campaigns/segments/${n}`),t=await e.json();if(!t.success)throw new Error(t.error);{const e=t.data;E(e),i({name:e.name,description:e.description||""});const n=e.criteria||{tags:[]};o(n),n.excludedContactIds&&n.excludedContactIds.length>0&&x(n.excludedContactIds),u(e.contactCount),(n.tags.length>0||n.created_after||n.created_before)&&D(n)}}catch(e){I({title:L("common.error","Error"),description:L("segments.edit.load_failed","Failed to load segment"),variant:"destructive"}),t()}finally{N(!1)}},D=ci.useCallback((e=>{A.current&&clearTimeout(A.current),A.current=setTimeout((async()=>{S(!0);try{const t=await fetch("/api/campaigns/segments/preview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({criteria:e,includeDetails:!0,limit:50})}),n=await t.json();if(n.success&&(u(n.data.count),m(n.data.contacts||[]),h(n.data.hasMore||!1),g.length>0&&0===y.length)){const e=n.data.contacts.filter((e=>g.includes(e.id)));v(e)}}catch(t){console.error("Failed to preview contacts:",t),u(null),m([]),h(!1)}finally{S(!1)}}),500)}),[g.length,y.length]);ci.useEffect((()=>{e&&(s.tags.length>0||s.created_after||s.created_before)?D(s):(u(null),m([]),h(!1))}),[s,e,D]),ci.useEffect((()=>()=>{A.current&&clearTimeout(A.current)}),[]);const P=e=>{if(!e)return!1;return e.replace(/[^0-9]/g,"").length<=14},O=f.filter((e=>!g.includes(e.id)&&P(e.phone))),R=f.filter((e=>!P(e.phone))),z=null!==d?Math.max(0,d-g.length-R.length):null,F=()=>{l.trim()&&!s.tags.includes(l.trim())&&(o((e=>({...e,tags:[...e.tags,l.trim()]}))),c(""))};return j?vi.jsx(KF,{open:e,onOpenChange:t,children:vi.jsx(aB,{className:"sm:max-w-[600px]",children:vi.jsxs("div",{className:"flex items-center justify-center py-12",children:[vi.jsx(uw,{className:"h-8 w-8 animate-spin"}),vi.jsx("span",{className:"ml-2",children:L("segments.edit.loading_segment","Loading segment...")})]})})}):vi.jsxs(vi.Fragment,{children:[vi.jsx(KF,{open:e,onOpenChange:t,children:vi.jsxs(aB,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[vi.jsx(rB,{children:vi.jsxs(sB,{className:"flex items-center gap-2",children:[vi.jsx(oj,{className:"w-5 h-5"}),L("segments.edit.title","Edit Contact Segment")]})}),vi.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),r.name.trim()){w(!0);try{const e=await fetch(`/api/campaigns/segments/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r.name,description:r.description,criteria:{...s,excludedContactIds:g},excludedContactIds:g})}),l=await e.json();if(!l.success)throw new Error(l.error);I({title:L("common.success","Success"),description:L("segments.edit.update_success","Segment updated successfully")}),a(l.data),t(),i({name:"",description:""}),o({tags:[],created_after:"",created_before:""}),c(""),u(null),m([]),h(!1),x([]),v([]),E(null)}catch(l){I({title:L("common.error","Error"),description:L("segments.edit.update_failed","Failed to update segment"),variant:"destructive"})}finally{w(!1)}}else I({title:L("segments.edit.validation_error","Validation Error"),description:L("segments.edit.name_required","Segment name is required"),variant:"destructive"})},className:"space-y-6",children:[vi.jsxs("div",{className:"space-y-4",children:[vi.jsxs("div",{children:[vi.jsx(uB,{htmlFor:"name",children:L("segments.edit.name_label","Segment Name")}),vi.jsx(fB,{id:"name",value:r.name,onChange:e=>i((t=>({...t,name:e.target.value}))),placeholder:L("segments.edit.name_placeholder","e.g., VIP Customers, New Leads"),required:!0})]}),vi.jsxs("div",{children:[vi.jsx(uB,{htmlFor:"description",children:L("segments.edit.description_label","Description (Optional)")}),vi.jsx(mB,{id:"description",value:r.description,onChange:e=>i((t=>({...t,description:e.target.value}))),placeholder:L("segments.edit.description_placeholder","Describe this segment..."),rows:2})]})]}),vi.jsx(gY,{}),vi.jsxs("div",{className:"space-y-4",children:[vi.jsx("h3",{className:"text-lg font-medium",children:L("segments.edit.filter_criteria_title","Filter Criteria")}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{children:L("segments.edit.contact_tags_label","Contact Tags")}),vi.jsxs("div",{className:"flex gap-2",children:[vi.jsx(fB,{value:l,onChange:e=>c(e.target.value),placeholder:L("segments.edit.tag_placeholder","Add a tag..."),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),F())}}),vi.jsx(tk,{type:"button",onClick:F,size:"sm",children:vi.jsx(_w,{className:"w-4 h-4"})})]}),s.tags.length>0&&vi.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:s.tags.map((e=>vi.jsxs(ak,{variant:"secondary",className:"flex items-center gap-1",children:[vi.jsx(Hw,{className:"w-3 h-3"}),e,vi.jsx("button",{type:"button",onClick:t=>{var n;t.preventDefault(),t.stopPropagation(),n=e,o((e=>({...e,tags:e.tags.filter((e=>e!==n))})))},className:"ml-1 hover:text-destructive",children:vi.jsx(fj,{className:"w-3 h-3"})})]},e)))})]}),vi.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[vi.jsxs("div",{children:[vi.jsx(uB,{htmlFor:"created_after",children:L("segments.edit.created_after_label","Created After")}),vi.jsx(fB,{id:"created_after",type:"date",value:s.created_after,onChange:e=>o((t=>({...t,created_after:e.target.value})))})]}),vi.jsxs("div",{children:[vi.jsx(uB,{htmlFor:"created_before",children:L("segments.edit.created_before_label","Created Before")}),vi.jsx(fB,{id:"created_before",type:"date",value:s.created_before,onChange:e=>o((t=>({...t,created_before:e.target.value})))})]})]})]}),vi.jsx(gY,{}),vi.jsxs("div",{className:"space-y-4",children:[vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[vi.jsx(oj,{className:"w-4 h-4"}),L("segments.edit.contact_preview_title","Contact Preview")]}),null!==z&&vi.jsxs("div",{className:"text-sm text-muted-foreground",children:[p?vi.jsxs(vi.Fragment,{children:[L("segments.edit.showing_first_50","Showing first 50 of")," ",vi.jsx("strong",{children:z})," ",L("segments.edit.contacts","contacts")]}):vi.jsxs(vi.Fragment,{children:[vi.jsx("strong",{children:z})," ",L("segments.edit.contacts_match_criteria","contacts match these criteria")]}),g.length>0&&vi.jsxs("span",{className:"text-orange-600 ml-2",children:["(",g.length," ",L("segments.edit.excluded","excluded"),")"]})]})]}),C?vi.jsx("div",{className:"flex items-center justify-center py-8",children:vi.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[vi.jsx(uw,{className:"w-4 h-4 animate-spin"}),L("segments.edit.loading_preview","Loading contact preview...")]})}):O.length>0?vi.jsx("div",{className:"border rounded-lg max-h-80 overflow-y-auto",children:vi.jsxs(dq,{children:[vi.jsx(uq,{children:vi.jsxs(mq,{children:[vi.jsx(pq,{children:L("segments.edit.table.contact_name","Contact Name")}),vi.jsx(pq,{children:L("segments.edit.table.phone","Phone")}),vi.jsx(pq,{children:L("segments.edit.table.email","Email")}),vi.jsx(pq,{children:L("segments.edit.table.tags","Tags")}),vi.jsx(pq,{children:L("segments.edit.table.created","Created")}),vi.jsx(pq,{children:L("segments.edit.table.last_activity","Last Activity")}),vi.jsx(pq,{className:"w-20",children:L("segments.edit.table.actions","Actions")})]})}),vi.jsx(fq,{children:O.map((e=>vi.jsxs(mq,{children:[vi.jsx(hq,{className:"font-medium",children:vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx(oj,{className:"w-4 h-4 text-muted-foreground"}),e.name||L("segments.edit.table.unknown","Unknown")]})}),vi.jsx(hq,{children:vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx(kw,{className:"w-4 h-4 text-muted-foreground"}),e.phone]})}),vi.jsx(hq,{children:e.email?vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx(pw,{className:"w-4 h-4 text-muted-foreground"}),e.email]}):vi.jsx("span",{className:"text-muted-foreground",children:"-"})}),vi.jsx(hq,{children:e.tags&&e.tags.length>0?vi.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.tags.slice(0,2).map(((e,t)=>vi.jsx(ak,{variant:"outline",className:"text-xs",children:e},t))),e.tags.length>2&&vi.jsxs(ak,{variant:"outline",className:"text-xs",children:["+",e.tags.length-2]})]}):vi.jsx("span",{className:"text-muted-foreground",children:"-"})}),vi.jsx(hq,{children:vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx(Sb,{className:"w-4 h-4 text-muted-foreground"}),vi.jsx("span",{className:"text-sm",children:new Date(e.createdAt).toLocaleDateString()})]})}),vi.jsx(hq,{children:e.lastActivity?vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx(vb,{className:"w-4 h-4 text-green-500"}),vi.jsx("span",{className:"text-sm",children:new Date(e.lastActivity).toLocaleDateString()})]}):vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx(vb,{className:"w-4 h-4 text-muted-foreground"}),vi.jsx("span",{className:"text-sm text-muted-foreground",children:L("segments.edit.table.no_activity","No activity")})]})}),vi.jsx(hq,{children:vi.jsx(tk,{type:"button",variant:"ghost",size:"sm",onClick:t=>{t.preventDefault(),t.stopPropagation(),(e=>{const t=f.find((t=>t.id===e));x((t=>[...t,e])),t&&v((e=>[...e,t])),I({title:L("segments.edit.contact_excluded_title","Contact excluded"),description:L("segments.edit.contact_excluded_desc","Contact has been removed from this segment preview")})})(e.id)},className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",title:L("segments.edit.exclude_contact_tooltip","Exclude contact from segment"),children:vi.jsx(Yw,{className:"w-4 h-4"})})})]},e.id)))})]})}):f.length>0&&0===O.length?vi.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[vi.jsx(oj,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),vi.jsx("p",{children:L("segments.edit.all_contacts_excluded","All contacts have been excluded from this segment")}),vi.jsx("p",{className:"text-sm",children:g.length>0&&vi.jsxs(tk,{type:"button",variant:"outline",size:"sm",onClick:e=>{e.preventDefault(),e.stopPropagation(),x([]),v([])},className:"mt-2",children:[vi.jsx(Xw,{className:"w-4 h-4 mr-2"}),L("segments.edit.restore_all_contacts","Restore all contacts")]})})]}):0===z?vi.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[vi.jsx(oj,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),vi.jsx("p",{children:L("segments.edit.no_contacts_match","No contacts match the current criteria")}),vi.jsx("p",{className:"text-sm",children:L("segments.edit.try_adjusting_filters","Try adjusting your filters")})]}):vi.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[vi.jsx(oj,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),vi.jsx("p",{children:L("segments.edit.add_filter_criteria","Add filter criteria to preview contacts")}),vi.jsx("p",{className:"text-sm",children:L("segments.edit.select_tags_or_dates","Select tags or date ranges to see matching contacts")})]}),g.length>0&&vi.jsxs("div",{className:"mt-4 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[vi.jsxs("div",{className:"flex items-center justify-between mb-2",children:[vi.jsxs("h5",{className:"text-sm font-medium text-orange-800",children:[L("segments.edit.excluded_contacts_title","Excluded Contacts")," (",g.length,")"]}),vi.jsxs(tk,{type:"button",variant:"outline",size:"sm",onClick:e=>{e.preventDefault(),e.stopPropagation(),x([]),v([])},className:"text-orange-700 border-orange-300 hover:bg-orange-100",children:[vi.jsx(Xw,{className:"w-4 h-4 mr-1"}),L("segments.edit.restore_all","Restore All")]})]}),vi.jsx("div",{className:"flex flex-wrap gap-2",children:y.map((e=>vi.jsxs("div",{className:"flex items-center gap-2 bg-white px-2 py-1 rounded border border-orange-200",children:[vi.jsx("span",{className:"text-sm text-orange-800",children:e.name||e.phone||`Contact ${e.id}`}),vi.jsx(tk,{type:"button",variant:"ghost",size:"sm",onClick:t=>{var n;t.preventDefault(),t.stopPropagation(),n=e.id,x((e=>e.filter((e=>e!==n)))),v((e=>e.filter((e=>e.id!==n)))),I({title:L("segments.edit.contact_restored_title","Contact restored"),description:L("segments.edit.contact_restored_desc","Contact has been added back to the segment preview")})},className:"h-5 w-5 p-0 text-orange-600 hover:text-orange-800",title:L("segments.edit.restore_contact_tooltip","Restore contact"),children:vi.jsx(Xw,{className:"w-3 h-3"})})]},e.id)))})]})]}),vi.jsxs(iB,{className:"flex justify-between",children:[vi.jsxs(tk,{type:"button",variant:"destructive",onClick:()=>M(!0),disabled:b,children:[vi.jsx(Jw,{className:"w-4 h-4 mr-2"}),L("segments.edit.delete_button","Delete Segment")]}),vi.jsxs("div",{className:"flex gap-2",children:[vi.jsx(tk,{type:"button",variant:"outline",onClick:t,disabled:b,children:L("common.cancel","Cancel")}),vi.jsx(tk,{type:"submit",disabled:b,children:b?vi.jsxs(vi.Fragment,{children:[vi.jsx(uw,{className:"w-4 h-4 mr-2 animate-spin"}),L("segments.edit.updating","Updating...")]}):L("segments.edit.update_button","Update Segment")})]})]})]})]})}),vi.jsx(_9,{open:k,onOpenChange:M,children:vi.jsxs(A9,{children:[vi.jsxs(T9,{children:[vi.jsx(P9,{children:L("segments.edit.delete_confirm_title","Delete Segment")}),vi.jsxs(O9,{children:[L("segments.edit.delete_confirm_message","Are you sure you want to delete this segment? This action cannot be undone."),_&&vi.jsxs("div",{className:"mt-2 p-2 bg-muted rounded text-sm",children:[vi.jsx("strong",{children:_.name})," (",_.contactCount," ",L("segments.edit.contacts","contacts"),")"]})]})]}),vi.jsxs(D9,{children:[vi.jsx(z9,{children:L("common.cancel","Cancel")}),vi.jsx(R9,{onClick:async()=>{w(!0);try{const e=await fetch(`/api/campaigns/segments/${n}`,{method:"DELETE"}),r=await e.json();if(!r.success)throw new Error(r.error);I({title:L("common.success","Success"),description:L("segments.edit.delete_success","Segment deleted successfully")}),a(null),t()}catch(e){I({title:L("common.error","Error"),description:(e instanceof Error?e.message:null)||L("segments.edit.delete_failed","Failed to delete segment"),variant:"destructive"})}finally{w(!1),M(!1)}},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:L("segments.edit.delete_confirm_button","Delete Segment")})]})]})})]})}function BLe({isOpen:e,onClose:t,templateId:n,onTemplateUpdated:a}){const[r,i]=ci.useState({name:"",description:"",category:"general",content:""}),[s,o]=ci.useState([]),[l,c]=ci.useState(!1),[d,u]=ci.useState(!1),[f,m]=ci.useState({}),[p,h]=ci.useState(!1),[g,x]=ci.useState(null);ci.useRef(null);const y=ci.useRef(null),{toast:v}=By(),{t:b}=sk();ci.useEffect((()=>{e&&n&&w()}),[e,n]);const w=async()=>{u(!0);try{const e=await fetch(`/api/campaigns/templates/${n}`),t=await e.json();if(!t.success)throw new Error(t.error);{const e=t.data;x(e),i({name:e.name,description:e.description||"",category:e.category,content:e.content});const n=(e.mediaUrls||[]).map(((e,t)=>({id:`existing-${t}`,file:null,type:j(e),url:e,name:e.split("/").pop()||"media",size:0})));o(n)}}catch(e){v({title:b("common.error","Error"),description:b("templates.edit.load_failed","Failed to load template"),variant:"destructive"}),t()}finally{u(!1)}},j=e=>{var t;const n=null==(t=e.split(".").pop())?void 0:t.toLowerCase();return["jpg","jpeg","png","gif","webp"].includes(n||"")?"image":["mp4","avi","mov","wmv"].includes(n||"")?"video":["mp3","wav","ogg","m4a"].includes(n||"")?"audio":"document"};return d?vi.jsx(KF,{open:e,onOpenChange:t,children:vi.jsx(aB,{className:"sm:max-w-[600px]",children:vi.jsxs("div",{className:"flex items-center justify-center py-12",children:[vi.jsx(uw,{className:"h-8 w-8 animate-spin"}),vi.jsx("span",{className:"ml-2",children:b("templates.edit.loading_template","Loading template...")})]})})}):vi.jsxs(vi.Fragment,{children:[vi.jsx(KF,{open:e,onOpenChange:t,children:vi.jsxs(aB,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[vi.jsx(rB,{children:vi.jsxs(sB,{className:"flex items-center gap-2",children:[vi.jsx(Xb,{className:"w-5 h-5"}),b("templates.edit.title","Edit Template")]})}),vi.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),r.name.trim()&&r.content.trim()){c(!0);try{const e=s.map((e=>e.url)),l=await fetch(`/api/campaigns/templates/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r.name,description:r.description,category:r.category,content:r.content,mediaUrls:e,channelType:"whatsapp",isActive:!0})}),c=await l.json();if(!c.success)throw new Error(c.error);v({title:b("common.success","Success"),description:b("templates.edit.update_success","Template updated successfully")}),a(c.data),t(),i({name:"",description:"",category:"general",content:""}),o([]),m({}),x(null)}catch(l){v({title:b("common.error","Error"),description:b("templates.edit.update_failed","Failed to update template"),variant:"destructive"})}finally{c(!1)}}else v({title:b("templates.edit.validation_error","Validation Error"),description:b("templates.edit.name_content_required","Name and content are required"),variant:"destructive"})},className:"space-y-6",children:[vi.jsxs("div",{className:"space-y-4",children:[vi.jsxs("div",{children:[vi.jsx(uB,{htmlFor:"name",children:b("templates.edit.name_label","Template Name")}),vi.jsx(fB,{id:"name",value:r.name,onChange:e=>i((t=>({...t,name:e.target.value}))),placeholder:b("templates.edit.name_placeholder","e.g., Welcome Message, Promotion Alert"),required:!0})]}),vi.jsxs("div",{children:[vi.jsx(uB,{htmlFor:"description",children:b("templates.edit.description_label","Description (Optional)")}),vi.jsx(mB,{id:"description",value:r.description,onChange:e=>i((t=>({...t,description:e.target.value}))),placeholder:b("templates.edit.description_placeholder","Describe this template..."),rows:2})]}),vi.jsxs("div",{children:[vi.jsx(uB,{htmlFor:"category",children:b("templates.edit.category_label","Category")}),vi.jsxs(AU,{value:r.category,onValueChange:e=>i((t=>({...t,category:e}))),children:[vi.jsx(PU,{children:vi.jsx(DU,{})}),vi.jsxs(zU,{children:[vi.jsx(FU,{value:"general",children:b("templates.edit.category.general","General")}),vi.jsx(FU,{value:"marketing",children:b("templates.edit.category.marketing","Marketing")}),vi.jsx(FU,{value:"support",children:b("templates.edit.category.support","Support")}),vi.jsx(FU,{value:"notification",children:b("templates.edit.category.notification","Notification")}),vi.jsx(FU,{value:"welcome",children:b("templates.edit.category.welcome","Welcome")})]})]})]})]}),vi.jsx(gY,{}),vi.jsxs("div",{className:"space-y-4",children:[vi.jsxs("div",{children:[vi.jsx(uB,{htmlFor:"content",children:b("templates.edit.content_label","Message Content")}),vi.jsx(mB,{ref:y,id:"content",value:r.content,onChange:e=>i((t=>({...t,content:e.target.value}))),placeholder:b("templates.edit.content_placeholder","Enter your message content here... Click 'Insert Variable' to add personalization..."),rows:6,required:!0}),vi.jsx("div",{className:"mt-2",children:vi.jsx(PLe,{textareaRef:y,value:r.content,onChange:e=>i((t=>({...t,content:e}))),customVariables:["company","position","location","industry"]})})]}),s.length>0&&vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{children:b("templates.edit.attached_media","Attached Media")}),vi.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.map((e=>vi.jsx("div",{className:"relative border rounded-lg p-2",children:vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[vi.jsx(ak,{variant:"secondary",className:"text-xs",children:e.type}),vi.jsx("span",{className:"text-sm truncate",children:e.name})]}),vi.jsx(tk,{type:"button",variant:"ghost",size:"sm",onClick:()=>{return t=e.id,void o((e=>e.filter((e=>e.id!==t))));var t},className:"h-6 w-6 p-0",children:vi.jsx(fj,{className:"h-3 w-3"})})]})},e.id)))})]})]}),vi.jsxs(iB,{className:"flex justify-between",children:[vi.jsxs(tk,{type:"button",variant:"destructive",onClick:()=>h(!0),disabled:l,children:[vi.jsx(Jw,{className:"w-4 h-4 mr-2"}),b("templates.edit.delete_button","Delete Template")]}),vi.jsxs("div",{className:"flex gap-2",children:[vi.jsx(tk,{type:"button",variant:"outline",onClick:t,disabled:l,children:b("common.cancel","Cancel")}),vi.jsx(tk,{type:"submit",disabled:l,children:l?vi.jsxs(vi.Fragment,{children:[vi.jsx(uw,{className:"w-4 h-4 mr-2 animate-spin"}),b("templates.edit.updating","Updating...")]}):b("templates.edit.update_button","Update Template")})]})]})]})]})}),vi.jsx(_9,{open:p,onOpenChange:h,children:vi.jsxs(A9,{children:[vi.jsxs(T9,{children:[vi.jsx(P9,{children:b("templates.edit.delete_confirm_title","Delete Template")}),vi.jsxs(O9,{children:[b("templates.edit.delete_confirm_message","Are you sure you want to delete this template? This action cannot be undone."),g&&vi.jsx("div",{className:"mt-2 p-2 bg-muted rounded text-sm",children:vi.jsx("strong",{children:g.name})})]})]}),vi.jsxs(D9,{children:[vi.jsx(z9,{children:b("common.cancel","Cancel")}),vi.jsx(R9,{onClick:async()=>{c(!0);try{const e=await fetch(`/api/campaigns/templates/${n}`,{method:"DELETE"}),r=await e.json();if(!r.success)throw new Error(r.error);v({title:b("common.success","Success"),description:b("templates.edit.delete_success","Template deleted successfully")}),a(null),t()}catch(e){v({title:b("common.error","Error"),description:(e instanceof Error?e.message:null)||b("templates.edit.delete_failed","Failed to delete template"),variant:"destructive"})}finally{c(!1),h(!1)}},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:b("templates.edit.delete_confirm_button","Delete Template")})]})]})})]})}function ULe(){const[e,t]=mx(),n=ux(),a=e.includes("/edit"),r=a?parseInt(n.id||"0"):null,{t:i}=sk(),s=[{id:"basic",title:i("campaigns.builder.steps.basic","Basic Info"),icon:yw},{id:"audience",title:i("campaigns.builder.steps.audience","Audience"),icon:oj},{id:"content",title:i("campaigns.builder.steps.content","Content"),icon:yw},{id:"settings",title:i("campaigns.builder.steps.settings","Settings"),icon:zw},{id:"antiban",title:i("campaigns.builder.steps.antiban","Anti-Ban"),icon:Fw},{id:"review",title:i("campaigns.builder.steps.review","Review"),icon:Zb}],[o,l]=ci.useState(0),[c,d]=ci.useState({name:"",description:"",content:"",mediaUrls:[],channelType:"whatsapp",campaignType:"immediate",rateLimitSettings:{messages_per_minute:10,messages_per_hour:200,messages_per_day:1e3,delay_between_messages:6,humanization_enabled:!0},antiBanSettings:{enabled:!0,mode:"moderate",businessHoursOnly:!1,respectWeekends:!1,randomizeDelay:!0,minDelay:3,maxDelay:15,accountRotation:!0,cooldownPeriod:30,messageVariation:!1}}),[u,f]=ci.useState([]),[m,p]=ci.useState([]),[h,g]=ci.useState(null),[x,y]=ci.useState(!1),[v,b]=ci.useState(!1),[w,j]=ci.useState(!1),[N,C]=ci.useState(null),[S,k]=ci.useState(null),[M,_]=ci.useState(!1),E=ci.useRef(null),{toast:I}=By(),{data:L=[],isLoading:A}=function(){const{company:e}=nT();return ky({queryKey:["/api/channel-connections",null==e?void 0:e.id],staleTime:12e4,refetchOnWindowFocus:!0,refetchOnReconnect:!0})}(),T=L.filter((e=>"whatsapp_unofficial"===e.channelType&&"active"===e.status));ci.useEffect((()=>{D(),P(),a&&r&&O(r)}),[a,r]),ci.useEffect((()=>{c.content&&R()}),[c.content]);const D=async()=>{try{const e=await fetch("/api/campaigns/templates"),t=await e.json();t.success&&f(t.data)}catch(e){console.error("Failed to fetch templates:",e)}},P=async()=>{try{const e=await fetch("/api/campaigns/segments"),t=await e.json();t.success&&p(t.data)}catch(e){console.error("Failed to fetch segments:",e)}},O=async e=>{try{const t=await fetch(`/api/campaigns/${e}`),n=await t.json();if(n.success){const e=n.data;d({name:e.name||"",description:e.description||"",content:e.content||"",mediaUrls:e.mediaUrls||[],channelType:e.channelType||"whatsapp_unofficial",channelId:e.channelId,channelIds:e.channelIds||[],templateId:e.templateId,segmentId:e.segmentId,campaignType:e.campaignType||"immediate",scheduledAt:e.scheduledAt?new Date(e.scheduledAt).toISOString().slice(0,16):"",rateLimitSettings:e.rateLimitSettings||{messages_per_minute:10,messages_per_hour:200,messages_per_day:1e3,delay_between_messages:6,humanization_enabled:!0},antiBanSettings:e.antiBanSettings||{enabled:!0,mode:"moderate",businessHoursOnly:!1,respectWeekends:!1,randomizeDelay:!0,minDelay:3,maxDelay:15,accountRotation:!0,cooldownPeriod:30,messageVariation:!1}})}}catch(t){console.error("Failed to fetch campaign data:",t),I({title:i("common.error","Error"),description:i("campaigns.builder.messages.load_error","Failed to load campaign data"),variant:"destructive"})}},R=async()=>{try{const e=await fetch("/api/campaigns/validate-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:c.content})}),t=await e.json();t.success&&g(t.data)}catch(e){console.error("Failed to validate content:",e)}},z=e=>{const t=u.find((t=>t.id===parseInt(e)));t&&d((e=>({...e,templateId:t.id,content:t.content,mediaUrls:t.mediaUrls||[]})))},F=e=>{d((t=>({...t,segmentId:parseInt(e)})))};return vi.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[vi.jsxs("div",{className:"flex items-center gap-4",children:[vi.jsx(tk,{variant:"outline",size:"sm",onClick:()=>t("/campaigns"),children:vi.jsx(bb,{className:"w-4 h-4"})}),vi.jsxs("div",{children:[vi.jsx("h1",{className:"text-2xl",children:a?i("campaigns.builder.header.edit","Edit Campaign"):i("campaigns.builder.header.create","Create Campaign")}),vi.jsx("p",{className:"text-muted-foreground",children:i("campaigns.builder.header.step_progress","Step {{current}} of {{total}}: {{title}}",{current:o+1,total:s.length,title:s[o].title})})]})]}),vi.jsx("div",{className:"flex items-center justify-between",children:s.map(((e,t)=>{const n=e.icon,a=t===o,r=t<o;return vi.jsxs("div",{className:"flex items-center",children:[vi.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full border-2 "+(a||r?"border-primary bg-primary text-primary-foreground":"border-muted-foreground bg-background"),children:vi.jsx(n,{className:"w-4 h-4"})}),vi.jsx("span",{className:"ml-2 text-sm "+(a?"font-medium":""),children:e.title}),t<s.length-1&&vi.jsx("div",{className:"w-12 h-px bg-muted-foreground mx-4"})]},e.id)}))}),vi.jsxs(qS,{children:[vi.jsx(QS,{children:vi.jsx(ZS,{children:s[o].title})}),vi.jsx(KS,{children:(()=>{var e,t,n,a,r,l,f,p;switch(s[o].id){case"basic":return vi.jsxs("div",{className:"space-y-4",children:[vi.jsxs("div",{children:[vi.jsx(uB,{htmlFor:"name",children:i("campaigns.builder.basic.name_label","Campaign Name")}),vi.jsx(fB,{id:"name",value:c.name,onChange:e=>d((t=>({...t,name:e.target.value}))),placeholder:i("campaigns.builder.basic.name_placeholder","Enter campaign name")})]}),vi.jsxs("div",{children:[vi.jsx(uB,{htmlFor:"description",children:i("campaigns.builder.basic.description_label","Description")}),vi.jsx(mB,{id:"description",value:c.description,onChange:e=>d((t=>({...t,description:e.target.value}))),placeholder:i("campaigns.builder.basic.description_placeholder","Describe your campaign"),rows:3})]}),vi.jsxs("div",{children:[vi.jsx(uB,{htmlFor:"channelIds",children:i("campaigns.builder.basic.connections_label","WhatsApp Connections")}),vi.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:i("campaigns.builder.basic.connections_description","Select multiple WhatsApp accounts for better distribution and anti-ban protection")}),A?vi.jsx("div",{className:"flex items-center justify-center p-4",children:vi.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):0===T.length?vi.jsxs("div",{className:"p-4 border border-dashed border-gray-300 rounded-lg text-center",children:[vi.jsx(yw,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),vi.jsx("p",{className:"text-sm text-gray-600 mb-2",children:i("campaigns.builder.basic.no_connections","No WhatsApp connections available")}),vi.jsx("p",{className:"text-xs text-gray-500",children:i("campaigns.builder.basic.setup_connection","Please set up a WhatsApp connection in Settings > Channel Connections first")})]}):vi.jsxs("div",{className:"space-y-2",children:[vi.jsx("div",{className:"border rounded-lg p-3 space-y-2 max-h-48 overflow-y-auto",children:T.map((e=>{var t,n;const a=(null==(t=c.channelIds)?void 0:t.includes(e.id))||c.channelId===e.id&&!(null==(n=c.channelIds)?void 0:n.length);return vi.jsxs("div",{className:"flex items-center space-x-3 p-2 hover:bg-muted rounded",children:[vi.jsx("input",{type:"checkbox",id:`connection-${e.id}`,checked:a,onChange:t=>{const n=t.target.checked;d((t=>{let a=t.channelIds||[];return n?a.includes(e.id)||(a=[...a,e.id]):a=a.filter((t=>t!==e.id)),{...t,channelIds:a,channelId:a.length>0?a[0]:void 0,channelType:"whatsapp_unofficial"}}))},className:"rounded border-gray-300 text-primary focus:ring-primary"}),vi.jsxs("label",{htmlFor:`connection-${e.id}`,className:"flex items-center gap-2 flex-1 cursor-pointer",children:[vi.jsx("i",{className:"ri-whatsapp-line text-green-600"}),vi.jsx("span",{className:"font-medium",children:e.accountName}),vi.jsx(ak,{variant:"secondary",className:"ml-auto",children:e.status})]})]},e.id)}))}),((null==(e=c.channelIds)?void 0:e.length)||0)>0&&vi.jsxs("div",{className:"text-sm text-muted-foreground",children:[vi.jsx("strong",{children:(null==(t=c.channelIds)?void 0:t.length)||0})," ",i("campaigns.builder.basic.accounts_selected","account(s) selected for distribution")]}),vi.jsxs("div",{className:"flex gap-2",children:[vi.jsx(tk,{type:"button",variant:"outline",size:"sm",onClick:()=>{const e=T.map((e=>e.id));d((t=>({...t,channelIds:e,channelId:e[0],channelType:"whatsapp_unofficial"})))},children:i("campaigns.builder.basic.select_all","Select All")}),vi.jsx(tk,{type:"button",variant:"outline",size:"sm",onClick:()=>{d((e=>({...e,channelIds:[],channelId:void 0})))},children:i("campaigns.builder.basic.clear_all","Clear All")})]})]})]}),vi.jsxs("div",{children:[vi.jsx(uB,{htmlFor:"campaignType",children:i("campaigns.builder.basic.type_label","Campaign Type")}),vi.jsxs(AU,{value:c.campaignType,onValueChange:e=>d((t=>({...t,campaignType:e}))),children:[vi.jsx(PU,{children:vi.jsx(DU,{})}),vi.jsxs(zU,{children:[vi.jsx(FU,{value:"immediate",children:i("campaigns.builder.basic.type_immediate","Send Immediately")}),vi.jsx(FU,{value:"scheduled",children:i("campaigns.builder.basic.type_scheduled","Schedule for Later")}),vi.jsx(FU,{value:"drip",children:i("campaigns.builder.basic.type_drip","Drip Campaign")})]})]})]}),"scheduled"===c.campaignType&&vi.jsxs("div",{children:[vi.jsx(uB,{htmlFor:"scheduledAt",children:i("campaigns.builder.basic.schedule_label","Scheduled Date & Time")}),vi.jsx(fB,{id:"scheduledAt",type:"datetime-local",value:c.scheduledAt,onChange:e=>d((t=>({...t,scheduledAt:e.target.value})))})]})]});case"audience":return vi.jsxs("div",{className:"space-y-4",children:[vi.jsxs("div",{children:[vi.jsxs("div",{className:"flex items-center justify-between mb-2",children:[vi.jsx(uB,{children:i("campaigns.builder.audience.segment_label","Select Audience Segment")}),vi.jsxs(tk,{type:"button",variant:"outline",size:"sm",onClick:()=>b(!0),className:"flex items-center gap-2",children:[vi.jsx(_w,{className:"w-4 h-4"}),i("campaigns.builder.audience.create_segment","Create New Segment")]})]}),vi.jsxs("div",{className:"flex gap-2",children:[vi.jsxs(AU,{value:null==(n=c.segmentId)?void 0:n.toString(),onValueChange:F,children:[vi.jsx(PU,{className:"flex-1",children:vi.jsx(DU,{placeholder:i("campaigns.builder.audience.segment_placeholder","Choose a segment")})}),vi.jsx(zU,{children:m.map((e=>vi.jsx(FU,{value:e.id.toString(),children:vi.jsxs("div",{className:"flex justify-between items-center w-full",children:[vi.jsx("span",{children:e.name}),vi.jsxs(ak,{variant:"secondary",className:"ml-2",children:[e.contactCount," ",i("campaigns.builder.audience.contacts","contacts")]})]})},e.id)))})]}),c.segmentId&&vi.jsxs(tk,{type:"button",variant:"outline",size:"sm",onClick:()=>C(c.segmentId),className:"flex items-center gap-2",children:[vi.jsx(Gw,{className:"w-4 h-4"}),i("common.edit","Edit")]})]})]}),c.segmentId&&vi.jsx(qS,{children:vi.jsx(KS,{className:"pt-4",children:(()=>{const e=m.find((e=>e.id===c.segmentId));return e?vi.jsxs("div",{children:[vi.jsx("h4",{className:"font-medium",children:e.name}),vi.jsx("p",{className:"text-sm text-muted-foreground",children:e.description}),vi.jsxs("p",{className:"text-sm mt-2",children:[vi.jsx("strong",{children:e.contactCount})," ",i("campaigns.builder.audience.will_receive","contacts will receive this campaign")]})]}):null})()})})]});case"content":return vi.jsxs("div",{className:"space-y-4",children:[vi.jsxs("div",{children:[vi.jsxs("div",{className:"flex items-center justify-between mb-2",children:[vi.jsx(uB,{children:i("campaigns.builder.content.template_label","Use Template (Optional)")}),vi.jsxs(tk,{type:"button",variant:"outline",size:"sm",onClick:()=>j(!0),className:"flex items-center gap-2",children:[vi.jsx(_w,{className:"w-4 h-4"}),i("campaigns.builder.content.create_template","Create New Template")]})]}),vi.jsxs("div",{className:"flex gap-2",children:[vi.jsxs(AU,{onValueChange:z,value:null==(a=c.templateId)?void 0:a.toString(),children:[vi.jsx(PU,{className:"flex-1",children:vi.jsx(DU,{placeholder:i("campaigns.builder.content.template_placeholder","Choose a template")})}),vi.jsx(zU,{children:u.map((e=>vi.jsxs(FU,{value:e.id.toString(),children:[e.name," (",e.category,")"]},e.id)))})]}),c.templateId&&vi.jsxs(tk,{type:"button",variant:"outline",size:"sm",onClick:()=>k(c.templateId),className:"flex items-center gap-2",children:[vi.jsx(Gw,{className:"w-4 h-4"}),i("common.edit","Edit")]})]})]}),vi.jsxs("div",{children:[vi.jsx(uB,{htmlFor:"content",children:i("campaigns.builder.content.message_label","Message Content")}),vi.jsx(mB,{ref:E,id:"content",value:c.content,onChange:e=>d((t=>({...t,content:e.target.value}))),placeholder:i("campaigns.builder.content.message_placeholder","Enter your message content. Click 'Insert Variable' to add personalization..."),rows:6}),vi.jsx("div",{className:"mt-2",children:vi.jsx(PLe,{textareaRef:E,value:c.content,onChange:e=>d((t=>({...t,content:e}))),customVariables:["company","position","location","industry"]})})]}),h&&vi.jsxs(qS,{children:[vi.jsx(QS,{children:vi.jsxs(ZS,{className:"flex items-center gap-2",children:[vi.jsx(Jw,{className:"w-4 h-4"}),i("campaigns.builder.content.validation_title","Content Validation")]})}),vi.jsxs(KS,{children:[vi.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[vi.jsxs("span",{children:[i("campaigns.builder.content.validation_score","Score"),":"]}),vi.jsxs(ak,{variant:h.score>=80?"default":"destructive",children:[h.score,"/100"]})]}),h.issues.length>0&&vi.jsxs("div",{children:[vi.jsxs("p",{className:"text-sm font-medium mb-2",children:[i("campaigns.builder.content.validation_issues","Issues"),":"]}),vi.jsx("ul",{className:"text-sm space-y-1",children:h.issues.map(((e,t)=>vi.jsxs("li",{className:"flex items-start gap-2",children:[vi.jsx(Jw,{className:"w-3 h-3 mt-0.5 text-yellow-500"}),e]},t)))})]})]})]})]});case"settings":return vi.jsx("div",{className:"space-y-4",children:vi.jsxs(qS,{children:[vi.jsx(QS,{children:vi.jsx(ZS,{children:i("campaigns.builder.settings.rate_limiting_title","Rate Limiting & Anti-Ban Settings")})}),vi.jsxs(KS,{className:"space-y-4",children:[vi.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[vi.jsxs("div",{children:[vi.jsx(uB,{htmlFor:"messagesPerMinute",children:i("campaigns.builder.settings.messages_per_minute","Messages per Minute")}),vi.jsx(fB,{id:"messagesPerMinute",type:"number",value:c.rateLimitSettings.messages_per_minute,onChange:e=>d((t=>({...t,rateLimitSettings:{...t.rateLimitSettings,messages_per_minute:parseInt(e.target.value)}})))})]}),vi.jsxs("div",{children:[vi.jsx(uB,{htmlFor:"messagesPerHour",children:i("campaigns.builder.settings.messages_per_hour","Messages per Hour")}),vi.jsx(fB,{id:"messagesPerHour",type:"number",value:c.rateLimitSettings.messages_per_hour,onChange:e=>d((t=>({...t,rateLimitSettings:{...t.rateLimitSettings,messages_per_hour:parseInt(e.target.value)}})))})]})]}),vi.jsxs("div",{children:[vi.jsx(uB,{htmlFor:"delayBetweenMessages",children:i("campaigns.builder.settings.delay_between_messages","Delay Between Messages (seconds)")}),vi.jsx(fB,{id:"delayBetweenMessages",type:"number",value:c.rateLimitSettings.delay_between_messages,onChange:e=>d((t=>({...t,rateLimitSettings:{...t.rateLimitSettings,delay_between_messages:parseInt(e.target.value)}})))})]})]})]})});case"antiban":return vi.jsxs("div",{className:"space-y-6",children:[vi.jsxs(qS,{children:[vi.jsx(QS,{children:vi.jsxs(ZS,{className:"flex items-center gap-2",children:[vi.jsx(Fw,{className:"w-5 h-5"}),i("campaigns.builder.antiban.title","Anti-Ban Protection")]})}),vi.jsxs(KS,{className:"space-y-4",children:[vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsxs("div",{children:[vi.jsx(uB,{htmlFor:"antiBanEnabled",children:i("campaigns.builder.antiban.enable_label","Enable Anti-Ban Protection")}),vi.jsx("p",{className:"text-sm text-muted-foreground",children:i("campaigns.builder.antiban.enable_description","Automatically apply intelligent rate limiting and account rotation")})]}),vi.jsx(f4,{id:"antiBanEnabled",checked:c.antiBanSettings.enabled,onCheckedChange:e=>d((t=>({...t,antiBanSettings:{...t.antiBanSettings,enabled:e}})))})]}),c.antiBanSettings.enabled&&vi.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[vi.jsxs("div",{children:[vi.jsx(uB,{children:i("campaigns.builder.antiban.mode_label","Protection Mode")}),vi.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:i("campaigns.builder.antiban.mode_description","Choose how aggressive the anti-ban protection should be")}),vi.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"conservative",label:i("campaigns.builder.antiban.mode_conservative","Conservative"),desc:i("campaigns.builder.antiban.mode_conservative_desc","Slowest, safest")},{value:"moderate",label:i("campaigns.builder.antiban.mode_moderate","Moderate"),desc:i("campaigns.builder.antiban.mode_moderate_desc","Balanced approach")},{value:"aggressive",label:i("campaigns.builder.antiban.mode_aggressive","Aggressive"),desc:i("campaigns.builder.antiban.mode_aggressive_desc","Faster, higher risk")}].map((e=>vi.jsxs(tk,{type:"button",variant:c.antiBanSettings.mode===e.value?"default":"outline",className:"h-auto p-3 flex flex-col items-center",onClick:()=>d((t=>({...t,antiBanSettings:{...t.antiBanSettings,mode:e.value}}))),children:[vi.jsx("span",{className:"font-medium",children:e.label}),vi.jsx("span",{className:"text-xs text-muted-foreground",children:e.desc})]},e.value)))})]}),vi.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsxs("div",{children:[vi.jsx(uB,{htmlFor:"businessHoursOnly",children:i("campaigns.builder.antiban.business_hours_label","Business Hours Only")}),vi.jsx("p",{className:"text-sm text-muted-foreground",children:i("campaigns.builder.antiban.business_hours_desc","Send only during 9 AM - 6 PM")})]}),vi.jsx(f4,{id:"businessHoursOnly",checked:c.antiBanSettings.businessHoursOnly,onCheckedChange:e=>d((t=>({...t,antiBanSettings:{...t.antiBanSettings,businessHoursOnly:e}})))})]}),vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsxs("div",{children:[vi.jsx(uB,{htmlFor:"respectWeekends",children:i("campaigns.builder.antiban.respect_weekends_label","Respect Weekends")}),vi.jsx("p",{className:"text-sm text-muted-foreground",children:i("campaigns.builder.antiban.respect_weekends_desc","Pause on weekends")})]}),vi.jsx(f4,{id:"respectWeekends",checked:c.antiBanSettings.respectWeekends,onCheckedChange:e=>d((t=>({...t,antiBanSettings:{...t.antiBanSettings,respectWeekends:e}})))})]})]}),vi.jsxs("div",{className:"space-y-4",children:[vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsxs("div",{children:[vi.jsx(uB,{htmlFor:"randomizeDelay",children:i("campaigns.builder.antiban.randomize_delays_label","Randomize Delays")}),vi.jsx("p",{className:"text-sm text-muted-foreground",children:i("campaigns.builder.antiban.randomize_delays_desc","Add human-like variance to message timing")})]}),vi.jsx(f4,{id:"randomizeDelay",checked:c.antiBanSettings.randomizeDelay,onCheckedChange:e=>d((t=>({...t,antiBanSettings:{...t.antiBanSettings,randomizeDelay:e}})))})]}),c.antiBanSettings.randomizeDelay&&vi.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[vi.jsxs("div",{children:[vi.jsx(uB,{htmlFor:"minDelay",children:i("campaigns.builder.antiban.min_delay_label","Min Delay (seconds)")}),vi.jsx(fB,{id:"minDelay",type:"number",min:"1",max:"60",value:c.antiBanSettings.minDelay,onChange:e=>d((t=>({...t,antiBanSettings:{...t.antiBanSettings,minDelay:parseInt(e.target.value)||3}})))})]}),vi.jsxs("div",{children:[vi.jsx(uB,{htmlFor:"maxDelay",children:i("campaigns.builder.antiban.max_delay_label","Max Delay (seconds)")}),vi.jsx(fB,{id:"maxDelay",type:"number",min:"1",max:"300",value:c.antiBanSettings.maxDelay,onChange:e=>d((t=>({...t,antiBanSettings:{...t.antiBanSettings,maxDelay:parseInt(e.target.value)||15}})))})]})]})]}),vi.jsxs("div",{className:"space-y-4",children:[vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsxs("div",{children:[vi.jsx(uB,{htmlFor:"accountRotation",children:i("campaigns.builder.antiban.account_rotation_label","Smart Account Rotation")}),vi.jsx("p",{className:"text-sm text-muted-foreground",children:i("campaigns.builder.antiban.account_rotation_desc","Distribute messages across selected accounts")})]}),vi.jsx(f4,{id:"accountRotation",checked:c.antiBanSettings.accountRotation,onCheckedChange:e=>d((t=>({...t,antiBanSettings:{...t.antiBanSettings,accountRotation:e}})))})]}),vi.jsxs("div",{children:[vi.jsx(uB,{htmlFor:"cooldownPeriod",children:i("campaigns.builder.antiban.cooldown_period_label","Account Cooldown Period (minutes)")}),vi.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:i("campaigns.builder.antiban.cooldown_period_desc","Rest time between high-volume sending for each account")}),vi.jsx(fB,{id:"cooldownPeriod",type:"number",min:"5",max:"1440",value:c.antiBanSettings.cooldownPeriod,onChange:e=>d((t=>({...t,antiBanSettings:{...t.antiBanSettings,cooldownPeriod:parseInt(e.target.value)||30}})))})]})]}),vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsxs("div",{children:[vi.jsx(uB,{htmlFor:"messageVariation",children:i("campaigns.builder.antiban.message_variation_label","Message Variation")}),vi.jsx("p",{className:"text-sm text-muted-foreground",children:i("campaigns.builder.antiban.message_variation_desc","Add slight variations to avoid identical content")})]}),vi.jsx(f4,{id:"messageVariation",checked:c.antiBanSettings.messageVariation,onCheckedChange:e=>d((t=>({...t,antiBanSettings:{...t.antiBanSettings,messageVariation:e}})))})]})]})]})]}),((null==(r=c.channelIds)?void 0:r.length)||0)>0&&vi.jsxs(qS,{children:[vi.jsx(QS,{children:vi.jsxs(ZS,{className:"flex items-center gap-2",children:[vi.jsx(oj,{className:"w-5 h-5"}),i("campaigns.builder.antiban.account_health_title","Account Health Status")]})}),vi.jsx(KS,{children:vi.jsx("div",{className:"space-y-3",children:T.filter((e=>{var t;return null==(t=c.channelIds)?void 0:t.includes(e.id)})).map((e=>vi.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[vi.jsxs("div",{className:"flex items-center gap-3",children:[vi.jsx("i",{className:"ri-whatsapp-line text-green-600"}),vi.jsxs("div",{children:[vi.jsx("p",{className:"font-medium",children:e.accountName}),vi.jsxs("p",{className:"text-sm text-muted-foreground",children:[i("campaigns.builder.antiban.last_active","Last active"),": ",new Date(e.lastActiveAt||Date.now()).toLocaleDateString()]})]})]}),vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx(ak,{variant:"active"===e.status?"default":"secondary",children:e.status}),vi.jsxs("div",{className:"flex items-center gap-1",children:[vi.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),vi.jsx("span",{className:"text-sm text-muted-foreground",children:i("campaigns.builder.antiban.account_status_healthy","Healthy")})]})]})]},e.id)))})})]})]});case"review":return vi.jsx("div",{className:"space-y-4",children:vi.jsxs(qS,{children:[vi.jsx(QS,{children:vi.jsx(ZS,{children:i("campaigns.builder.review.campaign_summary_title","Campaign Summary")})}),vi.jsxs(KS,{className:"space-y-4",children:[vi.jsxs("div",{children:[vi.jsx("h4",{className:"font-medium",children:i("campaigns.builder.review.basic_info_title","Basic Information")}),vi.jsxs("p",{children:[vi.jsxs("strong",{children:[i("campaigns.builder.review.name_label","Name"),":"]})," ",c.name]}),vi.jsxs("p",{children:[vi.jsxs("strong",{children:[i("campaigns.builder.review.description_label","Description"),":"]})," ",c.description]}),vi.jsxs("p",{children:[vi.jsxs("strong",{children:[i("campaigns.builder.review.channel_label","Channel"),":"]})," ",c.channelType]}),vi.jsxs("p",{children:[vi.jsxs("strong",{children:[i("campaigns.builder.review.type_label","Type"),":"]})," ",c.campaignType]}),"scheduled"===c.campaignType&&c.scheduledAt&&vi.jsxs("p",{children:[vi.jsxs("strong",{children:[i("campaigns.builder.review.scheduled_for_label","Scheduled for"),":"]})," ",new Date(c.scheduledAt).toLocaleString()]})]}),vi.jsx(gY,{}),vi.jsxs("div",{children:[vi.jsx("h4",{className:"font-medium",children:i("campaigns.builder.review.whatsapp_accounts_title","WhatsApp Accounts")}),((null==(l=c.channelIds)?void 0:l.length)||0)>0?vi.jsxs("div",{className:"space-y-2",children:[vi.jsxs("p",{children:[vi.jsx("strong",{children:(null==(f=c.channelIds)?void 0:f.length)||0})," ",i("campaigns.builder.review.accounts_selected_for_distribution","account(s) selected for distribution"),":"]}),vi.jsx("div",{className:"space-y-1",children:T.filter((e=>{var t;return null==(t=c.channelIds)?void 0:t.includes(e.id)})).map((e=>vi.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[vi.jsx("i",{className:"ri-whatsapp-line text-green-600"}),vi.jsx("span",{children:e.accountName}),vi.jsx(ak,{variant:"secondary",className:"text-xs",children:e.status})]},e.id)))})]}):c.channelId?vi.jsxs("p",{children:[vi.jsxs("strong",{children:[i("campaigns.builder.review.single_account_label","Single Account"),":"]})," ",(null==(p=T.find((e=>e.id===c.channelId)))?void 0:p.accountName)||"Unknown"]}):vi.jsx("p",{children:i("campaigns.builder.review.no_account_selected","No WhatsApp account selected")})]}),vi.jsx(gY,{}),vi.jsxs("div",{children:[vi.jsx("h4",{className:"font-medium",children:i("campaigns.builder.review.audience_title","Audience")}),(()=>{const e=m.find((e=>e.id===c.segmentId));return e?vi.jsxs("p",{children:[vi.jsxs("strong",{children:[i("campaigns.builder.review.segment_label","Segment"),":"]})," ",e.name," (",e.contactCount," ",i("campaigns.builder.audience.contacts","contacts"),")"]}):vi.jsx("p",{children:i("campaigns.builder.review.no_segment_selected","No segment selected")})})()]}),vi.jsx(gY,{}),vi.jsxs("div",{children:[vi.jsx("h4",{className:"font-medium",children:i("campaigns.builder.review.antiban_title","Anti-Ban Protection")}),c.antiBanSettings.enabled?vi.jsxs("div",{className:"space-y-1",children:[vi.jsxs("p",{children:[vi.jsxs("strong",{children:[i("campaigns.builder.review.antiban_mode_label","Mode"),":"]})," ",c.antiBanSettings.mode]}),vi.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.antiBanSettings.businessHoursOnly&&vi.jsx(ak,{variant:"outline",children:i("campaigns.builder.antiban.business_hours_label","Business Hours Only")}),c.antiBanSettings.respectWeekends&&vi.jsx(ak,{variant:"outline",children:i("campaigns.builder.antiban.respect_weekends_label","Respect Weekends")}),c.antiBanSettings.randomizeDelay&&vi.jsxs(ak,{variant:"outline",children:[i("campaigns.builder.review.random_delays_badge","Random Delays")," (",c.antiBanSettings.minDelay,"-",c.antiBanSettings.maxDelay,"s)"]}),c.antiBanSettings.accountRotation&&vi.jsx(ak,{variant:"outline",children:i("campaigns.builder.review.account_rotation_badge","Account Rotation")}),c.antiBanSettings.messageVariation&&vi.jsx(ak,{variant:"outline",children:i("campaigns.builder.antiban.message_variation_label","Message Variation")})]})]}):vi.jsx("p",{children:i("campaigns.builder.review.antiban_disabled","Anti-ban protection disabled")})]}),vi.jsx(gY,{}),vi.jsxs("div",{children:[vi.jsx("h4",{className:"font-medium",children:i("campaigns.builder.review.rate_limiting_title","Rate Limiting")}),vi.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[vi.jsxs("p",{children:[vi.jsxs("strong",{children:[i("campaigns.builder.review.per_minute_label","Per Minute"),":"]})," ",c.rateLimitSettings.messages_per_minute," ",i("campaigns.builder.review.messages_unit","messages")]}),vi.jsxs("p",{children:[vi.jsxs("strong",{children:[i("campaigns.builder.review.per_hour_label","Per Hour"),":"]})," ",c.rateLimitSettings.messages_per_hour," ",i("campaigns.builder.review.messages_unit","messages")]}),vi.jsxs("p",{children:[vi.jsxs("strong",{children:[i("campaigns.builder.review.per_day_label","Per Day"),":"]})," ",c.rateLimitSettings.messages_per_day," ",i("campaigns.builder.review.messages_unit","messages")]}),vi.jsxs("p",{children:[vi.jsxs("strong",{children:[i("campaigns.builder.review.base_delay_label","Base Delay"),":"]})," ",c.rateLimitSettings.delay_between_messages," ",i("campaigns.builder.review.seconds_unit","seconds")]})]})]}),vi.jsx(gY,{}),vi.jsxs("div",{children:[vi.jsx("h4",{className:"font-medium",children:i("campaigns.builder.review.message_content_title","Message Content")}),vi.jsx("div",{className:"bg-muted p-3 rounded-md",children:vi.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:c.content})}),c.mediaUrls&&c.mediaUrls.length>0&&vi.jsxs("div",{className:"mt-2",children:[vi.jsxs("p",{className:"text-sm font-medium",children:[i("campaigns.builder.review.media_attachments_label","Media Attachments"),":"]}),vi.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:c.mediaUrls.map(((e,t)=>vi.jsxs(ak,{variant:"secondary",className:"text-xs",children:[i("campaigns.builder.review.media_item_label","Media")," ",t+1]},t)))})]})]})]})]})});default:return null}})()})]}),vi.jsxs("div",{className:"flex justify-between",children:[vi.jsxs(tk,{variant:"outline",onClick:()=>{o>0&&l(o-1)},disabled:0===o,children:[vi.jsx(bb,{className:"w-4 h-4 mr-2"}),i("campaigns.builder.navigation.previous","Previous")]}),vi.jsxs("div",{className:"flex gap-2",children:[vi.jsxs(tk,{variant:"outline",onClick:async()=>{y(!0);try{const e=a?`/api/campaigns/${r}`:"/api/campaigns",t=a?"PUT":"POST",n=await fetch(e,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}),s=await n.json();if(!s.success)throw new Error(s.error);I({title:i("common.success","Success"),description:a?i("campaigns.builder.messages.update_success","Campaign updated successfully"):i("campaigns.builder.messages.save_success","Campaign saved as draft")})}catch(e){I({title:i("common.error","Error"),description:a?i("campaigns.builder.messages.update_error","Failed to update campaign"):i("campaigns.builder.messages.save_error","Failed to save campaign"),variant:"destructive"})}finally{y(!1)}},disabled:x,children:[vi.jsx(Dw,{className:"w-4 h-4 mr-2"}),i("campaigns.builder.navigation.save_draft","Save Draft")]}),o===s.length-1?vi.jsx(tk,{onClick:()=>{const e=(()=>{const e=[];return c.name.trim()||e.push(i("campaigns.builder.validation.name_required","Campaign name is required")),c.channelId||c.channelIds&&0!==c.channelIds.length||e.push(i("campaigns.builder.validation.connection_required","At least one WhatsApp connection is required")),c.segmentId||e.push(i("campaigns.builder.validation.segment_required","Audience segment is required")),c.content.trim()||e.push(i("campaigns.builder.validation.content_required","Message content is required")),"scheduled"!==c.campaignType||c.scheduledAt||e.push(i("campaigns.builder.validation.schedule_required","Scheduled date and time is required for scheduled campaigns")),e})();e.length>0?I({title:i("campaigns.builder.validation.error_title","Validation Error"),description:e.join(", "),variant:"destructive"}):_(!0)},disabled:x,className:"min-w-[140px]",children:x?vi.jsxs(vi.Fragment,{children:[vi.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),i("campaigns.builder.navigation.launching","Launching...")]}):vi.jsxs(vi.Fragment,{children:[vi.jsx(Ow,{className:"w-4 h-4 mr-2"}),i("campaigns.builder.navigation.launch","Launch Campaign")]})}):vi.jsxs(tk,{onClick:()=>{o<s.length-1&&l(o+1)},children:[i("campaigns.builder.navigation.next","Next"),vi.jsx(wb,{className:"w-4 h-4 ml-2"})]})]})]}),vi.jsx(UIe,{isOpen:v,onClose:()=>b(!1),onSegmentCreated:e=>{p((t=>[e,...t])),d((t=>({...t,segmentId:e.id}))),I({title:i("common.success","Success"),description:i("campaigns.builder.messages.segment_created",'Segment "{{name}}" created and selected',{name:e.name})})}}),vi.jsx(zLe,{isOpen:w,onClose:()=>j(!1),onTemplateCreated:e=>{f((t=>[e,...t])),d((t=>({...t,templateId:e.id,content:e.content,mediaUrls:e.mediaUrls||[]}))),I({title:i("common.success","Success"),description:i("campaigns.builder.messages.template_created",'Template "{{name}}" created and selected',{name:e.name})})}}),N&&vi.jsx(FLe,{isOpen:null!==N,onClose:()=>C(null),segmentId:N,onSegmentUpdated:e=>{null===e?(p((e=>e.filter((e=>e.id!==N)))),c.segmentId===N&&d((e=>({...e,segmentId:void 0})))):p((t=>t.map((t=>t.id===e.id?e:t)))),C(null)}}),S&&vi.jsx(BLe,{isOpen:null!==S,onClose:()=>k(null),templateId:S,onTemplateUpdated:e=>{null===e?(f((e=>e.filter((e=>e.id!==S)))),c.templateId===S&&d((e=>({...e,templateId:void 0,content:""})))):(f((t=>t.map((t=>t.id===e.id?e:t)))),c.templateId===e.id&&d((t=>({...t,content:e.content,mediaUrls:e.mediaUrls||[]})))),k(null)}}),vi.jsx(KF,{open:M,onOpenChange:_,children:vi.jsxs(aB,{children:[vi.jsxs(rB,{children:[vi.jsx(sB,{children:i("campaigns.builder.launch.confirmation_title","Launch Campaign Confirmation")}),vi.jsx(oB,{children:i("campaigns.builder.launch.confirmation_description","Are you sure you want to launch this campaign? This action cannot be undone.")})]}),vi.jsxs("div",{className:"space-y-4",children:[vi.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[vi.jsxs("h4",{className:"font-medium mb-2",children:[i("campaigns.builder.launch.summary_title","Campaign Summary"),":"]}),vi.jsxs("div",{className:"space-y-1 text-sm",children:[vi.jsxs("p",{children:[vi.jsxs("strong",{children:[i("campaigns.builder.launch.summary_name","Name"),":"]})," ",c.name]}),vi.jsxs("p",{children:[vi.jsxs("strong",{children:[i("campaigns.builder.launch.summary_type","Type"),":"]})," ",c.campaignType]}),(()=>{const e=m.find((e=>e.id===c.segmentId));return e?vi.jsxs("p",{children:[vi.jsxs("strong",{children:[i("campaigns.builder.launch.summary_recipients","Recipients"),":"]})," ",e.contactCount," ",i("campaigns.builder.audience.contacts","contacts")]}):null})(),"scheduled"===c.campaignType&&c.scheduledAt&&vi.jsxs("p",{children:[vi.jsxs("strong",{children:[i("campaigns.builder.launch.summary_scheduled","Scheduled for"),":"]})," ",new Date(c.scheduledAt).toLocaleString()]})]})]}),vi.jsx("div",{className:"bg-yellow-50 border border-yellow-200 p-3 rounded-lg",children:vi.jsxs("div",{className:"flex items-start gap-2",children:[vi.jsx(Jw,{className:"w-4 h-4 text-yellow-600 mt-0.5"}),vi.jsxs("div",{className:"text-sm text-yellow-800",children:[vi.jsxs("p",{className:"font-medium",children:[i("campaigns.builder.launch.warning_title","Important"),":"]}),vi.jsx("p",{children:i("campaigns.builder.launch.warning_description","Once launched, this campaign will start sending messages immediately and cannot be stopped.")})]})]})})]}),vi.jsxs(iB,{children:[vi.jsx(tk,{variant:"outline",onClick:()=>_(!1),disabled:x,children:i("common.cancel","Cancel")}),vi.jsx(tk,{onClick:async()=>{_(!1),y(!0);try{const e=await fetch("/api/campaigns",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}),n=await e.json();if(!n.success)throw new Error(n.error);{const e=n.data.id,a=await fetch(`/api/campaigns/${e}/start`,{method:"POST"}),r=await a.json();if(!r.success)throw new Error(r.error);{const e=m.find((e=>e.id===c.segmentId)),n=(null==e?void 0:e.contactCount)||0;I({title:i("campaigns.builder.messages.launch_success_title","Campaign Launched Successfully! 🚀"),description:i("campaigns.builder.messages.launch_success_description",'"{{name}}" is now running and will send messages to {{count}} contacts',{name:c.name,count:n})}),d({name:"",description:"",content:"",mediaUrls:[],channelType:"whatsapp",campaignType:"immediate",rateLimitSettings:{messages_per_minute:10,messages_per_hour:200,messages_per_day:1e3,delay_between_messages:6,humanization_enabled:!0},antiBanSettings:{enabled:!0,mode:"moderate",businessHoursOnly:!1,respectWeekends:!1,randomizeDelay:!0,minDelay:3,maxDelay:15,accountRotation:!0,cooldownPeriod:30,messageVariation:!1}}),l(0),g(null),b(!1),j(!1),C(null),k(null),_(!1),setTimeout((()=>{t("/campaigns")}),2e3)}}}catch(e){console.error("Campaign launch error:",e),I({title:i("campaigns.builder.messages.launch_error_title","Launch Failed"),description:e instanceof Error?e.message:i("campaigns.builder.messages.launch_error_description","Failed to launch campaign. Please try again."),variant:"destructive"})}finally{y(!1)}},disabled:x,className:"min-w-[120px]",children:x?vi.jsxs(vi.Fragment,{children:[vi.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),i("campaigns.builder.navigation.launching","Launching...")]}):vi.jsxs(vi.Fragment,{children:[vi.jsx(Ow,{className:"w-4 h-4 mr-2"}),i("campaigns.builder.launch.confirm_button","Yes, Launch")]})})]})]})})]})}function WLe(){return vi.jsxs("div",{className:"h-screen flex flex-col overflow-hidden font-sans text-gray-800",children:[vi.jsx(WO,{}),vi.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[vi.jsx(XO,{}),vi.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:vi.jsx(ULe,{})})]})]})}function GLe(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var VLe=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),$Le=()=>Math.random().toString(36).substring(7).split("").join("."),HLe={INIT:`@@redux/INIT${$Le()}`,REPLACE:`@@redux/REPLACE${$Le()}`};function YLe(e,t,n){if("function"!=typeof e)throw new Error(GLe(2));if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(GLe(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(GLe(1));return n(YLe)(e,t)}let a=e,r=t,i=new Map,s=i,o=0,l=!1;function c(){s===i&&(s=new Map,i.forEach(((e,t)=>{s.set(t,e)})))}function d(){if(l)throw new Error(GLe(3));return r}function u(e){if("function"!=typeof e)throw new Error(GLe(4));if(l)throw new Error(GLe(5));let t=!0;c();const n=o++;return s.set(n,e),function(){if(t){if(l)throw new Error(GLe(6));t=!1,c(),s.delete(n),i=null}}}function f(e){if(!function(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}(e))throw new Error(GLe(7));if(void 0===e.type)throw new Error(GLe(8));if("string"!=typeof e.type)throw new Error(GLe(17));if(l)throw new Error(GLe(9));try{l=!0,r=a(r,e)}finally{l=!1}return(i=s).forEach((e=>{e()})),e}f({type:HLe.INIT});return{dispatch:f,subscribe:u,getState:d,replaceReducer:function(e){if("function"!=typeof e)throw new Error(GLe(10));a=e,f({type:HLe.REPLACE})},[VLe]:function(){const e=u;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(GLe(11));function n(){const e=t;e.next&&e.next(d())}n();return{unsubscribe:e(n)}},[VLe](){return this}}}}}function qLe(e,t){return function(...n){return t(e.apply(this,n))}}function QLe(e,t){if("function"==typeof e)return qLe(e,t);if("object"!=typeof e||null===e)throw new Error(GLe(16));const n={};for(const a in e){const r=e[a];"function"==typeof r&&(n[a]=qLe(r,t))}return n}function ZLe(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce(((e,t)=>(...n)=>e(t(...n))))}var JLe=ci;"function"==typeof Object.is&&Object.is,JLe.useSyncExternalStore,JLe.useRef,JLe.useEffect,JLe.useMemo,JLe.useDebugValue;var KLe=ci.version.startsWith("19"),XLe=Symbol.for(KLe?"react.transitional.element":"react.element"),eAe=Symbol.for("react.portal"),tAe=Symbol.for("react.fragment"),nAe=Symbol.for("react.strict_mode"),aAe=Symbol.for("react.profiler"),rAe=Symbol.for("react.consumer"),iAe=Symbol.for("react.context"),sAe=Symbol.for("react.forward_ref"),oAe=Symbol.for("react.suspense"),lAe=Symbol.for("react.suspense_list"),cAe=Symbol.for("react.memo"),dAe=Symbol.for("react.lazy"),uAe=sAe,fAe=cAe;function mAe(e){return function(e){if("object"==typeof e&&null!==e){const{$$typeof:t}=e;switch(t){case XLe:switch(e=e.type){case tAe:case aAe:case nAe:case oAe:case lAe:return e;default:switch(e=e&&e.$$typeof){case iAe:case sAe:case dAe:case cAe:case rAe:return e;default:return t}}case eAe:return t}}}(e)===cAe}function pAe(e,t,n,a,{areStatesEqual:r,areOwnPropsEqual:i,areStatePropsEqual:s}){let o,l,c,d,u,f=!1;function m(f,m){const p=!i(m,l),h=!r(f,o,m,l);return o=f,l=m,p&&h?(c=e(o,l),t.dependsOnOwnProps&&(d=t(a,l)),u=n(c,d,l),u):p?(e.dependsOnOwnProps&&(c=e(o,l)),t.dependsOnOwnProps&&(d=t(a,l)),u=n(c,d,l),u):h?function(){const t=e(o,l),a=!s(t,c);return c=t,a&&(u=n(c,d,l)),u}():u}return function(r,i){return f?m(r,i):(o=r,l=i,c=e(o,l),d=t(a,l),u=n(c,d,l),f=!0,u)}}function hAe(e){return function(t){const n=e(t);function a(){return n}return a.dependsOnOwnProps=!1,a}}function gAe(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function xAe(e,t){return function(t,{displayName:n}){const a=function(e,t){return a.dependsOnOwnProps?a.mapToProps(e,t):a.mapToProps(e,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(t,n){a.mapToProps=e,a.dependsOnOwnProps=gAe(e);let r=a(t,n);return"function"==typeof r&&(a.mapToProps=r,a.dependsOnOwnProps=gAe(r),r=a(t,n)),r},a}}function yAe(e,t){return(n,a)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${a.wrappedComponentName}.`)}}function vAe(e,t,n){return{...n,...e,...t}}var bAe={notify(){},get:()=>[]};function wAe(e,t){let n,a=bAe,r=0,i=!1;function s(){c.onStateChange&&c.onStateChange()}function o(){r++,n||(n=t?t.addNestedSub(s):e.subscribe(s),a=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){(()=>{let t=e;for(;t;)t.callback(),t=t.next})()},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let a=!0;const r=t={callback:n,next:null,prev:t};return r.prev?r.prev.next=r:e=r,function(){a&&null!==e&&(a=!1,r.next?r.next.prev=r.prev:t=r.prev,r.prev?r.prev.next=r.next:e=r.next)}}}}())}function l(){r--,n&&0===r&&(n(),n=void 0,a.clear(),a=bAe)}const c={addNestedSub:function(e){o();const t=a.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){a.notify()},handleChangeWrapper:s,isSubscribed:function(){return i},trySubscribe:function(){i||(i=!0,o())},tryUnsubscribe:function(){i&&(i=!1,l())},getListeners:()=>a};return c}var jAe=(()=>!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement))(),NAe=(()=>"undefined"!=typeof navigator&&"ReactNative"===navigator.product)(),CAe=(()=>jAe||NAe?ci.useLayoutEffect:ci.useEffect)();function SAe(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function kAe(e,t){if(SAe(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!SAe(e[n[r]],t[n[r]]))return!1;return!0}var MAe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},_Ae={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},EAe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},IAe={[uAe]:{$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},[fAe]:EAe};function LAe(e){return mAe(e)?EAe:IAe[e.$$typeof]||MAe}var AAe=Object.defineProperty,TAe=Object.getOwnPropertyNames,DAe=Object.getOwnPropertySymbols,PAe=Object.getOwnPropertyDescriptor,OAe=Object.getPrototypeOf,RAe=Object.prototype;function zAe(e,t){if("string"!=typeof t){if(RAe){const n=OAe(t);n&&n!==RAe&&zAe(e,n)}let a=TAe(t);DAe&&(a=a.concat(DAe(t)));const r=LAe(e),i=LAe(t);for(let s=0;s<a.length;++s){const o=a[s];if(!(_Ae[o]||i&&i[o]||r&&r[o])){const a=PAe(t,o);try{AAe(e,o,a)}catch(n){}}}}return e}var FAe=Symbol.for("react-redux-context"),BAe="undefined"!=typeof globalThis?globalThis:{};function UAe(){if(!ci.createContext)return{};const e=BAe[FAe]??(BAe[FAe]=new Map);let t=e.get(ci.createContext);return t||(t=ci.createContext(null),e.set(ci.createContext,t)),t}var WAe=UAe(),GAe=[null,null];function VAe(e,t,n,a,r,i){e.current=a,n.current=!1,r.current&&(r.current=null,i())}function $Ae(e,t){return e===t}var HAe=function(e,t,n,{pure:a,areStatesEqual:r=$Ae,areOwnPropsEqual:i=kAe,areStatePropsEqual:s=kAe,areMergedPropsEqual:o=kAe,forwardRef:l=!1,context:c=WAe}={}){const d=c,u=function(e){return e?"function"==typeof e?xAe(e):yAe(e,"mapStateToProps"):hAe((()=>({})))}(e),f=function(e){return e&&"object"==typeof e?hAe((t=>function(e,t){const n={};for(const a in e){const r=e[a];"function"==typeof r&&(n[a]=(...e)=>t(r(...e)))}return n}(e,t))):e?"function"==typeof e?xAe(e):yAe(e,"mapDispatchToProps"):hAe((e=>({dispatch:e})))}(t),m=function(e){return e?"function"==typeof e?function(e){return function(t,{displayName:n,areMergedPropsEqual:a}){let r,i=!1;return function(t,n,s){const o=e(t,n,s);return i?a(o,r)||(r=o):(i=!0,r=o),r}}}(e):yAe(e,"mergeProps"):()=>vAe}(n),p=Boolean(e);return e=>{const t=e.displayName||e.name||"Component",n=`Connect(${t})`,a={shouldHandleStateChanges:p,displayName:n,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:u,initMapDispatchToProps:f,initMergeProps:m,areStatesEqual:r,areStatePropsEqual:s,areOwnPropsEqual:i,areMergedPropsEqual:o};function c(t){const[n,r,i]=ci.useMemo((()=>{const{reactReduxForwardedRef:e,...n}=t;return[t.context,e,n]}),[t]),s=ci.useMemo((()=>{let e=d;return null==n||n.Consumer,e}),[n,d]),o=ci.useContext(s),l=Boolean(t.store)&&Boolean(t.store.getState)&&Boolean(t.store.dispatch),c=Boolean(o)&&Boolean(o.store),u=l?t.store:o.store,f=c?o.getServerState:u.getState,m=ci.useMemo((()=>function(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:a,...r}){return pAe(t(e,r),n(e,r),a(e,r),e,r)}(u.dispatch,a)),[u]),[h,g]=ci.useMemo((()=>{if(!p)return GAe;const e=wAe(u,l?void 0:o.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[u,l,o]),x=ci.useMemo((()=>l?o:{...o,subscription:h}),[l,o,h]),y=ci.useRef(void 0),v=ci.useRef(i),b=ci.useRef(void 0),w=ci.useRef(!1),j=ci.useRef(!1),N=ci.useRef(void 0);CAe((()=>(j.current=!0,()=>{j.current=!1})),[]);const C=ci.useMemo((()=>()=>b.current&&i===v.current?b.current:m(u.getState(),i)),[u,i]),S=ci.useMemo((()=>e=>h?function(e,t,n,a,r,i,s,o,l,c,d){if(!e)return()=>{};let u=!1,f=null;const m=()=>{if(u||!o.current)return;const e=t.getState();let n,m;try{n=a(e,r.current)}catch(p){m=p,f=p}m||(f=null),n===i.current?s.current||c():(i.current=n,l.current=n,s.current=!0,d())};return n.onStateChange=m,n.trySubscribe(),m(),()=>{if(u=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}(p,u,h,m,v,y,w,j,b,g,e):()=>{}),[h]);var k,M,_;let E;k=VAe,M=[v,y,w,i,b,g],CAe((()=>k(...M)),_);try{E=ci.useSyncExternalStore(S,C,f?()=>m(f(),i):C)}catch(Bze){throw N.current&&(Bze.message+=`\nThe error may be correlated with this previous error:\n${N.current.stack}\n\n`),Bze}CAe((()=>{N.current=void 0,b.current=void 0,y.current=E}));const I=ci.useMemo((()=>ci.createElement(e,{...E,ref:r})),[r,e,E]);return ci.useMemo((()=>p?ci.createElement(s.Provider,{value:x},I):I),[s,I,x])}const h=ci.memo(c);if(h.WrappedComponent=e,h.displayName=c.displayName=n,l){const t=ci.forwardRef((function(e,t){return ci.createElement(h,{...e,reactReduxForwardedRef:t})}));return t.displayName=n,t.WrappedComponent=e,zAe(t,e)}return zAe(h,e)}};var YAe=function(e){const{children:t,context:n,serverState:a,store:r}=e,i=ci.useMemo((()=>{const e=wAe(r);return{store:r,subscription:e,getServerState:a?()=>a:void 0}}),[r,a]),s=ci.useMemo((()=>r.getState()),[r]);CAe((()=>{const{subscription:e}=i;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==r.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[i,s]);const o=n||WAe;return ci.createElement(o.Provider,{value:i},t)},qAe=function(e){var t=e.top,n=e.right,a=e.bottom,r=e.left;return{top:t,right:n,bottom:a,left:r,width:n-r,height:a-t,x:r,y:t,center:{x:(n+r)/2,y:(a+t)/2}}},QAe=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},ZAe=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},JAe={top:0,right:0,bottom:0,left:0},KAe=function(e){var t=e.borderBox,n=e.margin,a=void 0===n?JAe:n,r=e.border,i=void 0===r?JAe:r,s=e.padding,o=void 0===s?JAe:s,l=qAe(QAe(t,a)),c=qAe(ZAe(t,i)),d=qAe(ZAe(c,o));return{marginBox:l,borderBox:qAe(t),paddingBox:c,contentBox:d,margin:a,border:i,padding:o}},XAe=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&qhe(),n},eTe=function(e,t){var n,a,r=e.borderBox,i=e.border,s=e.margin,o=e.padding,l=(a=t,{top:(n=r).top+a.y,left:n.left+a.x,bottom:n.bottom+a.y,right:n.right+a.x});return KAe({borderBox:l,border:i,margin:s,padding:o})},tTe=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),eTe(e,t)},nTe=function(e,t){var n={top:XAe(t.marginTop),right:XAe(t.marginRight),bottom:XAe(t.marginBottom),left:XAe(t.marginLeft)},a={top:XAe(t.paddingTop),right:XAe(t.paddingRight),bottom:XAe(t.paddingBottom),left:XAe(t.paddingLeft)},r={top:XAe(t.borderTopWidth),right:XAe(t.borderRightWidth),bottom:XAe(t.borderBottomWidth),left:XAe(t.borderLeftWidth)};return KAe({borderBox:e,margin:n,padding:a,border:r})},aTe=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return nTe(t,n)},rTe=function(e){var t=[],n=null,a=function(){for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];t=r,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return a.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},a};function iTe(e,t){}function sTe(){}function oTe(e,t,n){const a=t.map((t=>{const a=(r=n,i=t.options,{...r,...i});var r,i;return e.addEventListener(t.eventName,t.fn,a),function(){e.removeEventListener(t.eventName,t.fn,a)}}));return function(){a.forEach((e=>{e()}))}}iTe.bind(null,"warn"),iTe.bind(null,"error");class lTe extends Error{}function cTe(e,t){throw new lTe("Invariant failed")}lTe.prototype.toString=function(){return this.message};class dTe extends di.Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=sTe,this.onWindowError=e=>{const t=this.getCallbacks();t.isDragging()&&t.tryAbort();e.error instanceof lTe&&e.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=e=>{this.callbacks=e}}componentDidMount(){this.unbind=oTe(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(!(e instanceof lTe))throw e;this.setState({})}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const uTe=e=>e+1,fTe=(e,t)=>{const n=e.droppableId===t.droppableId,a=uTe(e.index),r=uTe(t.index);return n?`\n      You have moved the item from position ${a}\n      to position ${r}\n    `:`\n    You have moved the item from position ${a}\n    in list ${e.droppableId}\n    to list ${t.droppableId}\n    in position ${r}\n  `},mTe=(e,t,n)=>t.droppableId===n.droppableId?`\n      The item ${e}\n      has been combined with ${n.draggableId}`:`\n      The item ${e}\n      in list ${t.droppableId}\n      has been combined with ${n.draggableId}\n      in list ${n.droppableId}\n    `,pTe=e=>`\n  The item has returned to its starting position\n  of ${uTe(e.index)}\n`,hTe={dragHandleUsageInstructions:"\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",onDragStart:e=>`\n  You have lifted an item in position ${uTe(e.source.index)}\n`,onDragUpdate:e=>{const t=e.destination;if(t)return fTe(e.source,t);const n=e.combine;return n?mTe(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},onDragEnd:e=>{if("CANCEL"===e.reason)return`\n      Movement cancelled.\n      ${pTe(e.source)}\n    `;const t=e.destination,n=e.combine;return t?`\n      You have dropped the item.\n      ${fTe(e.source,t)}\n    `:n?`\n      You have dropped the item.\n      ${mTe(e.draggableId,e.source,n)}\n    `:`\n    The item has been dropped while not over a drop area.\n    ${pTe(e.source)}\n  `}};function gTe(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(n=e[r],a=t[r],!(n===a||Number.isNaN(n)&&Number.isNaN(a)))return!1;var n,a;return!0}function xTe(e,t){const n=ci.useState((()=>({inputs:t,result:e()})))[0],a=ci.useRef(!0),r=ci.useRef(n),i=a.current||Boolean(t&&r.current.inputs&&gTe(t,r.current.inputs))?r.current:{inputs:t,result:e()};return ci.useEffect((()=>{a.current=!1,r.current=i}),[i]),i.result}function yTe(e,t){return xTe((()=>e),t)}const vTe={x:0,y:0},bTe=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),wTe=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),jTe=(e,t)=>e.x===t.x&&e.y===t.y,NTe=e=>({x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}),CTe=(e,t,n=0)=>"x"===e?{x:t,y:n}:{x:n,y:t},STe=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),kTe=(e,t)=>Math.min(...t.map((t=>STe(e,t)))),MTe=e=>t=>({x:e(t.x),y:e(t.y)});const _Te=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),ETe=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],ITe=(e,t)=>t&&t.shouldClipSubject?((e,t)=>{const n=qAe({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n})(t.pageMarginBox,e):qAe(e);var LTe=({page:e,withPlaceholder:t,axis:n,frame:a})=>{const r=((e,t)=>t?_Te(e,t.scroll.diff.displacement):e)(e.marginBox,a),i=((e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e)(r,n,t);return{page:e,withPlaceholder:t,active:ITe(i,a)}},ATe=(e,t)=>{e.frame||cTe();const n=e.frame,a=wTe(t,n.scroll.initial),r=NTe(a),i={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:a,displacement:r},max:n.scroll.max}},s=LTe({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i});return{...e,frame:i,subject:s}};function TTe(e,t=gTe){let n=null;function a(...a){if(n&&n.lastThis===this&&t(a,n.lastArgs))return n.lastResult;const r=e.apply(this,a);return n={lastResult:r,lastArgs:a,lastThis:this},r}return a.clear=function(){n=null},a}const DTe=TTe((e=>e.reduce(((e,t)=>(e[t.descriptor.id]=t,e)),{}))),PTe=TTe((e=>e.reduce(((e,t)=>(e[t.descriptor.id]=t,e)),{}))),OTe=TTe((e=>Object.values(e))),RTe=TTe((e=>Object.values(e)));var zTe=TTe(((e,t)=>{const n=RTe(t).filter((t=>e===t.descriptor.droppableId)).sort(((e,t)=>e.descriptor.index-t.descriptor.index));return n}));function FTe(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function BTe(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var UTe=TTe(((e,t)=>t.filter((t=>t.descriptor.id!==e.descriptor.id)))),WTe=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const GTe={point:vTe,value:0},VTe={invisible:{},visible:{},all:[]},$Te={displaced:VTe,displacedBy:GTe,at:null};var HTe=(e,t)=>n=>e<=n&&n<=t,YTe=e=>{const t=HTe(e.top,e.bottom),n=HTe(e.left,e.right);return a=>{if(t(a.top)&&t(a.bottom)&&n(a.left)&&n(a.right))return!0;const r=t(a.top)||t(a.bottom),i=n(a.left)||n(a.right);if(r&&i)return!0;const s=a.top<e.top&&a.bottom>e.bottom,o=a.left<e.left&&a.right>e.right;if(s&&o)return!0;return s&&i||o&&r}},qTe=e=>{const t=HTe(e.top,e.bottom),n=HTe(e.left,e.right);return e=>t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)};const QTe={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},ZTe={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};const JTe=({target:e,destination:t,viewport:n,withDroppableDisplacement:a,isVisibleThroughFrameFn:r})=>{const i=a?((e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:vTe;return _Te(e,n)})(e,t):e;return((e,t,n)=>!!t.subject.active&&n(t.subject.active)(e))(i,t,r)&&((e,t,n)=>n(t)(e))(i,n,r)},KTe=e=>JTe({...e,isVisibleThroughFrameFn:qTe});function XTe({afterDragging:e,destination:t,displacedBy:n,viewport:a,forceShouldAnimate:r,last:i}){return e.reduce((function(e,s){const o=function(e,t){const n=e.page.marginBox,a={top:t.point.y,right:0,bottom:0,left:t.point.x};return qAe(QAe(n,a))}(s,n),l=s.descriptor.id;e.all.push(l);const c=(e=>JTe({...e,isVisibleThroughFrameFn:YTe}))({target:o,destination:t,viewport:a,withDroppableDisplacement:!0});if(!c)return e.invisible[s.descriptor.id]=!0,e;const d=((e,t,n)=>{if("boolean"==typeof n)return n;if(!t)return!0;const{invisible:a,visible:r}=t;if(a[e])return!1;const i=r[e];return!i||i.shouldAnimate})(l,i,r),u={draggableId:l,shouldAnimate:d};return e.visible[l]=u,e}),{all:[],visible:{},invisible:{}})}function eDe({insideDestination:e,inHomeList:t,displacedBy:n,destination:a}){const r=function(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(e,{inHomeList:t});return{displaced:VTe,displacedBy:n,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:r}}}}function tDe({draggable:e,insideDestination:t,destination:n,viewport:a,displacedBy:r,last:i,index:s,forceShouldAnimate:o}){const l=WTe(e,n);if(null==s)return eDe({insideDestination:t,inHomeList:l,displacedBy:r,destination:n});const c=t.find((e=>e.descriptor.index===s));if(!c)return eDe({insideDestination:t,inHomeList:l,displacedBy:r,destination:n});const d=UTe(e,t),u=t.indexOf(c);return{displaced:XTe({afterDragging:d.slice(u),destination:n,displacedBy:r,last:i,viewport:a.frame,forceShouldAnimate:o}),displacedBy:r,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function nDe(e,t){return Boolean(t.effected[e])}var aDe=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:a,destination:r,insideDestination:i,previousImpact:s,viewport:o,afterCritical:l})=>{const c=s.at;if(c||cTe(),"REORDER"===c.type){const a=(({isMovingForward:e,isInHomeList:t,insideDestination:n,location:a})=>{if(!n.length)return null;const r=a.index,i=e?r+1:r-1,s=n[0].descriptor.index,o=n[n.length-1].descriptor.index;return i<s||i>(t?o:o+1)?null:i})({isMovingForward:e,isInHomeList:t,location:c.destination,insideDestination:i});return null==a?null:tDe({draggable:n,insideDestination:i,destination:r,viewport:o,last:s.displaced,displacedBy:s.displacedBy,index:a})}const d=(({isMovingForward:e,destination:t,draggables:n,combine:a,afterCritical:r})=>{if(!t.isCombineEnabled)return null;const i=a.draggableId,s=n[i].descriptor.index;return nDe(i,r)?e?s:s-1:e?s+1:s})({isMovingForward:e,destination:r,displaced:s.displaced,draggables:a,combine:c.combine,afterCritical:l});return null==d?null:tDe({draggable:n,insideDestination:i,destination:r,viewport:o,last:s.displaced,displacedBy:s.displacedBy,index:d})},rDe=({afterCritical:e,impact:t,draggables:n})=>{const a=BTe(t);a||cTe();const r=a.draggableId,i=n[r].page.borderBox.center,s=(({displaced:e,afterCritical:t,combineWith:n,displacedBy:a})=>{const r=Boolean(e.visible[n]||e.invisible[n]);return nDe(n,t)?r?vTe:NTe(a.point):r?a.point:vTe})({displaced:t.displaced,afterCritical:e,combineWith:r,displacedBy:t.displacedBy});return bTe(i,s)};const iDe=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,sDe=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,oDe=({axis:e,moveRelativeTo:t,isMoving:n})=>CTe(e.line,t.marginBox[e.end]+iDe(e,n),sDe(e,t.marginBox,n)),lDe=({axis:e,moveRelativeTo:t,isMoving:n})=>CTe(e.line,t.marginBox[e.start]-((e,t)=>t.margin[e.end]+t.borderBox[e.size]/2)(e,n),sDe(e,t.marginBox,n));var cDe=({impact:e,draggable:t,draggables:n,droppable:a,afterCritical:r})=>{const i=zTe(a.descriptor.id,n),s=t.page,o=a.axis;if(!i.length)return(({axis:e,moveInto:t,isMoving:n})=>CTe(e.line,t.contentBox[e.start]+iDe(e,n),sDe(e,t.contentBox,n)))({axis:o,moveInto:a.page,isMoving:s});const{displaced:l,displacedBy:c}=e,d=l.all[0];if(d){const e=n[d];if(nDe(d,r))return lDe({axis:o,moveRelativeTo:e.page,isMoving:s});const t=eTe(e.page,c.point);return lDe({axis:o,moveRelativeTo:t,isMoving:s})}const u=i[i.length-1];if(u.descriptor.id===t.descriptor.id)return s.borderBox.center;if(nDe(u.descriptor.id,r)){const e=eTe(u.page,NTe(r.displacedBy.point));return oDe({axis:o,moveRelativeTo:e,isMoving:s})}return oDe({axis:o,moveRelativeTo:u.page,isMoving:s})},dDe=(e,t)=>{const n=e.frame;return n?bTe(t,n.scroll.diff.displacement):t};var uDe=e=>{const t=(({impact:e,draggable:t,droppable:n,draggables:a,afterCritical:r})=>{const i=t.page.borderBox.center,s=e.at;return n&&s?"REORDER"===s.type?cDe({impact:e,draggable:t,draggables:a,droppable:n,afterCritical:r}):rDe({impact:e,draggables:a,afterCritical:r}):i})(e),n=e.droppable;return n?dDe(n,t):t},fDe=(e,t)=>{const n=wTe(t,e.scroll.initial),a=NTe(n);return{frame:qAe({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:a}}}};function mDe(e,t){return e.map((e=>t[e]))}var pDe=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const a=((e,t)=>bTe(e.scroll.diff.displacement,t))(n,e),r=wTe(a,t.page.borderBox.center);return bTe(t.client.borderBox.center,r)},hDe=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:a,withDroppableDisplacement:r,onlyOnMainAxis:i=!1})=>{const s=wTe(n,e.page.borderBox.center),o={target:_Te(e.page.borderBox,s),destination:t,withDroppableDisplacement:r,viewport:a};return i?(e=>{return JTe({...e,isVisibleThroughFrameFn:(t=e.destination.axis,e=>{const n=HTe(e.top,e.bottom),a=HTe(e.left,e.right);return e=>t===QTe?n(e.top)&&n(e.bottom):a(e.left)&&a(e.right)})});var t})(o):KTe(o)},gDe=({isMovingForward:e,draggable:t,destination:n,draggables:a,previousImpact:r,viewport:i,previousPageBorderBoxCenter:s,previousClientSelection:o,afterCritical:l})=>{if(!n.isEnabled)return null;const c=zTe(n.descriptor.id,a),d=WTe(t,n),u=(({isMovingForward:e,draggable:t,destination:n,insideDestination:a,previousImpact:r})=>{if(!n.isCombineEnabled)return null;if(!FTe(r))return null;function i(e){const t={type:"COMBINE",combine:{draggableId:e,droppableId:n.descriptor.id}};return{...r,at:t}}const s=r.displaced.all,o=s.length?s[0]:null;if(e)return o?i(o):null;const l=UTe(t,a);if(!o)return l.length?i(l[l.length-1].descriptor.id):null;const c=l.findIndex((e=>e.descriptor.id===o));-1===c&&cTe();const d=c-1;return d<0?null:i(l[d].descriptor.id)})({isMovingForward:e,draggable:t,destination:n,insideDestination:c,previousImpact:r})||aDe({isMovingForward:e,isInHomeList:d,draggable:t,draggables:a,destination:n,insideDestination:c,previousImpact:r,viewport:i,afterCritical:l});if(!u)return null;const f=uDe({impact:u,draggable:t,droppable:n,draggables:a,afterCritical:l});if(hDe({draggable:t,destination:n,newPageBorderBoxCenter:f,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})){return{clientSelection:pDe({pageBorderBoxCenter:f,draggable:t,viewport:i}),impact:u,scrollJumpRequest:null}}const m=wTe(f,s),p=(({impact:e,viewport:t,destination:n,draggables:a,maxScrollChange:r})=>{const i=fDe(t,bTe(t.scroll.current,r)),s=n.frame?ATe(n,bTe(n.frame.scroll.current,r)):n,o=e.displaced,l=XTe({afterDragging:mDe(o.all,a),destination:n,displacedBy:e.displacedBy,viewport:i.frame,last:o,forceShouldAnimate:!1}),c=XTe({afterDragging:mDe(o.all,a),destination:s,displacedBy:e.displacedBy,viewport:t.frame,last:o,forceShouldAnimate:!1}),d={},u={},f=[o,l,c];return o.all.forEach((e=>{const t=function(e,t){for(let n=0;n<t.length;n++){const a=t[n].visible[e];if(a)return a}return null}(e,f);t?u[e]=t:d[e]=!0})),{...e,displaced:{all:o.all,invisible:d,visible:u}}})({impact:u,viewport:i,destination:n,draggables:a,maxScrollChange:m});return{clientSelection:o,impact:p,scrollJumpRequest:m}};const xDe=e=>{const t=e.subject.active;return t||cTe(),t};const yDe=(e,t)=>{const n=e.page.borderBox.center;return nDe(e.descriptor.id,t)?wTe(n,t.displacedBy.point):n},vDe=(e,t)=>{const n=e.page.borderBox;return nDe(e.descriptor.id,t)?_Te(n,NTe(t.displacedBy.point)):n};var bDe=TTe((function(e,t){const n=t[e.line];return{value:n,point:CTe(e.line,n)}}));const wDe=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),jDe=(e,t,n)=>{const a=e.frame;WTe(t,e)&&cTe(),e.subject.withPlaceholder&&cTe();const r=bDe(e.axis,t.displaceBy).point,i=((e,t,n)=>{const a=e.axis;if("virtual"===e.descriptor.mode)return CTe(a.line,t[a.line]);const r=e.subject.page.contentBox[a.size],i=zTe(e.descriptor.id,n).reduce(((e,t)=>e+t.client.marginBox[a.size]),0)+t[a.line]-r;return i<=0?null:CTe(a.line,i)})(e,r,n),s={placeholderSize:r,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!a){const t=LTe({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:e.frame});return{...e,subject:t}}const o=i?bTe(a.scroll.max,i):a.scroll.max,l=wDe(a,o),c=LTe({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:l});return{...e,subject:c,frame:l}};var NDe=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:a,draggables:r,droppables:i,viewport:s,afterCritical:o})=>{const l=(({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:a,viewport:r})=>{const i=n.subject.active;if(!i)return null;const s=n.axis,o=HTe(i[s.start],i[s.end]),l=OTe(a).filter((e=>e!==n)).filter((e=>e.isEnabled)).filter((e=>Boolean(e.subject.active))).filter((e=>YTe(r.frame)(xDe(e)))).filter((t=>{const n=xDe(t);return e?i[s.crossAxisEnd]<n[s.crossAxisEnd]:n[s.crossAxisStart]<i[s.crossAxisStart]})).filter((e=>{const t=xDe(e),n=HTe(t[s.start],t[s.end]);return o(t[s.start])||o(t[s.end])||n(i[s.start])||n(i[s.end])})).sort(((t,n)=>{const a=xDe(t)[s.crossAxisStart],r=xDe(n)[s.crossAxisStart];return e?a-r:r-a})).filter(((e,t,n)=>xDe(e)[s.crossAxisStart]===xDe(n[0])[s.crossAxisStart]));if(!l.length)return null;if(1===l.length)return l[0];const c=l.filter((e=>HTe(xDe(e)[s.start],xDe(e)[s.end])(t[s.line])));return 1===c.length?c[0]:c.length>1?c.sort(((e,t)=>xDe(e)[s.start]-xDe(t)[s.start]))[0]:l.sort(((e,n)=>{const a=kTe(t,ETe(xDe(e))),r=kTe(t,ETe(xDe(n)));return a!==r?a-r:xDe(e)[s.start]-xDe(n)[s.start]}))[0]})({isMovingForward:e,pageBorderBoxCenter:t,source:a,droppables:i,viewport:s});if(!l)return null;const c=zTe(l.descriptor.id,r),d=(({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:a,afterCritical:r})=>{const i=a.filter((e=>KTe({target:vDe(e,r),destination:n,viewport:t.frame,withDroppableDisplacement:!0}))).sort(((t,a)=>{const i=STe(e,dDe(n,yDe(t,r))),s=STe(e,dDe(n,yDe(a,r)));return i<s?-1:s<i?1:t.descriptor.index-a.descriptor.index}));return i[0]||null})({pageBorderBoxCenter:t,viewport:s,destination:l,insideDestination:c,afterCritical:o}),u=(({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:a,draggables:r,destination:i,viewport:s,afterCritical:o})=>{if(!t){if(n.length)return null;const e={displaced:VTe,displacedBy:GTe,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},t=uDe({impact:e,draggable:a,droppable:i,draggables:r,afterCritical:o}),l=WTe(a,i)?i:jDe(i,a,r);return hDe({draggable:a,destination:l,newPageBorderBoxCenter:t,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?e:null}const l=Boolean(e[i.axis.line]<=t.page.borderBox.center[i.axis.line]),c=(()=>{const e=t.descriptor.index;return t.descriptor.id===a.descriptor.id||l?e:e+1})(),d=bDe(i.axis,a.displaceBy);return tDe({draggable:a,insideDestination:n,destination:i,viewport:s,displacedBy:d,last:VTe,index:c})})({previousPageBorderBoxCenter:t,destination:l,draggable:n,draggables:r,moveRelativeTo:d,insideDestination:c,viewport:s,afterCritical:o});if(!u)return null;const f=uDe({impact:u,draggable:n,droppable:l,draggables:r,afterCritical:o});return{clientSelection:pDe({pageBorderBoxCenter:f,draggable:n,viewport:s}),impact:u,scrollJumpRequest:null}},CDe=e=>{const t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null};var SDe=({state:e,type:t})=>{const n=((e,t)=>{const n=CDe(e);return n?t[n]:null})(e.impact,e.dimensions.droppables),a=Boolean(n),r=e.dimensions.droppables[e.critical.droppable.id],i=n||r,s=i.axis.direction,o="vertical"===s&&("MOVE_UP"===t||"MOVE_DOWN"===t)||"horizontal"===s&&("MOVE_LEFT"===t||"MOVE_RIGHT"===t);if(o&&!a)return null;const l="MOVE_DOWN"===t||"MOVE_RIGHT"===t,c=e.dimensions.draggables[e.critical.draggable.id],d=e.current.page.borderBoxCenter,{draggables:u,droppables:f}=e.dimensions;return o?gDe({isMovingForward:l,previousPageBorderBoxCenter:d,draggable:c,destination:i,draggables:u,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):NDe({isMovingForward:l,previousPageBorderBoxCenter:d,draggable:c,isOver:i,draggables:u,droppables:f,viewport:e.viewport,afterCritical:e.afterCritical})};function kDe(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function MDe(e){const t=HTe(e.top,e.bottom),n=HTe(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function _De({pageBorderBox:e,draggable:t,droppables:n}){const a=OTe(n).filter((t=>{if(!t.isEnabled)return!1;const n=t.subject.active;if(!n)return!1;if(r=n,!((a=e).left<r.right&&a.right>r.left&&a.top<r.bottom&&a.bottom>r.top))return!1;var a,r;if(MDe(n)(e.center))return!0;const i=t.axis,s=n.center[i.crossAxisLine],o=e[i.crossAxisStart],l=e[i.crossAxisEnd],c=HTe(n[i.crossAxisStart],n[i.crossAxisEnd]),d=c(o),u=c(l);return!d&&!u||(d?o<s:l>s)}));return a.length?1===a.length?a[0].descriptor.id:function({pageBorderBox:e,draggable:t,candidates:n}){const a=t.page.borderBox.center,r=n.map((t=>{const n=t.axis,r=CTe(t.axis.line,e.center[n.line],t.page.borderBox.center[n.crossAxisLine]);return{id:t.descriptor.id,distance:STe(a,r)}})).sort(((e,t)=>t.distance-e.distance));return r[0]?r[0].id:null}({pageBorderBox:e,draggable:t,candidates:a}):null}const EDe=(e,t)=>qAe(_Te(e,t));function IDe({displaced:e,id:t}){return Boolean(e.visible[t]||e.invisible[t])}var LDe=({pageOffset:e,draggable:t,draggables:n,droppables:a,previousImpact:r,viewport:i,afterCritical:s})=>{const o=EDe(t.page.borderBox,e),l=_De({pageBorderBox:o,draggable:t,droppables:a});if(!l)return $Te;const c=a[l],d=zTe(c.descriptor.id,n),u=((e,t)=>{const n=e.frame;return n?EDe(t,n.scroll.diff.value):t})(c,o);return(({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:a,insideDestination:r,afterCritical:i})=>{if(!a.isCombineEnabled)return null;const s=a.axis,o=bDe(a.axis,e.displaceBy),l=o.value,c=t[s.start],d=t[s.end],u=UTe(e,r).find((e=>{const t=e.descriptor.id,a=e.page.borderBox,r=a[s.size]/4,o=nDe(t,i),u=IDe({displaced:n.displaced,id:t});return o?u?d>a[s.start]+r&&d<a[s.end]-r:c>a[s.start]-l+r&&c<a[s.end]-l-r:u?d>a[s.start]+l+r&&d<a[s.end]+l-r:c>a[s.start]+r&&c<a[s.end]-r}));return u?{displacedBy:o,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:u.descriptor.id,droppableId:a.descriptor.id}}}:null})({pageBorderBoxWithDroppableScroll:u,draggable:t,previousImpact:r,destination:c,insideDestination:d,afterCritical:s})||(({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:a,last:r,viewport:i,afterCritical:s})=>{const o=n.axis,l=bDe(n.axis,t.displaceBy),c=l.value,d=e[o.start],u=e[o.end],f=function({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}({draggable:t,closest:UTe(t,a).find((e=>{const t=e.descriptor.id,n=e.page.borderBox.center[o.line],a=nDe(t,s),i=IDe({displaced:r,id:t});return a?i?u<=n:d<n-c:i?u<=n+c:d<n}))||null,inHomeList:WTe(t,n)});return tDe({draggable:t,insideDestination:a,destination:n,viewport:i,last:r,displacedBy:l,index:f})})({pageBorderBoxWithDroppableScroll:u,draggable:t,destination:c,insideDestination:d,last:r.displaced,viewport:i,afterCritical:s})},ADe=(e,t)=>({...e,[t.descriptor.id]:t});const TDe=({previousImpact:e,impact:t,droppables:n})=>{const a=CDe(e),r=CDe(t);if(!a)return n;if(a===r)return n;const i=n[a];if(!i.subject.withPlaceholder)return n;const s=(e=>{const t=e.subject.withPlaceholder;t||cTe();const n=e.frame;if(!n){const t=LTe({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:t}}const a=t.oldFrameMaxScroll;a||cTe();const r=wDe(n,a),i=LTe({page:e.subject.page,axis:e.axis,frame:r,withPlaceholder:null});return{...e,subject:i,frame:r}})(i);return ADe(n,s)};var DDe=({state:e,clientSelection:t,dimensions:n,viewport:a,impact:r,scrollJumpRequest:i})=>{const s=a||e.viewport,o=n||e.dimensions,l=t||e.current.client.selection,c=wTe(l,e.initial.client.selection),d={offset:c,selection:l,borderBoxCenter:bTe(e.initial.client.borderBoxCenter,c)},u={selection:bTe(d.selection,s.scroll.current),borderBoxCenter:bTe(d.borderBoxCenter,s.scroll.current),offset:bTe(d.offset,s.scroll.diff.value)},f={client:d,page:u};if("COLLECTING"===e.phase)return{...e,dimensions:o,viewport:s,current:f};const m=o.draggables[e.critical.draggable.id],p=r||LDe({pageOffset:u.offset,draggable:m,draggables:o.draggables,droppables:o.droppables,previousImpact:e.impact,viewport:s,afterCritical:e.afterCritical}),h=(({draggable:e,draggables:t,droppables:n,previousImpact:a,impact:r})=>{const i=TDe({previousImpact:a,impact:r,droppables:n}),s=CDe(r);if(!s)return i;const o=n[s];if(WTe(e,o))return i;if(o.subject.withPlaceholder)return i;const l=jDe(o,e,t);return ADe(i,l)})({draggable:m,impact:p,previousImpact:e.impact,draggables:o.draggables,droppables:o.droppables});return{...e,current:f,dimensions:{draggables:o.draggables,droppables:h},impact:p,viewport:s,scrollJumpRequest:i||null,forceShouldAnimate:!i&&null}};var PDe=({impact:e,viewport:t,draggables:n,destination:a,forceShouldAnimate:r})=>{const i=e.displaced,s=function(e,t){return e.map((e=>t[e]))}(i.all,n),o=XTe({afterDragging:s,destination:a,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:r,last:i});return{...e,displaced:o}},ODe=({impact:e,draggable:t,droppable:n,draggables:a,viewport:r,afterCritical:i})=>{const s=uDe({impact:e,draggable:t,draggables:a,droppable:n,afterCritical:i});return pDe({pageBorderBoxCenter:s,draggable:t,viewport:r})},RDe=({state:e,dimensions:t,viewport:n})=>{"SNAP"!==e.movementMode&&cTe();const a=e.impact,r=n||e.viewport,i=t||e.dimensions,{draggables:s,droppables:o}=i,l=s[e.critical.draggable.id],c=CDe(a);c||cTe();const d=o[c],u=PDe({impact:a,viewport:r,destination:d,draggables:s}),f=ODe({impact:u,draggable:l,droppable:d,draggables:s,viewport:r,afterCritical:e.afterCritical});return DDe({impact:u,clientSelection:f,state:e,dimensions:i,viewport:r})},zDe=({draggable:e,home:t,draggables:n,viewport:a})=>{const r=bDe(t.axis,e.displaceBy),i=zTe(t.descriptor.id,n),s=i.indexOf(e);-1===s&&cTe();const o=i.slice(s+1),l=o.reduce(((e,t)=>(e[t.descriptor.id]=!0,e)),{}),c={inVirtualList:"virtual"===t.descriptor.mode,displacedBy:r,effected:l};var d;return{impact:{displaced:XTe({afterDragging:o,destination:t,displacedBy:r,last:null,viewport:a.frame,forceShouldAnimate:!1}),displacedBy:r,at:{type:"REORDER",destination:(d=e.descriptor,{index:d.index,droppableId:d.droppableId})}},afterCritical:c}},FDe=({additions:e,updatedDroppables:t,viewport:n})=>{const a=n.scroll.diff.value;return e.map((e=>{const r=e.descriptor.droppableId,i=(e=>{const t=e.frame;return t||cTe(),t})(t[r]).scroll.diff.value,s=(({draggable:e,offset:t,initialWindowScroll:n})=>{const a=eTe(e.client,t),r=tTe(a,n);return{...e,placeholder:{...e.placeholder,client:a},client:a,page:r}})({draggable:e,offset:bTe(a,i),initialWindowScroll:n.scroll.initial});return s}))};const BDe=e=>"SNAP"===e.movementMode,UDe=(e,t,n)=>{const a=((e,t)=>({draggables:e.draggables,droppables:ADe(e.droppables,t)}))(e.dimensions,t);return!BDe(e)||n?DDe({state:e,dimensions:a}):RDe({state:e,dimensions:a})};function WDe(e){return e.isDragging&&"SNAP"===e.movementMode?{...e,scrollJumpRequest:null}:e}const GDe={phase:"IDLE",completed:null,shouldFlush:!1};var VDe=(e=GDe,t)=>{if("FLUSH"===t.type)return{...GDe,shouldFlush:!0};if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&cTe();const{critical:n,clientSelection:a,viewport:r,dimensions:i,movementMode:s}=t.payload,o=i.draggables[n.draggable.id],l=i.droppables[n.droppable.id],c={selection:a,borderBoxCenter:o.client.borderBox.center,offset:vTe},d={client:c,page:{selection:bTe(c.selection,r.scroll.initial),borderBoxCenter:bTe(c.selection,r.scroll.initial),offset:bTe(c.selection,r.scroll.diff.value)}},u=OTe(i.droppables).every((e=>!e.isFixedOnPage)),{impact:f,afterCritical:m}=zDe({draggable:o,home:l,draggables:i.draggables,viewport:r});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:s,dimensions:i,initial:d,current:d,isWindowScrollAllowed:u,impact:f,afterCritical:m,onLiftImpact:f,viewport:r,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&cTe();return{...e,phase:"COLLECTING"}}if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&cTe(),(({state:e,published:t})=>{const n=t.modified.map((t=>{const n=e.dimensions.droppables[t.droppableId];return ATe(n,t.scroll)})),a={...e.dimensions.droppables,...DTe(n)},r=PTe(FDe({additions:t.additions,updatedDroppables:a,viewport:e.viewport})),i={...e.dimensions.draggables,...r};t.removals.forEach((e=>{delete i[e]}));const s={droppables:a,draggables:i},o=CDe(e.impact),l=o?s.droppables[o]:null,c=s.draggables[e.critical.draggable.id],d=s.droppables[e.critical.droppable.id],{impact:u,afterCritical:f}=zDe({draggable:c,home:d,draggables:i,viewport:e.viewport}),m=l&&l.isCombineEnabled?e.impact:u,p=LDe({pageOffset:e.current.page.offset,draggable:s.draggables[e.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:m,viewport:e.viewport,afterCritical:f}),h={...e,phase:"DRAGGING",impact:p,onLiftImpact:u,dimensions:s,afterCritical:f,forceShouldAnimate:!1};return"COLLECTING"===e.phase?h:{...h,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}})({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;kDe(e)||cTe();const{client:n}=t.payload;return jTe(n,e.current.client.selection)?e:DDe({state:e,clientSelection:n,impact:BDe(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return WDe(e);if("COLLECTING"===e.phase)return WDe(e);kDe(e)||cTe();const{id:n,newScroll:a}=t.payload,r=e.dimensions.droppables[n];if(!r)return e;const i=ATe(r,a);return UDe(e,i,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;kDe(e)||cTe();const{id:n,isEnabled:a}=t.payload,r=e.dimensions.droppables[n];r||cTe(),r.isEnabled===a&&cTe();const i={...r,isEnabled:a};return UDe(e,i,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;kDe(e)||cTe();const{id:n,isCombineEnabled:a}=t.payload,r=e.dimensions.droppables[n];r||cTe(),r.isCombineEnabled===a&&cTe();const i={...r,isCombineEnabled:a};return UDe(e,i,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;kDe(e)||cTe(),e.isWindowScrollAllowed||cTe();const n=t.payload.newScroll;if(jTe(e.viewport.scroll.current,n))return WDe(e);const a=fDe(e.viewport,n);return BDe(e)?RDe({state:e,viewport:a}):DDe({state:e,viewport:a})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!kDe(e))return e;const n=t.payload.maxScroll;if(jTe(n,e.viewport.scroll.max))return e;const a={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:a}}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&cTe();const n=SDe({state:e,type:t.type});return n?DDe({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){const n=t.payload.reason;"COLLECTING"!==e.phase&&cTe();return{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if("DROP_ANIMATE"===t.type){const{completed:n,dropDuration:a,newHomeClientOffset:r}=t.payload;"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&cTe();return{phase:"DROP_ANIMATING",completed:n,dropDuration:a,newHomeClientOffset:r,dimensions:e.dimensions}}if("DROP_COMPLETE"===t.type){const{completed:e}=t.payload;return{phase:"IDLE",completed:e,shouldFlush:!1}}return e};function $De(e,t){return e instanceof Object&&"type"in e&&e.type===t}const HDe=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),YDe=()=>({type:"COLLECTION_STARTING",payload:null}),qDe=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),QDe=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),ZDe=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),JDe=e=>({type:"MOVE",payload:e}),KDe=()=>({type:"MOVE_UP",payload:null}),XDe=()=>({type:"MOVE_DOWN",payload:null}),ePe=()=>({type:"MOVE_RIGHT",payload:null}),tPe=()=>({type:"MOVE_LEFT",payload:null}),nPe=e=>({type:"DROP_COMPLETE",payload:e}),aPe=e=>({type:"DROP",payload:e}),rPe=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});const iPe="cubic-bezier(.2,1,.1,1)",sPe={drop:0,combining:.7},oPe={drop:.75},lPe={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},cPe=`${lPe.outOfTheWay}s ${"cubic-bezier(0.2, 0, 0, 1)"}`,dPe={fluid:`opacity ${cPe}`,snap:`transform ${cPe}, opacity ${cPe}`,drop:e=>{const t=`${e}s ${iPe}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${cPe}`,placeholder:`height ${cPe}, width ${cPe}, margin ${cPe}`},uPe=e=>jTe(e,vTe)?void 0:`translate(${e.x}px, ${e.y}px)`,fPe=uPe,mPe=(e,t)=>{const n=uPe(e);if(n)return t?`${n} scale(${oPe.drop})`:n},{minDropTime:pPe,maxDropTime:hPe}=lPe,gPe=hPe-pPe;const xPe=({getState:e,dispatch:t})=>n=>a=>{if(!$De(a,"DROP"))return void n(a);const r=e(),i=a.payload.reason;if("COLLECTING"===r.phase)return void t((e=>({type:"DROP_PENDING",payload:e}))({reason:i}));if("IDLE"===r.phase)return;"DROP_PENDING"===r.phase&&r.isWaiting&&cTe(),"DRAGGING"!==r.phase&&"DROP_PENDING"!==r.phase&&cTe();const s=r.critical,o=r.dimensions,l=o.draggables[r.critical.draggable.id],{impact:c,didDropInsideDroppable:d}=(({draggables:e,reason:t,lastImpact:n,home:a,viewport:r,onLiftImpact:i})=>{if(!n.at||"DROP"!==t)return{impact:PDe({draggables:e,impact:i,destination:a,viewport:r,forceShouldAnimate:!0}),didDropInsideDroppable:!1};return"REORDER"===n.at.type?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:VTe},didDropInsideDroppable:!0}})({reason:i,lastImpact:r.impact,afterCritical:r.afterCritical,onLiftImpact:r.onLiftImpact,home:r.dimensions.droppables[r.critical.droppable.id],viewport:r.viewport,draggables:r.dimensions.draggables}),u=d?FTe(c):null,f=d?BTe(c):null,m={index:s.draggable.index,droppableId:s.droppable.id},p={draggableId:l.descriptor.id,type:l.descriptor.type,source:m,reason:i,mode:r.movementMode,destination:u,combine:f},h=(({impact:e,draggable:t,dimensions:n,viewport:a,afterCritical:r})=>{const{draggables:i,droppables:s}=n,o=CDe(e),l=o?s[o]:null,c=s[t.descriptor.droppableId],d=ODe({impact:e,draggable:t,draggables:i,afterCritical:r,droppable:l||c,viewport:a});return wTe(d,t.client.borderBox.center)})({impact:c,draggable:l,dimensions:o,viewport:r.viewport,afterCritical:r.afterCritical}),g={critical:r.critical,afterCritical:r.afterCritical,result:p,impact:c};if(!(!jTe(r.current.client.offset,h)||Boolean(p.combine)))return void t(nPe({completed:g}));const x=(({current:e,destination:t,reason:n})=>{const a=STe(e,t);if(a<=0)return pPe;if(a>=1500)return hPe;const r=pPe+gPe*(a/1500);return Number(("CANCEL"===n?.6*r:r).toFixed(2))})({current:r.current.client.offset,destination:h,reason:i});t((e=>({type:"DROP_ANIMATE",payload:e}))({newHomeClientOffset:h,dropDuration:x,completed:g}))};var yPe=()=>({x:window.pageXOffset,y:window.pageYOffset});function vPe({onWindowScroll:e}){const t=rTe((function(){e(yPe())})),n=(a=t,{eventName:"scroll",options:{passive:!0,capture:!1},fn:e=>{e.target!==window&&e.target!==window.document||a()}});var a;let r=sTe;function i(){return r!==sTe}return{start:function(){i()&&cTe(),r=oTe(window,[n])},stop:function(){i()||cTe(),t.cancel(),r(),r=sTe},isActive:i}}const bPe=e=>{const t=vPe({onWindowScroll:t=>{e.dispatch((e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}))({newScroll:t}))}});return e=>n=>{!t.isActive()&&$De(n,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&(e=>$De(e,"DROP_COMPLETE")||$De(e,"DROP_ANIMATE")||$De(e,"FLUSH"))(n)&&t.stop(),e(n)}};var wPe=()=>{const e=[];return{add:t=>{const n=setTimeout((()=>(t=>{const n=e.findIndex((e=>e.timerId===t));-1===n&&cTe();const[a]=e.splice(n,1);a.callback()})(n))),a={timerId:n,callback:t};e.push(a)},flush:()=>{if(!e.length)return;const t=[...e];e.length=0,t.forEach((e=>{clearTimeout(e.timerId),e.callback()}))}}};const jPe=(e,t)=>{t()},NPe=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function CPe(e,t,n,a){if(!e)return void n(a(t));const r=(e=>{let t=!1,n=!1;const a=setTimeout((()=>{n=!0})),r=r=>{t||n||(t=!0,e(r),clearTimeout(a))};return r.wasCalled=()=>t,r})(n);e(t,{announce:r}),r.wasCalled()||n(a(t))}var SPe=(e,t)=>{const n=((e,t)=>{const n=wPe();let a=null;const r=n=>{a||cTe(),a=null,jPe(0,(()=>CPe(e().onDragEnd,n,t,hTe.onDragEnd)))};return{beforeCapture:(t,n)=>{a&&cTe(),jPe(0,(()=>{const a=e().onBeforeCapture;a&&a({draggableId:t,mode:n})}))},beforeStart:(t,n)=>{a&&cTe(),jPe(0,(()=>{const a=e().onBeforeDragStart;a&&a(NPe(t,n))}))},start:(r,i)=>{a&&cTe();const s=NPe(r,i);a={mode:i,lastCritical:r,lastLocation:s.source,lastCombine:null},n.add((()=>{jPe(0,(()=>CPe(e().onDragStart,s,t,hTe.onDragStart)))}))},update:(r,i)=>{const s=FTe(i),o=BTe(i);a||cTe();const l=!((e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,a=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&a})(r,a.lastCritical);l&&(a.lastCritical=r);const c=(u=s,!(null==(d=a.lastLocation)&&null==u||null!=d&&null!=u&&d.droppableId===u.droppableId&&d.index===u.index));var d,u;c&&(a.lastLocation=s);const f=!((e,t)=>null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId)(a.lastCombine,o);if(f&&(a.lastCombine=o),!l&&!c&&!f)return;const m={...NPe(r,a.mode),combine:o,destination:s};n.add((()=>{jPe(0,(()=>CPe(e().onDragUpdate,m,t,hTe.onDragUpdate)))}))},flush:()=>{a||cTe(),n.flush()},drop:r,abort:()=>{if(!a)return;const e={...NPe(a.lastCritical,a.mode),combine:null,destination:null,reason:"CANCEL"};r(e)}}})(e,t);return e=>t=>a=>{if($De(a,"BEFORE_INITIAL_CAPTURE"))return void n.beforeCapture(a.payload.draggableId,a.payload.movementMode);if($De(a,"INITIAL_PUBLISH")){const e=a.payload.critical;return n.beforeStart(e,a.payload.movementMode),t(a),void n.start(e,a.payload.movementMode)}if($De(a,"DROP_COMPLETE")){const e=a.payload.completed.result;return n.flush(),t(a),void n.drop(e)}if(t(a),$De(a,"FLUSH"))return void n.abort();const r=e.getState();"DRAGGING"===r.phase&&n.update(r.critical,r.impact)}};const kPe=e=>t=>n=>{if(!$De(n,"DROP_ANIMATION_FINISHED"))return void t(n);const a=e.getState();"DROP_ANIMATING"!==a.phase&&cTe(),e.dispatch(nPe({completed:a.completed}))},MPe=e=>{let t=null,n=null;return a=>r=>{if(($De(r,"FLUSH")||$De(r,"DROP_COMPLETE")||$De(r,"DROP_ANIMATION_FINISHED"))&&(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),a(r),!$De(r,"DROP_ANIMATE"))return;const i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((()=>{n=null,t=oTe(window,[i])}))}};var _Pe=e=>t=>n=>a=>{if((e=>$De(e,"DROP_COMPLETE")||$De(e,"DROP_ANIMATE")||$De(e,"FLUSH"))(a))return e.stop(),void n(a);if($De(a,"INITIAL_PUBLISH")){n(a);const r=t.getState();return"DRAGGING"!==r.phase&&cTe(),void e.start(r)}n(a),e.scroll(t.getState())};const EPe=e=>t=>n=>{if(t(n),!$De(n,"PUBLISH_WHILE_DRAGGING"))return;const a=e.getState();"DROP_PENDING"===a.phase&&(a.isWaiting||e.dispatch(aPe({reason:a.reason})))},IPe=ZLe;var LPe=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:a,announce:r,autoScroller:i})=>{return YLe(VDe,IPe(function(...e){return t=>(n,a)=>{const r=t(n,a);let i=()=>{throw new Error(GLe(15))};const s={getState:r.getState,dispatch:(e,...t)=>i(e,...t)},o=e.map((e=>e(s)));return i=ZLe(...o)(r.dispatch),{...r,dispatch:i}}}((s=n,()=>e=>t=>{$De(t,"INITIAL_PUBLISH")&&s.dragging(),$De(t,"DROP_ANIMATE")&&s.dropping(t.payload.completed.result.reason),($De(t,"FLUSH")||$De(t,"DROP_COMPLETE"))&&s.resting(),e(t)}),(e=>()=>t=>n=>{($De(n,"DROP_COMPLETE")||$De(n,"FLUSH")||$De(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)})(e),(e=>({getState:t,dispatch:n})=>a=>r=>{if(!$De(r,"LIFT"))return void a(r);const{id:i,clientSelection:s,movementMode:o}=r.payload,l=t();"DROP_ANIMATING"===l.phase&&n(nPe({completed:l.completed})),"IDLE"!==t().phase&&cTe(),n({type:"FLUSH",payload:null}),n((e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}))({draggableId:i,movementMode:o}));const c={draggableId:i,scrollOptions:{shouldPublishImmediately:"SNAP"===o}},{critical:d,dimensions:u,viewport:f}=e.startPublishing(c);n((e=>({type:"INITIAL_PUBLISH",payload:e}))({critical:d,dimensions:u,clientSelection:s,movementMode:o,viewport:f}))})(e),xPe,kPe,MPe,EPe,_Pe(i),bPe,(e=>{let t=!1;return()=>n=>a=>{if($De(a,"INITIAL_PUBLISH"))return t=!0,e.tryRecordFocus(a.payload.critical.draggable.id),n(a),void e.tryRestoreFocusRecorded();if(n(a),t){if($De(a,"FLUSH"))return t=!1,void e.tryRestoreFocusRecorded();if($De(a,"DROP_COMPLETE")){t=!1;const n=a.payload.completed.result;n.combine&&e.tryShiftRecord(n.draggableId,n.combine.draggableId),e.tryRestoreFocusRecorded()}}}})(t),SPe(a,r))));var s};var APe=({scrollHeight:e,scrollWidth:t,height:n,width:a})=>{const r=wTe({x:t,y:e},{x:a,y:n});return{x:Math.max(0,r.x),y:Math.max(0,r.y)}},TPe=()=>{const e=document.documentElement;return e||cTe(),e},DPe=()=>{const e=TPe();return APe({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},PPe=({critical:e,scrollOptions:t,registry:n})=>{const a=(()=>{const e=yPe(),t=DPe(),n=e.y,a=e.x,r=TPe(),i=r.clientWidth,s=r.clientHeight;return{frame:qAe({top:n,left:a,right:a+i,bottom:n+s}),scroll:{initial:e,current:e,max:t,diff:{value:vTe,displacement:vTe}}}})(),r=a.scroll.current,i=e.droppable,s=n.droppable.getAllByType(i.type).map((e=>e.callbacks.getDimensionAndWatchScroll(r,t))),o=n.draggable.getAllByType(e.draggable.type).map((e=>e.getDimension(r)));return{dimensions:{draggables:PTe(o),droppables:DTe(s)},critical:e,viewport:a}};function OPe(e,t,n){if(n.descriptor.id===t.id)return!1;if(n.descriptor.type!==t.type)return!1;return"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode}var RPe=(e,t)=>{let n=null;const a=function({registry:e,callbacks:t}){let n={additions:{},removals:{},modified:{}},a=null;const r=()=>{a||(t.collectionStarting(),a=requestAnimationFrame((()=>{a=null;const{additions:r,removals:i,modified:s}=n,o=Object.keys(r).map((t=>e.draggable.getById(t).getDimension(vTe))).sort(((e,t)=>e.descriptor.index-t.descriptor.index)),l=Object.keys(s).map((t=>({droppableId:t,scroll:e.droppable.getById(t).callbacks.getScrollWhileDragging()}))),c={additions:o,removals:Object.keys(i),modified:l};n={additions:{},removals:{},modified:{}},t.publish(c)})))};return{add:e=>{const t=e.descriptor.id;n.additions[t]=e,n.modified[e.descriptor.droppableId]=!0,n.removals[t]&&delete n.removals[t],r()},remove:e=>{const t=e.descriptor;n.removals[t.id]=!0,n.modified[t.droppableId]=!0,n.additions[t.id]&&delete n.additions[t.id],r()},stop:()=>{a&&(cancelAnimationFrame(a),a=null,n={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),r=t=>{n||cTe();const r=n.critical.draggable;"ADDITION"===t.type&&OPe(e,r,t.value)&&a.add(t.value),"REMOVAL"===t.type&&OPe(e,r,t.value)&&a.remove(t.value)};return{updateDroppableIsEnabled:(a,r)=>{e.droppable.exists(a)||cTe(),n&&t.updateDroppableIsEnabled({id:a,isEnabled:r})},updateDroppableIsCombineEnabled:(a,r)=>{n&&(e.droppable.exists(a)||cTe(),t.updateDroppableIsCombineEnabled({id:a,isCombineEnabled:r}))},scrollDroppable:(t,a)=>{n&&e.droppable.getById(t).callbacks.scroll(a)},updateDroppableScroll:(a,r)=>{n&&(e.droppable.exists(a)||cTe(),t.updateDroppableScroll({id:a,newScroll:r}))},startPublishing:t=>{n&&cTe();const a=e.draggable.getById(t.draggableId),i=e.droppable.getById(a.descriptor.droppableId),s={draggable:a.descriptor,droppable:i.descriptor},o=e.subscribe(r);return n={critical:s,unsubscribe:o},PPe({critical:s,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:()=>{if(!n)return;a.stop();const t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((e=>e.callbacks.dragStopped())),n.unsubscribe(),n=null}}},zPe=(e,t)=>"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason),FPe=e=>{window.scrollBy(e.x,e.y)};const BPe=TTe((e=>OTe(e).filter((e=>!!e.isEnabled&&!!e.frame))));var UPe=({center:e,destination:t,droppables:n})=>{if(t){const e=n[t];return e.frame?e:null}const a=((e,t)=>BPe(t).find((t=>(t.frame||cTe(),MDe(t.frame.pageMarginBox)(e))))||null)(e,n);return a};const WPe={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var GPe=({startOfRange:e,endOfRange:t,current:n})=>{const a=t-e;if(0===a)return 0;return(n-e)/a},VPe=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:a,getAutoScrollerOptions:r})=>{const i=((e,t,n=()=>WPe)=>{const a=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return a.maxPixelScroll;if(e===t.startScrollingFrom)return 1;const r=1-GPe({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),i=a.maxPixelScroll*a.ease(r);return Math.ceil(i)})(e,t,r);return 0===i?0:a?Math.max(((e,t,n)=>{const a=n(),r=a.durationDampening.accelerateAt,i=a.durationDampening.stopDampeningAt,s=t,o=i,l=Date.now()-s;if(l>=i)return e;if(l<r)return 1;const c=GPe({startOfRange:r,endOfRange:o,current:l}),d=e*a.ease(c);return Math.ceil(d)})(i,n,r),1):i},$Pe=({container:e,distanceToEdges:t,dragStartTime:n,axis:a,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const s=((e,t,n=()=>WPe)=>{const a=n();return{startScrollingFrom:e[t.size]*a.startFromPercentage,maxScrollValueAt:e[t.size]*a.maxScrollAtPercentage}})(e,a,i);return t[a.end]<t[a.start]?VPe({distanceToEdge:t[a.end],thresholds:s,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i}):-1*VPe({distanceToEdge:t[a.start],thresholds:s,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})};const HPe=MTe((e=>0===e?0:e));var YPe=({dragStartTime:e,container:t,subject:n,center:a,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const s={top:a.y-t.top,right:t.right-a.x,bottom:t.bottom-a.y,left:a.x-t.left},o=$Pe({container:t,distanceToEdges:s,dragStartTime:e,axis:QTe,shouldUseTimeDampening:r,getAutoScrollerOptions:i}),l=$Pe({container:t,distanceToEdges:s,dragStartTime:e,axis:ZTe,shouldUseTimeDampening:r,getAutoScrollerOptions:i}),c=HPe({x:l,y:o});if(jTe(c,vTe))return null;const d=(({container:e,subject:t,proposedScroll:n})=>{const a=t.height>e.height,r=t.width>e.width;return r||a?r&&a?null:{x:r?0:n.x,y:a?0:n.y}:n})({container:t,subject:n,proposedScroll:c});return d?jTe(d,vTe)?null:d:null};const qPe=MTe((e=>0===e?0:e>0?1:-1)),QPe=(()=>{const e=(e,t)=>e<0?e:e>t?e-t:0;return({current:t,max:n,change:a})=>{const r=bTe(t,a),i={x:e(r.x,n.x),y:e(r.y,n.y)};return jTe(i,vTe)?null:i}})(),ZPe=({max:e,current:t,change:n})=>{const a={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},r=qPe(n),i=QPe({max:a,current:t,change:r});return!i||(0!==r.x&&0===i.x||0!==r.y&&0===i.y)},JPe=(e,t)=>ZPe({current:e.scroll.current,max:e.scroll.max,change:t}),KPe=(e,t)=>{const n=e.frame;return!!n&&ZPe({current:n.scroll.current,max:n.scroll.max,change:t})};var XPe=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:a,scrollDroppable:r,getAutoScrollerOptions:i})=>{const s=e.current.page.borderBoxCenter,o=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const r=(({viewport:e,subject:t,center:n,dragStartTime:a,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const s=YPe({dragStartTime:a,container:e.frame,subject:t,center:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i});return s&&JPe(e,s)?s:null})({dragStartTime:t,viewport:e.viewport,subject:o,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:i});if(r)return void a(r)}const l=UPe({center:s,destination:CDe(e.impact),droppables:e.dimensions.droppables});if(!l)return;const c=(({droppable:e,subject:t,center:n,dragStartTime:a,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const s=e.frame;if(!s)return null;const o=YPe({dragStartTime:a,container:s.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i});return o&&KPe(e,o)?o:null})({dragStartTime:t,droppable:l,subject:o,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:i});c&&r(l.descriptor.id,c)},eOe=({move:e,scrollDroppable:t,scrollWindow:n})=>{const a=(e,n)=>{if(!KPe(e,n))return n;const a=((e,t)=>{const n=e.frame;return n&&KPe(e,t)?QPe({current:n.scroll.current,max:n.scroll.max,change:t}):null})(e,n);if(!a)return t(e.descriptor.id,n),null;const r=wTe(n,a);t(e.descriptor.id,r);return wTe(n,r)},r=(e,t,a)=>{if(!e)return a;if(!JPe(t,a))return a;const r=((e,t)=>{if(!JPe(e,t))return null;const n=e.scroll.max,a=e.scroll.current;return QPe({current:a,max:n,change:t})})(t,a);if(!r)return n(a),null;const i=wTe(a,r);n(i);return wTe(a,i)};return t=>{const n=t.scrollJumpRequest;if(!n)return;const i=CDe(t.impact);i||cTe();const s=a(t.dimensions.droppables[i],n);if(!s)return;const o=t.viewport,l=r(t.isWindowScrollAllowed,o,s);l&&((t,n)=>{const a=bTe(t.current.client.selection,n);e({client:a})})(t,l)}},tOe=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:a})=>{const r=(({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>WPe})=>{const a=rTe(e),r=rTe(t);let i=null;const s=e=>{i||cTe();const{shouldUseTimeDampening:t,dragStartTime:s}=i;XPe({state:e,scrollWindow:a,scrollDroppable:r,dragStartTime:s,shouldUseTimeDampening:t,getAutoScrollerOptions:n})};return{start:e=>{i&&cTe();const t=Date.now();let a=!1;const r=()=>{a=!0};XPe({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r,getAutoScrollerOptions:n}),i={dragStartTime:t,shouldUseTimeDampening:a},a&&s(e)},stop:()=>{i&&(a.cancel(),r.cancel(),i=null)},scroll:s}})({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:a}),i=eOe({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:e=>{a().disabled||"DRAGGING"!==e.phase||("FLUID"!==e.movementMode?e.scrollJumpRequest&&i(e):r.scroll(e))},start:r.start,stop:r.stop}};const nOe="data-rfd",aOe=(()=>{const e=`${nOe}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),rOe=(()=>{const e=`${nOe}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),iOe=(()=>{const e=`${nOe}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),sOe={contextId:`${nOe}-scroll-container-context-id`},oOe=(e,t)=>e.map((e=>{const n=e.styles[t];return n?`${e.selector} { ${n} }`:""})).join(" ");const lOe="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?ci.useLayoutEffect:ci.useEffect,cOe=()=>{const e=document.querySelector("head");return e||cTe(),e},dOe=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function uOe(e,t){const n=xTe((()=>(e=>{const t=(n=e,e=>`[${e}="${n}"]`);var n;const a=(()=>{const e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:t(aOe.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}})(),r=[(()=>{const e=`\n      transition: ${dPe.outOfTheWay};\n    `;return{selector:t(rOe.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}})(),a,{selector:t(iOe.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:oOe(r,"always"),resting:oOe(r,"resting"),dragging:oOe(r,"dragging"),dropAnimating:oOe(r,"dropAnimating"),userCancel:oOe(r,"userCancel")}})(e)),[e]),a=ci.useRef(null),r=ci.useRef(null),i=yTe(TTe((e=>{const t=r.current;t||cTe(),t.textContent=e})),[]),s=yTe((e=>{const t=a.current;t||cTe(),t.textContent=e}),[]);lOe((()=>{(a.current||r.current)&&cTe();const o=dOe(t),l=dOe(t);return a.current=o,r.current=l,o.setAttribute(`${nOe}-always`,e),l.setAttribute(`${nOe}-dynamic`,e),cOe().appendChild(o),cOe().appendChild(l),s(n.always),i(n.resting),()=>{const e=e=>{const t=e.current;t||cTe(),cOe().removeChild(t),e.current=null};e(a),e(r)}}),[t,s,i,n.always,n.resting,e]);const o=yTe((()=>i(n.dragging)),[i,n.dragging]),l=yTe((e=>{i("DROP"!==e?n.userCancel:n.dropAnimating)}),[i,n.dropAnimating,n.userCancel]),c=yTe((()=>{r.current&&i(n.resting)}),[i,n.resting]);return xTe((()=>({dragging:o,dropping:l,resting:c})),[o,l,c])}function fOe(e,t){return Array.from(e.querySelectorAll(t))}var mOe=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function pOe(e){return e instanceof mOe(e).HTMLElement}function hOe(e){const t=ci.useRef({}),n=ci.useRef(null),a=ci.useRef(null),r=ci.useRef(!1),i=yTe((function(e,n){const a={id:e,focus:n};return t.current[e]=a,function(){const n=t.current;n[e]!==a&&delete n[e]}}),[]),s=yTe((function(t){const n=function(e,t){const n=`[${aOe.contextId}="${e}"]`,a=fOe(document,n);if(!a.length)return null;const r=a.find((e=>e.getAttribute(aOe.draggableId)===t));return r&&pOe(r)?r:null}(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),o=yTe((function(e,t){n.current===e&&(n.current=t)}),[]),l=yTe((function(){a.current||r.current&&(a.current=requestAnimationFrame((()=>{a.current=null;const e=n.current;e&&s(e)})))}),[s]),c=yTe((function(e){n.current=null;const t=document.activeElement;t&&t.getAttribute(aOe.draggableId)===e&&(n.current=e)}),[]);lOe((()=>(r.current=!0,function(){r.current=!1;const e=a.current;e&&cancelAnimationFrame(e)})),[]);return xTe((()=>({register:i,tryRecordFocus:c,tryRestoreFocusRecorded:l,tryShiftRecord:o})),[i,c,l,o])}function gOe(){const e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((t=>t(e)))}function a(t){return e.draggables[t]||null}function r(t){return e.droppables[t]||null}return{draggable:{register:t=>{e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:(t,n)=>{const a=e.draggables[n.descriptor.id];a&&a.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:t=>{const r=t.descriptor.id,i=a(r);i&&t.uniqueId===i.uniqueId&&(delete e.draggables[r],e.droppables[t.descriptor.droppableId]&&n({type:"REMOVAL",value:t}))},getById:function(e){const t=a(e);return t||cTe(),t},findById:a,exists:e=>Boolean(a(e)),getAllByType:t=>Object.values(e.draggables).filter((e=>e.descriptor.type===t))},droppable:{register:t=>{e.droppables[t.descriptor.id]=t},unregister:t=>{const n=r(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){const t=r(e);return t||cTe(),t},findById:r,exists:e=>Boolean(r(e)),getAllByType:t=>Object.values(e.droppables).filter((e=>e.descriptor.type===t))},subscribe:function(e){return t.push(e),function(){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var xOe=di.createContext(null),yOe=()=>{const e=document.body;return e||cTe(),e};const vOe={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};const bOe={separator:"::"};function wOe(e,t=bOe){const n=di.useId();return xTe((()=>`${e}${t.separator}${n}`),[t.separator,e,n])}var jOe=di.createContext(null);function NOe(e){const t=ci.useRef(e);return ci.useEffect((()=>{t.current=e})),t}function COe(e){return"IDLE"!==e.phase&&"DROP_ANIMATING"!==e.phase&&e.isDragging}const SOe=9,kOe=13,MOe=33,_Oe=34,EOe=35,IOe=36,LOe={[kOe]:!0,[SOe]:!0};var AOe=e=>{LOe[e.keyCode]&&e.preventDefault()};const TOe=(()=>{const e="visibilitychange";if("undefined"==typeof document)return e;return[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find((e=>`on${e}`in document))||e})();const DOe={type:"IDLE"};function POe({cancel:e,completed:t,getPhase:n,setPhase:a}){return[{eventName:"mousemove",fn:e=>{const{button:t,clientX:r,clientY:i}=e;if(0!==t)return;const s={x:r,y:i},o=n();if("DRAGGING"===o.type)return e.preventDefault(),void o.actions.move(s);"PENDING"!==o.type&&cTe();const l=o.point;if(c=l,d=s,!(Math.abs(d.x-c.x)>=5||Math.abs(d.y-c.y)>=5))return;var c,d;e.preventDefault();const u=o.actions.fluidLift(s);a({type:"DRAGGING",actions:u})}},{eventName:"mouseup",fn:a=>{const r=n();"DRAGGING"===r.type?(a.preventDefault(),r.actions.drop({shouldBlockNextClick:!0}),t()):e()}},{eventName:"mousedown",fn:t=>{"DRAGGING"===n().type&&t.preventDefault(),e()}},{eventName:"keydown",fn:t=>{if("PENDING"!==n().type)return 27===t.keyCode?(t.preventDefault(),void e()):void AOe(t);e()}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{"PENDING"===n().type&&e()}},{eventName:"webkitmouseforcedown",fn:t=>{const a=n();"IDLE"===a.type&&cTe(),a.actions.shouldRespectForcePress()?e():t.preventDefault()}},{eventName:TOe,fn:e}]}function OOe(){}const ROe={[_Oe]:!0,[MOe]:!0,[IOe]:!0,[EOe]:!0};function zOe(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:a=>27===a.keyCode?(a.preventDefault(),void n()):32===a.keyCode?(a.preventDefault(),t(),void e.drop()):40===a.keyCode?(a.preventDefault(),void e.moveDown()):38===a.keyCode?(a.preventDefault(),void e.moveUp()):39===a.keyCode?(a.preventDefault(),void e.moveRight()):37===a.keyCode?(a.preventDefault(),void e.moveLeft()):void(ROe[a.keyCode]?a.preventDefault():AOe(a))},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:TOe,fn:n}]}const FOe={type:"IDLE"};const BOe=["input","button","textarea","select","option","optgroup","video","audio"];function UOe(e,t){if(null==t)return!1;if(BOe.includes(t.tagName.toLowerCase()))return!0;const n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&UOe(e,t.parentElement)}function WOe(e,t){const n=t.target;return!!pOe(n)&&UOe(e,n)}var GOe=e=>qAe(e.getBoundingClientRect()).center;const VOe=(()=>{const e="matches";if("undefined"==typeof document)return e;return[e,"msMatchesSelector","webkitMatchesSelector"].find((e=>e in Element.prototype))||e})();function $Oe(e,t){return null==e?null:e[VOe](t)?e:$Oe(e.parentElement,t)}function HOe(e,t){return e.closest?e.closest(t):$Oe(e,t)}function YOe(e,t){const n=t.target;if(!((a=n)instanceof mOe(a).Element))return null;var a;const r=function(e){return`[${aOe.contextId}="${e}"]`}(e),i=HOe(n,r);return i&&pOe(i)?i:null}function qOe(e){e.preventDefault()}function QOe({expected:e,phase:t,isLockActive:n,shouldWarn:a}){return!!n()&&e===t}function ZOe({lockAPI:e,store:t,registry:n,draggableId:a}){if(e.isClaimed())return!1;const r=n.draggable.findById(a);return!!r&&(!!r.options.isEnabled&&!!zPe(t.getState(),a))}function JOe({lockAPI:e,contextId:t,store:n,registry:a,draggableId:r,forceSensorStop:i,sourceEvent:s}){if(!ZOe({lockAPI:e,store:n,registry:a,draggableId:r}))return null;const o=a.draggable.getById(r),l=function(e,t){const n=`[${rOe.contextId}="${e}"]`,a=fOe(document,n).find((e=>e.getAttribute(rOe.id)===t));return a&&pOe(a)?a:null}(t,o.descriptor.id);if(!l)return null;if(s&&!o.options.canDragInteractiveElements&&WOe(l,s))return null;const c=e.claim(i||sTe);let d="PRE_DRAG";function u(){return o.options.shouldRespectForcePress}function f(){return e.isActive(c)}const m=function(e,t){QOe({expected:e,phase:d,isLockActive:f,shouldWarn:!0})&&n.dispatch(t())}.bind(null,"DRAGGING");function p(t){function a(){e.release(),d="COMPLETED"}function r(e,r={shouldBlockNextClick:!1}){if(t.cleanup(),r.shouldBlockNextClick){const e=oTe(window,[{eventName:"click",fn:qOe,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(e)}a(),n.dispatch(aPe({reason:e}))}return"PRE_DRAG"!==d&&(a(),cTe()),n.dispatch((e=>({type:"LIFT",payload:e}))(t.liftActionArgs)),d="DRAGGING",{isActive:()=>QOe({expected:"DRAGGING",phase:d,isLockActive:f,shouldWarn:!1}),shouldRespectForcePress:u,drop:e=>r("DROP",e),cancel:e=>r("CANCEL",e),...t.actions}}return{isActive:()=>QOe({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!1}),shouldRespectForcePress:u,fluidLift:function(e){const t=rTe((e=>{m((()=>JDe({client:e})))}));return{...p({liftActionArgs:{id:r,clientSelection:e,movementMode:"FLUID"},cleanup:()=>t.cancel(),actions:{move:t}}),move:t}},snapLift:function(){const e={moveUp:()=>m(KDe),moveRight:()=>m(ePe),moveDown:()=>m(XDe),moveLeft:()=>m(tPe)};return p({liftActionArgs:{id:r,clientSelection:GOe(l),movementMode:"SNAP"},cleanup:sTe,actions:e})},abort:function(){QOe({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!0})&&e.release()}}}const KOe=[function(e){const t=ci.useRef(DOe),n=ci.useRef(sTe),a=xTe((()=>({eventName:"mousedown",fn:function(t){if(t.defaultPrevented)return;if(0!==t.button)return;if(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)return;const a=e.findClosestDraggableId(t);if(!a)return;const r=e.tryGetLock(a,s,{sourceEvent:t});if(!r)return;t.preventDefault();const i={x:t.clientX,y:t.clientY};n.current(),c(r,i)}})),[e]),r=xTe((()=>({eventName:"webkitmouseforcewillbegin",fn:t=>{if(t.defaultPrevented)return;const n=e.findClosestDraggableId(t);if(!n)return;const a=e.findOptionsForDraggable(n);a&&(a.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}})),[e]),i=yTe((function(){n.current=oTe(window,[r,a],{passive:!1,capture:!0})}),[r,a]),s=yTe((()=>{"IDLE"!==t.current.type&&(t.current=DOe,n.current(),i())}),[i]),o=yTe((()=>{const e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),l=yTe((function(){const e=POe({cancel:o,completed:s,getPhase:()=>t.current,setPhase:e=>{t.current=e}});n.current=oTe(window,e,{capture:!0,passive:!1})}),[o,s]),c=yTe((function(e,n){"IDLE"!==t.current.type&&cTe(),t.current={type:"PENDING",point:n,actions:e},l()}),[l]);lOe((function(){return i(),function(){n.current()}}),[i])},function(e){const t=ci.useRef(OOe),n=xTe((()=>({eventName:"keydown",fn:function(n){if(n.defaultPrevented)return;if(32!==n.keyCode)return;const r=e.findClosestDraggableId(n);if(!r)return;const i=e.tryGetLock(r,l,{sourceEvent:n});if(!i)return;n.preventDefault();let s=!0;const o=i.snapLift();function l(){s||cTe(),s=!1,t.current(),a()}t.current(),t.current=oTe(window,zOe(o,l),{capture:!0,passive:!1})}})),[e]),a=yTe((function(){t.current=oTe(window,[n],{passive:!1,capture:!0})}),[n]);lOe((function(){return a(),function(){t.current()}}),[a])},function(e){const t=ci.useRef(FOe),n=ci.useRef(sTe),a=yTe((function(){return t.current}),[]),r=yTe((function(e){t.current=e}),[]),i=xTe((()=>({eventName:"touchstart",fn:function(t){if(t.defaultPrevented)return;const a=e.findClosestDraggableId(t);if(!a)return;const r=e.tryGetLock(a,o,{sourceEvent:t});if(!r)return;const i=t.touches[0],{clientX:s,clientY:l}=i,c={x:s,y:l};n.current(),u(r,c)}})),[e]),s=yTe((function(){n.current=oTe(window,[i],{capture:!0,passive:!1})}),[i]),o=yTe((()=>{const e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),r(FOe),n.current(),s())}),[s,r]),l=yTe((()=>{const e=t.current;o(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[o]),c=yTe((function(){const e={capture:!0,passive:!1},t={cancel:l,completed:o,getPhase:a},r=oTe(window,function({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:t=>{const a=n();if("DRAGGING"!==a.type)return void e();a.hasMoved=!0;const{clientX:r,clientY:i}=t.touches[0],s={x:r,y:i};t.preventDefault(),a.actions.move(s)}},{eventName:"touchend",fn:a=>{const r=n();"DRAGGING"===r.type?(a.preventDefault(),r.actions.drop({shouldBlockNextClick:!0}),t()):e()}},{eventName:"touchcancel",fn:t=>{"DRAGGING"===n().type?(t.preventDefault(),e()):e()}},{eventName:"touchforcechange",fn:t=>{const a=n();"IDLE"===a.type&&cTe();const r=t.touches[0];if(!r)return;if(!(r.force>=.15))return;const i=a.actions.shouldRespectForcePress();if("PENDING"!==a.type)return i?a.hasMoved?void t.preventDefault():void e():void t.preventDefault();i&&e()}},{eventName:TOe,fn:e}]}(t),e),i=oTe(window,function({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:e=>{e.preventDefault()}},{eventName:"keydown",fn:n=>{"DRAGGING"===t().type?(27===n.keyCode&&n.preventDefault(),e()):e()}},{eventName:TOe,fn:e}]}(t),e);n.current=function(){r(),i()}}),[l,a,o]),d=yTe((function(){const e=a();"PENDING"!==e.type&&cTe();const t=e.actions.fluidLift(e.point);r({type:"DRAGGING",actions:t,hasMoved:!1})}),[a,r]),u=yTe((function(e,t){"IDLE"!==a().type&&cTe();const n=setTimeout(d,120);r({type:"PENDING",point:t,actions:e,longPressTimerId:n}),c()}),[c,a,r,d]);lOe((function(){return s(),function(){n.current();const e=a();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),r(FOe))}}),[a,s,r]),lOe((function(){return oTe(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])}),[])}];function XOe({contextId:e,store:t,registry:n,customSensors:a,enableDefaultSensors:r}){const i=[...r?KOe:[],...a||[]],s=ci.useState((()=>function(){let e=null;function t(){e||cTe(),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&cTe();const n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()))[0],o=yTe((function(e,t){COe(e)&&!COe(t)&&s.tryAbandon()}),[s]);lOe((function(){let e=t.getState();return t.subscribe((()=>{const n=t.getState();o(e,n),e=n}))}),[s,t,o]),lOe((()=>s.tryAbandon),[s.tryAbandon]);const l=yTe((e=>ZOe({lockAPI:s,registry:n,store:t,draggableId:e})),[s,n,t]),c=yTe(((a,r,i)=>JOe({lockAPI:s,registry:n,contextId:e,store:t,draggableId:a,forceSensorStop:r||null,sourceEvent:i&&i.sourceEvent?i.sourceEvent:null})),[e,s,n,t]),d=yTe((t=>function(e,t){const n=YOe(e,t);return n?n.getAttribute(aOe.draggableId):null}(e,t)),[e]),u=yTe((e=>{const t=n.draggable.findById(e);return t?t.options:null}),[n.draggable]),f=yTe((function(){s.isClaimed()&&(s.tryAbandon(),"IDLE"!==t.getState().phase&&t.dispatch({type:"FLUSH",payload:null}))}),[s,t]),m=yTe((()=>s.isClaimed()),[s]),p=xTe((()=>({canGetLock:l,tryGetLock:c,findClosestDraggableId:d,findOptionsForDraggable:u,tryReleaseLock:f,isLockClaimed:m})),[l,c,d,u,f,m]);for(let h=0;h<i.length;h++)i[h](p)}function eRe(e){return e.current||cTe(),e.current}function tRe(e){const{contextId:t,setCallbacks:n,sensors:a,nonce:r,dragHandleUsageInstructions:i}=e,s=ci.useRef(null),o=NOe(e),l=yTe((()=>(e=>({onBeforeCapture:t=>{kg.flushSync((()=>{e.onBeforeCapture&&e.onBeforeCapture(t)}))},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}))(o.current)),[o]),c=yTe((()=>(e=>({...WPe,...e.autoScrollerOptions,durationDampening:{...WPe.durationDampening,...e.autoScrollerOptions}}))(o.current)),[o]),d=function(e){const t=xTe((()=>(e=>`rfd-announcement-${e}`)(e)),[e]),n=ci.useRef(null);return ci.useEffect((function(){const e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),kve(e.style,vOe),yOe().appendChild(e),function(){setTimeout((function(){const t=yOe();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]),yTe((e=>{const t=n.current;t&&(t.textContent=e)}),[])}(t),u=function({contextId:e,text:t}){const n=wOe("hidden-text",{separator:"-"}),a=xTe((()=>function({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}({contextId:e,uniqueId:n})),[n,e]);return ci.useEffect((function(){const e=document.createElement("div");return e.id=a,e.textContent=t,e.style.display="none",yOe().appendChild(e),function(){const t=yOe();t.contains(e)&&t.removeChild(e)}}),[a,t]),a}({contextId:t,text:i}),f=uOe(t,r),m=yTe((e=>{eRe(s).dispatch(e)}),[]),p=xTe((()=>QLe({publishWhileDragging:HDe,updateDroppableScroll:qDe,updateDroppableIsEnabled:QDe,updateDroppableIsCombineEnabled:ZDe,collectionStarting:YDe},m)),[m]),h=function(){const e=xTe(gOe,[]);return ci.useEffect((()=>function(){e.clean()}),[e]),e}(),g=xTe((()=>RPe(h,p)),[h,p]),x=xTe((()=>tOe({scrollWindow:FPe,scrollDroppable:g.scrollDroppable,getAutoScrollerOptions:c,...QLe({move:JDe},m)})),[g.scrollDroppable,m,c]),y=hOe(t),v=xTe((()=>LPe({announce:d,autoScroller:x,dimensionMarshal:g,focusMarshal:y,getResponders:l,styleMarshal:f})),[d,x,g,y,l,f]);s.current=v;const b=yTe((()=>{const e=eRe(s);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),w=yTe((()=>{const e=eRe(s).getState();return"DROP_ANIMATING"===e.phase||"IDLE"!==e.phase&&e.isDragging}),[]);n(xTe((()=>({isDragging:w,tryAbort:b})),[w,b]));const j=yTe((e=>zPe(eRe(s).getState(),e)),[]),N=yTe((()=>kDe(eRe(s).getState())),[]),C=xTe((()=>({marshal:g,focus:y,contextId:t,canLift:j,isMovementAllowed:N,dragHandleUsageInstructionsId:u,registry:h})),[t,g,u,y,j,N,h]);return XOe({contextId:t,store:v,registry:h,customSensors:a||null,enableDefaultSensors:!1!==e.enableDefaultSensors}),ci.useEffect((()=>b),[b]),di.createElement(jOe.Provider,{value:C},di.createElement(YAe,{context:xOe,store:v},e.children))}function nRe(e){const t=di.useId(),n=e.dragHandleUsageInstructions||hTe.dragHandleUsageInstructions;return di.createElement(dTe,null,(a=>di.createElement(tRe,{nonce:e.nonce,contextId:t,setCallbacks:a,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children)))}const aRe=5e3,rRe=4500,iRe=(e,t)=>t?dPe.drop(t.duration):e?dPe.snap:dPe.fluid,sRe=(e,t)=>{if(e)return t?sPe.drop:sPe.combining};function oRe(e){return"DRAGGING"===e.type?function(e){const t=e.dimension.client,{offset:n,combineWith:a,dropping:r}=e,i=Boolean(a),s=(e=>null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode)(e),o=Boolean(r),l=o?mPe(n,i):fPe(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:iRe(s,r),transform:l,opacity:sRe(i,o),zIndex:o?rRe:aRe,pointerEvents:"none"}}(e):{transform:fPe((t=e).offset),transition:t.shouldAnimateDisplacement?void 0:"none"};var t}function lRe(e){const t=wOe("draggable"),{descriptor:n,registry:a,getDraggableRef:r,canDragInteractiveElements:i,shouldRespectForcePress:s,isEnabled:o}=e,l=xTe((()=>({canDragInteractiveElements:i,shouldRespectForcePress:s,isEnabled:o})),[i,o,s]),c=yTe((e=>{const t=r();return t||cTe(),function(e,t,n=vTe){const a=window.getComputedStyle(t),r=t.getBoundingClientRect(),i=nTe(r,a),s=tTe(i,n);return{descriptor:e,placeholder:{client:i,tagName:t.tagName.toLowerCase(),display:a.display},displaceBy:{x:i.marginBox.width,y:i.marginBox.height},client:i,page:s}}(n,t,e)}),[n,r]),d=xTe((()=>({uniqueId:t,descriptor:n,options:l,getDimension:c})),[n,c,l,t]),u=ci.useRef(d),f=ci.useRef(!0);lOe((()=>(a.draggable.register(u.current),()=>a.draggable.unregister(u.current))),[a.draggable]),lOe((()=>{if(f.current)return void(f.current=!1);const e=u.current;u.current=d,a.draggable.update(d,e)}),[d,a.draggable])}var cRe=di.createContext(null);function dRe(e){const t=ci.useContext(e);return t||cTe(),t}function uRe(e){e.preventDefault()}var fRe=(e,t)=>e===t,mRe=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};function pRe(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const hRe={mapped:{type:"SECONDARY",offset:vTe,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:pRe(null)}};const gRe=HAe((()=>{const e=function(){const e=TTe(((e,t)=>({x:e,y:t}))),t=TTe(((e,t,n=null,a=null,r=null)=>({isDragging:!0,isClone:t,isDropAnimating:Boolean(r),dropAnimation:r,mode:e,draggingOver:n,combineWith:a,combineTargetFor:null}))),n=TTe(((e,n,a,r,i=null,s=null,o=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:i,combineWith:s,mode:n,offset:e,dimension:a,forceShouldAnimate:o,snapshot:t(n,r,i,s,null)}})));return(a,r)=>{if(COe(a)){if(a.critical.draggable.id!==r.draggableId)return null;const t=a.current.client.offset,s=a.dimensions.draggables[r.draggableId],o=CDe(a.impact),l=(i=a.impact).at&&"COMBINE"===i.at.type?i.at.combine.draggableId:null,c=a.forceShouldAnimate;return n(e(t.x,t.y),a.movementMode,s,r.isClone,o,l,c)}var i;if("DROP_ANIMATING"===a.phase){const e=a.completed;if(e.result.draggableId!==r.draggableId)return null;const n=r.isClone,i=a.dimensions.draggables[r.draggableId],s=e.result,o=s.mode,l=mRe(s),c=(e=>e.combine?e.combine.draggableId:null)(s),d={duration:a.dropDuration,curve:iPe,moveTo:a.newHomeClientOffset,opacity:c?sPe.drop:null,scale:c?oPe.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:i,dropping:d,draggingOver:l,combineWith:c,mode:o,forceShouldAnimate:null,snapshot:t(o,n,l,c,d)}}}return null}}(),t=function(){const e=TTe(((e,t)=>({x:e,y:t}))),t=TTe(pRe),n=TTe(((e,n=null,a)=>({mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:a,snapshot:t(n)}}))),a=e=>e?n(vTe,e,!0):null,r=(t,r,i,s)=>{const o=i.displaced.visible[t],l=Boolean(s.inVirtualList&&s.effected[t]),c=BTe(i),d=c&&c.draggableId===t?r:null;if(!o){if(!l)return a(d);if(i.displaced.invisible[t])return null;const r=NTe(s.displacedBy.point),o=e(r.x,r.y);return n(o,d,!0)}if(l)return a(d);const u=i.displacedBy.point,f=e(u.x,u.y);return n(f,d,o.shouldAnimate)};return(e,t)=>{if(COe(e))return e.critical.draggable.id===t.draggableId?null:r(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){const n=e.completed;return n.result.draggableId===t.draggableId?null:r(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return(n,a)=>e(n,a)||t(n,a)||hRe}),{dropAnimationFinished:rPe},null,{context:xOe,areStatePropsEqual:fRe})((e=>{const t=ci.useRef(null),n=yTe(((e=null)=>{t.current=e}),[]),a=yTe((()=>t.current),[]),{contextId:r,dragHandleUsageInstructionsId:i,registry:s}=dRe(jOe),{type:o,droppableId:l}=dRe(cRe),c=xTe((()=>({id:e.draggableId,index:e.index,type:o,droppableId:l})),[e.draggableId,e.index,o,l]),{children:d,draggableId:u,isEnabled:f,shouldRespectForcePress:m,canDragInteractiveElements:p,isClone:h,mapped:g,dropAnimationFinished:x}=e;if(!h){lRe(xTe((()=>({descriptor:c,registry:s,getDraggableRef:a,canDragInteractiveElements:p,shouldRespectForcePress:m,isEnabled:f})),[c,s,a,p,m,f]))}const y=xTe((()=>f?{tabIndex:0,role:"button","aria-describedby":i,"data-rfd-drag-handle-draggable-id":u,"data-rfd-drag-handle-context-id":r,draggable:!1,onDragStart:uRe}:null),[r,i,u,f]),v=yTe((e=>{"DRAGGING"===g.type&&g.dropping&&"transform"===e.propertyName&&kg.flushSync(x)}),[x,g]),b=xTe((()=>{const e=oRe(g),t="DRAGGING"===g.type&&g.dropping?v:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":r,"data-rfd-draggable-id":u,style:e,onTransitionEnd:t},dragHandleProps:y}}),[r,y,u,g,v,n]),w=xTe((()=>({draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}})),[c.droppableId,c.id,c.index,c.type]);return di.createElement(di.Fragment,null,d(b,g.snapshot,w))}));function xRe(e){return dRe(cRe).isUsingCloneFor!==e.draggableId||e.isClone?di.createElement(gRe,e):null}function yRe(e){const t="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),a=Boolean(e.shouldRespectForcePress);return di.createElement(xRe,kve({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:a}))}const vRe=e=>t=>e===t,bRe=vRe("scroll"),wRe=vRe("auto"),jRe=(e,t)=>t(e.overflowX)||t(e.overflowY),NRe=e=>null==e||e===document.body||e===document.documentElement?null:(e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return jRe(n,bRe)||jRe(n,wRe)})(e)?e:NRe(e.parentElement);var CRe=e=>({x:e.scrollLeft,y:e.scrollTop});const SRe=e=>{if(!e)return!1;return"fixed"===window.getComputedStyle(e).position||SRe(e.parentElement)};var kRe=({ref:e,descriptor:t,env:n,windowScroll:a,direction:r,isDropDisabled:i,isCombineEnabled:s,shouldClipSubject:o})=>{const l=n.closestScrollable,c=((e,t)=>{const n=aTe(e);if(!t)return n;if(e!==t)return n;const a=n.paddingBox.top-t.scrollTop,r=n.paddingBox.left-t.scrollLeft,i=a+t.scrollHeight,s=r+t.scrollWidth,o=QAe({top:a,right:s,bottom:i,left:r},n.border);return KAe({borderBox:o,margin:n.margin,border:n.border,padding:n.padding})})(e,l),d=tTe(c,a),u=(()=>{if(!l)return null;const e=aTe(l),t={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:e,page:tTe(e,a),scroll:CRe(l),scrollSize:t,shouldClipSubject:o}})(),f=(({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:a,direction:r,client:i,page:s,closest:o})=>{const l=(()=>{if(!o)return null;const{scrollSize:e,client:t}=o,n=APe({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:o.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:o.shouldClipSubject,scroll:{initial:o.scroll,current:o.scroll,max:n,diff:{value:vTe,displacement:vTe}}}})(),c="vertical"===r?QTe:ZTe;return{descriptor:e,isCombineEnabled:n,isFixedOnPage:a,axis:c,isEnabled:t,client:i,page:s,frame:l,subject:LTe({page:s,withPlaceholder:null,axis:c,frame:l})}})({descriptor:t,isEnabled:!i,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:r,client:c,page:d,closest:u});return f};const MRe={passive:!1},_Re={passive:!0};var ERe=e=>e.shouldPublishImmediately?MRe:_Re;const IRe=e=>e&&e.env.closestScrollable||null;function LRe(e){const t=ci.useRef(null),n=dRe(jOe),a=wOe("droppable"),{registry:r,marshal:i}=n,s=NOe(e),o=xTe((()=>({id:e.droppableId,type:e.type,mode:e.mode})),[e.droppableId,e.mode,e.type]),l=ci.useRef(o),c=xTe((()=>TTe(((e,n)=>{t.current||cTe();const a={x:e,y:n};i.updateDroppableScroll(o.id,a)}))),[o.id,i]),d=yTe((()=>{const e=t.current;return e&&e.env.closestScrollable?CRe(e.env.closestScrollable):vTe}),[]),u=yTe((()=>{const e=d();c(e.x,e.y)}),[d,c]),f=xTe((()=>rTe(u)),[u]),m=yTe((()=>{const e=t.current,n=IRe(e);e&&n||cTe();e.scrollOptions.shouldPublishImmediately?u():f()}),[f,u]),p=yTe(((e,a)=>{t.current&&cTe();const r=s.current,i=r.getDroppableRef();i||cTe();const l={closestScrollable:NRe(c=i),isFixedOnPage:SRe(c)};var c;const d={ref:i,descriptor:o,env:l,scrollOptions:a};t.current=d;const u=kRe({ref:i,descriptor:o,env:l,windowScroll:e,direction:r.direction,isDropDisabled:r.isDropDisabled,isCombineEnabled:r.isCombineEnabled,shouldClipSubject:!r.ignoreContainerClipping}),f=l.closestScrollable;return f&&(f.setAttribute(sOe.contextId,n.contextId),f.addEventListener("scroll",m,ERe(d.scrollOptions))),u}),[n.contextId,o,m,s]),h=yTe((()=>{const e=t.current,n=IRe(e);return e&&n||cTe(),CRe(n)}),[]),g=yTe((()=>{const e=t.current;e||cTe();const n=IRe(e);t.current=null,n&&(f.cancel(),n.removeAttribute(sOe.contextId),n.removeEventListener("scroll",m,ERe(e.scrollOptions)))}),[m,f]),x=yTe((e=>{const n=t.current;n||cTe();const a=IRe(n);a||cTe(),a.scrollTop+=e.y,a.scrollLeft+=e.x}),[]),y=xTe((()=>({getDimensionAndWatchScroll:p,getScrollWhileDragging:h,dragStopped:g,scroll:x})),[g,p,h,x]),v=xTe((()=>({uniqueId:a,descriptor:o,callbacks:y})),[y,o,a]);lOe((()=>(l.current=v.descriptor,r.droppable.register(v),()=>{t.current&&g(),r.droppable.unregister(v)})),[y,o,g,v,i,r.droppable]),lOe((()=>{t.current&&i.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)}),[e.isDropDisabled,i]),lOe((()=>{t.current&&i.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,i])}function ARe(){}const TRe={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},DRe=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const a=(({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||"close"===n?TRe:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin})({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==n?dPe.placeholder:null}};var PRe=di.memo((e=>{const t=ci.useRef(null),n=yTe((()=>{t.current&&(clearTimeout(t.current),t.current=null)}),[]),{animate:a,onTransitionEnd:r,onClose:i,contextId:s}=e,[o,l]=ci.useState("open"===e.animate);ci.useEffect((()=>o?"open"!==a?(n(),l(!1),ARe):t.current?ARe:(t.current=setTimeout((()=>{t.current=null,l(!1)})),n):ARe),[a,o,n]);const c=yTe((e=>{"height"===e.propertyName&&(r(),"close"===a&&i())}),[a,i,r]),d=DRe({isAnimatingOpenOnMount:o,animate:e.animate,placeholder:e.placeholder});return di.createElement(e.placeholder.tagName,{style:d,"data-rfd-placeholder-context-id":s,onTransitionEnd:c,ref:e.innerRef})}));class ORe extends di.PureComponent{constructor(...e){super(...e),this.state={isVisible:Boolean(this.props.on),data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{"close"===this.state.animate&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const RRe={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||cTe(),document.body}},zRe=e=>{let t,n={...e};for(t in RRe)void 0===e[t]&&(n={...n,[t]:RRe[t]});return n},FRe=(e,t)=>e===t.droppable.type,BRe=(e,t)=>t.draggables[e.draggable.id],URe={updateViewportMaxScroll:e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e})},WRe=HAe((()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=TTe((e=>({draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}))),a=TTe(((a,r,i,s,o,l)=>{const c=o.descriptor.id;if(o.descriptor.droppableId===a){const e=l?{render:l,dragging:n(o.descriptor)}:null,t={isDraggingOver:i,draggingOverWith:i?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:o.placeholder,shouldAnimatePlaceholder:!1,snapshot:t,useClone:e}}if(!r)return t;if(!s)return e;const d={isDraggingOver:i,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:o.placeholder,shouldAnimatePlaceholder:!0,snapshot:d,useClone:null}}));return(n,r)=>{const i=zRe(r),s=i.droppableId,o=i.type,l=!i.isDropDisabled,c=i.renderClone;if(COe(n)){const e=n.critical;if(!FRe(o,e))return t;const r=BRe(e,n.dimensions),i=CDe(n.impact)===s;return a(s,l,i,i,r,c)}if("DROP_ANIMATING"===n.phase){const e=n.completed;if(!FRe(o,e.critical))return t;const r=BRe(e.critical,n.dimensions);return a(s,l,mRe(e.result)===s,CDe(e.impact)===s,r,c)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){const a=n.completed;if(!FRe(o,a.critical))return t;const r=CDe(a.impact)===s,i=Boolean(a.impact.at&&"COMBINE"===a.impact.at.type),l=a.critical.droppable.id===s;return r?i?e:t:l?e:t}return t}}),URe,((e,t,n)=>({...zRe(n),...e,...t})),{context:xOe,areStatePropsEqual:fRe})((e=>{const t=ci.useContext(jOe);t||cTe();const{contextId:n,isMovementAllowed:a}=t,r=ci.useRef(null),i=ci.useRef(null),{children:s,droppableId:o,type:l,mode:c,direction:d,ignoreContainerClipping:u,isDropDisabled:f,isCombineEnabled:m,snapshot:p,useClone:h,updateViewportMaxScroll:g,getContainerForClone:x}=e,y=yTe((()=>r.current),[]),v=yTe(((e=null)=>{r.current=e}),[]);yTe((()=>i.current),[]);const b=yTe(((e=null)=>{i.current=e}),[]),w=yTe((()=>{a()&&g({maxScroll:DPe()})}),[a,g]);LRe({droppableId:o,type:l,mode:c,direction:d,isDropDisabled:f,isCombineEnabled:m,ignoreContainerClipping:u,getDroppableRef:y});const j=xTe((()=>di.createElement(ORe,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(({onClose:e,data:t,animate:a})=>di.createElement(PRe,{placeholder:t,onClose:e,innerRef:b,animate:a,contextId:n,onTransitionEnd:w})))),[n,w,e.placeholder,e.shouldAnimatePlaceholder,b]),N=xTe((()=>({innerRef:v,placeholder:j,droppableProps:{"data-rfd-droppable-id":o,"data-rfd-droppable-context-id":n}})),[n,o,j,v]),C=h?h.dragging.draggableId:null,S=xTe((()=>({droppableId:o,type:l,isUsingCloneFor:C})),[o,C,l]);return di.createElement(cRe.Provider,{value:S},s(N,p),function(){if(!h)return null;const{dragging:e,render:t}=h,n=di.createElement(xRe,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},((n,a)=>t(n,a,e)));return Mg.createPortal(n,x())}())})),GRe=CL({title:dL().min(2,"Title must be at least 2 characters"),stageId:dL().min(1,"Please select a pipeline stage"),value:uL().min(0).optional().nullable(),contactId:uL().min(1,"Please select a contact"),priority:OL(["low","medium","high"]).default("medium"),dueDate:hL().optional().nullable(),assignedToUserId:uL().optional().nullable(),description:dL().optional().nullable(),tags:NL(dL()).default([])});function VRe({deal:e,isOpen:t,onClose:n}){const{toast:a}=By(),r=by(),[i,s]=ci.useState([]),[o,l]=ci.useState(""),{data:c}=ky({queryKey:["/api/contacts"],queryFn:()=>Ey("GET","/api/contacts").then((e=>e.json()))}),{data:d=[]}=ky({queryKey:["/api/team-members"],queryFn:()=>Ey("GET","/api/team-members").then((e=>e.json()))}),{data:u=[]}=ky({queryKey:["/api/pipeline/stages"],queryFn:()=>Ey("GET","/api/pipeline/stages").then((e=>e.json()))}),f=rIe({resolver:DIe(GRe),defaultValues:{title:"",stageId:"",value:null,contactId:void 0,priority:"medium",dueDate:null,assignedToUserId:null,description:"",tags:[]}});ci.useEffect((()=>{var n;e&&t&&(f.reset({title:e.title||"",stageId:(null==(n=e.stageId)?void 0:n.toString())||"",value:e.value||null,contactId:e.contactId||void 0,priority:e.priority||"medium",dueDate:e.dueDate?new Date(e.dueDate):null,assignedToUserId:e.assignedToUserId||null,description:e.description||"",tags:e.tags||[]}),s(e.tags||[]))}),[e,t,f]);const m=()=>{f.reset(),s([]),l("")},p=()=>{if(o.trim()&&!i.includes(o.trim())){const e=[...i,o.trim()];s(e),f.setValue("tags",e),l("")}},h=My({mutationFn:async t=>{if(!e)throw new Error("No deal to update");return(await Ey("PATCH",`/api/deals/${e.id}`,t)).json()},onSuccess:()=>{a({title:"Success",description:"Deal has been updated"}),r.invalidateQueries({queryKey:["/api/deals"]}),m(),n()},onError:e=>{a({title:"Error",description:`Failed to update deal: ${e.message}`,variant:"destructive"})}}),g=e=>{const t={...e,tags:i};h.mutate(t)},x=(null==c?void 0:c.contacts)||[];return vi.jsx(KF,{open:t,onOpenChange:e=>{e||n(),e&&m()},children:vi.jsxs(aB,{className:"sm:max-w-[600px] max-h-[90vh] md:max-h-[80vh] p-0 flex flex-col",children:[vi.jsxs(rB,{className:"px-8 pt-6 pb-4",children:[vi.jsx(sB,{children:"Edit Deal"}),vi.jsx(oB,{children:"Update the deal information"})]}),vi.jsx(aq,{className:"flex-1 px-4 py-6 overflow-auto",children:vi.jsx(iIe,{...f,children:vi.jsxs("form",{onSubmit:f.handleSubmit(g),className:"space-y-8 m-2",children:[vi.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[vi.jsx(oIe,{control:f.control,name:"title",render:({field:e})=>vi.jsxs(dIe,{className:"md:col-span-2",children:[vi.jsx(uIe,{children:"Deal Title"}),vi.jsx(fIe,{children:vi.jsx(fB,{...e,placeholder:"Enter deal title"})}),vi.jsx(pIe,{})]})}),vi.jsx(oIe,{control:f.control,name:"contactId",render:({field:e})=>{var t;return vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:"Contact"}),vi.jsxs(AU,{onValueChange:t=>e.onChange(parseInt(t)),value:(null==(t=e.value)?void 0:t.toString())||void 0,children:[vi.jsx(fIe,{children:vi.jsx(PU,{children:vi.jsx(DU,{placeholder:"Select a contact"})})}),vi.jsx(zU,{children:x.map((e=>vi.jsx(FU,{value:e.id.toString(),children:e.name},e.id)))})]}),vi.jsx(pIe,{})]})}}),vi.jsx(oIe,{control:f.control,name:"stageId",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:"Pipeline Stage"}),vi.jsxs(AU,{onValueChange:e.onChange,value:e.value||void 0,children:[vi.jsx(fIe,{children:vi.jsx(PU,{children:vi.jsx(DU,{placeholder:"Select a stage"})})}),vi.jsx(zU,{children:u.map((e=>vi.jsx(FU,{value:e.id.toString(),children:vi.jsxs("div",{className:"flex items-center",children:[vi.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:e.color}}),e.name]})},e.id)))})]}),vi.jsx(pIe,{})]})}),vi.jsx(oIe,{control:f.control,name:"value",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:"Deal Value ($)"}),vi.jsx(fIe,{children:vi.jsx(fB,{type:"number",placeholder:"0",...e,value:e.value||"",onChange:t=>e.onChange(t.target.value?parseFloat(t.target.value):null)})}),vi.jsx(pIe,{})]})}),vi.jsx(oIe,{control:f.control,name:"priority",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:"Priority"}),vi.jsxs(AU,{onValueChange:e.onChange,value:e.value||void 0,children:[vi.jsx(fIe,{children:vi.jsx(PU,{children:vi.jsx(DU,{placeholder:"Select priority"})})}),vi.jsxs(zU,{children:[vi.jsx(FU,{value:"low",children:"Low"}),vi.jsx(FU,{value:"medium",children:"Medium"}),vi.jsx(FU,{value:"high",children:"High"})]})]}),vi.jsx(pIe,{})]})}),vi.jsx(oIe,{control:f.control,name:"assignedToUserId",render:({field:e})=>{var t;return vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:"Assigned To"}),vi.jsxs(AU,{onValueChange:t=>e.onChange("unassigned"===t?null:parseInt(t)),value:(null==(t=e.value)?void 0:t.toString())||"unassigned",children:[vi.jsx(fIe,{children:vi.jsx(PU,{children:vi.jsx(DU,{placeholder:"Select assignee"})})}),vi.jsxs(zU,{children:[vi.jsx(FU,{value:"unassigned",children:"Unassigned"}),d.map((e=>vi.jsx(FU,{value:e.id.toString(),children:e.fullName||e.username},e.id)))]})]}),vi.jsx(pIe,{})]})}}),vi.jsx(oIe,{control:f.control,name:"dueDate",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:"Due Date"}),vi.jsx(fIe,{children:vi.jsx(fB,{type:"date",...e,value:e.value?hz(e.value,"yyyy-MM-dd"):"",onChange:t=>e.onChange(t.target.value?new Date(t.target.value):null)})}),vi.jsx(pIe,{})]})})]}),vi.jsx(oIe,{control:f.control,name:"description",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:"Description"}),vi.jsx(fIe,{children:vi.jsx(mB,{placeholder:"Enter deal description...",className:"resize-none",rows:3,...e,value:e.value||""})}),vi.jsx(pIe,{})]})}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uIe,{children:"Tags"}),vi.jsxs("div",{className:"flex gap-2",children:[vi.jsx(fB,{placeholder:"Add a tag...",value:o,onChange:e=>l(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),p())}}),vi.jsx(tk,{type:"button",onClick:p,size:"sm",children:vi.jsx(_w,{className:"h-4 w-4"})})]}),i.length>0&&vi.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:i.map(((e,t)=>vi.jsxs(ak,{variant:"secondary",className:"flex items-center gap-1",children:[e,vi.jsx(fj,{className:"h-3 w-3 cursor-pointer",onClick:()=>(e=>{const t=i.filter((t=>t!==e));s(t),f.setValue("tags",t)})(e)})]},t)))})]})]})})}),vi.jsxs(iB,{className:"px-8 py-4",children:[vi.jsx(tk,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),vi.jsx(tk,{type:"submit",onClick:f.handleSubmit(g),disabled:h.isPending,children:h.isPending?"Updating...":"Update Deal"})]})]})})}function $Re({deal:e,isOpen:t,onClose:n}){const{data:a}=ky({queryKey:["/api/contacts",null==e?void 0:e.contactId],queryFn:()=>Ey("GET",`/api/contacts/${null==e?void 0:e.contactId}`).then((e=>e.json())),enabled:!!(null==e?void 0:e.contactId)&&"number"==typeof e.contactId}),{data:r}=ky({queryKey:["/api/users",null==e?void 0:e.assignedToUserId],queryFn:()=>Ey("GET",`/api/users/${null==e?void 0:e.assignedToUserId}`).then((e=>e.json())),enabled:!!(null==e?void 0:e.assignedToUserId)&&"number"==typeof e.assignedToUserId}),{data:i}=ky({queryKey:["/api/pipeline/stages",null==e?void 0:e.stageId],queryFn:()=>Ey("GET",`/api/pipeline/stages/${null==e?void 0:e.stageId}`).then((e=>e.json())),enabled:!!(null==e?void 0:e.stageId)&&"number"==typeof e.stageId}),{data:s=[]}=ky({queryKey:["/api/deals",null==e?void 0:e.id,"activities"],queryFn:()=>Ey("GET",`/api/deals/${null==e?void 0:e.id}/activities`).then((e=>e.json())),enabled:!!(null==e?void 0:e.id)&&"number"==typeof e.id});if(!e)return null;const o={low:"bg-blue-500",medium:"bg-yellow-500",high:"bg-red-500"}[e.priority]||"bg-gray-500";return vi.jsx(KF,{open:t,onOpenChange:e=>!e&&n(),children:vi.jsxs(aB,{className:"sm:max-w-[700px] max-h-[90vh] p-0 flex flex-col",children:[vi.jsx(rB,{className:"px-6 pt-6 pb-4",children:vi.jsx(sB,{className:"flex items-center gap-3",children:vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx("div",{className:`h-3 w-3 rounded-full ${o}`}),e.title]})})}),vi.jsx(aq,{className:"flex-1 px-6 pb-6",children:vi.jsxs("div",{className:"space-y-6",children:[a&&vi.jsxs("div",{className:"space-y-4",children:[vi.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[vi.jsx(sj,{className:"h-5 w-5"}),"Contact Information"]}),vi.jsxs("div",{className:"flex items-start gap-4 p-4 border rounded-lg",children:[vi.jsx(aF,{contact:a,size:"lg"}),vi.jsxs("div",{className:"flex-1 space-y-2",children:[vi.jsx("h4",{className:"font-medium text-lg",children:a.name}),vi.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[a.phone&&vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx(kw,{className:"h-4 w-4 text-muted-foreground"}),vi.jsx("span",{children:a.phone})]}),a.email&&vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx(pw,{className:"h-4 w-4 text-muted-foreground"}),vi.jsx("span",{children:a.email})]}),a.company&&vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx(Cb,{className:"h-4 w-4 text-muted-foreground"}),vi.jsx("span",{children:a.company})]})]})]})]})]}),vi.jsx(gY,{}),vi.jsxs("div",{className:"space-y-4",children:[vi.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[vi.jsx(Xb,{className:"h-5 w-5"}),"Deal Information"]}),vi.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.value&&vi.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[vi.jsx($b,{className:"h-5 w-5 text-green-600"}),vi.jsxs("div",{children:[vi.jsx("p",{className:"text-sm text-muted-foreground",children:"Deal Value"}),vi.jsxs("p",{className:"font-semibold text-lg",children:["$",(new Intl.NumberFormat).format(e.value)]})]})]}),i&&vi.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[vi.jsx("div",{className:"h-5 w-5 rounded-full",style:{backgroundColor:i.color}}),vi.jsxs("div",{children:[vi.jsx("p",{className:"text-sm text-muted-foreground",children:"Pipeline Stage"}),vi.jsx("p",{className:"font-semibold",children:i.name})]})]}),vi.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[vi.jsx(Tb,{className:"h-5 w-5 text-orange-600"}),vi.jsxs("div",{children:[vi.jsx("p",{className:"text-sm text-muted-foreground",children:"Priority"}),vi.jsx("p",{className:"font-semibold capitalize",children:e.priority})]})]}),r&&vi.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[vi.jsx(sj,{className:"h-5 w-5 text-blue-600"}),vi.jsxs("div",{children:[vi.jsx("p",{className:"text-sm text-muted-foreground",children:"Assigned To"}),vi.jsx("p",{className:"font-semibold",children:r.name})]})]}),e.dueDate&&vi.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[vi.jsx(Sb,{className:"h-5 w-5 text-purple-600"}),vi.jsxs("div",{children:[vi.jsx("p",{className:"text-sm text-muted-foreground",children:"Due Date"}),vi.jsx("p",{className:"font-semibold",children:hz(new Date(e.dueDate),"PPP")})]})]}),e.lastActivityAt&&vi.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[vi.jsx(Ub,{className:"h-5 w-5 text-gray-600"}),vi.jsxs("div",{children:[vi.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Activity"}),vi.jsx("p",{className:"font-semibold",children:yz(new Date(e.lastActivityAt),{addSuffix:!0})})]})]})]})]}),e.description&&vi.jsxs(vi.Fragment,{children:[vi.jsx(gY,{}),vi.jsxs("div",{className:"space-y-3",children:[vi.jsx("h3",{className:"text-lg font-semibold",children:"Description"}),vi.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e.description})]})]}),e.tags&&e.tags.length>0&&vi.jsxs(vi.Fragment,{children:[vi.jsx(gY,{}),vi.jsxs("div",{className:"space-y-3",children:[vi.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[vi.jsx(Hw,{className:"h-5 w-5"}),"Tags"]}),vi.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map(((e,t)=>vi.jsx(ak,{variant:"secondary",children:e},t)))})]})]}),s.length>0&&vi.jsxs(vi.Fragment,{children:[vi.jsx(gY,{}),vi.jsxs("div",{className:"space-y-3",children:[vi.jsx("h3",{className:"text-lg font-semibold",children:"Recent Activities"}),vi.jsx("div",{className:"space-y-3",children:s.slice(0,5).map((e=>vi.jsxs("div",{className:"flex gap-3 p-3 border rounded-lg",children:[vi.jsx("div",{className:"h-2 w-2 rounded-full bg-blue-500 mt-2"}),vi.jsxs("div",{className:"flex-1",children:[vi.jsx("p",{className:"text-sm",children:e.content}),vi.jsx("p",{className:"text-xs text-muted-foreground",children:yz(new Date(e.createdAt),{addSuffix:!0})})]})]},e.id)))})]})]}),vi.jsx(gY,{}),vi.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-muted-foreground",children:[vi.jsxs("div",{children:[vi.jsx("p",{className:"font-medium",children:"Created"}),vi.jsx("p",{children:hz(new Date(e.createdAt),"PPP p")})]}),vi.jsxs("div",{children:[vi.jsx("p",{className:"font-medium",children:"Last Updated"}),vi.jsx("p",{children:hz(new Date(e.updatedAt),"PPP p")})]})]})]})})]})})}function HRe({contactId:e,isOpen:t,onClose:n}){const{data:a,isLoading:r}=ky({queryKey:["/api/contacts",e],queryFn:()=>Ey("GET",`/api/contacts/${e}`).then((e=>e.json())),enabled:!!e&&t}),{data:i=[]}=ky({queryKey:["/api/conversations","contact",e],queryFn:()=>Ey("GET",`/api/conversations?contactId=${e}`).then((e=>e.json())),enabled:!!e&&t}),{data:s=[]}=ky({queryKey:["/api/deals","contact",e],queryFn:()=>Ey("GET",`/api/deals?contactId=${e}`).then((e=>e.json())),enabled:!!e&&t});if(!e||!a)return null;const o=e=>{switch(e){case"whatsapp":case"whatsapp_unofficial":return"ri-whatsapp-line text-green-600";case"instagram":return"ri-instagram-line text-pink-600";case"facebook":return"ri-facebook-line text-blue-600";default:return"ri-message-line text-gray-600"}},l=e=>{switch(e){case"whatsapp":return"WhatsApp Business";case"whatsapp_unofficial":return"WhatsApp";case"instagram":return"Instagram";case"facebook":return"Facebook Messenger";default:return"Unknown"}};return vi.jsx(KF,{open:t,onOpenChange:e=>!e&&n(),children:vi.jsxs(aB,{className:"sm:max-w-[700px] max-h-[90vh] p-0 flex flex-col",children:[vi.jsx(rB,{className:"px-6 pt-6 pb-4",children:vi.jsxs(sB,{className:"flex items-center gap-3",children:[vi.jsx(sj,{className:"h-5 w-5"}),"Contact Details"]})}),vi.jsx(aq,{className:"flex-1 px-6 pb-6",children:r?vi.jsx("div",{className:"flex items-center justify-center py-8",children:vi.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):vi.jsxs("div",{className:"space-y-6",children:[vi.jsxs("div",{className:"flex items-start gap-4 p-4 border rounded-lg",children:[vi.jsx(aF,{contact:a,size:"lg"}),vi.jsxs("div",{className:"flex-1 space-y-2",children:[vi.jsxs("div",{className:"flex items-center justify-between",children:[vi.jsx("h2",{className:"text-xl font-semibold",children:a.name}),vi.jsxs("div",{className:"flex items-center gap-2",children:[vi.jsx("div",{className:"h-2 w-2 rounded-full "+(a.isActive?"bg-green-500":"bg-gray-300")}),vi.jsx("span",{className:"text-sm text-muted-foreground",children:a.isActive?"Active":"Inactive"})]})]}),vi.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.phone&&vi.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[vi.jsx(kw,{className:"h-4 w-4 text-muted-foreground"}),vi.jsx("span",{children:a.phone})]}),a.email&&vi.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[vi.jsx(pw,{className:"h-4 w-4 text-muted-foreground"}),vi.jsx("span",{children:a.email})]}),a.company&&vi.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[vi.jsx(Cb,{className:"h-4 w-4 text-muted-foreground"}),vi.jsx("span",{children:a.company})]}),a.location&&vi.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[vi.jsx(hw,{className:"h-4 w-4 text-muted-foreground"}),vi.jsx("span",{children:a.location})]})]}),vi.jsx("div",{className:"flex gap-2 pt-2",children:vi.jsxs(tk,{size:"sm",variant:"outline",onClick:()=>{window.location.href=`/pipeline?contactId=${e}`},children:[vi.jsx(qb,{className:"h-4 w-4 mr-2"}),"View Deals"]})})]})]}),vi.jsxs("div",{className:"space-y-4",children:[vi.jsx("h3",{className:"text-lg font-semibold",children:"Contact Information"}),vi.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[vi.jsxs("div",{className:"space-y-3",children:[vi.jsxs("div",{children:[vi.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Identifier"}),vi.jsx("p",{className:"text-sm",children:a.identifier||"Not provided"})]}),vi.jsxs("div",{children:[vi.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Identifier Type"}),vi.jsx("p",{className:"text-sm capitalize",children:a.identifierType||"Not specified"})]})]}),vi.jsxs("div",{className:"space-y-3",children:[vi.jsxs("div",{children:[vi.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"First Contacted"}),vi.jsx("p",{className:"text-sm",children:a.createdAt?hz(new Date(a.createdAt),"PPP"):"Unknown"})]}),vi.jsxs("div",{children:[vi.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Last Activity"}),vi.jsx("p",{className:"text-sm",children:a.lastContactedAt?yz(new Date(a.lastContactedAt),{addSuffix:!0}):"No recent activity"})]})]})]})]}),a.notes&&vi.jsxs(vi.Fragment,{children:[vi.jsx(gY,{}),vi.jsxs("div",{className:"space-y-3",children:[vi.jsx("h3",{className:"text-lg font-semibold",children:"Notes"}),vi.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:a.notes})]})]}),a.tags&&a.tags.length>0&&vi.jsxs(vi.Fragment,{children:[vi.jsx(gY,{}),vi.jsxs("div",{className:"space-y-3",children:[vi.jsx("h3",{className:"text-lg font-semibold",children:"Tags"}),vi.jsx("div",{className:"flex flex-wrap gap-2",children:a.tags.map(((e,t)=>vi.jsx(ak,{variant:"secondary",children:e},t)))})]})]}),i.length>0&&vi.jsxs(vi.Fragment,{children:[vi.jsx(gY,{}),vi.jsxs("div",{className:"space-y-3",children:[vi.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[vi.jsx(xw,{className:"h-5 w-5"}),"Recent Conversations (",i.length,")"]}),vi.jsx("div",{className:"space-y-2",children:i.slice(0,3).map((e=>vi.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[vi.jsx("i",{className:o(e.channelType)}),vi.jsxs("div",{className:"flex-1",children:[vi.jsx("p",{className:"text-sm font-medium",children:l(e.channelType)}),vi.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last message: ",yz(new Date(e.lastMessageAt),{addSuffix:!0})]})]}),vi.jsx(ak,{variant:"active"===e.status?"default":"secondary",children:e.status})]},e.id)))})]})]}),s.length>0&&vi.jsxs(vi.Fragment,{children:[vi.jsx(gY,{}),vi.jsxs("div",{className:"space-y-3",children:[vi.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[vi.jsx(vb,{className:"h-5 w-5"}),"Associated Deals (",s.length,")"]}),vi.jsx("div",{className:"space-y-2",children:s.slice(0,3).map((e=>vi.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[vi.jsxs("div",{className:"flex-1",children:[vi.jsx("p",{className:"text-sm font-medium",children:e.title}),vi.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.value&&`$${(new Intl.NumberFormat).format(e.value)} • `,e.stage]})]}),vi.jsx(ak,{variant:"outline",className:"capitalize",children:e.priority})]},e.id)))})]})]}),vi.jsx(gY,{}),vi.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-muted-foreground",children:[vi.jsxs("div",{children:[vi.jsx("p",{className:"font-medium",children:"Created"}),vi.jsx("p",{children:hz(new Date(a.createdAt),"PPP p")})]}),vi.jsxs("div",{children:[vi.jsx("p",{className:"font-medium",children:"Last Updated"}),vi.jsx("p",{children:hz(new Date(a.updatedAt),"PPP p")})]})]})]})})]})})}function YRe({deal:e}){const t=by(),[,n]=mx(),{toast:a}=By(),[r,i]=ci.useState(!1),[s,o]=ci.useState(!1),[l,c]=ci.useState(!1),[d,u]=ci.useState(!1),{data:f}=ky({queryKey:["/api/contacts",e.contactId],queryFn:()=>Ey("GET",`/api/contacts/${e.contactId}`).then((e=>e.json())),enabled:!!e.contactId}),{data:m}=ky({queryKey:["/api/users",e.assignedToUserId],queryFn:()=>Ey("GET",`/api/users/${e.assignedToUserId}`).then((e=>e.json())),enabled:!!e.assignedToUserId}),p=My({mutationFn:async e=>(await Ey("DELETE",`/api/deals/${e}`)).json(),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/deals"]}),e.stage&&t.invalidateQueries({queryKey:[`/api/deals/stage/${e.stage}`]}),e.stageId&&t.invalidateQueries({queryKey:[`/api/deals/stageId/${e.stageId}`]})},onError:e=>{console.error("Error deleting deal:",e)}}),h={low:"bg-blue-500",medium:"bg-yellow-500",high:"bg-red-500"}[e.priority]||"bg-gray-500";return vi.jsxs("div",{className:"bg-card border rounded-md shadow-sm p-4 mb-3 cursor-grab hover:shadow transition-shadow duration-200",children:[vi.jsxs("div",{className:"flex justify-between items-start mb-3",children:[vi.jsx("h3",{className:"text-base font-medium truncate",children:e.title}),vi.jsxs("div",{className:"flex items-center space-x-2",children:[vi.jsx(VS,{children:vi.jsxs($S,{children:[vi.jsx(HS,{asChild:!0,children:vi.jsx("div",{className:`h-2.5 w-2.5 rounded-full ${h}`})}),vi.jsx(YS,{children:vi.jsxs("p",{className:"capitalize",children:[e.priority," priority"]})})]})}),vi.jsxs(_O,{children:[vi.jsx(EO,{asChild:!0,children:vi.jsx(tk,{variant:"ghost",size:"icon",className:"h-8 w-8",children:vi.jsx(Yb,{className:"h-4 w-4"})})}),vi.jsxs(IO,{align:"end",children:[vi.jsx(AO,{children:"Actions"}),vi.jsx(LO,{onClick:()=>{o(!0)},children:"Edit Deal"}),vi.jsx(LO,{onClick:()=>{c(!0)},children:"View Details"}),vi.jsx(LO,{onClick:()=>{u(!0)},children:"View Contact"}),vi.jsx(TO,{}),vi.jsx(LO,{onClick:()=>i(!0),className:"text-destructive",children:"Delete"})]})]})]})]}),f&&vi.jsxs("div",{className:"flex items-center mb-3 p-2 rounded-md hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>{(null==f?void 0:f.id)&&(null==f?void 0:f.identifierType)&&(localStorage.setItem("selectedContactId",f.id.toString()),localStorage.setItem("selectedChannelType",f.identifierType),n("/"),a({title:"Redirecting to inbox",description:`Opening conversation with ${f.name}`}))},title:`Open conversation with ${f.name}`,children:[vi.jsx(aF,{contact:f,size:"sm",className:"mr-3"}),vi.jsxs("div",{className:"flex-1 min-w-0",children:[vi.jsxs("div",{className:"flex items-center",children:[vi.jsx("span",{className:"text-sm font-medium text-gray-900 truncate",children:f.name}),f.identifierType&&vi.jsxs("span",{className:"ml-2 inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium bg-gray-100",children:["whatsapp"===f.identifierType&&vi.jsx("i",{className:"ri-whatsapp-line text-green-600 mr-1"}),"whatsapp_unofficial"===f.identifierType&&vi.jsx("i",{className:"ri-whatsapp-line text-green-600 mr-1"}),"messenger"===f.identifierType&&vi.jsx("i",{className:"ri-messenger-line text-blue-600 mr-1"}),"instagram"===f.identifierType&&vi.jsx("i",{className:"ri-instagram-line text-pink-600 mr-1"}),f.identifierType]})]}),m&&vi.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Assigned to: ",m.fullName||m.username]})]})]}),vi.jsxs("div",{className:"space-y-2 text-sm",children:[e.description&&vi.jsx("p",{className:"text-muted-foreground text-sm line-clamp-2 mb-3",children:e.description}),e.value&&vi.jsxs("div",{className:"font-medium",children:["$",(new Intl.NumberFormat).format(e.value)]}),vi.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground pt-2",children:[e.assignedToUserId&&vi.jsxs("div",{className:"flex items-center",children:[vi.jsx(sj,{className:"h-3.5 w-3.5 mr-1"}),vi.jsx("span",{children:"Assigned"})]}),e.lastActivityAt&&vi.jsxs("div",{className:"flex items-center",title:new Date(e.lastActivityAt).toLocaleString(),children:[vi.jsx(Ub,{className:"h-3.5 w-3.5 mr-1"}),vi.jsx("span",{children:yz(new Date(e.lastActivityAt),{addSuffix:!0})})]}),e.dueDate&&vi.jsxs("div",{className:"flex items-center",title:new Date(e.dueDate).toLocaleString(),children:[vi.jsx(Sb,{className:"h-3.5 w-3.5 mr-1"}),vi.jsx("span",{children:new Date(e.dueDate).toLocaleDateString()})]})]}),e.tags&&e.tags.length>0&&vi.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:e.tags.map(((e,t)=>vi.jsxs(ak,{variant:"secondary",className:"text-xs flex items-center",children:[vi.jsx(Hw,{className:"h-3 w-3 mr-1"}),e]},t)))})]}),vi.jsx(_9,{open:r,onOpenChange:i,children:vi.jsxs(A9,{children:[vi.jsxs(T9,{children:[vi.jsx(P9,{children:"Are you sure?"}),vi.jsxs(O9,{children:['This will remove the deal "',e.title,'" from your pipeline. This action cannot be undone.']})]}),vi.jsxs(D9,{children:[vi.jsx(z9,{children:"Cancel"}),vi.jsx(R9,{onClick:()=>{p.mutate(e.id),i(!1)},className:"bg-destructive text-destructive-foreground",children:"Delete"})]})]})}),vi.jsx(VRe,{deal:e,isOpen:s,onClose:()=>o(!1)}),vi.jsx($Re,{deal:e,isOpen:l,onClose:()=>c(!1)}),vi.jsx(HRe,{contactId:e.contactId,isOpen:d,onClose:()=>u(!1)})]})}function qRe({onAddDeal:e,onOpenFilterModal:t,activeFilter:n}){var a,r,i,s;const{toast:o}=By(),{t:l}=sk(),c=by(),[d,u]=ci.useState(null),[f,m]=ci.useState(""),[p,h]=ci.useState("#3a86ff"),[g,x]=ci.useState(""),[y,v]=ci.useState(""),[b,w]=ci.useState(!1),[j,N]=ci.useState(!1),[C,S]=ci.useState(null),[k,M]=ci.useState(null),_=["#4361ee","#3a86ff","#7209b7","#f72585","#4cc9f0","#4895ef","#560bad","#f3722c","#f8961e","#90be6d","#43aa8b","#577590"],{data:E=[],isLoading:I}=ky({queryKey:["/api/pipeline/stages"],queryFn:async()=>{const e=await Ey("GET","/api/pipeline/stages");return await e.json()}}),{data:L=[],isLoading:A}=ky({queryKey:["/api/deals",n],queryFn:async()=>{const e=new URLSearchParams;n.priority&&e.append("priority",n.priority),n.assignedToUserId&&e.append("assignedTo",n.assignedToUserId.toString());const t="/api/deals"+(e.toString()?`?${e.toString()}`:"");return(await Ey("GET",t)).json()}}),T=ci.useMemo((()=>{if(!E||0===E.length)return{};const e={};return E.forEach((t=>{e[t.id]=[]})),L&&Array.isArray(L)&&L.length>0&&L.forEach((t=>{t.stageId&&e[t.stageId]&&e[t.stageId].push(t)})),e}),[L,E]),[D,P]=ci.useState({}),O=My({mutationFn:async({name:e,color:t})=>{const n=await Ey("POST","/api/pipeline/stages",{name:e,color:t,order:E.length+1});return await n.json()},onSuccess:e=>{m(""),h("#3a86ff"),w(!1),c.invalidateQueries({queryKey:["/api/pipeline/stages"]}),c.refetchQueries({queryKey:["/api/pipeline/stages"]}),c.invalidateQueries({queryKey:["/api/deals"]}),o({title:l("common.success","Success"),description:l("pipeline.stage_created_success","Stage created successfully")})},onError:e=>{o({title:l("common.error","Error"),description:l("pipeline.stage_create_failed","Failed to create stage: {{error}}",{error:e.message}),variant:"destructive"})}}),R=My({mutationFn:async({id:e,name:t,color:n})=>(await Ey("PUT",`/api/pipeline/stages/${e}`,{name:t,color:n})).json(),onSuccess:()=>{u(null),x(""),v(""),c.invalidateQueries({queryKey:["/api/pipeline/stages"]}),o({title:l("common.success","Success"),description:l("pipeline.stage_updated_success","Stage updated successfully")})},onError:e=>{o({title:l("common.error","Error"),description:l("pipeline.stage_update_failed","Failed to update stage: {{error}}",{error:e.message}),variant:"destructive"})}}),z=My({mutationFn:async({id:e,moveToStageId:t})=>{const n=`/api/pipeline/stages/${e}${t?`?moveToStageId=${t}`:""}`;return(await Ey("DELETE",n)).ok},onSuccess:()=>{N(!1),S(null),M(null),c.invalidateQueries({queryKey:["/api/pipeline/stages"]}),c.invalidateQueries({queryKey:["/api/deals"]}),o({title:l("common.success","Success"),description:l("pipeline.stage_deleted_success","Stage deleted successfully")})},onError:e=>{o({title:l("common.error","Error"),description:l("pipeline.stage_delete_failed","Failed to delete stage: {{error}}",{error:e.message}),variant:"destructive"})}}),F=My({mutationFn:async({dealId:e,stageId:t})=>(await Ey("PATCH",`/api/deals/${e}/stageId`,{stageId:t})).json(),onSuccess:()=>{P({}),c.invalidateQueries({queryKey:["/api/deals"]})},onError:e=>{P({}),o({title:l("common.error","Error"),description:l("pipeline.deal_update_failed","Failed to update deal stage: {{error}}",{error:e.message}),variant:"destructive"})}}),B=Object.keys(D).length>0?D:T,U=I||A;return vi.jsxs("div",{className:"flex flex-col h-full",children:[vi.jsxs("div",{className:"flex justify-between items-center mb-6",children:[vi.jsx("h1",{className:"text-2xl ",children:l("nav.pipeline","Pipeline")}),vi.jsxs("div",{className:"flex gap-2",children:[vi.jsxs(tk,{variant:"outline",size:"sm",onClick:t,className:"flex items-center gap-1",children:[vi.jsx(nw,{className:"h-4 w-4"}),l("common.filter","Filter"),(n.priority||n.assignedToUserId)&&vi.jsx("span",{className:"ml-1 flex h-2 w-2 rounded-full bg-primary"})]}),vi.jsxs(tk,{variant:"outline",size:"sm",onClick:()=>w(!0),className:"flex items-center gap-1",children:[vi.jsx(_w,{className:"h-4 w-4"}),l("pipeline.add_stage","Add Stage")]}),vi.jsxs(tk,{onClick:e,className:"flex items-center gap-1 btn-brand-primary",children:[vi.jsx(zb,{className:"h-4 w-4"}),l("pipeline.add_deal","Add Deal")]})]})]}),U?vi.jsx("div",{className:"flex items-center justify-center h-64",children:vi.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})}):vi.jsx(vi.Fragment,{children:0===E.length?vi.jsxs("div",{className:"flex flex-col items-center justify-center h-64 p-6 text-center bg-secondary/20 rounded-lg",children:[vi.jsx("h3",{className:"text-lg  mb-2",children:l("pipeline.no_stages","No Pipeline Stages")}),vi.jsx("p",{className:"text-muted-foreground mb-4",children:l("pipeline.create_first_stage","Create your first stage to get started")}),vi.jsx(tk,{onClick:()=>w(!0),children:l("pipeline.add_first_stage","Add First Stage")})]}):vi.jsx(nRe,{onDragEnd:e=>{var t;const{destination:n,source:a,draggableId:r}=e;if(!n||n.droppableId===a.droppableId&&n.index===a.index)return;const i=parseInt(r),s=parseInt(a.droppableId),o=parseInt(n.droppableId);if(s!==o){const e=null==(t=B[s])?void 0:t.find((e=>e.id===i));if(!e)return;const a={...T};a[s]=a[s].filter((e=>e.id!==i));const r={...e,stageId:o};a[o]=[...a[o].slice(0,n.index),r,...a[o].slice(n.index)],P(a),F.mutate({dealId:i,stageId:o})}else{const e={...T},[t]=e[s].splice(a.index,1);e[s].splice(n.index,0,t),P(e)}},children:vi.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-6 gap-4 h-full overflow-hidden",children:E.map((e=>{var t;return vi.jsxs("div",{className:"flex flex-col h-full",children:[vi.jsxs("div",{className:"flex justify-between items-center p-2 mb-2 rounded-md shadow-md",style:{borderLeft:`4px solid ${e.color}`,backgroundColor:`${e.color}20`},children:[vi.jsxs("div",{className:"flex items-center gap-1.5",children:[vi.jsx("h3",{className:"font-medium text-sm",children:e.name}),vi.jsx("span",{className:"text-xs text-muted-foreground bg-background rounded-full px-1.5 py-0.5",children:(null==(t=B[e.id])?void 0:t.length)||0})]}),vi.jsxs(_O,{children:[vi.jsx(EO,{asChild:!0,children:vi.jsx(tk,{variant:"ghost",size:"icon",className:"h-7 w-7",children:vi.jsx(Yb,{className:"h-4 w-4"})})}),vi.jsxs(IO,{align:"end",children:[vi.jsxs(LO,{onClick:()=>(e=>{u(e.id),x(e.name),v(e.color)})(e),children:[vi.jsx(Cw,{className:"mr-2 h-4 w-4"}),l("common.edit","Edit")]}),vi.jsxs(LO,{onClick:()=>(e=>{S(e),N(!0)})(e),children:[vi.jsx(Yw,{className:"mr-2 h-4 w-4"}),l("common.delete","Delete")]})]})]})]}),vi.jsx(WRe,{droppableId:e.id.toString(),children:(t,n)=>{var a;return vi.jsxs("div",{ref:t.innerRef,...t.droppableProps,className:"flex-1 p-2 rounded-md overflow-y-auto shadow-md "+(n.isDraggingOver?"bg-secondary/50":""),style:{minHeight:"70vh",backgroundColor:e.color?`${e.color}10`:void 0,border:`1px solid ${e.color}30`},children:[null==(a=B[e.id])?void 0:a.map(((e,t)=>vi.jsx(yRe,{draggableId:e.id.toString(),index:t,children:(t,n)=>vi.jsx("div",{ref:t.innerRef,...t.draggableProps,...t.dragHandleProps,style:{...t.draggableProps.style,opacity:n.isDragging?.8:1},children:vi.jsx(YRe,{deal:e})})},e.id))),t.placeholder]})}})]},e.id)}))})})}),vi.jsx(KF,{open:b,onOpenChange:w,children:vi.jsxs(aB,{children:[vi.jsxs(rB,{children:[vi.jsx(sB,{children:l("pipeline.add_stage_title","Add Pipeline Stage")}),vi.jsx(oB,{children:l("pipeline.add_stage_description","Create a new stage for your pipeline. Stages help organize your deals and track their progress.")})]}),vi.jsxs("div",{className:"space-y-4 py-4",children:[vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"name",children:l("pipeline.stage_name","Stage Name")}),vi.jsx(fB,{id:"name",placeholder:l("pipeline.stage_name_placeholder","e.g., Discovery, Negotiation, Proposal"),value:f,onChange:e=>m(e.target.value)})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"color",children:l("pipeline.stage_color","Stage Color")}),vi.jsx("div",{className:"flex flex-wrap gap-2",children:_.map((e=>vi.jsx("div",{className:"w-8 h-8 rounded-full cursor-pointer border-2 "+(p===e?"border-black dark:border-white":"border-transparent"),style:{backgroundColor:e},onClick:()=>h(e)},e)))}),vi.jsxs("div",{className:"mt-2 flex items-center",children:[vi.jsx("div",{className:"w-6 h-6 rounded-full mr-2",style:{backgroundColor:p}}),vi.jsx("span",{className:"text-sm",children:p})]})]})]}),vi.jsxs(iB,{children:[vi.jsx(tk,{variant:"outline",onClick:()=>w(!1),children:l("common.cancel","Cancel")}),vi.jsx(tk,{onClick:()=>{f.trim()?O.mutate({name:f,color:p}):o({title:l("common.error","Error"),description:l("pipeline.stage_name_required","Stage name cannot be empty"),variant:"destructive"})},children:l("pipeline.create_stage","Create Stage")})]})]})}),vi.jsx(KF,{open:!!d,onOpenChange:e=>!e&&u(null),children:vi.jsxs(aB,{children:[vi.jsxs(rB,{children:[vi.jsx(sB,{children:l("pipeline.edit_stage_title","Edit Pipeline Stage")}),vi.jsx(oB,{children:l("pipeline.edit_stage_description","Update the stage name and color.")})]}),vi.jsxs("div",{className:"space-y-4 py-4",children:[vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"edit-name",children:l("pipeline.stage_name","Stage Name")}),vi.jsx(fB,{id:"edit-name",placeholder:l("pipeline.stage_name_placeholder","e.g., Discovery, Negotiation, Proposal"),value:g,onChange:e=>x(e.target.value),autoFocus:!0})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"edit-color",children:l("pipeline.stage_color","Stage Color")}),vi.jsx("div",{className:"flex flex-wrap gap-2",children:_.map((e=>vi.jsx("div",{className:"w-8 h-8 rounded-full cursor-pointer border-2 "+(y===e?"border-black dark:border-white":"border-transparent"),style:{backgroundColor:e},onClick:()=>v(e)},e)))}),vi.jsxs("div",{className:"mt-2 flex items-center",children:[vi.jsx("div",{className:"w-6 h-6 rounded-full mr-2",style:{backgroundColor:y}}),vi.jsx("span",{className:"text-sm",children:y})]})]})]}),vi.jsxs(iB,{children:[vi.jsx(tk,{variant:"outline",onClick:()=>{u(null),x(""),v("")},children:l("common.cancel","Cancel")}),vi.jsx(tk,{className:"btn-brand-primary",onClick:()=>{return d&&(e=d,void(g.trim()?R.mutate({id:e,name:g,color:y}):o({title:l("common.error","Error"),description:l("pipeline.stage_name_required","Stage name cannot be empty"),variant:"destructive"})));var e},children:l("pipeline.update_stage","Update Stage")})]})]})}),vi.jsx(KF,{open:j,onOpenChange:N,children:vi.jsxs(aB,{children:[vi.jsxs(rB,{children:[vi.jsx(sB,{children:l("pipeline.delete_stage_title","Delete Pipeline Stage")}),vi.jsx(oB,{children:C&&(null==(a=B[C.id])?void 0:a.length)>0?vi.jsx(vi.Fragment,{children:l("pipeline.stage_contains_deals","This stage contains {{count}} deals. Where would you like to move them?",{count:null==(r=B[C.id])?void 0:r.length})}):vi.jsx(vi.Fragment,{children:l("pipeline.delete_stage_confirmation","Are you sure you want to delete this stage? This action cannot be undone.")})})]}),C&&(null==(i=B[C.id])?void 0:i.length)>0&&vi.jsxs("div",{className:"space-y-4 py-4",children:[vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"targetStage",children:l("pipeline.move_deals_to","Move deals to")}),vi.jsxs("select",{id:"targetStage",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:k||"",onChange:e=>M(parseInt(e.target.value)),children:[vi.jsx("option",{value:"",children:l("pipeline.select_stage","Select a stage")}),E.filter((e=>C&&e.id!==C.id)).map((e=>vi.jsx("option",{value:e.id,children:e.name},e.id)))]})]}),!k&&vi.jsx(QO,{variant:"destructive",children:vi.jsx(JO,{children:l("pipeline.select_target_stage_warning","You must select a target stage or the deals in this stage will be lost.")})})]}),vi.jsxs(iB,{children:[vi.jsx(tk,{variant:"outline",onClick:()=>{N(!1),S(null),M(null)},children:l("common.cancel","Cancel")}),vi.jsx(tk,{variant:"destructive",onClick:()=>{C&&z.mutate({id:C.id,moveToStageId:k||void 0})},disabled:!!C&&(null==(s=B[C.id])?void 0:s.length)>0&&!k,children:l("pipeline.delete_stage","Delete Stage")})]})]})})]})}const QRe=CL({title:dL().min(2,"Title must be at least 2 characters"),stage:dL().min(1,"Please select a pipeline stage"),value:uL().min(0).optional().nullable(),contactId:uL().min(1,"Please select a contact"),priority:OL(["low","medium","high"]).default("medium"),dueDate:hL().optional().nullable(),assignedToUserId:uL().optional().nullable(),description:dL().optional().nullable(),tags:NL(dL()).default([])});function ZRe({isOpen:e,onClose:t}){const{toast:n}=By(),a=by(),[r,i]=ci.useState([]),[s,o]=ci.useState(""),{data:l}=ky({queryKey:["/api/contacts"],queryFn:()=>Ey("GET","/api/contacts").then((e=>e.json()))}),{data:c=[]}=ky({queryKey:["/api/team-members"],queryFn:()=>Ey("GET","/api/team-members").then((e=>e.json()))}),{data:d=[]}=ky({queryKey:["/api/pipeline/stages"],queryFn:()=>Ey("GET","/api/pipeline/stages").then((e=>e.json())).then((e=>(console.log("Fetched pipeline stages:",e),e)))}),u=rIe({resolver:DIe(QRe),defaultValues:{title:"",stage:"",value:null,contactId:void 0,priority:"medium",dueDate:null,assignedToUserId:null,description:"",tags:[]}});ci.useEffect((()=>{d.length>0&&!u.getValues("stage")&&u.setValue("stage",d[0].id.toString())}),[d,u]);const f=()=>{u.reset(),i([]),o("")},m=()=>{if(s.trim()&&!r.includes(s.trim())){const e=[...r,s.trim()];i(e),u.setValue("tags",e),o("")}},p=My({mutationFn:async e=>(await Ey("POST","/api/deals",e)).json(),onSuccess:()=>{n({title:"Success",description:"Deal has been created"}),a.invalidateQueries({queryKey:["/api/deals"]}),f(),t()},onError:e=>{n({title:"Error",description:`Failed to create deal: ${e.message}`,variant:"destructive"})}}),h=e=>{e.tags=r,p.mutate(e)};return vi.jsx(KF,{open:e,onOpenChange:e=>{e||t(),e&&f()},children:vi.jsxs(aB,{className:"sm:max-w-[600px] max-h-[90vh] md:max-h-[80vh] p-0 flex flex-col",children:[vi.jsxs(rB,{className:"px-8 pt-6 pb-4",children:[vi.jsx(sB,{children:"Add New Deal"}),vi.jsx(oB,{children:"Create a new deal in your pipeline"})]}),vi.jsx(aq,{className:"flex-1 px-4 py-6 overflow-auto",children:vi.jsx(iIe,{...u,children:vi.jsx("form",{onSubmit:u.handleSubmit(h),className:"space-y-8 m-2",children:vi.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[vi.jsx(oIe,{control:u.control,name:"title",render:({field:e})=>vi.jsxs(dIe,{className:"md:col-span-2",children:[vi.jsx(uIe,{children:"Deal Title"}),vi.jsx(fIe,{children:vi.jsx(fB,{...e,placeholder:"Enter deal title"})}),vi.jsx(pIe,{})]})}),vi.jsx(oIe,{control:u.control,name:"value",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:"Deal Value"}),vi.jsx(fIe,{children:vi.jsx(fB,{type:"number",placeholder:"0.00",onChange:t=>{const n=""===t.target.value?null:parseFloat(t.target.value);e.onChange(n)},value:null===e.value?"":e.value})}),vi.jsx(pIe,{})]})}),vi.jsx(oIe,{control:u.control,name:"stage",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:"Stage"}),vi.jsxs(AU,{onValueChange:e.onChange,defaultValue:e.value,children:[vi.jsx(fIe,{children:vi.jsx(PU,{children:vi.jsx(DU,{placeholder:"Select stage"})})}),vi.jsx(zU,{children:d.map((e=>vi.jsx(FU,{value:e.id.toString(),children:e.name},e.id)))})]}),vi.jsx(pIe,{})]})}),vi.jsx(oIe,{control:u.control,name:"contactId",render:({field:e})=>{var t;return vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:"Contact"}),vi.jsxs(AU,{onValueChange:t=>e.onChange("none"===t?null:parseInt(t)),value:(null==(t=e.value)?void 0:t.toString())||"none",children:[vi.jsx(fIe,{children:vi.jsx(PU,{children:vi.jsx(DU,{placeholder:"Select contact"})})}),vi.jsxs(zU,{children:[vi.jsx(FU,{value:"none",children:"None"}),(null==l?void 0:l.contacts)&&Array.isArray(l.contacts)?l.contacts.map((e=>vi.jsx(FU,{value:e.id.toString(),children:e.fullName||e.name||e.phoneNumber},e.id))):null]})]}),vi.jsx(pIe,{})]})}}),vi.jsx(oIe,{control:u.control,name:"priority",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:"Priority"}),vi.jsxs(AU,{onValueChange:e.onChange,defaultValue:e.value,children:[vi.jsx(fIe,{children:vi.jsx(PU,{children:vi.jsx(DU,{placeholder:"Select priority"})})}),vi.jsxs(zU,{children:[vi.jsx(FU,{value:"low",children:"Low"}),vi.jsx(FU,{value:"medium",children:"Medium"}),vi.jsx(FU,{value:"high",children:"High"})]})]}),vi.jsx(pIe,{})]})}),vi.jsx(oIe,{control:u.control,name:"dueDate",render:({field:e})=>vi.jsxs(dIe,{className:"flex flex-col",children:[vi.jsx(uIe,{children:"Due Date"}),vi.jsxs(F3,{children:[vi.jsx(B3,{asChild:!0,children:vi.jsx(fIe,{children:vi.jsxs(tk,{variant:"outline",className:iN("pl-3 text-left font-normal",!e.value&&"text-muted-foreground"),children:[e.value?hz(e.value,"PPP"):vi.jsx("span",{children:"Pick a date"}),vi.jsx(Sb,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),vi.jsx(U3,{className:"w-auto p-0",align:"start",children:vi.jsx(g5,{mode:"single",selected:e.value||void 0,onSelect:e.onChange,disabled:e=>e<new Date((new Date).setHours(0,0,0,0)),initialFocus:!0})})]}),vi.jsx(pIe,{})]})}),vi.jsx(oIe,{control:u.control,name:"assignedToUserId",render:({field:e})=>{var t;return vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:"Assigned To"}),vi.jsxs(AU,{onValueChange:t=>e.onChange("unassigned"===t?null:parseInt(t)),value:(null==(t=e.value)?void 0:t.toString())||"unassigned",children:[vi.jsx(fIe,{children:vi.jsx(PU,{children:vi.jsx(DU,{placeholder:"Assign to"})})}),vi.jsxs(zU,{children:[vi.jsx(FU,{value:"unassigned",children:"Unassigned"}),c.map((e=>vi.jsx(FU,{value:e.id.toString(),children:e.fullName||e.username},e.id)))]})]}),vi.jsx(pIe,{})]})}}),vi.jsxs(dIe,{className:"md:col-span-2",children:[vi.jsx(uIe,{children:"Tags"}),vi.jsxs("div",{className:"flex gap-2",children:[vi.jsx(fB,{value:s,onChange:e=>o(e.target.value),placeholder:"Add tags",onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),m())}}),vi.jsx(tk,{type:"button",size:"sm",onClick:m,children:vi.jsx(_w,{className:"h-4 w-4"})})]}),vi.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:r.map((e=>vi.jsxs(ak,{variant:"secondary",className:"flex items-center",children:[e,vi.jsx(tk,{type:"button",variant:"ghost",size:"sm",className:"h-4 w-4 p-0 ml-1",onClick:()=>(e=>{const t=r.filter((t=>t!==e));i(t),u.setValue("tags",t)})(e),children:vi.jsx(fj,{className:"h-3 w-3"})})]},e)))}),vi.jsx(mIe,{children:"Press Enter or click Add to add a tag"})]}),vi.jsx(oIe,{control:u.control,name:"description",render:({field:e})=>vi.jsxs(dIe,{className:"md:col-span-2",children:[vi.jsx(uIe,{children:"Description"}),vi.jsx(fIe,{children:vi.jsx(mB,{...e,placeholder:"Enter deal description",className:"min-h-[100px]",value:e.value||""})}),vi.jsx(pIe,{})]})})]})})})}),vi.jsx("div",{className:"border-t border-border mt-2",children:vi.jsxs(iB,{className:"px-8 py-6 flex flex-row justify-end gap-3 sm:gap-2",children:[vi.jsx(tk,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),vi.jsx(tk,{variant:"outline",className:"btn-brand-primary",type:"submit",disabled:p.isPending,onClick:u.handleSubmit(h),children:p.isPending?"Creating...":"Create Deal"})]})})]})})}function JRe({isOpen:e,onClose:t,currentFilter:n,onApplyFilter:a}){var r;const[i,s]=ci.useState({priority:n.priority,assignedToUserId:n.assignedToUserId});ci.useEffect((()=>{e&&s({priority:n.priority,assignedToUserId:n.assignedToUserId})}),[e,n]);const{data:o=[]}=ky({queryKey:["/api/team-members"],queryFn:()=>Ey("GET","/api/team-members").then((e=>e.json()))});return vi.jsx(KF,{open:e,onOpenChange:e=>!e&&t(),children:vi.jsxs(aB,{className:"sm:max-w-[425px]",children:[vi.jsxs(rB,{children:[vi.jsx(sB,{children:"Filter Deals"}),vi.jsx(oB,{children:"Filter deals by priority and assignee."})]}),vi.jsxs("div",{className:"space-y-4 py-4",children:[vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"priority",children:"Priority"}),vi.jsxs(AU,{value:i.priority||"all",onValueChange:e=>s({...i,priority:"all"===e?null:e}),children:[vi.jsx(PU,{children:vi.jsx(DU,{placeholder:"All priorities"})}),vi.jsxs(zU,{children:[vi.jsx(FU,{value:"all",children:"All priorities"}),vi.jsx(FU,{value:"low",children:"Low"}),vi.jsx(FU,{value:"medium",children:"Medium"}),vi.jsx(FU,{value:"high",children:"High"})]})]})]}),vi.jsxs("div",{className:"space-y-2",children:[vi.jsx(uB,{htmlFor:"assignee",children:"Assigned To"}),vi.jsxs(AU,{value:(null==(r=i.assignedToUserId)?void 0:r.toString())||"all",onValueChange:e=>s({...i,assignedToUserId:"all"===e?null:parseInt(e)}),children:[vi.jsx(PU,{children:vi.jsx(DU,{placeholder:"All team members"})}),vi.jsxs(zU,{children:[vi.jsx(FU,{value:"all",children:"All team members"}),o.map((e=>vi.jsx(FU,{value:e.id.toString(),children:e.fullName},e.id)))]})]})]})]}),vi.jsxs(iB,{className:"flex justify-between",children:[vi.jsx(tk,{type:"button",variant:"brand",className:"btn-brand-primary",onClick:()=>{const e={priority:null,assignedToUserId:null};s(e),a(e),t()},children:"Clear Filters"}),vi.jsx(tk,{type:"button",variant:"outline",className:"btn-brand-primary",onClick:()=>{a(i),t()},children:"Apply Filters"})]})]})})}function KRe(){const{user:e,isLoading:t}=nT(),[n,a]=ci.useState(!1),[r,i]=ci.useState(!1),[s,o]=ci.useState({priority:null,assignedToUserId:null});if(t)return vi.jsx("div",{className:"flex items-center justify-center min-h-screen",children:vi.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})});if(!e)return vi.jsx(jx,{to:"/auth"});return vi.jsxs("div",{className:"h-screen flex flex-col overflow-hidden font-sans text-gray-800",children:[vi.jsx(WO,{}),vi.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[vi.jsx(XO,{}),vi.jsx("div",{className:"flex-1 overflow-y-auto",children:vi.jsxs("div",{className:"container mx-auto px-4 py-6",children:[vi.jsx(qRe,{onAddDeal:()=>a(!0),onOpenFilterModal:()=>i(!0),activeFilter:s}),vi.jsx(ZRe,{isOpen:n,onClose:()=>a(!1)}),vi.jsx(JRe,{isOpen:r,onClose:()=>i(!1),currentFilter:s,onApplyFilter:e=>{o(e),i(!1)}})]})})]})]})}const XRe=CL({username:dL().min(2,"Username or email must be at least 2 characters"),password:dL().min(1,"Password is required")}),eze=CL({username:dL().min(2,"Username must be at least 2 characters").max(50),password:dL().min(6,"Password must be at least 6 characters"),confirmPassword:dL().min(1,"Please confirm your password"),fullName:dL().min(2,"Full name must be at least 2 characters").max(100),email:dL().email("Please enter a valid email address")}).refine((e=>e.password===e.confirmPassword),{message:"Passwords don't match",path:["confirmPassword"]});function tze(){const{user:e,isLoading:t,loginMutation:n,registerMutation:a}=nT(),{t:r}=sk(),[i,s]=ci.useState("login"),[o,l]=ci.useState(!1);ci.useEffect((()=>{if(t){const e=setTimeout((()=>{l(!0),document.cookie="connect.sid=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",window.location.reload()}),3e3);return()=>clearTimeout(e)}}),[t]);const c=rIe({resolver:DIe(XRe),defaultValues:{username:"",password:""}});return rIe({resolver:DIe(eze),defaultValues:{username:"",password:"",confirmPassword:"",fullName:"",email:""}}),t?vi.jsx("div",{className:"min-h-screen flex items-center justify-center",children:vi.jsx(uw,{className:"h-8 w-8 animate-spin text-primary"})}):e?vi.jsx(jx,{to:"/"}):vi.jsxs("div",{className:"min-h-screen flex flex-col lg:flex-row relative overflow-hidden animate-gradient-x bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500",children:[vi.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden z-0",children:[vi.jsx("div",{className:"absolute top-10 left-10 w-40 h-40 sm:w-56 sm:h-56 md:w-72 md:h-72 bg-white/10 rounded-full filter blur-3xl"}),vi.jsx("div",{className:"absolute bottom-10 right-10 w-40 h-40 sm:w-56 sm:h-56 md:w-72 md:h-72 bg-white/10 rounded-full filter blur-3xl"}),vi.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-60 h-60 sm:w-80 sm:h-80 md:w-96 md:h-96 bg-white/5 rounded-full filter blur-3xl"})]}),vi.jsx("div",{className:"w-full lg:w-1/2 bg-white/95 backdrop-filter backdrop-blur-sm flex items-center justify-center p-4 sm:p-6 relative z-10 shadow-2xl order-2 lg:order-1 min-h-screen lg:min-h-0",children:vi.jsxs("div",{className:"w-full max-w-md",children:[vi.jsxs("div",{className:"mb-6 sm:mb-8 text-center",children:[vi.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-2",children:r("auth.welcome_title","Welcome to PowerChat")}),vi.jsx("p",{className:"text-gray-500 text-sm sm:text-base",children:r("auth.welcome_subtitle","Multi-channel team inbox and AI chatbot platform")})]}),vi.jsx(lMe,{value:i,onValueChange:s,className:"w-full",children:vi.jsx(uMe,{value:"login",children:vi.jsxs(qS,{className:"border-0 shadow-md",children:[vi.jsxs(QS,{className:"pb-4 sm:pb-6",children:[vi.jsx(ZS,{className:"text-xl sm:text-2xl",children:r("auth.login_title","Login to your account")}),vi.jsx(JS,{className:"text-sm sm:text-base",children:r("auth.login_description","Enter your username or email and password to access your account")})]}),vi.jsx(KS,{className:"px-4 sm:px-6",children:vi.jsx(iIe,{...c,children:vi.jsxs("form",{onSubmit:c.handleSubmit((e=>{n.mutate(e)})),className:"space-y-3 sm:space-y-4",children:[vi.jsx(oIe,{control:c.control,name:"username",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:r("auth.username_or_email","Username or Email")}),vi.jsx(fIe,{children:vi.jsx(fB,{placeholder:r("auth.username_or_email_placeholder","Enter your username or email"),...e})}),vi.jsx(pIe,{})]})}),vi.jsx(oIe,{control:c.control,name:"password",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:r("auth.password","Password")}),vi.jsx(fIe,{children:vi.jsx(fB,{type:"password",placeholder:r("auth.password_placeholder","Your password"),...e})}),vi.jsx(pIe,{})]})}),vi.jsx(tk,{type:"submit",className:"w-full py-2 sm:py-3 mt-2 btn-brand-primary",variant:"brand",disabled:n.isPending,children:n.isPending?vi.jsxs(vi.Fragment,{children:[vi.jsx(uw,{className:"mr-2 h-4 w-4 animate-spin"}),vi.jsx("span",{className:"text-sm sm:text-base",children:r("auth.logging_in","Logging in...")})]}):vi.jsx("span",{className:"text-sm sm:text-base",children:r("auth.login","Login")})})]})})}),vi.jsx(XS,{className:"flex flex-col items-center px-4 pt-2 pb-4 sm:pb-6 space-y-2",children:vi.jsx("div",{className:"flex flex-col items-center text-xs text-muted-foreground space-y-1",children:vi.jsx("a",{href:"/register",className:"hover:underline",children:r("auth.register_company","Register a new company")})})})]})})})]})}),vi.jsx("div",{className:"hidden lg:block lg:w-1/2 bg-black/20 backdrop-blur-sm p-8 lg:flex flex-col justify-center items-center text-white relative z-10 order-1 lg:order-2 lg:min-h-full",children:vi.jsxs("div",{className:"max-w-md px-4",children:[vi.jsx("h2",{className:"text-xl sm:text-2xl mb-2 sm:mb-4",children:r("auth.hero_title","Unify Your Customer Communications")}),vi.jsx("p",{className:"text-base sm:text-xl mb-4 sm:mb-6",children:r("auth.hero_subtitle","The all-in-one platform for managing customer conversations across WhatsApp, Facebook, Instagram, and more.")}),vi.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[vi.jsxs("div",{className:"flex items-start",children:[vi.jsx("div",{className:"bg-white/10 p-2 rounded-full mr-3 sm:mr-4 shrink-0",children:vi.jsx("i",{className:"ri-message-3-line text-lg sm:text-xl"})}),vi.jsxs("div",{children:[vi.jsx("h3",{className:"font-medium text-base sm:text-lg",children:r("auth.feature_inbox_title","Multi-channel inbox")}),vi.jsx("p",{className:"text-white/80 text-sm sm:text-base",children:r("auth.feature_inbox_desc","Manage all customer conversations in one unified inbox")})]})]}),vi.jsxs("div",{className:"flex items-start",children:[vi.jsx("div",{className:"bg-white/10 p-2 rounded-full mr-3 sm:mr-4 shrink-0",children:vi.jsx("i",{className:"ri-robot-line text-lg sm:text-xl"})}),vi.jsxs("div",{children:[vi.jsx("h3",{className:"font-medium text-base sm:text-lg",children:r("auth.feature_ai_title","AI-powered chatbots")}),vi.jsx("p",{className:"text-white/80 text-sm sm:text-base",children:r("auth.feature_ai_desc","Automate responses with customizable AI chatbots")})]})]}),vi.jsxs("div",{className:"flex items-start",children:[vi.jsx("div",{className:"bg-white/10 p-2 rounded-full mr-3 sm:mr-4 shrink-0",children:vi.jsx("i",{className:"ri-team-line text-lg sm:text-xl"})}),vi.jsxs("div",{children:[vi.jsx("h3",{className:"font-medium text-base sm:text-lg",children:r("auth.feature_team_title","Team collaboration")}),vi.jsx("p",{className:"text-white/80 text-sm sm:text-base",children:r("auth.feature_team_desc","Assign conversations, leave notes, and collaborate effectively")})]})]})]})]})})]})}function nze(){const[e,t]=mx(),{toast:n}=By(),{t:a}=sk(),[r,i]=ci.useState(!1),[s,o]=ci.useState(null),l=ci.useRef(""),c=(d=a,CL({companyName:dL().min(2,d("registration.validation.company_name_min","Company name must be at least 2 characters")).max(100),companySlug:dL().min(3,d("registration.validation.company_slug_min","Company slug must be at least 3 characters")).max(50).regex(/^[a-z0-9-]+$/,d("registration.validation.company_slug_format","Slug can only contain lowercase letters, numbers, and hyphens")),companyEmail:dL().email(d("registration.validation.company_email_invalid","Please enter a valid company email address")),companyPhone:dL().optional(),companyWebsite:dL().url(d("registration.validation.company_website_invalid","Please enter a valid website URL")).optional().or(PL("")),adminFullName:dL().min(2,d("registration.validation.admin_name_min","Full name must be at least 2 characters")).max(100),adminEmail:dL().email(d("registration.validation.admin_email_invalid","Please enter a valid email address")),adminUsername:dL().min(3,d("registration.validation.admin_username_min","Username must be at least 3 characters")).max(50),adminPassword:dL().min(6,d("registration.validation.admin_password_min","Password must be at least 6 characters")),confirmPassword:dL().min(1,d("registration.validation.confirm_password_required","Please confirm your password")),planId:uL().int().min(1,d("registration.validation.plan_required","Please select a plan"))}).refine((e=>e.adminPassword===e.confirmPassword),{message:d("registration.validation.passwords_no_match","Passwords don't match"),path:["confirmPassword"]}));var d;const{data:u,isLoading:f}=ky({queryKey:["/api/registration/status"],queryFn:async()=>{const e=await Ey("GET","/api/registration/status");if(!e.ok)throw new Error(a("registration.error.status_check_failed","Failed to check registration status"));return e.json()}}),{data:m,isLoading:p}=ky({queryKey:["/api/plans/registration"],queryFn:async()=>{const e=await Ey("GET","/api/plans/registration");if(!e.ok)throw new Error(a("registration.error.plans_fetch_failed","Failed to fetch plans"));return e.json()}}),h=rIe({resolver:DIe(c),defaultValues:{companyName:"",companySlug:"",companyEmail:"",companyPhone:"",companyWebsite:"",adminFullName:"",adminEmail:"",adminUsername:"",adminPassword:"",confirmPassword:"",planId:1}}),g=h.watch("companyName");ci.useEffect((()=>{if(g){const e=g.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();h.setValue("companySlug",e)}}),[g,h]);const x=My({mutationFn:async e=>{l.current=e;const t=await Ey("POST","/api/company/check-slug",{slug:e});if(!t.ok){const e=await t.json();throw new Error(e.message||a("registration.error.slug_check_failed","Failed to check slug availability"))}return t.json()},onSuccess:(e,t)=>{l.current===t&&(o(e.available),e.available?h.clearErrors("companySlug"):h.setError("companySlug",{message:a("registration.validation.slug_taken","This slug is already taken")}))},onError:(e,t)=>{l.current===t&&(o(!1),h.setError("companySlug",{message:e.message}))},onSettled:(e,t,n)=>{l.current===n&&i(!1)}}),y=h.watch("companySlug");ci.useEffect((()=>{if(h.clearErrors("companySlug"),i(!1),o(null),y&&y.length>=3&&""!==y.trim()){i(!0);const e=setTimeout((()=>{x.mutate(y.trim())}),500);return()=>{clearTimeout(e),i(!1)}}}),[y]);const v=My({mutationFn:async e=>{const t=await Ey("POST","/api/company/register",e);if(!t.ok){const e=await t.json();throw new Error(e.message||a("registration.error.register_failed","Failed to register company"))}return t.json()},onSuccess:e=>{n({title:a("registration.success_title","Registration successful!"),description:e.requiresApproval?a("registration.approval_required","Your company registration has been submitted for approval. You will receive an email once approved."):a("registration.success_desc","Your company has been registered successfully. You can now log in.")}),setTimeout((()=>{t("/auth")}),2e3)},onError:e=>{n({title:a("registration.failed_title","Registration failed"),description:e.message,variant:"destructive"})}});return f||p?vi.jsx("div",{className:"min-h-screen flex items-center justify-center",children:vi.jsx(uw,{className:"h-8 w-8 animate-spin text-primary"})}):(null==u?void 0:u.enabled)?vi.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 py-8",children:vi.jsx("div",{className:"container mx-auto px-4",children:vi.jsxs("div",{className:"max-w-2xl mx-auto",children:[vi.jsxs("div",{className:"text-center mb-8",children:[vi.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:a("registration.page_title","Register Your Company")}),vi.jsx("p",{className:"text-white/80",children:a("registration.page_subtitle","Create your company account and start managing conversations")})]}),vi.jsxs(qS,{className:"shadow-2xl",children:[vi.jsxs(QS,{children:[vi.jsxs(ZS,{className:"flex items-center gap-2",children:[vi.jsx(Cb,{className:"h-5 w-5"}),a("registration.title","Company Registration")]}),vi.jsx(JS,{children:a("registration.description","Fill in the details below to register your company and create an admin account")})]}),vi.jsxs(KS,{children:[(null==u?void 0:u.requireApproval)&&vi.jsxs(QO,{className:"mb-6",children:[vi.jsx(Tb,{className:"h-4 w-4"}),vi.jsx(JO,{children:a("registration.approval_notice","New registrations require admin approval. You will receive an email once your registration is approved.")})]}),vi.jsx(iIe,{...h,children:vi.jsxs("form",{onSubmit:h.handleSubmit((e=>{v.mutate(e)})),className:"space-y-6",children:[vi.jsxs("div",{className:"space-y-4",children:[vi.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 border-b pb-2",children:[vi.jsx(Cb,{className:"h-4 w-4"}),a("registration.company_info","Company Information")]}),vi.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[vi.jsx(oIe,{control:h.control,name:"companyName",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsxs(uIe,{children:[a("registration.company_name","Company Name")," *"]}),vi.jsx(fIe,{children:vi.jsx(fB,{placeholder:a("registration.company_name_placeholder","Your Company Name"),...e})}),vi.jsx(pIe,{})]})}),vi.jsx(oIe,{control:h.control,name:"companySlug",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsxs(uIe,{children:[a("registration.company_slug","Company Slug")," *"]}),vi.jsx(fIe,{children:vi.jsxs("div",{className:"relative",children:[vi.jsx(fB,{placeholder:a("registration.company_slug_placeholder","your-company"),...e}),r&&vi.jsx(uw,{className:"absolute right-3 top-3 h-4 w-4 animate-spin text-gray-400"}),!r&&!0===s&&e.value&&e.value.length>=3&&vi.jsx(Mb,{className:"absolute right-3 top-3 h-4 w-4 text-green-500"}),!r&&!1===s&&e.value&&e.value.length>=3&&vi.jsx(Tb,{className:"absolute right-3 top-3 h-4 w-4 text-red-500"})]})}),vi.jsx(mIe,{children:a("registration.company_slug_description","This will be your unique identifier (e.g., your-company.app.com)")}),vi.jsx(pIe,{})]})})]}),vi.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[vi.jsx(oIe,{control:h.control,name:"companyEmail",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsxs(uIe,{children:[a("registration.company_email","Company Email")," *"]}),vi.jsx(fIe,{children:vi.jsx(fB,{type:"email",placeholder:a("registration.company_email_placeholder","contact@yourcompany.com"),...e})}),vi.jsx(pIe,{})]})}),vi.jsx(oIe,{control:h.control,name:"companyPhone",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:a("registration.company_phone","Company Phone")}),vi.jsx(fIe,{children:vi.jsx(fB,{placeholder:a("registration.company_phone_placeholder","+1 (555) 123-4567"),...e})}),vi.jsx(pIe,{})]})})]}),vi.jsx(oIe,{control:h.control,name:"companyWebsite",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:a("registration.company_website","Company Website")}),vi.jsx(fIe,{children:vi.jsx(fB,{placeholder:a("registration.company_website_placeholder","https://yourcompany.com"),...e})}),vi.jsx(pIe,{})]})})]}),vi.jsxs("div",{className:"space-y-4",children:[vi.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 border-b pb-2",children:[vi.jsx(sj,{className:"h-4 w-4"}),a("registration.admin_details","Admin User Details")]}),vi.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[vi.jsx(oIe,{control:h.control,name:"adminFullName",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsxs(uIe,{children:[a("registration.admin_full_name","Full Name")," *"]}),vi.jsx(fIe,{children:vi.jsx(fB,{placeholder:a("registration.admin_full_name_placeholder","John Doe"),...e})}),vi.jsx(pIe,{})]})}),vi.jsx(oIe,{control:h.control,name:"adminEmail",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsxs(uIe,{children:[a("registration.admin_email","Email Address")," *"]}),vi.jsx(fIe,{children:vi.jsx(fB,{type:"email",placeholder:a("registration.admin_email_placeholder","john@yourcompany.com"),...e})}),vi.jsx(pIe,{})]})})]}),vi.jsx(oIe,{control:h.control,name:"adminUsername",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsxs(uIe,{children:[a("registration.admin_username","Username")," *"]}),vi.jsx(fIe,{children:vi.jsx(fB,{placeholder:a("registration.admin_username_placeholder","johndoe"),...e})}),vi.jsx(mIe,{children:a("registration.admin_username_description","This will be used to log in to your account")}),vi.jsx(pIe,{})]})}),vi.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[vi.jsx(oIe,{control:h.control,name:"adminPassword",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsxs(uIe,{children:[a("registration.admin_password","Password")," *"]}),vi.jsx(fIe,{children:vi.jsx(fB,{type:"password",placeholder:a("registration.admin_password_placeholder","Create a strong password"),...e})}),vi.jsx(pIe,{})]})}),vi.jsx(oIe,{control:h.control,name:"confirmPassword",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsxs(uIe,{children:[a("registration.admin_confirm_password","Confirm Password")," *"]}),vi.jsx(fIe,{children:vi.jsx(fB,{type:"password",placeholder:a("registration.admin_confirm_password_placeholder","Confirm your password"),...e})}),vi.jsx(pIe,{})]})})]})]}),m&&m.length>0&&vi.jsxs("div",{className:"space-y-4",children:[vi.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 border-b pb-2",children:[vi.jsx(Gb,{className:"h-4 w-4"}),a("registration.plan_selection","Plan Selection")]}),vi.jsx(oIe,{control:h.control,name:"planId",render:({field:e})=>{var t;return vi.jsxs(dIe,{children:[vi.jsxs(uIe,{children:[a("registration.select_plan","Select Plan")," *"]}),vi.jsxs(AU,{onValueChange:t=>e.onChange(parseInt(t)),defaultValue:null==(t=e.value)?void 0:t.toString(),children:[vi.jsx(fIe,{children:vi.jsx(PU,{children:vi.jsx(DU,{placeholder:a("registration.select_plan_placeholder","Choose a plan")})})}),vi.jsx(zU,{children:m.map((e=>vi.jsx(FU,{value:e.id.toString(),children:vi.jsxs("div",{className:"flex items-center justify-between w-full",children:[vi.jsxs("div",{className:"flex flex-col",children:[vi.jsx("span",{children:e.name}),e.hasTrialPeriod&&e.trialDays>0&&vi.jsxs("span",{className:"text-xs text-blue-600",children:[e.trialDays," day trial"]}),e.isFree&&vi.jsx("span",{className:"text-xs text-green-600",children:"Free plan"})]}),vi.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["$",e.price,"/month"]})]})},e.id)))})]}),vi.jsx(mIe,{children:a("registration.plan_change_note","You can change your plan later from the settings")}),vi.jsx(pIe,{})]})}})]}),vi.jsxs("div",{className:"flex gap-4",children:[vi.jsx(tk,{type:"button",variant:"outline",className:"flex-1",onClick:()=>t("/auth"),children:a("auth.back_to_login","Back to Login")}),vi.jsx(tk,{type:"submit",className:"flex-1 btn-brand-primary",disabled:v.isPending||r,children:v.isPending?vi.jsxs(vi.Fragment,{children:[vi.jsx(uw,{className:"mr-2 h-4 w-4 animate-spin"}),a("registration.registering","Registering...")]}):a("registration.register_button","Register Company")})]})]})})]})]})]})})}):vi.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500",children:vi.jsxs(qS,{className:"w-full max-w-md mx-4",children:[vi.jsxs(QS,{className:"text-center",children:[vi.jsx("div",{className:"mx-auto mb-4 w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:vi.jsx(Tb,{className:"h-6 w-6 text-red-600"})}),vi.jsx(ZS,{children:a("registration.unavailable_title","Registration Unavailable")}),vi.jsx(JS,{children:a("registration.unavailable_desc","Company registration is currently disabled. Please contact the administrator for more information.")})]}),vi.jsx(KS,{children:vi.jsx(tk,{variant:"outline",className:"w-full",onClick:()=>t("/auth"),children:a("auth.back_to_login","Back to Login")})})]})})}const aze=CL({username:dL().min(1,"Username is required"),password:dL().min(1,"Password is required")});function rze(){const{toast:e}=By(),{t:t}=sk();mx();const n=rIe({resolver:DIe(aze),defaultValues:{username:"",password:""}}),a=My({mutationFn:async e=>{const t=await Ey("POST","/api/admin/login",e);if(!t.ok){const e=await t.json().catch((()=>({})));throw new Error(e.message||"Invalid credentials")}return await t.json()},onSuccess:n=>{e({title:t("auth.login_success","Login successful"),description:t("auth.welcome_back","Welcome back, {{name}}!",{name:n.fullName})}),console.log("Login successful, redirecting to dashboard..."),setTimeout((()=>{window.location.href="/admin/dashboard"}),500)},onError:n=>{e({title:t("auth.login_failed","Login failed"),description:n.message||t("auth.invalid_credentials","Invalid username or password"),variant:"destructive"})}});return vi.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:vi.jsx("div",{className:"w-full max-w-md p-4",children:vi.jsxs(qS,{children:[vi.jsxs(QS,{className:"space-y-1 text-center",children:[vi.jsx("div",{className:"flex justify-center mb-4",children:vi.jsxs("svg",{viewBox:"0 0 24 24",width:60,height:60,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[vi.jsx("path",{d:"M8.18164 10.7027C8.18164 10.7027 8.18168 8.13513 8.18164 6.59459C8.1816 4.74571 9.70861 3 11.9998 3C14.291 3 15.8179 4.74571 15.8179 6.59459C15.8179 8.13513 15.8179 10.7027 15.8179 10.7027",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),vi.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.50005 11.3932C4.50001 13.1319 4.49995 16.764 4.50007 19.1988C4.5002 21.8911 8.66375 22.5 12.0001 22.5C15.3364 22.5 19.5 21.8911 19.5 19.1988L19.5 11.3932C19.5 10.8409 19.0523 10.3957 18.5 10.3957H5.50004C4.94777 10.3957 4.50006 10.8409 4.50005 11.3932ZM10.5 16.0028C10.5 16.4788 10.7069 16.9065 11.0357 17.2008V18.7529C11.0357 19.3051 11.4834 19.7529 12.0357 19.7529H12.1786C12.7309 19.7529 13.1786 19.3051 13.1786 18.7529V17.2008C13.5074 16.9065 13.7143 16.4788 13.7143 16.0028C13.7143 15.1152 12.9948 14.3957 12.1072 14.3957C11.2195 14.3957 10.5 15.1152 10.5 16.0028Z",fill:"#000000"})]})}),vi.jsx(ZS,{className:"text-2xl",children:t("admin.login_title","Admin Login")}),vi.jsx(JS,{children:t("admin.login_description","Enter your credentials to access the admin panel")})]}),vi.jsx(KS,{children:vi.jsx(iIe,{...n,children:vi.jsxs("form",{onSubmit:n.handleSubmit((e=>{a.mutate(e)})),className:"space-y-4",children:[vi.jsx(oIe,{control:n.control,name:"username",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:t("auth.email","Email")}),vi.jsx(fIe,{children:vi.jsx(fB,{placeholder:t("auth.email_placeholder","admin@example.com"),...e,autoComplete:"username",disabled:a.isPending})}),vi.jsx(pIe,{})]})}),vi.jsx(oIe,{control:n.control,name:"password",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:t("auth.password","Password")}),vi.jsx(fIe,{children:vi.jsx(fB,{type:"password",placeholder:t("auth.password_placeholder","••••••••"),...e,autoComplete:"current-password",disabled:a.isPending})}),vi.jsx(pIe,{})]})}),vi.jsx(tk,{type:"submit",className:"w-full btn-brand-primary",variant:"brand",disabled:a.isPending,children:a.isPending?vi.jsxs(vi.Fragment,{children:[vi.jsx(uw,{className:"mr-2 h-4 w-4 animate-spin"}),t("auth.logging_in","Logging in...")]}):t("auth.login","Login")})]})})}),vi.jsx(XS,{className:"flex justify-center",children:vi.jsx("p",{className:"text-sm text-gray-500",children:t("admin.restricted_area","This area is restricted to administrators only")})})]})})})}function ize({children:e}){var t;const[n,a]=mx(),{user:r}=nT(),{t:i}=sk(),{toast:s}=By(),{branding:o}=dk(),l=function(){const[e,t]=ci.useState(void 0);return ci.useEffect((()=>{const e=window.matchMedia("(max-width: 767px)"),n=()=>{t(window.innerWidth<768)};return e.addEventListener("change",n),t(window.innerWidth<768),()=>e.removeEventListener("change",n)}),[]),!!e}(),[c,d]=ci.useState(!1);ci.useEffect((()=>{l&&d(!1)}),[n,l]),ci.useEffect((()=>{d(!l)}),[l]);const u=My({mutationFn:async()=>{const e=await Ey("POST","/api/logout");if(!e.ok)throw new Error("Failed to logout");return e},onSuccess:()=>{Ly.setQueryData(["/api/user"],null),s({title:i("auth.logged_out","Logged out"),description:i("auth.logged_out_success","You have been successfully logged out")}),setTimeout((()=>{a("/admin")}),500)},onError:e=>{s({title:i("common.error","Error"),description:i("auth.logout_failed","Failed to logout: {{error}}",{error:e.message}),variant:"destructive"})}});return vi.jsxs("div",{className:"min-h-screen flex flex-col",children:[vi.jsxs("header",{className:"bg-primary text-white px-6 py-3 flex justify-between items-center relative z-50",style:{backgroundColor:o.primaryColor},children:[vi.jsxs("div",{className:"flex items-center",children:[vi.jsx(tk,{variant:"ghost",size:"icon",className:"md:hidden mr-2 text-white hover:bg-white/10",onClick:()=>d(!c),children:c?vi.jsx(fj,{className:"h-6 w-6"}):vi.jsx(gw,{className:"h-6 w-6"})}),o.logoUrl?vi.jsx("img",{src:o.logoUrl,alt:o.appName,className:"h-8 w-8 object-contain"}):vi.jsx("svg",{className:"h-8 w-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:vi.jsx("path",{d:"M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M12,20c-4.41,0-8-3.59-8-8s3.59-8,8-8s8,3.59,8,8\r\n              S16.41,20,12,20z M14.59,8.59L16,10l-6,6l-4-4l1.41-1.41L10,13.17L14.59,8.59z"})}),vi.jsxs("span",{className:"ml-2 text-xl font-bold",children:[o.appName," Admin"]})]}),vi.jsxs("div",{className:"flex items-center space-x-4",children:[vi.jsx(DO,{variant:"compact"}),vi.jsxs(_O,{children:[vi.jsxs(EO,{className:"flex items-center cursor-pointer hover:opacity-80",children:[vi.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-800 flex items-center justify-center text-white font-medium",children:(null==(t=null==r?void 0:r.fullName)?void 0:t.split(" ").map((e=>e[0])).join(""))||"SA"}),vi.jsx("span",{className:"ml-2 hidden md:block",children:(null==r?void 0:r.fullName)||"Super Admin"})]}),vi.jsxs(IO,{align:"end",className:"w-56",children:[vi.jsxs("div",{className:"px-2 py-1.5 text-sm font-medium",children:[vi.jsx("div",{children:(null==r?void 0:r.fullName)||"Super Admin"}),vi.jsx("div",{className:"text-xs text-muted-foreground",children:(null==r?void 0:r.email)||"admin@example.com"})]}),vi.jsx(TO,{}),vi.jsx(LO,{className:"p-0",children:vi.jsx(PO,{className:"w-full justify-start p-2"})}),vi.jsx(TO,{}),vi.jsxs(LO,{className:"cursor-pointer text-red-600 focus:text-red-600",onClick:()=>{u.mutate()},disabled:u.isPending,children:[vi.jsx(mw,{className:"mr-2 h-4 w-4"}),vi.jsx("span",{children:u.isPending?i("auth.logging_out","Logging out..."):i("auth.logout","Logout")})]})]})]})]})]}),vi.jsxs("div",{className:"flex flex-1 relative",children:[l&&c&&vi.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:()=>d(!1)}),vi.jsxs("aside",{className:`\n            ${l?"fixed":"relative"}\n            ${l&&!c?"-translate-x-full":"translate-x-0"}\n            w-64 text-white transition-transform duration-300 ease-in-out z-50\n            ${l?"h-full":"h-auto"}\n          `,style:{backgroundColor:o.primaryColor||"#1f2937"},children:[!1,vi.jsxs("nav",{className:"p-4 space-y-2",children:[vi.jsx(vx,{href:"/admin/dashboard",children:vi.jsxs(tk,{variant:"ghost",className:"w-full justify-start text-white transition-colors "+("/admin/dashboard"===n?"bg-white/20 text-white":"hover:bg-white/10 text-white/80 hover:text-white"),children:[vi.jsx(sw,{className:"mr-2 h-5 w-5"}),i("admin.nav.dashboard","Dashboard")]})}),vi.jsx(vx,{href:"/admin/companies",children:vi.jsxs(tk,{variant:"ghost",className:"w-full justify-start text-white transition-colors "+(n.startsWith("/admin/companies")?"bg-white/20 text-white":"hover:bg-white/10 text-white/80 hover:text-white"),children:[vi.jsx(Cb,{className:"mr-2 h-5 w-5"}),i("admin.nav.companies","Companies")]})}),vi.jsx(vx,{href:"/admin/users",children:vi.jsxs(tk,{variant:"ghost",className:"w-full justify-start text-white transition-colors "+(n.startsWith("/admin/users")?"bg-white/20 text-white":"hover:bg-white/10 text-white/80 hover:text-white"),children:[vi.jsx(oj,{className:"mr-2 h-5 w-5"}),i("admin.nav.users","Users")]})}),vi.jsx(vx,{href:"/admin/plans",children:vi.jsxs(tk,{variant:"ghost",className:"w-full justify-start text-white transition-colors "+(n.startsWith("/admin/plans")?"bg-white/20 text-white":"hover:bg-white/10 text-white/80 hover:text-white"),children:[vi.jsx(jw,{className:"mr-2 h-5 w-5"}),i("admin.nav.plans","Plans")]})}),vi.jsx(vx,{href:"/admin/payments",children:vi.jsxs(tk,{variant:"ghost",className:"w-full justify-start text-white transition-colors "+(n.startsWith("/admin/payments")?"bg-white/20 text-white":"hover:bg-white/10 text-white/80 hover:text-white"),children:[vi.jsx(Gb,{className:"mr-2 h-5 w-5"}),i("admin.payments.title","Payment Management")]})}),vi.jsx(vx,{href:"/admin/analytics",children:vi.jsxs(tk,{variant:"ghost",className:"w-full justify-start text-white transition-colors "+(n.startsWith("/admin/analytics")?"bg-white/20 text-white":"hover:bg-white/10 text-white/80 hover:text-white"),children:[vi.jsx(kb,{className:"mr-2 h-5 w-5"}),i("admin.nav.analytics","Analytics")]})}),vi.jsx(vx,{href:"/admin/translations",children:vi.jsxs(tk,{variant:"ghost",className:"w-full justify-start text-white transition-colors "+(n.startsWith("/admin/translations")?"bg-white/20 text-white":"hover:bg-white/10 text-white/80 hover:text-white"),children:[vi.jsx(aw,{className:"mr-2 h-5 w-5"}),i("admin.nav.translations","Translations")]})}),vi.jsx(vx,{href:"/admin/settings",children:vi.jsxs(tk,{variant:"ghost",className:"w-full justify-start text-white transition-colors "+(n.startsWith("/admin/settings")?"bg-white/20 text-white":"hover:bg-white/10 text-white/80 hover:text-white"),children:[vi.jsx(zw,{className:"mr-2 h-5 w-5"}),i("admin.nav.settings","Settings")]})})]}),vi.jsx("div",{className:"mt-auto p-4 border-t border-white/20",children:vi.jsx(YO,{className:"text-xs",variant:"outline"})})]}),vi.jsx("main",{className:"flex-1 bg-gray-50 overflow-auto transition-all duration-300 "+(l?"w-full":"ml-0"),children:e})]})]})}function sze(){const{user:e,isLoading:t}=nT(),{t:n}=sk(),[a,r]=mx();ci.useEffect((()=>{t||!e||e.isSuperAdmin||r("/")}),[e,t,r]);const{data:i,isLoading:s}=ky({queryKey:["/api/admin/companies"],queryFn:async()=>{const e=await Ey("GET","/api/admin/companies");if(!e.ok)throw new Error("Failed to fetch companies");return e.json()},enabled:!!(null==e?void 0:e.isSuperAdmin)}),o=(null==i?void 0:i.filter((e=>e.active)).length)||0,l=(null==i?void 0:i.filter((e=>!e.active)).length)||0;return t?vi.jsx("div",{className:"flex items-center justify-center min-h-screen",children:vi.jsx(uw,{className:"h-8 w-8 animate-spin text-primary"})}):(null==e?void 0:e.isSuperAdmin)?vi.jsx(ize,{children:vi.jsxs("div",{className:"p-6",children:[vi.jsxs("div",{className:"flex justify-between items-center mb-6",children:[vi.jsx("h1",{className:"text-2xl",children:n("admin.nav.dashboard","Admin Dashboard")}),vi.jsxs(tk,{onClick:()=>r("/admin/companies/new"),variant:"brand",children:[vi.jsx(_w,{className:"mr-2 h-4 w-4"}),n("admin.companies.new_company","New Company")]})]}),vi.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[vi.jsxs(qS,{children:[vi.jsx(QS,{className:"pb-2",children:vi.jsx(ZS,{className:"text-sm font-medium text-muted-foreground",children:n("admin.companies.total_companies","Total Companies")})}),vi.jsx(KS,{children:vi.jsxs("div",{className:"flex items-center",children:[vi.jsx(Cb,{className:"h-5 w-5 text-primary mr-2"}),vi.jsx("div",{className:"text-2xl",children:s?vi.jsx(uw,{className:"h-5 w-5 animate-spin"}):(null==i?void 0:i.length)||0})]})})]}),vi.jsxs(qS,{children:[vi.jsx(QS,{className:"pb-2",children:vi.jsx(ZS,{className:"text-sm font-medium text-muted-foreground",children:n("admin.companies.active_companies","Active Companies")})}),vi.jsx(KS,{children:vi.jsxs("div",{className:"flex items-center",children:[vi.jsx(Cb,{className:"h-5 w-5 text-green-500 mr-2"}),vi.jsx("div",{className:"text-2xl",children:s?vi.jsx(uw,{className:"h-5 w-5 animate-spin"}):o})]})})]}),vi.jsxs(qS,{children:[vi.jsx(QS,{className:"pb-2",children:vi.jsx(ZS,{className:"text-sm font-medium text-muted-foreground",children:n("admin.companies.inactive_companies","Inactive Companies")})}),vi.jsx(KS,{children:vi.jsxs("div",{className:"flex items-center",children:[vi.jsx(Cb,{className:"h-5 w-5 text-gray-400 mr-2"}),vi.jsx("div",{className:"text-2xl",children:s?vi.jsx(uw,{className:"h-5 w-5 animate-spin"}):l})]})})]})]}),vi.jsxs(qS,{children:[vi.jsxs(QS,{children:[vi.jsx(ZS,{children:n("admin.nav.companies","Companies")}),vi.jsx(JS,{children:n("admin.companies.manage_description","Manage all companies in the system")})]}),vi.jsx(KS,{children:s?vi.jsx("div",{className:"flex justify-center py-8",children:vi.jsx(uw,{className:"h-8 w-8 animate-spin text-primary"})}):0===(null==i?void 0:i.length)?vi.jsx("div",{className:"text-center py-8 text-muted-foreground",children:n("admin.companies.no_companies_found","No companies found. Create your first company to get started.")}):vi.jsxs("div",{className:"rounded-md border",children:[vi.jsxs("div",{className:"grid grid-cols-5 p-4 font-medium border-b",children:[vi.jsx("div",{children:n("admin.companies.table.name","Name")}),vi.jsx("div",{children:n("admin.companies.table.slug","Slug")}),vi.jsx("div",{children:n("admin.companies.table.plan","Plan")}),vi.jsx("div",{children:n("admin.companies.table.status","Status")}),vi.jsx("div",{children:n("admin.companies.table.actions","Actions")})]}),vi.jsx("div",{className:"divide-y",children:null==i?void 0:i.map((e=>vi.jsxs("div",{className:"grid grid-cols-5 p-4 items-center",children:[vi.jsx("div",{className:"font-medium",children:e.name}),vi.jsx("div",{className:"text-muted-foreground",children:e.slug}),vi.jsx("div",{children:vi.jsx("span",{className:"capitalize",children:e.plan})}),vi.jsx("div",{children:e.active?vi.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:n("common.active","Active")}):vi.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:n("common.inactive","Inactive")})}),vi.jsx("div",{children:vi.jsx(tk,{variant:"brand",size:"sm",onClick:()=>r(`/admin/companies/${e.id}`),children:n("common.manage","Manage")})})]},e.id)))})]})})]})]})}):null}function oze(){const{data:e,isLoading:t,error:n}=ky({queryKey:["/api/admin/plans"],queryFn:async()=>{const e=await Ey("GET","/api/admin/plans");if(!e.ok)throw new Error("Failed to fetch plans");return e.json()}});return{plans:e||[],isLoading:t,error:n}}const lze=CL({name:dL().min(1,"Company name is required"),slug:dL().min(1,"Slug is required").regex(/^[a-z0-9-]+$/,"Slug can only contain lowercase letters, numbers, and hyphens"),logo:dL().optional(),primaryColor:dL().regex(/^#[0-9A-Fa-f]{6}$/,"Must be a valid hex color"),active:pL(),planId:uL().int().min(1,"Plan is required"),maxUsers:uL().int().min(1,"Must have at least 1 user")});function cze(){const{user:e,isLoading:t,impersonateCompanyMutation:n}=nT(),{plans:a,isLoading:r}=oze(),[i,s]=mx(),[o,l]=hx("/admin/companies/:id"),{toast:c}=By(),[d,u]=ci.useState("details"),[f,m]=ci.useState(!1);ci.useEffect((()=>{t||!e||e.isSuperAdmin||s("/")}),[e,t,s]);const p=o?parseInt(l.id):null,{data:h,isLoading:g}=ky({queryKey:[`/api/admin/companies/${p}`],queryFn:async()=>{const e=await Ey("GET",`/api/admin/companies/${p}`);if(!e.ok)throw new Error("Failed to fetch company");return e.json()},enabled:!!p&&!!(null==e?void 0:e.isSuperAdmin)}),{data:x,isLoading:y}=ky({queryKey:[`/api/admin/companies/${p}/users`],queryFn:async()=>{const e=await Ey("GET",`/api/admin/companies/${p}/users`);if(!e.ok)throw new Error("Failed to fetch company users");return e.json()},enabled:!!p&&!!(null==e?void 0:e.isSuperAdmin)}),v=rIe({resolver:DIe(lze),defaultValues:{name:"",slug:"",logo:"",primaryColor:"#333235",active:!0,planId:0,maxUsers:5}});ci.useEffect((()=>{if(h&&a.length>0){const e=(e=>{const t=a.find((t=>t.name.toLowerCase()===e.toLowerCase()));return(null==t?void 0:t.id)||0})(h.plan);v.reset({name:h.name,slug:h.slug,logo:h.logo||"",primaryColor:h.primaryColor,active:h.active,planId:e,maxUsers:h.maxUsers})}}),[h,a,v]);const b=My({mutationFn:async e=>{const t=await Ey("PUT",`/api/admin/companies/${p}`,e);if(!t.ok){const e=await t.json().catch((()=>({})));throw new Error(e.message||"Failed to update company")}return t.json()},onSuccess:()=>{c({title:"Company updated",description:"The company has been updated successfully"}),Ly.invalidateQueries({queryKey:[`/api/admin/companies/${p}`]}),Ly.invalidateQueries({queryKey:["/api/admin/companies"]})},onError:e=>{c({title:"Update failed",description:e.message,variant:"destructive"})}}),w=My({mutationFn:async()=>{const e=await Ey("DELETE",`/api/admin/companies/${p}`);if(!e.ok){const t=await e.json().catch((()=>({})));throw new Error(t.message||"Failed to deactivate company")}return e.json()},onSuccess:()=>{c({title:"Company deactivated",description:"The company has been deactivated successfully"}),s("/admin/dashboard")},onError:e=>{c({title:"Deactivation failed",description:e.message,variant:"destructive"})}});return t?vi.jsx("div",{className:"flex items-center justify-center min-h-screen",children:vi.jsx(uw,{className:"h-8 w-8 animate-spin text-primary"})}):(null==e?void 0:e.isSuperAdmin)?vi.jsx(ize,{children:vi.jsxs("div",{className:"p-6",children:[vi.jsxs("div",{className:"flex items-center justify-between mb-6",children:[vi.jsxs("div",{className:"flex items-center",children:[vi.jsxs(tk,{variant:"ghost",onClick:()=>s("/admin/dashboard"),className:"mr-4",children:[vi.jsx(bb,{className:"h-4 w-4 mr-2"}),"Back"]}),vi.jsx("h1",{className:"text-2xl",children:g?"Loading...":`Company: ${null==h?void 0:h.name}`})]}),!g&&h&&vi.jsxs(_9,{open:f,onOpenChange:m,children:[vi.jsx(E9,{asChild:!0,children:vi.jsxs(tk,{className:"ml-auto btn-brand-primary",children:[vi.jsx(fw,{className:"h-4 w-4 mr-2"}),"Impersonate Company"]})}),vi.jsxs(A9,{className:"max-w-md max-h-[90vh]",children:[vi.jsxs(T9,{children:[vi.jsx(P9,{children:"Impersonate Company"}),vi.jsxs(O9,{children:["You are about to log in as an admin user for ",h.name,". This will allow you to access the company dashboard and perform actions as a company admin."]})]}),vi.jsxs(D9,{className:"mt-4",children:[vi.jsx(z9,{children:"Cancel"}),vi.jsx(R9,{className:"btn-brand-primary",onClick:()=>{p&&(n.mutate(p),m(!1))},children:n.isPending?vi.jsxs(vi.Fragment,{children:[vi.jsx(uw,{className:"h-4 w-4 mr-2 animate-spin"}),"Impersonating..."]}):vi.jsxs(vi.Fragment,{children:[vi.jsx(nj,{className:"h-4 w-4 mr-2"}),"Impersonate"]})})]})]})]})]}),vi.jsxs(lMe,{value:d,onValueChange:u,children:[vi.jsxs(cMe,{className:"mb-6",children:[vi.jsx(dMe,{value:"details",children:"Company Details"}),vi.jsx(dMe,{value:"users",children:"Users"}),vi.jsx(dMe,{value:"data",children:"Data & Usage"})]}),vi.jsx(uMe,{value:"details",children:vi.jsxs(qS,{children:[vi.jsxs(QS,{children:[vi.jsx(ZS,{children:"Company Information"}),vi.jsx(JS,{children:"Manage company details and settings"})]}),vi.jsx(KS,{children:g?vi.jsx("div",{className:"flex justify-center py-8",children:vi.jsx(uw,{className:"h-8 w-8 animate-spin text-primary"})}):vi.jsx(iIe,{...v,children:vi.jsxs("form",{onSubmit:v.handleSubmit((e=>{b.mutate(e)})),className:"space-y-6",children:[vi.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[vi.jsx(oIe,{control:v.control,name:"name",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:"Company Name"}),vi.jsx(fIe,{children:vi.jsx(fB,{...e})}),vi.jsx(pIe,{})]})}),vi.jsx(oIe,{control:v.control,name:"slug",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:"Slug"}),vi.jsx(fIe,{children:vi.jsx(fB,{...e})}),vi.jsx(mIe,{children:"Used for URL and identification"}),vi.jsx(pIe,{})]})}),vi.jsx(oIe,{control:v.control,name:"logo",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:"Logo URL"}),vi.jsx(fIe,{children:vi.jsx(fB,{...e})}),vi.jsx(pIe,{})]})}),vi.jsx(oIe,{control:v.control,name:"primaryColor",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:"Primary Color"}),vi.jsxs("div",{className:"flex items-center space-x-2",children:[vi.jsx("div",{className:"w-6 h-6 rounded-full border cursor-pointer",style:{backgroundColor:e.value},onClick:()=>{const e=document.getElementById("primaryColorPicker");e&&e.click()}}),vi.jsx(fIe,{children:vi.jsx(fB,{id:"primaryColorPicker",type:"color",...e,className:"w-16 h-10 p-1 border rounded cursor-pointer"})}),vi.jsx(fIe,{children:vi.jsx(fB,{...e,placeholder:"#333235",className:"flex-1"})})]}),vi.jsx(pIe,{})]})}),vi.jsx(oIe,{control:v.control,name:"planId",render:({field:e})=>{var t,n;return vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:"Plan"}),vi.jsxs(AU,{onValueChange:t=>{e.onChange(parseInt(t));const n=a.find((e=>e.id===parseInt(t)));n&&v.setValue("maxUsers",n.maxUsers)},value:(null==(t=e.value)?void 0:t.toString())||"",disabled:r||0===a.length,children:[vi.jsx(fIe,{children:vi.jsx(PU,{children:vi.jsx(DU,{placeholder:"Select a plan"})})}),vi.jsx(zU,{children:r?vi.jsx(FU,{value:"loading",disabled:!0,children:vi.jsxs("div",{className:"flex items-center",children:[vi.jsx(uw,{className:"h-4 w-4 animate-spin mr-2"}),"Loading plans..."]})}):0===a.length?vi.jsx(FU,{value:"none",disabled:!0,children:"No plans available"}):a.map((e=>vi.jsxs(FU,{value:e.id.toString(),children:[e.name," ($",e.price,"/month)"]},e.id)))})]}),vi.jsx(mIe,{children:e.value?vi.jsx(vi.Fragment,{children:(null==(n=a.find((t=>t.id===e.value)))?void 0:n.description)||""}):"Select a subscription plan for this company"}),vi.jsx(pIe,{})]})}}),vi.jsx(oIe,{control:v.control,name:"maxUsers",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:"Max Users"}),vi.jsx(fIe,{children:vi.jsx(fB,{type:"number",...e,onChange:t=>e.onChange(parseInt(t.target.value))})}),vi.jsx(pIe,{})]})})]}),vi.jsx(oIe,{control:v.control,name:"active",render:({field:e})=>vi.jsxs(dIe,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[vi.jsxs("div",{className:"space-y-0.5",children:[vi.jsx(uIe,{className:"text-base",children:"Active Status"}),vi.jsx(mIe,{children:"When inactive, users cannot access the platform"})]}),vi.jsx(fIe,{children:vi.jsx(f4,{checked:e.value,onCheckedChange:e.onChange})})]})}),vi.jsxs("div",{className:"flex justify-between",children:[vi.jsx(tk,{type:"button",variant:"destructive",onClick:()=>{confirm("Are you sure you want to deactivate this company? This will prevent all users from accessing the platform.")&&w.mutate()},disabled:w.isPending,children:w.isPending?vi.jsxs(vi.Fragment,{children:[vi.jsx(uw,{className:"mr-2 h-4 w-4 animate-spin"}),"Deactivating..."]}):vi.jsxs(vi.Fragment,{children:[vi.jsx(qw,{className:"mr-2 h-4 w-4"}),"Deactivate Company"]})}),vi.jsx(tk,{type:"submit",disabled:b.isPending,variant:"brand",className:"btn-brand-primary",children:b.isPending?vi.jsxs(vi.Fragment,{children:[vi.jsx(uw,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):vi.jsxs(vi.Fragment,{children:[vi.jsx(Dw,{className:"mr-2 h-4 w-4"}),"Save Changes"]})})]})]})})})]})}),vi.jsx(uMe,{value:"users",children:vi.jsxs(qS,{children:[vi.jsxs(QS,{children:[vi.jsx(ZS,{children:"Company Users"}),vi.jsx(JS,{children:"Manage users for this company"})]}),vi.jsx(KS,{children:y?vi.jsx("div",{className:"flex justify-center py-8",children:vi.jsx(uw,{className:"h-8 w-8 animate-spin text-primary"})}):x&&0!==x.length?vi.jsxs("div",{className:"rounded-md border",children:[vi.jsxs("div",{className:"grid grid-cols-4 p-4 font-medium border-b",children:[vi.jsx("div",{children:"Name"}),vi.jsx("div",{children:"Email"}),vi.jsx("div",{children:"Role"}),vi.jsx("div",{children:"Actions"})]}),vi.jsx("div",{className:"divide-y",children:x.map((e=>vi.jsxs("div",{className:"grid grid-cols-4 p-4 items-center",children:[vi.jsx("div",{className:"font-medium",children:e.fullName}),vi.jsx("div",{className:"text-muted-foreground",children:e.email}),vi.jsx("div",{className:"capitalize",children:e.role}),vi.jsx("div",{children:vi.jsx(tk,{variant:"brand",size:"sm",children:"Edit"})})]},e.id)))})]}):vi.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No users found for this company."})})]})}),vi.jsx(uMe,{value:"data",children:vi.jsxs(qS,{children:[vi.jsxs(QS,{children:[vi.jsx(ZS,{children:"Data & Usage"}),vi.jsx(JS,{children:"View company data usage and statistics"})]}),vi.jsx(KS,{children:vi.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Data usage statistics will be available soon."})})]})})]})]})}):null}const dze=CL({name:dL().min(1,"Company name is required"),slug:dL().min(1,"Slug is required").regex(/^[a-z0-9-]+$/,"Slug can only contain lowercase letters, numbers, and hyphens"),logo:dL().optional(),primaryColor:dL().regex(/^#[0-9A-Fa-f]{6}$/,"Must be a valid hex color"),planId:uL().int().min(1,"Plan is required"),maxUsers:uL().int().min(1,"Must have at least 1 user")});function uze(){const{user:e,isLoading:t}=nT(),{plans:n,isLoading:a}=oze(),[r,i]=mx(),{toast:s}=By();ci.useEffect((()=>{t||!e||e.isSuperAdmin||i("/")}),[e,t,i]);const o=n.find((e=>"free"===e.name.toLowerCase()))||n[0],l=rIe({resolver:DIe(dze),defaultValues:{name:"",slug:"",logo:"",primaryColor:"#333235",planId:(null==o?void 0:o.id)||0,maxUsers:(null==o?void 0:o.maxUsers)||5}});ci.useEffect((()=>{if(n.length>0&&!l.getValues().planId){const e=n.find((e=>"free"===e.name.toLowerCase()))||n[0];l.setValue("planId",e.id),l.setValue("maxUsers",e.maxUsers)}}),[n,l]);const c=My({mutationFn:async e=>{const t=await Ey("POST","/api/admin/companies",e);if(!t.ok){const e=await t.json().catch((()=>({})));throw new Error(e.message||"Failed to create company")}return t.json()},onSuccess:e=>{s({title:"Company created",description:"The company has been created successfully"}),Ly.invalidateQueries({queryKey:["/api/admin/companies"]}),i(`/admin/companies/${e.id}`)},onError:e=>{s({title:"Creation failed",description:e.message,variant:"destructive"})}});return t?vi.jsx("div",{className:"flex items-center justify-center min-h-screen",children:vi.jsx(uw,{className:"h-8 w-8 animate-spin text-primary"})}):(null==e?void 0:e.isSuperAdmin)?vi.jsx(ize,{children:vi.jsxs("div",{className:"p-6",children:[vi.jsxs("div",{className:"flex items-center mb-6",children:[vi.jsxs(tk,{variant:"ghost",onClick:()=>i("/admin/dashboard"),className:"mr-4",children:[vi.jsx(bb,{className:"h-4 w-4 mr-2"}),"Back"]}),vi.jsx("h1",{className:"text-2xl",children:"Create New Company"})]}),vi.jsxs(qS,{children:[vi.jsxs(QS,{children:[vi.jsx(ZS,{children:"Company Information"}),vi.jsx(JS,{children:"Enter the details for the new company"})]}),vi.jsx(KS,{children:vi.jsx(iIe,{...l,children:vi.jsxs("form",{onSubmit:l.handleSubmit((e=>{c.mutate(e)})),className:"space-y-6",children:[vi.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[vi.jsx(oIe,{control:l.control,name:"name",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:"Company Name"}),vi.jsx(fIe,{children:vi.jsx(fB,{...e})}),vi.jsx(pIe,{})]})}),vi.jsx(oIe,{control:l.control,name:"slug",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:"Slug"}),vi.jsx(fIe,{children:vi.jsx(fB,{...e})}),vi.jsx(mIe,{children:"Used for URL and identification"}),vi.jsx(pIe,{})]})}),vi.jsx(oIe,{control:l.control,name:"logo",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:"Logo URL"}),vi.jsx(fIe,{children:vi.jsx(fB,{...e})}),vi.jsx(pIe,{})]})}),vi.jsx(oIe,{control:l.control,name:"primaryColor",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:"Primary Color"}),vi.jsxs("div",{className:"flex items-center space-x-2",children:[vi.jsx("div",{className:"w-8 h-8 rounded-full border cursor-pointer",style:{backgroundColor:e.value},onClick:()=>{const e=document.getElementById("primaryColorPicker");e&&e.click()},title:"Pick a color"}),vi.jsx(fIe,{children:vi.jsx(fB,{id:"primaryColorPicker",type:"color",value:e.value,onChange:e.onChange,className:"w-12 h-10 p-1 border rounded cursor-pointer",style:{minWidth:0,padding:0},tabIndex:-1})}),vi.jsx(fIe,{children:vi.jsx(fB,{...e,type:"text",placeholder:"#333235",className:"w-28"})})]}),vi.jsx(pIe,{})]})}),vi.jsx(oIe,{control:l.control,name:"planId",render:({field:e})=>{var t,r;return vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:"Plan"}),vi.jsxs(AU,{onValueChange:t=>{e.onChange(parseInt(t));const a=n.find((e=>e.id===parseInt(t)));a&&l.setValue("maxUsers",a.maxUsers)},value:(null==(t=e.value)?void 0:t.toString())||"",disabled:a||0===n.length,children:[vi.jsx(fIe,{children:vi.jsx(PU,{children:vi.jsx(DU,{placeholder:"Select a plan"})})}),vi.jsx(zU,{children:a?vi.jsx(FU,{value:"loading",disabled:!0,children:vi.jsxs("div",{className:"flex items-center",children:[vi.jsx(uw,{className:"h-4 w-4 animate-spin mr-2"}),"Loading plans..."]})}):0===n.length?vi.jsx(FU,{value:"none",disabled:!0,children:"No plans available"}):n.filter((e=>e.isActive)).map((e=>vi.jsxs(FU,{value:e.id.toString(),children:[e.name," ($",e.price,"/month)"]},e.id)))})]}),vi.jsx(mIe,{children:e.value?vi.jsx(vi.Fragment,{children:(null==(r=n.find((t=>t.id===e.value)))?void 0:r.description)||""}):"Select a subscription plan for this company"}),vi.jsx(pIe,{})]})}}),vi.jsx(oIe,{control:l.control,name:"maxUsers",render:({field:e})=>vi.jsxs(dIe,{children:[vi.jsx(uIe,{children:"Max Users"}),vi.jsx(fIe,{children:vi.jsx(fB,{type:"number",...e,onChange:t=>e.onChange(parseInt(t.target.value))})}),vi.jsx(pIe,{})]})})]}),vi.jsx("div",{className:"flex justify-end",children:vi.jsx(tk,{type:"submit",disabled:c.isPending,children:c.isPending?vi.jsxs(vi.Fragment,{children:[vi.jsx(uw,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):vi.jsxs(vi.Fragment,{children:[vi.jsx(Dw,{className:"mr-2 h-4 w-4"}),"Create Company"]})})})]})})})]})]})}):null}function fze(){return ci.useEffect((()=>{if(!document.getElementById("facebook-jssdk")){window.fbAsyncInit=function(){window.FB.init({appId:hIe,autoLogAppEvents:!0,xfbml:!0,version:xIe})};const e=document.createElement("script");e.id="facebook-jssdk",e.src="https://connect.facebook.net/en_US/sdk.js",e.async=!0,e.defer=!0,e.crossOrigin="anonymous";const t=document.getElementsByTagName("script")[0];t&&t.parentNode?t.parentNode.insertBefore(e,t):document.head.appendChild(e)}}),[]),null}function mze({path:e,component:t}){const{user:n,company:a,isLoading:r,isMaintenanceMode:i,isLoadingMaintenance:s}=nT(),{toast:o}=By();return ci.useEffect((()=>{n&&n.isSuperAdmin&&"/admin/dashboard"!==e&&o({title:"Admin Access",description:"You are logged in as a super admin. Redirecting to admin dashboard."})}),[n,e,o]),vi.jsx(yx,{path:e,children:()=>r||s?vi.jsx("div",{className:"flex items-center justify-center min-h-screen",children:vi.jsx(uw,{className:"h-8 w-8 animate-spin text-primary"})}):!i||n&&n.isSuperAdmin?n?n.isSuperAdmin&&"/admin/dashboard"!==e?vi.jsx(jx,{to:"/admin/dashboard"}):n.isSuperAdmin||a?vi.jsx(t,{}):vi.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[vi.jsx("h1",{className:"text-2xl mb-2",children:"Company Not Found"}),vi.jsx("p",{className:"text-gray-600 mb-4 text-center",children:"Your account is not associated with an active company. Please contact your administrator."}),vi.jsx("button",{onClick:()=>{document.cookie="connect.sid=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",window.location.href="/auth"},className:"px-4 py-2 bg-primary text-white rounded hover:bg-primary/90",children:"Return to Login"})]}):vi.jsx(jx,{to:"/auth"}):vi.jsx(jx,{to:"/maintenance"})})}function pze({path:e,component:t}){const{user:n,isLoading:a,isMaintenanceMode:r,isLoadingMaintenance:i}=nT(),[s,o]=mx();return ci.useEffect((()=>{a||i||(n?n.isSuperAdmin||o("/"):o("/admin"))}),[n,a,i,o]),vi.jsx(yx,{path:e,children:()=>a||i?vi.jsx("div",{className:"flex items-center justify-center min-h-screen",children:vi.jsx(uw,{className:"h-8 w-8 animate-spin text-primary"})}):n&&n.isSuperAdmin?vi.jsx(t,{}):vi.jsx("div",{className:"flex items-center justify-center min-h-screen",children:vi.jsx(uw,{className:"h-8 w-8 animate-spin text-primary"})})})}const hze=({children:e,permission:t,permissions:n,requireAll:a=!1,fallbackPath:r="/access-denied"})=>{const{user:i,isLoading:s,isMaintenanceMode:o,isLoadingMaintenance:l}=nT(),{hasPermission:c,hasAnyPermission:d,hasAllPermissions:u,isLoading:f}=zO(),[,m]=mx();if(s||f||l)return vi.jsx("div",{className:"flex items-center justify-center min-h-screen",children:vi.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[vi.jsx(uw,{className:"h-8 w-8 animate-spin text-blue-600"}),vi.jsx("p",{className:"text-gray-600",children:"Checking permissions..."})]})});if(o&&(!i||!i.isSuperAdmin))return m("/maintenance"),null;if(!i)return m("/auth"),null;let p=!1;return p=t?c(t):!n||(a?u(n):d(n)),p?vi.jsx(vi.Fragment,{children:e}):(m(r),null)},gze=({children:e})=>vi.jsx(hze,{permissions:["view_settings","manage_settings"],requireAll:!1,children:e}),xze=({children:e})=>vi.jsx(hze,{permissions:["view_analytics","view_detailed_analytics"],requireAll:!1,children:e}),yze=({children:e})=>vi.jsx(hze,{permissions:["view_flows","manage_flows"],requireAll:!1,children:e}),vze=({children:e})=>vi.jsx(hze,{permissions:["view_contacts","manage_contacts"],requireAll:!1,children:e}),bze=({children:e})=>vi.jsx(hze,{permissions:["view_pipeline","manage_pipeline"],requireAll:!1,children:e}),wze=({children:e})=>vi.jsx(hze,{permissions:["view_calendar","manage_calendar"],requireAll:!1,children:e}),jze=({children:e})=>vi.jsx(hze,{permissions:["view_campaigns","create_campaigns","edit_campaigns","delete_campaigns","manage_templates","manage_segments","view_campaign_analytics","manage_whatsapp_accounts","configure_channels"],requireAll:!1,children:e});function Nze(){const{user:e}=nT();return vi.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:vi.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:vi.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:vi.jsxs("div",{className:"text-center",children:[vi.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 mb-6",children:vi.jsx(Fw,{className:"h-8 w-8 text-red-600"})}),vi.jsx("h1",{className:"text-2xl text-gray-900 mb-2",children:"Access Denied"}),vi.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to access this page. Please contact your administrator if you believe this is an error."}),e&&vi.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[vi.jsxs("p",{className:"text-sm text-gray-700",children:[vi.jsx("span",{className:"font-medium",children:"Logged in as:"})," ",e.fullName]}),vi.jsxs("p",{className:"text-sm text-gray-700",children:[vi.jsx("span",{className:"font-medium",children:"Role:"})," ",e.role]}),e.companyId&&vi.jsxs("p",{className:"text-sm text-gray-700",children:[vi.jsx("span",{className:"font-medium",children:"Company ID:"})," ",e.companyId]})]}),vi.jsxs("div",{className:"space-y-3",children:[vi.jsx(vx,{href:"/inbox",children:vi.jsxs(tk,{className:"w-full flex items-center justify-center space-x-2",children:[vi.jsx(sw,{className:"h-4 w-4"}),vi.jsx("span",{children:"Go to Inbox"})]})}),vi.jsxs(tk,{variant:"outline",className:"w-full flex items-center justify-center space-x-2",onClick:()=>window.history.back(),children:[vi.jsx(bb,{className:"h-4 w-4"}),vi.jsx("span",{children:"Go Back"})]})]}),vi.jsx("div",{className:"mt-6 text-center",children:vi.jsx("p",{className:"text-xs text-gray-500",children:"If you need access to this feature, please contact your system administrator."})})]})})})})}function Cze(){const{t:e}=sk(),[t,n]=ci.useState(null),[a,r]=ci.useState(""),[i,s]=ci.useState(!0),[o,l]=ci.useState(!1),[c,d]=ci.useState(""),[u,f]=ci.useState("");ci.useEffect((()=>{m();const e=setInterval(m,3e4);return()=>clearInterval(e)}),[]);const m=async()=>{try{const e=await fetch("/api/auto-update/maintenance");if(e.ok){const t=await e.json();if(n(t),!t.enabled)return void(window.location.href="/")}else if(404===e.status)return void(window.location.href="/")}catch(e){console.error("Failed to fetch maintenance info:",e),setTimeout((()=>{window.location.href="/"}),5e3)}finally{s(!1)}};return i?vi.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:vi.jsxs("div",{className:"flex items-center space-x-2",children:[vi.jsx(uw,{className:"h-6 w-6 animate-spin"}),vi.jsx("span",{children:e("maintenance.page.loading","Loading...")})]})}):vi.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:vi.jsxs("div",{className:"max-w-md w-full space-y-6",children:[vi.jsxs(qS,{className:"text-center",children:[vi.jsxs(QS,{children:[vi.jsx("div",{className:"mx-auto w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mb-4",children:vi.jsx(zw,{className:"h-8 w-8 text-orange-600"})}),vi.jsx(ZS,{className:"text-2xl font-bold text-gray-900",children:e("maintenance.page.title","System Maintenance")})]}),vi.jsxs(KS,{className:"space-y-4",children:[vi.jsx("p",{className:"text-gray-600",children:(null==t?void 0:t.message)||e("maintenance.page.default_message","The system is currently under maintenance. Please try again later.")}),(null==t?void 0:t.estimatedCompletion)&&vi.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-500",children:[vi.jsx(Ub,{className:"h-4 w-4"}),vi.jsx("span",{children:e("maintenance.page.estimated_completion","Estimated completion: {{time}}",{time:(t=>{if(!t)return null;try{const n=new Date(t),a=new Date,r=n.getTime()-a.getTime();if(r<=0)return e("maintenance.page.soon","Soon");const i=Math.ceil(r/36e5);if(i<24)return e("maintenance.page.hours_remaining","~{{hours}} hour{{plural}}",{hours:i,plural:1!==i?"s":""});const s=Math.ceil(i/24);return e("maintenance.page.days_remaining","~{{days}} day{{plural}}",{days:s,plural:1!==s?"s":""})}catch{return null}})(t.estimatedCompletion)})})]}),vi.jsx("div",{className:"pt-4",children:vi.jsx(tk,{onClick:m,variant:"outline",className:"w-full",children:e("maintenance.page.check_status","Check Status")})})]})]}),vi.jsxs(qS,{children:[vi.jsx(QS,{children:vi.jsxs(ZS,{className:"text-lg flex items-center space-x-2",children:[vi.jsx(Fw,{className:"h-5 w-5"}),vi.jsx("span",{children:e("maintenance.page.admin_access","Administrator Access")})]})}),vi.jsx(KS,{children:vi.jsxs("form",{onSubmit:async t=>{t.preventDefault(),l(!0),d(""),f("");try{const t=await fetch("/api/auto-update/maintenance/bypass",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bypassCode:a})}),n=await t.json();t.ok&&n.success?(f(e("maintenance.page.access_granted","Access granted! Redirecting...")),setTimeout((()=>{window.location.href="/"}),1500)):d(n.error||e("maintenance.page.invalid_bypass_code","Invalid bypass code"))}catch(n){d(e("maintenance.page.verify_failed","Failed to verify bypass code"))}finally{l(!1)}},className:"space-y-4",children:[vi.jsxs("div",{children:[vi.jsx(uB,{htmlFor:"bypassCode",children:e("maintenance.page.bypass_code_label","Bypass Code")}),vi.jsx(fB,{id:"bypassCode",type:"password",value:a,onChange:e=>r(e.target.value),placeholder:e("maintenance.page.bypass_code_placeholder","Enter bypass code"),disabled:o})]}),c&&vi.jsx(QO,{variant:"destructive",children:vi.jsx(JO,{children:c})}),u&&vi.jsx(QO,{className:"border-green-200 bg-green-50",children:vi.jsx(JO,{className:"text-green-800",children:u})}),vi.jsx(tk,{type:"submit",className:"w-full",disabled:o||!a.trim(),children:o?vi.jsxs(vi.Fragment,{children:[vi.jsx(uw,{className:"mr-2 h-4 w-4 animate-spin"}),e("maintenance.page.verifying","Verifying...")]}):e("maintenance.page.access_system","Access System")})]})})]}),vi.jsxs("div",{className:"text-center text-sm text-gray-500",children:[vi.jsx("p",{children:e("maintenance.page.app_name","PowerChat Plus")}),vi.jsx("p",{children:e("maintenance.page.support_message","If you need immediate assistance, please contact support.")})]})]})})}const Sze=()=>vi.jsx("div",{className:"flex items-center justify-center min-h-screen",children:vi.jsx(uw,{className:"h-8 w-8 animate-spin text-primary"})});function kze(){return vi.jsx(di.Suspense,{fallback:vi.jsx(Sze,{}),children:vi.jsxs(wx,{children:[vi.jsx(mze,{path:"/",component:eR}),vi.jsx(mze,{path:"/inbox",component:cq}),vi.jsx(yx,{path:"/flows",children:vi.jsx(yze,{children:vi.jsx(yq,{})})}),vi.jsx(yx,{path:"/flows/new",children:vi.jsx(yze,{children:vi.jsx(K5,{})})}),vi.jsx(yx,{path:"/flows/:id",children:vi.jsx(yze,{children:vi.jsx(K5,{})})}),vi.jsx(yx,{path:"/contacts",children:vi.jsx(vze,{children:vi.jsx(n8,{})})}),vi.jsx(yx,{path:"/pipeline",children:vi.jsx(bze,{children:vi.jsx(KRe,{})})}),vi.jsx(mze,{path:"/debug-pipeline",component:di.lazy((()=>Lg((()=>import("./debug-pipeline-CCTvgjKn.js")),[])))}),vi.jsx(yx,{path:"/calendar",children:vi.jsx(wze,{children:vi.jsx(s8,{})})}),vi.jsx(yx,{path:"/campaigns",children:vi.jsx(jze,{children:vi.jsx(BIe,{})})}),vi.jsx(yx,{path:"/campaigns/new",children:vi.jsx(jze,{children:vi.jsx(WLe,{})})}),vi.jsx(yx,{path:"/campaigns/:id/edit",children:vi.jsx(jze,{children:vi.jsx(WLe,{})})}),vi.jsx(yx,{path:"/campaigns/:id",children:vi.jsx(jze,{children:vi.jsx(BIe,{})})}),vi.jsx(yx,{path:"/analytics",children:vi.jsx(xze,{children:vi.jsx(Gke,{})})}),vi.jsx(yx,{path:"/settings",children:vi.jsx(gze,{children:vi.jsx(_Ie,{})})}),vi.jsx(mze,{path:"/profile",component:RIe}),vi.jsx(yx,{path:"/access-denied",component:Nze}),vi.jsx(yx,{path:"/maintenance",component:Cze}),vi.jsx(yx,{path:"/auth",component:tze}),vi.jsx(yx,{path:"/register",component:nze}),vi.jsx(yx,{path:"/accept-invitation",component:di.lazy((()=>Lg((()=>import("./AcceptInvitation-BNKDKbFB.js")),[])))}),vi.jsx(yx,{path:"/admin",component:di.lazy((()=>Lg((()=>import("./index-DZ_jdTWM.js")),[])))}),vi.jsx(yx,{path:"/admin/login",component:rze}),vi.jsx(pze,{path:"/admin/dashboard",component:sze}),vi.jsx(pze,{path:"/admin/companies",component:di.lazy((()=>Lg((()=>import("./index-Cq2e9koz.js")),__vite__mapDeps([0,1]))))}),vi.jsx(pze,{path:"/admin/companies/new",component:uze}),vi.jsx(pze,{path:"/admin/companies/:id",component:cze}),vi.jsx(pze,{path:"/admin/users",component:di.lazy((()=>Lg((()=>import("./index-CDdyOgcW.js")),[])))}),vi.jsx(pze,{path:"/admin/users/new",component:di.lazy((()=>Lg((()=>import("./new-BGlewqiB.js")),[])))}),vi.jsx(pze,{path:"/admin/users/:id",component:di.lazy((()=>Lg((()=>import("./_id_-gXaMGUAe.js")),[])))}),vi.jsx(pze,{path:"/admin/plans",component:di.lazy((()=>Lg((()=>import("./index-B4vFDSh3.js")),[])))}),vi.jsx(pze,{path:"/admin/payments",component:di.lazy((()=>Lg((()=>import("./index-Dxu77eo_.js")),[])))}),vi.jsx(pze,{path:"/admin/analytics",component:di.lazy((()=>Lg((()=>import("./index-CkVRhqVt.js")),[])))}),vi.jsx(pze,{path:"/admin/settings",component:di.lazy((()=>Lg((()=>import("./index-Dzas6EeV.js")),__vite__mapDeps([2,1]))))}),vi.jsx(pze,{path:"/admin/translations",component:di.lazy((()=>Lg((()=>import("./index-BBGa43bK.js")),[])))}),vi.jsx(yx,{path:"/payment/success",component:di.lazy((()=>Lg((()=>import("./success-BAPK4IvH.js")),[])))}),vi.jsx(yx,{path:"/payment/cancel",component:di.lazy((()=>Lg((()=>import("./cancel-CQDBigaQ.js")),[])))}),vi.jsx(yx,{path:"/payment/pending",component:di.lazy((()=>Lg((()=>import("./pending-DUK9pIj7.js")),[])))}),vi.jsx(yx,{component:aT})]})})}function Mze(){const[e,t]=ci.useState(!0);return ci.useEffect((()=>{setTimeout((()=>{t(!1)}),500)}),[]),e?vi.jsxs("div",{className:"h-screen w-full flex flex-col items-center justify-center font-poppins",children:[vi.jsx(uw,{className:"h-10 w-10 animate-spin text-primary mb-4"}),vi.jsx("p",{className:"text-gray-500",children:"Initializing PowerChat..."})]}):vi.jsx(wy,{client:Ly,children:vi.jsx(tT,{children:vi.jsx(ck,{children:vi.jsx(ik,{children:vi.jsx($O,{children:vi.jsx(VS,{children:vi.jsxs("div",{className:"font-poppins",children:[vi.jsx(hN,{}),vi.jsx(fze,{}),vi.jsx(kze,{})]})})})})})})})}var _ze=(e,t,n,a,r,i,s,o)=>{let l=document.documentElement,c=["light","dark"];function d(t){(Array.isArray(e)?e:[e]).forEach((e=>{let n="class"===e,a=n&&i?r.map((e=>i[e]||e)):r;n?(l.classList.remove(...a),l.classList.add(i&&i[t]?i[t]:t)):l.setAttribute(e,t)})),function(e){o&&c.includes(e)&&(l.style.colorScheme=e)}(t)}if(a)d(a);else try{let e=localStorage.getItem(t)||n;d(s&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e)}catch(u){}},Eze=["light","dark"],Ize="(prefers-color-scheme: dark)",Lze="undefined"==typeof window,Aze=ci.createContext(void 0),Tze=e=>ci.useContext(Aze)?ci.createElement(ci.Fragment,null,e.children):ci.createElement(Pze,{...e}),Dze=["light","dark"],Pze=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:a=!0,storageKey:r="theme",themes:i=Dze,defaultTheme:s=(n?"system":"light"),attribute:o="data-theme",value:l,children:c,nonce:d,scriptProps:u})=>{let[f,m]=ci.useState((()=>Rze(r,s))),[p,h]=ci.useState((()=>"system"===f?Fze():f)),g=l?Object.values(l):i,x=ci.useCallback((e=>{let r=e;if(!r)return;"system"===e&&n&&(r=Fze());let i=l?l[r]:r,c=t?zze(d):null,u=document.documentElement,f=e=>{"class"===e?(u.classList.remove(...g),i&&u.classList.add(i)):e.startsWith("data-")&&(i?u.setAttribute(e,i):u.removeAttribute(e))};if(Array.isArray(o)?o.forEach(f):f(o),a){let e=Eze.includes(s)?s:null,t=Eze.includes(r)?r:e;u.style.colorScheme=t}null==c||c()}),[d]),y=ci.useCallback((e=>{let t="function"==typeof e?e(f):e;m(t);try{localStorage.setItem(r,t)}catch(n){}}),[f]),v=ci.useCallback((t=>{let a=Fze(t);h(a),"system"===f&&n&&!e&&x("system")}),[f,e]);ci.useEffect((()=>{let e=window.matchMedia(Ize);return e.addListener(v),v(e),()=>e.removeListener(v)}),[v]),ci.useEffect((()=>{let e=e=>{e.key===r&&(e.newValue?m(e.newValue):y(s))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)}),[y]),ci.useEffect((()=>{x(null!=e?e:f)}),[e,f]);let b=ci.useMemo((()=>({theme:f,setTheme:y,forcedTheme:e,resolvedTheme:"system"===f?p:f,themes:n?[...i,"system"]:i,systemTheme:n?p:void 0})),[f,y,e,p,n,i]);return ci.createElement(Aze.Provider,{value:b},ci.createElement(Oze,{forcedTheme:e,storageKey:r,attribute:o,enableSystem:n,enableColorScheme:a,defaultTheme:s,value:l,themes:i,nonce:d,scriptProps:u}),c)},Oze=ci.memo((({forcedTheme:e,storageKey:t,attribute:n,enableSystem:a,enableColorScheme:r,defaultTheme:i,value:s,themes:o,nonce:l,scriptProps:c})=>{let d=JSON.stringify([n,t,i,e,o,s,a,r]).slice(1,-1);return ci.createElement("script",{...c,suppressHydrationWarning:!0,nonce:"undefined"==typeof window?l:"",dangerouslySetInnerHTML:{__html:`(${_ze.toString()})(${d})`}})})),Rze=(e,t)=>{if(Lze)return;let n;try{n=localStorage.getItem(e)||void 0}catch(a){}return n||t},zze=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout((()=>{document.head.removeChild(t)}),1)}},Fze=e=>(e||(e=window.matchMedia(Ize)),e.matches?"dark":"light");_g(document.getElementById("root")).render(vi.jsx(Tze,{attribute:"class",defaultTheme:"light",children:vi.jsx(Mze,{})}));export{HS as $,QO as A,tk as B,qS as C,KF as D,iB as E,oj as F,Gb as G,ak as H,fB as I,oze as J,ize as K,uw as L,yw as M,Pw as N,dq as O,_w as P,uq as Q,jx as R,zw as S,Yw as T,rj as U,mq as V,pq as W,fq as X,hq as Y,VS as Z,$S as _,QS as a,ute as a$,lw as a0,YS as a1,fw as a2,_9 as a3,A9 as a4,T9 as a5,P9 as a6,O9 as a7,D9 as a8,z9 as a9,pL as aA,uL as aB,OL as aC,dL as aD,E9 as aE,lMe as aF,cMe as aG,dMe as aH,uMe as aI,XF as aJ,Mb as aK,XS as aL,Gw as aM,Bte as aN,di as aO,Jte as aP,Lpe as aQ,lte as aR,Qxe as aS,Sve as aT,pte as aU,Iee as aV,ite as aW,$pe as aX,ub as aY,Fte as aZ,Exe as a_,R9 as aa,_O as ab,EO as ac,nw as ad,IO as ae,AO as af,TO as ag,LO as ah,rIe as ai,bb as aj,iIe as ak,oIe as al,dIe as am,uIe as an,fIe as ao,pIe as ap,AU as aq,PU as ar,DU as as,zU as at,FU as au,mIe as av,f4 as aw,Dw as ax,DIe as ay,CL as az,ZS as b,z8 as b0,fce as b1,bge as b2,Oge as b3,Yve as b4,gwe as b5,Rae as b6,Ste as b7,Pte as b8,lge as b9,Cb as bA,kb as bB,ej as bC,Fw as bD,Tw as bE,gY as bF,qb as bG,p3 as bH,Lw as bI,m3 as bJ,Ub as bK,cw as bL,dk as bM,aw as bN,qw as bO,gte as ba,ede as bb,Bke as bc,wSe as bd,Kje as be,ASe as bf,GSe as bg,iNe as bh,by as bi,Hb as bj,Xce as bk,rSe as bl,Cce as bm,sN as bn,Goe as bo,oN as bp,Zb as bq,pw as br,Sb as bs,Wke as bt,Pwe as bu,mB as bv,Wb as bw,$b as bx,Zw as by,Tb as bz,KS as c,Ey as d,mx as e,By as f,sk as g,ky as h,My as i,vi as j,Fb as k,JS as l,JO as m,uB as n,Pb as o,rze as p,yb as q,ci as r,Ly as s,aB as t,nT as u,rB as v,sB as w,oB as x,Jw as y,ZO as z};
